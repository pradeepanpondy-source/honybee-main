(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function dE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ad={exports:{}},Ya={},Rd={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function fE(){if(Yg)return Ce;Yg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,F={};function V(M,X,Se){this.props=M,this.context=X,this.refs=F,this.updater=Se||j}V.prototype.isReactComponent={},V.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},V.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=V.prototype;function W(M,X,Se){this.props=M,this.context=X,this.refs=F,this.updater=Se||j}var Q=W.prototype=new G;Q.constructor=W,$(Q,V.prototype),Q.isPureReactComponent=!0;var ie=Array.isArray,ve=Object.prototype.hasOwnProperty,te={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function S(M,X,Se){var be,Ae={},Re=null,Be=null;if(X!=null)for(be in X.ref!==void 0&&(Be=X.ref),X.key!==void 0&&(Re=""+X.key),X)ve.call(X,be)&&!R.hasOwnProperty(be)&&(Ae[be]=X[be]);var Le=arguments.length-2;if(Le===1)Ae.children=Se;else if(1<Le){for(var qe=Array(Le),Gt=0;Gt<Le;Gt++)qe[Gt]=arguments[Gt+2];Ae.children=qe}if(M&&M.defaultProps)for(be in Le=M.defaultProps,Le)Ae[be]===void 0&&(Ae[be]=Le[be]);return{$$typeof:n,type:M,key:Re,ref:Be,props:Ae,_owner:te.current}}function b(M,X){return{$$typeof:n,type:M.type,key:X,ref:M.ref,props:M.props,_owner:M._owner}}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function A(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Se){return X[Se]})}var O=/\/+/g;function C(M,X){return typeof M=="object"&&M!==null&&M.key!=null?A(""+M.key):X.toString(36)}function ke(M,X,Se,be,Ae){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(Re){case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case n:case e:Be=!0}}if(Be)return Be=M,Ae=Ae(Be),M=be===""?"."+C(Be,0):be,ie(Ae)?(Se="",M!=null&&(Se=M.replace(O,"$&/")+"/"),ke(Ae,X,Se,"",function(Gt){return Gt})):Ae!=null&&(k(Ae)&&(Ae=b(Ae,Se+(!Ae.key||Be&&Be.key===Ae.key?"":(""+Ae.key).replace(O,"$&/")+"/")+M)),X.push(Ae)),1;if(Be=0,be=be===""?".":be+":",ie(M))for(var Le=0;Le<M.length;Le++){Re=M[Le];var qe=be+C(Re,Le);Be+=ke(Re,X,Se,qe,Ae)}else if(qe=I(M),typeof qe=="function")for(M=qe.call(M),Le=0;!(Re=M.next()).done;)Re=Re.value,qe=be+C(Re,Le++),Be+=ke(Re,X,Se,qe,Ae);else if(Re==="object")throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Be}function Ge(M,X,Se){if(M==null)return M;var be=[],Ae=0;return ke(M,be,"","",function(Re){return X.call(Se,Re,Ae++)}),be}function Ne(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(Se){(M._status===0||M._status===-1)&&(M._status=1,M._result=Se)},function(Se){(M._status===0||M._status===-1)&&(M._status=2,M._result=Se)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var He={current:null},se={transition:null},pe={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:se,ReactCurrentOwner:te};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Ge,forEach:function(M,X,Se){Ge(M,function(){X.apply(this,arguments)},Se)},count:function(M){var X=0;return Ge(M,function(){X++}),X},toArray:function(M){return Ge(M,function(X){return X})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ce.Component=V,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=W,Ce.StrictMode=s,Ce.Suspense=m,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ce.act=le,Ce.cloneElement=function(M,X,Se){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var be=$({},M.props),Ae=M.key,Re=M.ref,Be=M._owner;if(X!=null){if(X.ref!==void 0&&(Re=X.ref,Be=te.current),X.key!==void 0&&(Ae=""+X.key),M.type&&M.type.defaultProps)var Le=M.type.defaultProps;for(qe in X)ve.call(X,qe)&&!R.hasOwnProperty(qe)&&(be[qe]=X[qe]===void 0&&Le!==void 0?Le[qe]:X[qe])}var qe=arguments.length-2;if(qe===1)be.children=Se;else if(1<qe){Le=Array(qe);for(var Gt=0;Gt<qe;Gt++)Le[Gt]=arguments[Gt+2];be.children=Le}return{$$typeof:n,type:M.type,key:Ae,ref:Re,props:be,_owner:Be}},Ce.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Ce.createElement=S,Ce.createFactory=function(M){var X=S.bind(null,M);return X.type=M,X},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:p,render:M}},Ce.isValidElement=k,Ce.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:Ne}},Ce.memo=function(M,X){return{$$typeof:v,type:M,compare:X===void 0?null:X}},Ce.startTransition=function(M){var X=se.transition;se.transition={};try{M()}finally{se.transition=X}},Ce.unstable_act=le,Ce.useCallback=function(M,X){return He.current.useCallback(M,X)},Ce.useContext=function(M){return He.current.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M){return He.current.useDeferredValue(M)},Ce.useEffect=function(M,X){return He.current.useEffect(M,X)},Ce.useId=function(){return He.current.useId()},Ce.useImperativeHandle=function(M,X,Se){return He.current.useImperativeHandle(M,X,Se)},Ce.useInsertionEffect=function(M,X){return He.current.useInsertionEffect(M,X)},Ce.useLayoutEffect=function(M,X){return He.current.useLayoutEffect(M,X)},Ce.useMemo=function(M,X){return He.current.useMemo(M,X)},Ce.useReducer=function(M,X,Se){return He.current.useReducer(M,X,Se)},Ce.useRef=function(M){return He.current.useRef(M)},Ce.useState=function(M){return He.current.useState(M)},Ce.useSyncExternalStore=function(M,X,Se){return He.current.useSyncExternalStore(M,X,Se)},Ce.useTransition=function(){return He.current.useTransition()},Ce.version="18.3.1",Ce}var Xg;function Cf(){return Xg||(Xg=1,Rd.exports=fE()),Rd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function pE(){if(Jg)return Ya;Jg=1;var n=Cf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(p,m,v){var w,E={},I=null,j=null;v!==void 0&&(I=""+v),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(j=m.ref);for(w in m)s.call(m,w)&&!l.hasOwnProperty(w)&&(E[w]=m[w]);if(p&&p.defaultProps)for(w in m=p.defaultProps,m)E[w]===void 0&&(E[w]=m[w]);return{$$typeof:e,type:p,key:I,ref:j,props:E,_owner:o.current}}return Ya.Fragment=t,Ya.jsx=c,Ya.jsxs=c,Ya}var Zg;function mE(){return Zg||(Zg=1,Ad.exports=pE()),Ad.exports}var d=mE(),L=Cf();const cl=dE(L);var Yu={},Pd={exports:{}},nn={},jd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function gE(){return ey||(ey=1,(function(n){function e(se,pe){var le=se.length;se.push(pe);e:for(;0<le;){var M=le-1>>>1,X=se[M];if(0<o(X,pe))se[M]=pe,se[le]=X,le=M;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var pe=se[0],le=se.pop();if(le!==pe){se[0]=le;e:for(var M=0,X=se.length,Se=X>>>1;M<Se;){var be=2*(M+1)-1,Ae=se[be],Re=be+1,Be=se[Re];if(0>o(Ae,le))Re<X&&0>o(Be,Ae)?(se[M]=Be,se[Re]=le,M=Re):(se[M]=Ae,se[be]=le,M=be);else if(Re<X&&0>o(Be,le))se[M]=Be,se[Re]=le,M=Re;else break e}}return pe}function o(se,pe){var le=se.sortIndex-pe.sortIndex;return le!==0?le:se.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,p=c.now();n.unstable_now=function(){return c.now()-p}}var m=[],v=[],w=1,E=null,I=3,j=!1,$=!1,F=!1,V=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(se){for(var pe=t(v);pe!==null;){if(pe.callback===null)s(v);else if(pe.startTime<=se)s(v),pe.sortIndex=pe.expirationTime,e(m,pe);else break;pe=t(v)}}function ie(se){if(F=!1,Q(se),!$)if(t(m)!==null)$=!0,Ne(ve);else{var pe=t(v);pe!==null&&He(ie,pe.startTime-se)}}function ve(se,pe){$=!1,F&&(F=!1,G(S),S=-1),j=!0;var le=I;try{for(Q(pe),E=t(m);E!==null&&(!(E.expirationTime>pe)||se&&!A());){var M=E.callback;if(typeof M=="function"){E.callback=null,I=E.priorityLevel;var X=M(E.expirationTime<=pe);pe=n.unstable_now(),typeof X=="function"?E.callback=X:E===t(m)&&s(m),Q(pe)}else s(m);E=t(m)}if(E!==null)var Se=!0;else{var be=t(v);be!==null&&He(ie,be.startTime-pe),Se=!1}return Se}finally{E=null,I=le,j=!1}}var te=!1,R=null,S=-1,b=5,k=-1;function A(){return!(n.unstable_now()-k<b)}function O(){if(R!==null){var se=n.unstable_now();k=se;var pe=!0;try{pe=R(!0,se)}finally{pe?C():(te=!1,R=null)}}else te=!1}var C;if(typeof W=="function")C=function(){W(O)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ge=ke.port2;ke.port1.onmessage=O,C=function(){Ge.postMessage(null)}}else C=function(){V(O,0)};function Ne(se){R=se,te||(te=!0,C())}function He(se,pe){S=V(function(){se(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){$||j||($=!0,Ne(ve))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(se){switch(I){case 1:case 2:case 3:var pe=3;break;default:pe=I}var le=I;I=pe;try{return se()}finally{I=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,pe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=I;I=se;try{return pe()}finally{I=le}},n.unstable_scheduleCallback=function(se,pe,le){var M=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?M+le:M):le=M,se){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,se={id:w++,callback:pe,priorityLevel:se,startTime:le,expirationTime:X,sortIndex:-1},le>M?(se.sortIndex=le,e(v,se),t(m)===null&&se===t(v)&&(F?(G(S),S=-1):F=!0,He(ie,le-M))):(se.sortIndex=X,e(m,se),$||j||($=!0,Ne(ve))),se},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(se){var pe=I;return function(){var le=I;I=pe;try{return se.apply(this,arguments)}finally{I=le}}}})(Dd)),Dd}var ty;function yE(){return ty||(ty=1,jd.exports=gE()),jd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function vE(){if(ny)return nn;ny=1;var n=Cf(),e=yE();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function I(r){return m.call(E,r)?!0:m.call(w,r)?!1:v.test(r)?E[r]=!0:(w[r]=!0,!1)}function j(r,i,a,h){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function $(r,i,a,h){if(i===null||typeof i>"u"||j(r,i,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function F(r,i,a,h,f,g,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=x}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new F(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];V[i]=new F(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new F(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new F(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new F(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new F(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new F(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new F(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new F(r,5,!1,r.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(G,W);V[i]=new F(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(G,W);V[i]=new F(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(G,W);V[i]=new F(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new F(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new F(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,i,a,h){var f=V.hasOwnProperty(i)?V[i]:null;(f!==null?f.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&($(i,a,f,h)&&(a=null),h||f===null?I(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,i,a):r.setAttribute(i,a))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),te=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),se=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,M;function X(r){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+r}var Se=!1;function be(r,i){if(!r||Se)return"";Se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var h=H}Reflect.construct(r,[],i)}else{try{i.call()}catch(H){h=H}r.call(i.prototype)}else{try{throw Error()}catch(H){h=H}r()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),g=h.stack.split(`
`),x=f.length-1,N=g.length-1;1<=x&&0<=N&&f[x]!==g[N];)N--;for(;1<=x&&0<=N;x--,N--)if(f[x]!==g[N]){if(x!==1||N!==1)do if(x--,N--,0>N||f[x]!==g[N]){var P=`
`+f[x].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=x&&0<=N);break}}}finally{Se=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function Ae(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function Re(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case te:return"Portal";case b:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case ke:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case A:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case O:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ge:return i=r.displayName||null,i!==null?i:Re(r.type)||"Memo";case Ne:i=r._payload,r=r._init;try{return Re(r(i))}catch{}}return null}function Be(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Le(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gt(r){var i=qe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){h=""+x,g.call(this,x)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Bi(r){r._valueTracker||(r._valueTracker=Gt(r))}function na(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),h="";return r&&(h=qe(r)?r.checked?"true":"false":r.value),r=h,r!==a?(i.setValue(r),!0):!1}function es(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function zi(r,i){var a=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Vl(r,i){var a=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;a=Le(i.value!=null?i.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function $i(r,i){i=i.checked,i!=null&&Q(r,"checked",i,!1)}function Js(r,i){$i(r,i);var a=Le(i.value),h=i.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?mt(r,i.type,a):i.hasOwnProperty("defaultValue")&&mt(r,i.type,Le(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function ra(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function mt(r,i,a){(i!=="number"||es(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var ut=Array.isArray;function Nn(r,i,a,h){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function sa(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ia(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(ut(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Le(a)}}function Ol(r,i){var a=Le(i.value),h=Le(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function ts(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function oa(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hi(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?oa(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ns,Ll=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(i,a,h,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ns.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Zs(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ml=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(r){Ml.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),rs[i]=rs[r]})});function ss(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||rs.hasOwnProperty(r)&&rs[r]?(""+i).trim():i+"px"}function qi(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=ss(a,i[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var aa=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cn(r,i){if(i){if(aa[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Wi(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var is=null;function Gi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ir=null,Sr=null,it=null;function la(r){if(r=Va(r)){if(typeof Ir!="function")throw Error(t(280));var i=r.stateNode;i&&(i=hu(i),Ir(r.stateNode,r.type,i))}}function os(r){Sr?it?it.push(r):it=[r]:Sr=r}function as(){if(Sr){var r=Sr,i=it;if(it=Sr=null,la(r),i)for(r=0;r<i.length;r++)la(i[r])}}function Fl(r,i){return r(i)}function Ul(){}var Hn=!1;function Bl(r,i,a){if(Hn)return r(i,a);Hn=!0;try{return Fl(r,i,a)}finally{Hn=!1,(Sr!==null||it!==null)&&(Ul(),as())}}function ei(r,i){var a=r.stateNode;if(a===null)return null;var h=hu(a);if(h===null)return null;a=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var ls=!1;if(p)try{var us={};Object.defineProperty(us,"passive",{get:function(){ls=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{ls=!1}function zl(r,i,a,h,f,g,x,N,P){var H=Array.prototype.slice.call(arguments,3);try{i.apply(a,H)}catch(Z){this.onError(Z)}}var br=!1,qn=null,Ki=!1,yn=null,$l={onError:function(r){br=!0,qn=r}};function Hl(r,i,a,h,f,g,x,N,P){br=!1,qn=null,zl.apply($l,arguments)}function ua(r,i,a,h,f,g,x,N,P){if(Hl.apply(this,arguments),br){if(br){var H=qn;br=!1,qn=null}else throw Error(t(198));Ki||(Ki=!0,yn=H)}}function kn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function ca(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function ql(r){if(kn(r)!==r)throw Error(t(188))}function Wl(r){var i=r.alternate;if(!i){if(i=kn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,h=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return ql(f),r;if(g===h)return ql(f),i;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var x=!1,N=f.child;N;){if(N===a){x=!0,a=f,h=g;break}if(N===h){x=!0,h=f,a=g;break}N=N.sibling}if(!x){for(N=g.child;N;){if(N===a){x=!0,a=g,h=f;break}if(N===h){x=!0,h=g,a=f;break}N=N.sibling}if(!x)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function Gl(r){return r=Wl(r),r!==null?ti(r):null}function ti(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=ti(r);if(i!==null)return i;r=r.sibling}return null}var ha=e.unstable_scheduleCallback,Qi=e.unstable_cancelCallback,ni=e.unstable_shouldYield,Nr=e.unstable_requestPaint,Ye=e.unstable_now,ah=e.unstable_getCurrentPriorityLevel,Yi=e.unstable_ImmediatePriority,da=e.unstable_UserBlockingPriority,ri=e.unstable_NormalPriority,fa=e.unstable_LowPriority,Xi=e.unstable_IdlePriority,si=null,on=null;function Kl(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(si,r,void 0,(r.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:ii,Wn=Math.log,vn=Math.LN2;function ii(r){return r>>>=0,r===0?32:31-(Wn(r)/vn|0)|0}var Gn=64,cs=4194304;function Ue(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Cr(r,i){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,x=a&268435455;if(x!==0){var N=x&~f;N!==0?h=Ue(N):(g&=x,g!==0&&(h=Ue(g)))}else x=a&~f,x!==0?h=Ue(x):g!==0&&(h=Ue(g));if(h===0)return 0;if(i!==0&&i!==h&&(i&f)===0&&(f=h&-h,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((h&4)!==0&&(h|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)a=31-an(i),f=1<<a,h|=r[a],i&=~f;return h}function oi(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(r,i){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var x=31-an(g),N=1<<x,P=f[x];P===-1?((N&a)===0||(N&h)!==0)&&(f[x]=oi(N,i)):P<=i&&(r.expiredLanes|=N),g&=~N}}function pa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ma(){var r=Gn;return Gn<<=1,(Gn&4194240)===0&&(Gn=64),r}function ga(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function li(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-an(i),r[i]=a}function lh(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-an(a),g=1<<f;i[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function ya(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var h=31-an(a),f=1<<h;f&i|r[h]&i&&(r[h]|=i),a&=~f}}var Ve=0;function Kn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var va,Ji,_a,wa,xa,Qn=!1,Zi=[],Yn=null,Xn=null,kt=null,ui=new Map,kr=new Map,ln=[],Ql="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hs(r,i){switch(r){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":ui.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(i.pointerId)}}function An(r,i,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Va(i),i!==null&&Ji(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function Yl(r,i,a,h,f){switch(i){case"focusin":return Yn=An(Yn,r,i,a,h,f),!0;case"dragenter":return Xn=An(Xn,r,i,a,h,f),!0;case"mouseover":return kt=An(kt,r,i,a,h,f),!0;case"pointerover":var g=f.pointerId;return ui.set(g,An(ui.get(g)||null,r,i,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,kr.set(g,An(kr.get(g)||null,r,i,a,h,f)),!0}return!1}function eo(r){var i=fi(r.target);if(i!==null){var a=kn(i);if(a!==null){if(i=a.tag,i===13){if(i=ca(a),i!==null){r.blockedOn=i,xa(r.priority,function(){_a(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function We(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=to(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);is=h,a.target.dispatchEvent(h),is=null}else return i=Va(a),i!==null&&Ji(i),r.blockedOn=a,!1;i.shift()}return!0}function Xl(r,i,a){We(r)&&a.delete(i)}function uh(){Qn=!1,Yn!==null&&We(Yn)&&(Yn=null),Xn!==null&&We(Xn)&&(Xn=null),kt!==null&&We(kt)&&(kt=null),ui.forEach(Xl),kr.forEach(Xl)}function ds(r,i){r.blockedOn===i&&(r.blockedOn=null,Qn||(Qn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uh)))}function fs(r){function i(f){return ds(f,r)}if(0<Zi.length){ds(Zi[0],r);for(var a=1;a<Zi.length;a++){var h=Zi[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Yn!==null&&ds(Yn,r),Xn!==null&&ds(Xn,r),kt!==null&&ds(kt,r),ui.forEach(i),kr.forEach(i),a=0;a<ln.length;a++)h=ln[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<ln.length&&(a=ln[0],a.blockedOn===null);)eo(a),a.blockedOn===null&&ln.shift()}var Ar=ie.ReactCurrentBatchConfig,Rr=!0;function Jn(r,i,a,h){var f=Ve,g=Ar.transition;Ar.transition=null;try{Ve=1,Ea(r,i,a,h)}finally{Ve=f,Ar.transition=g}}function Jl(r,i,a,h){var f=Ve,g=Ar.transition;Ar.transition=null;try{Ve=4,Ea(r,i,a,h)}finally{Ve=f,Ar.transition=g}}function Ea(r,i,a,h){if(Rr){var f=to(r,i,a,h);if(f===null)wh(r,i,h,Zn,a),hs(r,h);else if(Yl(f,r,i,a,h))h.stopPropagation();else if(hs(r,h),i&4&&-1<Ql.indexOf(r)){for(;f!==null;){var g=Va(f);if(g!==null&&va(g),g=to(r,i,a,h),g===null&&wh(r,i,h,Zn,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else wh(r,i,h,null,a)}}var Zn=null;function to(r,i,a,h){if(Zn=null,r=Gi(h),r=fi(r),r!==null)if(i=kn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=ca(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Zn=r,null}function no(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ah()){case Yi:return 1;case da:return 4;case ri:case fa:return 16;case Xi:return 536870912;default:return 16}default:return 16}}var un=null,ro=null,Pr=null;function Zl(){if(Pr)return Pr;var r,i=ro,a=i.length,h,f="value"in un?un.value:un.textContent,g=f.length;for(r=0;r<a&&i[r]===f[r];r++);var x=a-r;for(h=1;h<=x&&i[a-h]===f[g-h];h++);return Pr=f.slice(r,1<h?1-h:void 0)}function ci(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function Ta(){return!1}function Ot(r){function i(a,h,f,g,x){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(a=r[N],this[N]=a?a(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?er:Ta,this.isPropagationStopped=Ta,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),i}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Ot(tr),ps=le({},tr,{view:0,detail:0}),so=Ot(ps),io,oo,cn,di=le({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Te,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==cn&&(cn&&r.type==="mousemove"?(io=r.screenX-cn.screenX,oo=r.screenY-cn.screenY):oo=io=0,cn=r),io)},movementY:function(r){return"movementY"in r?r.movementY:oo}}),Ia=Ot(di),eu=le({},di,{dataTransfer:0}),tu=Ot(eu),ao=le({},ps,{relatedTarget:0}),At=Ot(ao),nu=le({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=Ot(nu),ms=le({},tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Ot(ms),y=le({},tr,{data:0}),_=Ot(y),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function re(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=q[r])?!!i[r]:!1}function Te(){return re}var ct=le({},ps,{key:function(r){if(r.key){var i=T[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ci(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?B[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Te,charCode:function(r){return r.type==="keypress"?ci(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ci(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$e=Ot(ct),gt=le({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hn=Ot(gt),jr=le({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Te}),nr=Ot(jr),rr=le({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lo=Ot(rr),Sa=le({},di,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ox=Ot(Sa),ax=[9,13,27,32],ch=p&&"CompositionEvent"in window,ba=null;p&&"documentMode"in document&&(ba=document.documentMode);var lx=p&&"TextEvent"in window&&!ba,zp=p&&(!ch||ba&&8<ba&&11>=ba),$p=" ",Hp=!1;function qp(r,i){switch(r){case"keyup":return ax.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var uo=!1;function ux(r,i){switch(r){case"compositionend":return Wp(i);case"keypress":return i.which!==32?null:(Hp=!0,$p);case"textInput":return r=i.data,r===$p&&Hp?null:r;default:return null}}function cx(r,i){if(uo)return r==="compositionend"||!ch&&qp(r,i)?(r=Zl(),Pr=ro=un=null,uo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zp&&i.locale!=="ko"?null:i.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!hx[r.type]:i==="textarea"}function Kp(r,i,a,h){os(h),i=lu(i,"onChange"),0<i.length&&(a=new hi("onChange","change",null,a,h),r.push({event:a,listeners:i}))}var Na=null,Ca=null;function dx(r){dm(r,0)}function su(r){var i=mo(r);if(na(i))return r}function fx(r,i){if(r==="change")return i}var Qp=!1;if(p){var hh;if(p){var dh="oninput"in document;if(!dh){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),dh=typeof Yp.oninput=="function"}hh=dh}else hh=!1;Qp=hh&&(!document.documentMode||9<document.documentMode)}function Xp(){Na&&(Na.detachEvent("onpropertychange",Jp),Ca=Na=null)}function Jp(r){if(r.propertyName==="value"&&su(Ca)){var i=[];Kp(i,Ca,r,Gi(r)),Bl(dx,i)}}function px(r,i,a){r==="focusin"?(Xp(),Na=i,Ca=a,Na.attachEvent("onpropertychange",Jp)):r==="focusout"&&Xp()}function mx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return su(Ca)}function gx(r,i){if(r==="click")return su(i)}function yx(r,i){if(r==="input"||r==="change")return su(i)}function vx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Rn=typeof Object.is=="function"?Object.is:vx;function ka(r,i){if(Rn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),h=Object.keys(i);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!m.call(i,f)||!Rn(r[f],i[f]))return!1}return!0}function Zp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function em(r,i){var a=Zp(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=i&&h>=i)return{node:a,offset:i-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zp(a)}}function tm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?tm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function nm(){for(var r=window,i=es();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=es(r.document)}return i}function fh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function _x(r){var i=nm(),a=r.focusedElem,h=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&tm(a.ownerDocument.documentElement,a)){if(h!==null&&fh(a)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=em(a,g);var x=em(a,h);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var wx=p&&"documentMode"in document&&11>=document.documentMode,co=null,ph=null,Aa=null,mh=!1;function rm(r,i,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mh||co==null||co!==es(h)||(h=co,"selectionStart"in h&&fh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Aa&&ka(Aa,h)||(Aa=h,h=lu(ph,"onSelect"),0<h.length&&(i=new hi("onSelect","select",null,i,a),r.push({event:i,listeners:h}),i.target=co)))}function iu(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ho={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},gh={},sm={};p&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ou(r){if(gh[r])return gh[r];if(!ho[r])return r;var i=ho[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in sm)return gh[r]=i[a];return r}var im=ou("animationend"),om=ou("animationiteration"),am=ou("animationstart"),lm=ou("transitionend"),um=new Map,cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(r,i){um.set(r,i),l(i,[r])}for(var yh=0;yh<cm.length;yh++){var vh=cm[yh],xx=vh.toLowerCase(),Ex=vh[0].toUpperCase()+vh.slice(1);gs(xx,"on"+Ex)}gs(im,"onAnimationEnd"),gs(om,"onAnimationIteration"),gs(am,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(lm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function hm(r,i,a){var h=r.type||"unknown-event";r.currentTarget=a,ua(h,i,void 0,r),r.currentTarget=null}function dm(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(i)for(var x=h.length-1;0<=x;x--){var N=h[x],P=N.instance,H=N.currentTarget;if(N=N.listener,P!==g&&f.isPropagationStopped())break e;hm(f,N,H),g=P}else for(x=0;x<h.length;x++){if(N=h[x],P=N.instance,H=N.currentTarget,N=N.listener,P!==g&&f.isPropagationStopped())break e;hm(f,N,H),g=P}}}if(Ki)throw r=yn,Ki=!1,yn=null,r}function Xe(r,i){var a=i[bh];a===void 0&&(a=i[bh]=new Set);var h=r+"__bubble";a.has(h)||(fm(i,r,2,!1),a.add(h))}function _h(r,i,a){var h=0;i&&(h|=4),fm(a,r,h,i)}var au="_reactListening"+Math.random().toString(36).slice(2);function Pa(r){if(!r[au]){r[au]=!0,s.forEach(function(a){a!=="selectionchange"&&(Tx.has(a)||_h(a,!1,r),_h(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[au]||(i[au]=!0,_h("selectionchange",!1,i))}}function fm(r,i,a,h){switch(no(i)){case 1:var f=Jn;break;case 4:f=Jl;break;default:f=Ea}a=f.bind(null,i,a,r),f=void 0,!ls||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function wh(r,i,a,h,f){var g=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var N=h.stateNode.containerInfo;if(N===f||N.nodeType===8&&N.parentNode===f)break;if(x===4)for(x=h.return;x!==null;){var P=x.tag;if((P===3||P===4)&&(P=x.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;x=x.return}for(;N!==null;){if(x=fi(N),x===null)return;if(P=x.tag,P===5||P===6){h=g=x;continue e}N=N.parentNode}}h=h.return}Bl(function(){var H=g,Z=Gi(a),ee=[];e:{var J=um.get(r);if(J!==void 0){var ae=hi,he=r;switch(r){case"keypress":if(ci(a)===0)break e;case"keydown":case"keyup":ae=$e;break;case"focusin":he="focus",ae=At;break;case"focusout":he="blur",ae=At;break;case"beforeblur":case"afterblur":ae=At;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=nr;break;case im:case om:case am:ae=ru;break;case lm:ae=lo;break;case"scroll":ae=so;break;case"wheel":ae=ox;break;case"copy":case"cut":case"paste":ae=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=hn}var de=(i&4)!==0,ht=!de&&r==="scroll",U=de?J!==null?J+"Capture":null:J;de=[];for(var D=H,z;D!==null;){z=D;var ne=z.stateNode;if(z.tag===5&&ne!==null&&(z=ne,U!==null&&(ne=ei(D,U),ne!=null&&de.push(ja(D,ne,z)))),ht)break;D=D.return}0<de.length&&(J=new ae(J,he,null,a,Z),ee.push({event:J,listeners:de}))}}if((i&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",J&&a!==is&&(he=a.relatedTarget||a.fromElement)&&(fi(he)||he[Dr]))break e;if((ae||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(he=a.relatedTarget||a.toElement,ae=H,he=he?fi(he):null,he!==null&&(ht=kn(he),he!==ht||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=H),ae!==he)){if(de=Ia,ne="onMouseLeave",U="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(de=hn,ne="onPointerLeave",U="onPointerEnter",D="pointer"),ht=ae==null?J:mo(ae),z=he==null?J:mo(he),J=new de(ne,D+"leave",ae,a,Z),J.target=ht,J.relatedTarget=z,ne=null,fi(Z)===H&&(de=new de(U,D+"enter",he,a,Z),de.target=z,de.relatedTarget=ht,ne=de),ht=ne,ae&&he)t:{for(de=ae,U=he,D=0,z=de;z;z=fo(z))D++;for(z=0,ne=U;ne;ne=fo(ne))z++;for(;0<D-z;)de=fo(de),D--;for(;0<z-D;)U=fo(U),z--;for(;D--;){if(de===U||U!==null&&de===U.alternate)break t;de=fo(de),U=fo(U)}de=null}else de=null;ae!==null&&pm(ee,J,ae,de,!1),he!==null&&ht!==null&&pm(ee,ht,he,de,!0)}}e:{if(J=H?mo(H):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var fe=fx;else if(Gp(J))if(Qp)fe=yx;else{fe=mx;var ge=px}else(ae=J.nodeName)&&ae.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(fe=gx);if(fe&&(fe=fe(r,H))){Kp(ee,fe,a,Z);break e}ge&&ge(r,J,H),r==="focusout"&&(ge=J._wrapperState)&&ge.controlled&&J.type==="number"&&mt(J,"number",J.value)}switch(ge=H?mo(H):window,r){case"focusin":(Gp(ge)||ge.contentEditable==="true")&&(co=ge,ph=H,Aa=null);break;case"focusout":Aa=ph=co=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,rm(ee,a,Z);break;case"selectionchange":if(wx)break;case"keydown":case"keyup":rm(ee,a,Z)}var ye;if(ch)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else uo?qp(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(zp&&a.locale!=="ko"&&(uo||we!=="onCompositionStart"?we==="onCompositionEnd"&&uo&&(ye=Zl()):(un=Z,ro="value"in un?un.value:un.textContent,uo=!0)),ge=lu(H,we),0<ge.length&&(we=new _(we,r,null,a,Z),ee.push({event:we,listeners:ge}),ye?we.data=ye:(ye=Wp(a),ye!==null&&(we.data=ye)))),(ye=lx?ux(r,a):cx(r,a))&&(H=lu(H,"onBeforeInput"),0<H.length&&(Z=new _("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:H}),Z.data=ye))}dm(ee,i)})}function ja(r,i,a){return{instance:r,listener:i,currentTarget:a}}function lu(r,i){for(var a=i+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ei(r,a),g!=null&&h.unshift(ja(r,g,f)),g=ei(r,i),g!=null&&h.push(ja(r,g,f))),r=r.return}return h}function fo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function pm(r,i,a,h,f){for(var g=i._reactName,x=[];a!==null&&a!==h;){var N=a,P=N.alternate,H=N.stateNode;if(P!==null&&P===h)break;N.tag===5&&H!==null&&(N=H,f?(P=ei(a,g),P!=null&&x.unshift(ja(a,P,N))):f||(P=ei(a,g),P!=null&&x.push(ja(a,P,N)))),a=a.return}x.length!==0&&r.push({event:i,listeners:x})}var Ix=/\r\n?/g,Sx=/\u0000|\uFFFD/g;function mm(r){return(typeof r=="string"?r:""+r).replace(Ix,`
`).replace(Sx,"")}function uu(r,i,a){if(i=mm(i),mm(r)!==i&&a)throw Error(t(425))}function cu(){}var xh=null,Eh=null;function Th(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,bx=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,Nx=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(r){return gm.resolve(null).then(r).catch(Cx)}:Ih;function Cx(r){setTimeout(function(){throw r})}function Sh(r,i){var a=i,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),fs(i);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);fs(i)}function ys(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function ym(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var po=Math.random().toString(36).slice(2),sr="__reactFiber$"+po,Da="__reactProps$"+po,Dr="__reactContainer$"+po,bh="__reactEvents$"+po,kx="__reactListeners$"+po,Ax="__reactHandles$"+po;function fi(r){var i=r[sr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Dr]||a[sr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=ym(r);r!==null;){if(a=r[sr])return a;r=ym(r)}return i}r=a,a=r.parentNode}return null}function Va(r){return r=r[sr]||r[Dr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function mo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function hu(r){return r[Da]||null}var Nh=[],go=-1;function vs(r){return{current:r}}function Je(r){0>go||(r.current=Nh[go],Nh[go]=null,go--)}function Ke(r,i){go++,Nh[go]=r.current,r.current=i}var _s={},Lt=vs(_s),Xt=vs(!1),pi=_s;function yo(r,i){var a=r.type.contextTypes;if(!a)return _s;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=i[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function Jt(r){return r=r.childContextTypes,r!=null}function du(){Je(Xt),Je(Lt)}function vm(r,i,a){if(Lt.current!==_s)throw Error(t(168));Ke(Lt,i),Ke(Xt,a)}function _m(r,i,a){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in i))throw Error(t(108,Be(r)||"Unknown",f));return le({},a,h)}function fu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||_s,pi=Lt.current,Ke(Lt,r),Ke(Xt,Xt.current),!0}function wm(r,i,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=_m(r,i,pi),h.__reactInternalMemoizedMergedChildContext=r,Je(Xt),Je(Lt),Ke(Lt,r)):Je(Xt),Ke(Xt,a)}var Vr=null,pu=!1,Ch=!1;function xm(r){Vr===null?Vr=[r]:Vr.push(r)}function Rx(r){pu=!0,xm(r)}function ws(){if(!Ch&&Vr!==null){Ch=!0;var r=0,i=Ve;try{var a=Vr;for(Ve=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Vr=null,pu=!1}catch(f){throw Vr!==null&&(Vr=Vr.slice(r+1)),ha(Yi,ws),f}finally{Ve=i,Ch=!1}}return null}var vo=[],_o=0,mu=null,gu=0,_n=[],wn=0,mi=null,Or=1,Lr="";function gi(r,i){vo[_o++]=gu,vo[_o++]=mu,mu=r,gu=i}function Em(r,i,a){_n[wn++]=Or,_n[wn++]=Lr,_n[wn++]=mi,mi=r;var h=Or;r=Lr;var f=32-an(h)-1;h&=~(1<<f),a+=1;var g=32-an(i)+f;if(30<g){var x=f-f%5;g=(h&(1<<x)-1).toString(32),h>>=x,f-=x,Or=1<<32-an(i)+f|a<<f|h,Lr=g+r}else Or=1<<g|a<<f|h,Lr=r}function kh(r){r.return!==null&&(gi(r,1),Em(r,1,0))}function Ah(r){for(;r===mu;)mu=vo[--_o],vo[_o]=null,gu=vo[--_o],vo[_o]=null;for(;r===mi;)mi=_n[--wn],_n[wn]=null,Lr=_n[--wn],_n[wn]=null,Or=_n[--wn],_n[wn]=null}var dn=null,fn=null,et=!1,Pn=null;function Tm(r,i){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Im(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,dn=r,fn=ys(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,dn=r,fn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=mi!==null?{id:Or,overflow:Lr}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,dn=r,fn=null,!0):!1;default:return!1}}function Rh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ph(r){if(et){var i=fn;if(i){var a=i;if(!Im(r,i)){if(Rh(r))throw Error(t(418));i=ys(a.nextSibling);var h=dn;i&&Im(r,i)?Tm(h,a):(r.flags=r.flags&-4097|2,et=!1,dn=r)}}else{if(Rh(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,dn=r}}}function Sm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function yu(r){if(r!==dn)return!1;if(!et)return Sm(r),et=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Th(r.type,r.memoizedProps)),i&&(i=fn)){if(Rh(r))throw bm(),Error(t(418));for(;i;)Tm(r,i),i=ys(i.nextSibling)}if(Sm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){fn=ys(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}fn=null}}else fn=dn?ys(r.stateNode.nextSibling):null;return!0}function bm(){for(var r=fn;r;)r=ys(r.nextSibling)}function wo(){fn=dn=null,et=!1}function jh(r){Pn===null?Pn=[r]:Pn.push(r)}var Px=ie.ReactCurrentBatchConfig;function Oa(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(x){var N=f.refs;x===null?delete N[g]:N[g]=x},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function vu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Nm(r){var i=r._init;return i(r._payload)}function Cm(r){function i(U,D){if(r){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function a(U,D){if(!r)return null;for(;D!==null;)i(U,D),D=D.sibling;return null}function h(U,D){for(U=new Map;D!==null;)D.key!==null?U.set(D.key,D):U.set(D.index,D),D=D.sibling;return U}function f(U,D){return U=Cs(U,D),U.index=0,U.sibling=null,U}function g(U,D,z){return U.index=z,r?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=2,D):z):(U.flags|=2,D)):(U.flags|=1048576,D)}function x(U){return r&&U.alternate===null&&(U.flags|=2),U}function N(U,D,z,ne){return D===null||D.tag!==6?(D=Id(z,U.mode,ne),D.return=U,D):(D=f(D,z),D.return=U,D)}function P(U,D,z,ne){var fe=z.type;return fe===R?Z(U,D,z.props.children,ne,z.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ne&&Nm(fe)===D.type)?(ne=f(D,z.props),ne.ref=Oa(U,D,z),ne.return=U,ne):(ne=zu(z.type,z.key,z.props,null,U.mode,ne),ne.ref=Oa(U,D,z),ne.return=U,ne)}function H(U,D,z,ne){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Sd(z,U.mode,ne),D.return=U,D):(D=f(D,z.children||[]),D.return=U,D)}function Z(U,D,z,ne,fe){return D===null||D.tag!==7?(D=Ii(z,U.mode,ne,fe),D.return=U,D):(D=f(D,z),D.return=U,D)}function ee(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Id(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ve:return z=zu(D.type,D.key,D.props,null,U.mode,z),z.ref=Oa(U,null,D),z.return=U,z;case te:return D=Sd(D,U.mode,z),D.return=U,D;case Ne:var ne=D._init;return ee(U,ne(D._payload),z)}if(ut(D)||pe(D))return D=Ii(D,U.mode,z,null),D.return=U,D;vu(U,D)}return null}function J(U,D,z,ne){var fe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return fe!==null?null:N(U,D,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ve:return z.key===fe?P(U,D,z,ne):null;case te:return z.key===fe?H(U,D,z,ne):null;case Ne:return fe=z._init,J(U,D,fe(z._payload),ne)}if(ut(z)||pe(z))return fe!==null?null:Z(U,D,z,ne,null);vu(U,z)}return null}function ae(U,D,z,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get(z)||null,N(D,U,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ve:return U=U.get(ne.key===null?z:ne.key)||null,P(D,U,ne,fe);case te:return U=U.get(ne.key===null?z:ne.key)||null,H(D,U,ne,fe);case Ne:var ge=ne._init;return ae(U,D,z,ge(ne._payload),fe)}if(ut(ne)||pe(ne))return U=U.get(z)||null,Z(D,U,ne,fe,null);vu(D,ne)}return null}function he(U,D,z,ne){for(var fe=null,ge=null,ye=D,we=D=0,Nt=null;ye!==null&&we<z.length;we++){ye.index>we?(Nt=ye,ye=null):Nt=ye.sibling;var Fe=J(U,ye,z[we],ne);if(Fe===null){ye===null&&(ye=Nt);break}r&&ye&&Fe.alternate===null&&i(U,ye),D=g(Fe,D,we),ge===null?fe=Fe:ge.sibling=Fe,ge=Fe,ye=Nt}if(we===z.length)return a(U,ye),et&&gi(U,we),fe;if(ye===null){for(;we<z.length;we++)ye=ee(U,z[we],ne),ye!==null&&(D=g(ye,D,we),ge===null?fe=ye:ge.sibling=ye,ge=ye);return et&&gi(U,we),fe}for(ye=h(U,ye);we<z.length;we++)Nt=ae(ye,U,we,z[we],ne),Nt!==null&&(r&&Nt.alternate!==null&&ye.delete(Nt.key===null?we:Nt.key),D=g(Nt,D,we),ge===null?fe=Nt:ge.sibling=Nt,ge=Nt);return r&&ye.forEach(function(ks){return i(U,ks)}),et&&gi(U,we),fe}function de(U,D,z,ne){var fe=pe(z);if(typeof fe!="function")throw Error(t(150));if(z=fe.call(z),z==null)throw Error(t(151));for(var ge=fe=null,ye=D,we=D=0,Nt=null,Fe=z.next();ye!==null&&!Fe.done;we++,Fe=z.next()){ye.index>we?(Nt=ye,ye=null):Nt=ye.sibling;var ks=J(U,ye,Fe.value,ne);if(ks===null){ye===null&&(ye=Nt);break}r&&ye&&ks.alternate===null&&i(U,ye),D=g(ks,D,we),ge===null?fe=ks:ge.sibling=ks,ge=ks,ye=Nt}if(Fe.done)return a(U,ye),et&&gi(U,we),fe;if(ye===null){for(;!Fe.done;we++,Fe=z.next())Fe=ee(U,Fe.value,ne),Fe!==null&&(D=g(Fe,D,we),ge===null?fe=Fe:ge.sibling=Fe,ge=Fe);return et&&gi(U,we),fe}for(ye=h(U,ye);!Fe.done;we++,Fe=z.next())Fe=ae(ye,U,we,Fe.value,ne),Fe!==null&&(r&&Fe.alternate!==null&&ye.delete(Fe.key===null?we:Fe.key),D=g(Fe,D,we),ge===null?fe=Fe:ge.sibling=Fe,ge=Fe);return r&&ye.forEach(function(hE){return i(U,hE)}),et&&gi(U,we),fe}function ht(U,D,z,ne){if(typeof z=="object"&&z!==null&&z.type===R&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ve:e:{for(var fe=z.key,ge=D;ge!==null;){if(ge.key===fe){if(fe=z.type,fe===R){if(ge.tag===7){a(U,ge.sibling),D=f(ge,z.props.children),D.return=U,U=D;break e}}else if(ge.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ne&&Nm(fe)===ge.type){a(U,ge.sibling),D=f(ge,z.props),D.ref=Oa(U,ge,z),D.return=U,U=D;break e}a(U,ge);break}else i(U,ge);ge=ge.sibling}z.type===R?(D=Ii(z.props.children,U.mode,ne,z.key),D.return=U,U=D):(ne=zu(z.type,z.key,z.props,null,U.mode,ne),ne.ref=Oa(U,D,z),ne.return=U,U=ne)}return x(U);case te:e:{for(ge=z.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(U,D.sibling),D=f(D,z.children||[]),D.return=U,U=D;break e}else{a(U,D);break}else i(U,D);D=D.sibling}D=Sd(z,U.mode,ne),D.return=U,U=D}return x(U);case Ne:return ge=z._init,ht(U,D,ge(z._payload),ne)}if(ut(z))return he(U,D,z,ne);if(pe(z))return de(U,D,z,ne);vu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(a(U,D.sibling),D=f(D,z),D.return=U,U=D):(a(U,D),D=Id(z,U.mode,ne),D.return=U,U=D),x(U)):a(U,D)}return ht}var xo=Cm(!0),km=Cm(!1),_u=vs(null),wu=null,Eo=null,Dh=null;function Vh(){Dh=Eo=wu=null}function Oh(r){var i=_u.current;Je(_u),r._currentValue=i}function Lh(r,i,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===a)break;r=r.return}}function To(r,i){wu=r,Dh=Eo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Zt=!0),r.firstContext=null)}function xn(r){var i=r._currentValue;if(Dh!==r)if(r={context:r,memoizedValue:i,next:null},Eo===null){if(wu===null)throw Error(t(308));Eo=r,wu.dependencies={lanes:0,firstContext:r}}else Eo=Eo.next=r;return i}var yi=null;function Mh(r){yi===null?yi=[r]:yi.push(r)}function Am(r,i,a,h){var f=i.interleaved;return f===null?(a.next=a,Mh(i)):(a.next=f.next,f.next=a),i.interleaved=a,Mr(r,h)}function Mr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var xs=!1;function Fh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Es(r,i,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Me&2)!==0){var f=h.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),h.pending=i,Mr(r,a)}return f=h.interleaved,f===null?(i.next=i,Mh(h)):(i.next=f.next,f.next=i),h.interleaved=i,Mr(r,a)}function xu(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,ya(r,a)}}function Pm(r,i){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function Eu(r,i,a,h){var f=r.updateQueue;xs=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var P=N,H=P.next;P.next=null,x===null?g=H:x.next=H,x=P;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,N=Z.lastBaseUpdate,N!==x&&(N===null?Z.firstBaseUpdate=H:N.next=H,Z.lastBaseUpdate=P))}if(g!==null){var ee=f.baseState;x=0,Z=H=P=null,N=g;do{var J=N.lane,ae=N.eventTime;if((h&J)===J){Z!==null&&(Z=Z.next={eventTime:ae,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var he=r,de=N;switch(J=i,ae=a,de.tag){case 1:if(he=de.payload,typeof he=="function"){ee=he.call(ae,ee,J);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,J=typeof he=="function"?he.call(ae,ee,J):he,J==null)break e;ee=le({},ee,J);break e;case 2:xs=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[N]:J.push(N))}else ae={eventTime:ae,lane:J,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Z===null?(H=Z=ae,P=ee):Z=Z.next=ae,x|=J;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;J=N,N=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(P=ee),f.baseState=P,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,i=f.shared.interleaved,i!==null){f=i;do x|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);wi|=x,r.lanes=x,r.memoizedState=ee}}function jm(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var La={},ir=vs(La),Ma=vs(La),Fa=vs(La);function vi(r){if(r===La)throw Error(t(174));return r}function Uh(r,i){switch(Ke(Fa,i),Ke(Ma,r),Ke(ir,La),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Hi(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Hi(i,r)}Je(ir),Ke(ir,i)}function Io(){Je(ir),Je(Ma),Je(Fa)}function Dm(r){vi(Fa.current);var i=vi(ir.current),a=Hi(i,r.type);i!==a&&(Ke(Ma,r),Ke(ir,a))}function Bh(r){Ma.current===r&&(Je(ir),Je(Ma))}var nt=vs(0);function Tu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zh=[];function $h(){for(var r=0;r<zh.length;r++)zh[r]._workInProgressVersionPrimary=null;zh.length=0}var Iu=ie.ReactCurrentDispatcher,Hh=ie.ReactCurrentBatchConfig,_i=0,rt=null,xt=null,St=null,Su=!1,Ua=!1,Ba=0,jx=0;function Mt(){throw Error(t(321))}function qh(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Rn(r[a],i[a]))return!1;return!0}function Wh(r,i,a,h,f,g){if(_i=g,rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Iu.current=r===null||r.memoizedState===null?Lx:Mx,r=a(h,f),Ua){g=0;do{if(Ua=!1,Ba=0,25<=g)throw Error(t(301));g+=1,St=xt=null,i.updateQueue=null,Iu.current=Fx,r=a(h,f)}while(Ua)}if(Iu.current=Cu,i=xt!==null&&xt.next!==null,_i=0,St=xt=rt=null,Su=!1,i)throw Error(t(300));return r}function Gh(){var r=Ba!==0;return Ba=0,r}function or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?rt.memoizedState=St=r:St=St.next=r,St}function En(){if(xt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var i=St===null?rt.memoizedState:St.next;if(i!==null)St=i,xt=r;else{if(r===null)throw Error(t(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},St===null?rt.memoizedState=St=r:St=St.next=r}return St}function za(r,i){return typeof i=="function"?i(r):i}function Kh(r){var i=En(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=xt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var N=x=null,P=null,H=g;do{var Z=H.lane;if((_i&Z)===Z)P!==null&&(P=P.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:r(h,H.action);else{var ee={lane:Z,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};P===null?(N=P=ee,x=h):P=P.next=ee,rt.lanes|=Z,wi|=Z}H=H.next}while(H!==null&&H!==g);P===null?x=h:P.next=N,Rn(h,i.memoizedState)||(Zt=!0),i.memoizedState=h,i.baseState=x,i.baseQueue=P,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,rt.lanes|=g,wi|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Qh(r){var i=En(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do g=r(g,x.action),x=x.next;while(x!==f);Rn(g,i.memoizedState)||(Zt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,h]}function Vm(){}function Om(r,i){var a=rt,h=En(),f=i(),g=!Rn(h.memoizedState,f);if(g&&(h.memoizedState=f,Zt=!0),h=h.queue,Yh(Fm.bind(null,a,h,r),[r]),h.getSnapshot!==i||g||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,$a(9,Mm.bind(null,a,h,f,i),void 0,null),bt===null)throw Error(t(349));(_i&30)!==0||Lm(a,i,f)}return f}function Lm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Mm(r,i,a,h){i.value=a,i.getSnapshot=h,Um(i)&&Bm(r)}function Fm(r,i,a){return a(function(){Um(i)&&Bm(r)})}function Um(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Rn(r,a)}catch{return!0}}function Bm(r){var i=Mr(r,1);i!==null&&On(i,r,1,-1)}function zm(r){var i=or();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},i.queue=r,r=r.dispatch=Ox.bind(null,rt,r),[i.memoizedState,r]}function $a(r,i,a,h){return r={tag:r,create:i,destroy:a,deps:h,next:null},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,i.lastEffect=r)),r}function $m(){return En().memoizedState}function bu(r,i,a,h){var f=or();rt.flags|=r,f.memoizedState=$a(1|i,a,void 0,h===void 0?null:h)}function Nu(r,i,a,h){var f=En();h=h===void 0?null:h;var g=void 0;if(xt!==null){var x=xt.memoizedState;if(g=x.destroy,h!==null&&qh(h,x.deps)){f.memoizedState=$a(i,a,g,h);return}}rt.flags|=r,f.memoizedState=$a(1|i,a,g,h)}function Hm(r,i){return bu(8390656,8,r,i)}function Yh(r,i){return Nu(2048,8,r,i)}function qm(r,i){return Nu(4,2,r,i)}function Wm(r,i){return Nu(4,4,r,i)}function Gm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Km(r,i,a){return a=a!=null?a.concat([r]):null,Nu(4,4,Gm.bind(null,i,r),a)}function Xh(){}function Qm(r,i){var a=En();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&qh(i,h[1])?h[0]:(a.memoizedState=[r,i],r)}function Ym(r,i){var a=En();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&qh(i,h[1])?h[0]:(r=r(),a.memoizedState=[r,i],r)}function Xm(r,i,a){return(_i&21)===0?(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=a):(Rn(a,i)||(a=ma(),rt.lanes|=a,wi|=a,r.baseState=!0),i)}function Dx(r,i){var a=Ve;Ve=a!==0&&4>a?a:4,r(!0);var h=Hh.transition;Hh.transition={};try{r(!1),i()}finally{Ve=a,Hh.transition=h}}function Jm(){return En().memoizedState}function Vx(r,i,a){var h=bs(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Zm(r))eg(i,a);else if(a=Am(r,i,a,h),a!==null){var f=Qt();On(a,r,h,f),tg(a,i,h)}}function Ox(r,i,a){var h=bs(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zm(r))eg(i,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var x=i.lastRenderedState,N=g(x,a);if(f.hasEagerState=!0,f.eagerState=N,Rn(N,x)){var P=i.interleaved;P===null?(f.next=f,Mh(i)):(f.next=P.next,P.next=f),i.interleaved=f;return}}catch{}finally{}a=Am(r,i,f,h),a!==null&&(f=Qt(),On(a,r,h,f),tg(a,i,h))}}function Zm(r){var i=r.alternate;return r===rt||i!==null&&i===rt}function eg(r,i){Ua=Su=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function tg(r,i,a){if((a&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,ya(r,a)}}var Cu={readContext:xn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},Lx={readContext:xn,useCallback:function(r,i){return or().memoizedState=[r,i===void 0?null:i],r},useContext:xn,useEffect:Hm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,bu(4194308,4,Gm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return bu(4194308,4,r,i)},useInsertionEffect:function(r,i){return bu(4,2,r,i)},useMemo:function(r,i){var a=or();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var h=or();return i=a!==void 0?a(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=Vx.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var i=or();return r={current:r},i.memoizedState=r},useState:zm,useDebugValue:Xh,useDeferredValue:function(r){return or().memoizedState=r},useTransition:function(){var r=zm(!1),i=r[0];return r=Dx.bind(null,r[1]),or().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var h=rt,f=or();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),bt===null)throw Error(t(349));(_i&30)!==0||Lm(h,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,Hm(Fm.bind(null,h,g,r),[r]),h.flags|=2048,$a(9,Mm.bind(null,h,g,a,i),void 0,null),a},useId:function(){var r=or(),i=bt.identifierPrefix;if(et){var a=Lr,h=Or;a=(h&~(1<<32-an(h)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ba++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=jx++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Mx={readContext:xn,useCallback:Qm,useContext:xn,useEffect:Yh,useImperativeHandle:Km,useInsertionEffect:qm,useLayoutEffect:Wm,useMemo:Ym,useReducer:Kh,useRef:$m,useState:function(){return Kh(za)},useDebugValue:Xh,useDeferredValue:function(r){var i=En();return Xm(i,xt.memoizedState,r)},useTransition:function(){var r=Kh(za)[0],i=En().memoizedState;return[r,i]},useMutableSource:Vm,useSyncExternalStore:Om,useId:Jm,unstable_isNewReconciler:!1},Fx={readContext:xn,useCallback:Qm,useContext:xn,useEffect:Yh,useImperativeHandle:Km,useInsertionEffect:qm,useLayoutEffect:Wm,useMemo:Ym,useReducer:Qh,useRef:$m,useState:function(){return Qh(za)},useDebugValue:Xh,useDeferredValue:function(r){var i=En();return xt===null?i.memoizedState=r:Xm(i,xt.memoizedState,r)},useTransition:function(){var r=Qh(za)[0],i=En().memoizedState;return[r,i]},useMutableSource:Vm,useSyncExternalStore:Om,useId:Jm,unstable_isNewReconciler:!1};function jn(r,i){if(r&&r.defaultProps){i=le({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Jh(r,i,a,h){i=r.memoizedState,a=a(h,i),a=a==null?i:le({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var ku={isMounted:function(r){return(r=r._reactInternals)?kn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var h=Qt(),f=bs(r),g=Fr(h,f);g.payload=i,a!=null&&(g.callback=a),i=Es(r,g,f),i!==null&&(On(i,r,f,h),xu(i,r,f))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var h=Qt(),f=bs(r),g=Fr(h,f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=Es(r,g,f),i!==null&&(On(i,r,f,h),xu(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Qt(),h=bs(r),f=Fr(a,h);f.tag=2,i!=null&&(f.callback=i),i=Es(r,f,h),i!==null&&(On(i,r,h,a),xu(i,r,h))}};function ng(r,i,a,h,f,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,x):i.prototype&&i.prototype.isPureReactComponent?!ka(a,h)||!ka(f,g):!0}function rg(r,i,a){var h=!1,f=_s,g=i.contextType;return typeof g=="object"&&g!==null?g=xn(g):(f=Jt(i)?pi:Lt.current,h=i.contextTypes,g=(h=h!=null)?yo(r,f):_s),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ku,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),i}function sg(r,i,a,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,h),i.state!==r&&ku.enqueueReplaceState(i,i.state,null)}function Zh(r,i,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Fh(r);var g=i.contextType;typeof g=="object"&&g!==null?f.context=xn(g):(g=Jt(i)?pi:Lt.current,f.context=yo(r,g)),f.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Jh(r,i,g,a),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&ku.enqueueReplaceState(f,f.state,null),Eu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function So(r,i){try{var a="",h=i;do a+=Ae(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:f,digest:null}}function ed(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function td(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Ux=typeof WeakMap=="function"?WeakMap:Map;function ig(r,i,a){a=Fr(-1,a),a.tag=3,a.payload={element:null};var h=i.value;return a.callback=function(){Ou||(Ou=!0,gd=h),td(r,i)},a}function og(r,i,a){a=Fr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=i.value;a.payload=function(){return h(f)},a.callback=function(){td(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){td(r,i),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function ag(r,i,a){var h=r.pingCache;if(h===null){h=r.pingCache=new Ux;var f=new Set;h.set(i,f)}else f=h.get(i),f===void 0&&(f=new Set,h.set(i,f));f.has(a)||(f.add(a),r=eE.bind(null,r,i,a),i.then(r,r))}function lg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function ug(r,i,a,h,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Fr(-1,1),i.tag=2,Es(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var Bx=ie.ReactCurrentOwner,Zt=!1;function Kt(r,i,a,h){i.child=r===null?km(i,null,a,h):xo(i,r.child,a,h)}function cg(r,i,a,h,f){a=a.render;var g=i.ref;return To(i,f),h=Wh(r,i,a,h,g,f),a=Gh(),r!==null&&!Zt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Ur(r,i,f)):(et&&a&&kh(i),i.flags|=1,Kt(r,i,h,f),i.child)}function hg(r,i,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!Td(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,dg(r,i,g,h,f)):(r=zu(a.type,null,h,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&f)===0){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:ka,a(x,h)&&r.ref===i.ref)return Ur(r,i,f)}return i.flags|=1,r=Cs(g,h),r.ref=i.ref,r.return=i,i.child=r}function dg(r,i,a,h,f){if(r!==null){var g=r.memoizedProps;if(ka(g,h)&&r.ref===i.ref)if(Zt=!1,i.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Zt=!0);else return i.lanes=r.lanes,Ur(r,i,f)}return nd(r,i,a,h,f)}function fg(r,i,a){var h=i.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(No,pn),pn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ke(No,pn),pn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ke(No,pn),pn|=h}else g!==null?(h=g.baseLanes|a,i.memoizedState=null):h=a,Ke(No,pn),pn|=h;return Kt(r,i,f,a),i.child}function pg(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function nd(r,i,a,h,f){var g=Jt(a)?pi:Lt.current;return g=yo(i,g),To(i,f),a=Wh(r,i,a,h,g,f),h=Gh(),r!==null&&!Zt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Ur(r,i,f)):(et&&h&&kh(i),i.flags|=1,Kt(r,i,a,f),i.child)}function mg(r,i,a,h,f){if(Jt(a)){var g=!0;fu(i)}else g=!1;if(To(i,f),i.stateNode===null)Ru(r,i),rg(i,a,h),Zh(i,a,h,f),h=!0;else if(r===null){var x=i.stateNode,N=i.memoizedProps;x.props=N;var P=x.context,H=a.contextType;typeof H=="object"&&H!==null?H=xn(H):(H=Jt(a)?pi:Lt.current,H=yo(i,H));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function";ee||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==h||P!==H)&&sg(i,x,h,H),xs=!1;var J=i.memoizedState;x.state=J,Eu(i,h,x,f),P=i.memoizedState,N!==h||J!==P||Xt.current||xs?(typeof Z=="function"&&(Jh(i,a,Z,h),P=i.memoizedState),(N=xs||ng(i,a,N,h,J,P,H))?(ee||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=P),x.props=h,x.state=P,x.context=H,h=N):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{x=i.stateNode,Rm(r,i),N=i.memoizedProps,H=i.type===i.elementType?N:jn(i.type,N),x.props=H,ee=i.pendingProps,J=x.context,P=a.contextType,typeof P=="object"&&P!==null?P=xn(P):(P=Jt(a)?pi:Lt.current,P=yo(i,P));var ae=a.getDerivedStateFromProps;(Z=typeof ae=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==ee||J!==P)&&sg(i,x,h,P),xs=!1,J=i.memoizedState,x.state=J,Eu(i,h,x,f);var he=i.memoizedState;N!==ee||J!==he||Xt.current||xs?(typeof ae=="function"&&(Jh(i,a,ae,h),he=i.memoizedState),(H=xs||ng(i,a,H,h,J,he,P)||!1)?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,he,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,he,P)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=he),x.props=h,x.state=he,x.context=P,h=H):(typeof x.componentDidUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),h=!1)}return rd(r,i,a,h,g,f)}function rd(r,i,a,h,f,g){pg(r,i);var x=(i.flags&128)!==0;if(!h&&!x)return f&&wm(i,a,!1),Ur(r,i,g);h=i.stateNode,Bx.current=i;var N=x&&typeof a.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&x?(i.child=xo(i,r.child,null,g),i.child=xo(i,null,N,g)):Kt(r,i,N,g),i.memoizedState=h.state,f&&wm(i,a,!0),i.child}function gg(r){var i=r.stateNode;i.pendingContext?vm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&vm(r,i.context,!1),Uh(r,i.containerInfo)}function yg(r,i,a,h,f){return wo(),jh(f),i.flags|=256,Kt(r,i,a,h),i.child}var sd={dehydrated:null,treeContext:null,retryLane:0};function id(r){return{baseLanes:r,cachePool:null,transitions:null}}function vg(r,i,a){var h=i.pendingProps,f=nt.current,g=!1,x=(i.flags&128)!==0,N;if((N=x)||(N=r!==null&&r.memoizedState===null?!1:(f&2)!==0),N?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ke(nt,f&1),r===null)return Ph(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=h.children,r=h.fallback,g?(h=i.mode,g=i.child,x={mode:"hidden",children:x},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=$u(x,h,0,null),r=Ii(r,h,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=id(a),i.memoizedState=sd,r):od(i,x));if(f=r.memoizedState,f!==null&&(N=f.dehydrated,N!==null))return zx(r,i,x,h,N,f,a);if(g){g=h.fallback,x=i.mode,f=r.child,N=f.sibling;var P={mode:"hidden",children:h.children};return(x&1)===0&&i.child!==f?(h=i.child,h.childLanes=0,h.pendingProps=P,i.deletions=null):(h=Cs(f,P),h.subtreeFlags=f.subtreeFlags&14680064),N!==null?g=Cs(N,g):(g=Ii(g,x,a,null),g.flags|=2),g.return=i,h.return=i,h.sibling=g,i.child=h,h=g,g=i.child,x=r.child.memoizedState,x=x===null?id(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=r.childLanes&~a,i.memoizedState=sd,h}return g=r.child,r=g.sibling,h=Cs(g,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=a),h.return=i,h.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=h,i.memoizedState=null,h}function od(r,i){return i=$u({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Au(r,i,a,h){return h!==null&&jh(h),xo(i,r.child,null,a),r=od(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function zx(r,i,a,h,f,g,x){if(a)return i.flags&256?(i.flags&=-257,h=ed(Error(t(422))),Au(r,i,x,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=h.fallback,f=i.mode,h=$u({mode:"visible",children:h.children},f,0,null),g=Ii(g,f,x,null),g.flags|=2,h.return=i,g.return=i,h.sibling=g,i.child=h,(i.mode&1)!==0&&xo(i,r.child,null,x),i.child.memoizedState=id(x),i.memoizedState=sd,g);if((i.mode&1)===0)return Au(r,i,x,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var N=h.dgst;return h=N,g=Error(t(419)),h=ed(g,h,void 0),Au(r,i,x,h)}if(N=(x&r.childLanes)!==0,Zt||N){if(h=bt,h!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|x))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Mr(r,f),On(h,r,f,-1))}return Ed(),h=ed(Error(t(421))),Au(r,i,x,h)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=tE.bind(null,r),f._reactRetry=i,null):(r=g.treeContext,fn=ys(f.nextSibling),dn=i,et=!0,Pn=null,r!==null&&(_n[wn++]=Or,_n[wn++]=Lr,_n[wn++]=mi,Or=r.id,Lr=r.overflow,mi=i),i=od(i,h.children),i.flags|=4096,i)}function _g(r,i,a){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Lh(r.return,i,a)}function ad(r,i,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function wg(r,i,a){var h=i.pendingProps,f=h.revealOrder,g=h.tail;if(Kt(r,i,h.children,a),h=nt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_g(r,a,i);else if(r.tag===19)_g(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ke(nt,h),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&Tu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),ad(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Tu(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}ad(i,!0,a,null,g);break;case"together":ad(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ru(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Ur(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),wi|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=Cs(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Cs(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function $x(r,i,a){switch(i.tag){case 3:gg(i),wo();break;case 5:Dm(i);break;case 1:Jt(i.type)&&fu(i);break;case 4:Uh(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,f=i.memoizedProps.value;Ke(_u,h._currentValue),h._currentValue=f;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Ke(nt,nt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?vg(r,i,a):(Ke(nt,nt.current&1),r=Ur(r,i,a),r!==null?r.sibling:null);Ke(nt,nt.current&1);break;case 19:if(h=(a&i.childLanes)!==0,(r.flags&128)!==0){if(h)return wg(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(nt,nt.current),h)break;return null;case 22:case 23:return i.lanes=0,fg(r,i,a)}return Ur(r,i,a)}var xg,ld,Eg,Tg;xg=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ld=function(){},Eg=function(r,i,a,h){var f=r.memoizedProps;if(f!==h){r=i.stateNode,vi(ir.current);var g=null;switch(a){case"input":f=zi(r,f),h=zi(r,h),g=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":f=sa(r,f),h=sa(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=cu)}Cn(a,h);var x;a=null;for(H in f)if(!h.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var N=f[H];for(x in N)N.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in h){var P=h[H];if(N=f?.[H],h.hasOwnProperty(H)&&P!==N&&(P!=null||N!=null))if(H==="style")if(N){for(x in N)!N.hasOwnProperty(x)||P&&P.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in P)P.hasOwnProperty(x)&&N[x]!==P[x]&&(a||(a={}),a[x]=P[x])}else a||(g||(g=[]),g.push(H,a)),a=P;else H==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,N=N?N.__html:void 0,P!=null&&N!==P&&(g=g||[]).push(H,P)):H==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(H,""+P):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(P!=null&&H==="onScroll"&&Xe("scroll",r),g||N===P||(g=[])):(g=g||[]).push(H,P))}a&&(g=g||[]).push("style",a);var H=g;(i.updateQueue=H)&&(i.flags|=4)}},Tg=function(r,i,a,h){a!==h&&(i.flags|=4)};function Ha(r,i){if(!et)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ft(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,i}function Hx(r,i,a){var h=i.pendingProps;switch(Ah(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(i),null;case 1:return Jt(i.type)&&du(),Ft(i),null;case 3:return h=i.stateNode,Io(),Je(Xt),Je(Lt),$h(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(yu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pn!==null&&(_d(Pn),Pn=null))),ld(r,i),Ft(i),null;case 5:Bh(i);var f=vi(Fa.current);if(a=i.type,r!==null&&i.stateNode!=null)Eg(r,i,a,h,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Ft(i),null}if(r=vi(ir.current),yu(i)){h=i.stateNode,a=i.type;var g=i.memoizedProps;switch(h[sr]=i,h[Da]=g,r=(i.mode&1)!==0,a){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(f=0;f<Ra.length;f++)Xe(Ra[f],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Vl(h,g),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Xe("invalid",h);break;case"textarea":ia(h,g),Xe("invalid",h)}Cn(a,g),f=null;for(var x in g)if(g.hasOwnProperty(x)){var N=g[x];x==="children"?typeof N=="string"?h.textContent!==N&&(g.suppressHydrationWarning!==!0&&uu(h.textContent,N,r),f=["children",N]):typeof N=="number"&&h.textContent!==""+N&&(g.suppressHydrationWarning!==!0&&uu(h.textContent,N,r),f=["children",""+N]):o.hasOwnProperty(x)&&N!=null&&x==="onScroll"&&Xe("scroll",h)}switch(a){case"input":Bi(h),ra(h,g,!0);break;case"textarea":Bi(h),ts(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=cu)}h=f,i.updateQueue=h,h!==null&&(i.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=oa(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=x.createElement(a,{is:h.is}):(r=x.createElement(a),a==="select"&&(x=r,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):r=x.createElementNS(r,a),r[sr]=i,r[Da]=h,xg(r,i,!1,!1),i.stateNode=r;e:{switch(x=Wi(a,h),a){case"dialog":Xe("cancel",r),Xe("close",r),f=h;break;case"iframe":case"object":case"embed":Xe("load",r),f=h;break;case"video":case"audio":for(f=0;f<Ra.length;f++)Xe(Ra[f],r);f=h;break;case"source":Xe("error",r),f=h;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),f=h;break;case"details":Xe("toggle",r),f=h;break;case"input":Vl(r,h),f=zi(r,h),Xe("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Xe("invalid",r);break;case"textarea":ia(r,h),f=sa(r,h),Xe("invalid",r);break;default:f=h}Cn(a,f),N=f;for(g in N)if(N.hasOwnProperty(g)){var P=N[g];g==="style"?qi(r,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Ll(r,P)):g==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Zs(r,P):typeof P=="number"&&Zs(r,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?P!=null&&g==="onScroll"&&Xe("scroll",r):P!=null&&Q(r,g,P,x))}switch(a){case"input":Bi(r),ra(r,h,!1);break;case"textarea":Bi(r),ts(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Le(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Nn(r,!!h.multiple,g,!1):h.defaultValue!=null&&Nn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=cu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ft(i),null;case 6:if(r&&i.stateNode!=null)Tg(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(a=vi(Fa.current),vi(ir.current),yu(i)){if(h=i.stateNode,a=i.memoizedProps,h[sr]=i,(g=h.nodeValue!==a)&&(r=dn,r!==null))switch(r.tag){case 3:uu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&uu(h.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[sr]=i,i.stateNode=h}return Ft(i),null;case 13:if(Je(nt),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&fn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)bm(),wo(),i.flags|=98560,g=!1;else if(g=yu(i),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[sr]=i}else wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ft(i),g=!1}else Pn!==null&&(_d(Pn),Pn=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(nt.current&1)!==0?Et===0&&(Et=3):Ed())),i.updateQueue!==null&&(i.flags|=4),Ft(i),null);case 4:return Io(),ld(r,i),r===null&&Pa(i.stateNode.containerInfo),Ft(i),null;case 10:return Oh(i.type._context),Ft(i),null;case 17:return Jt(i.type)&&du(),Ft(i),null;case 19:if(Je(nt),g=i.memoizedState,g===null)return Ft(i),null;if(h=(i.flags&128)!==0,x=g.rendering,x===null)if(h)Ha(g,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=Tu(r),x!==null){for(i.flags|=128,Ha(g,!1),h=x.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=a,a=i.child;a!==null;)g=a,r=h,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,r=x.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(nt,nt.current&1|2),i.child}r=r.sibling}g.tail!==null&&Ye()>Co&&(i.flags|=128,h=!0,Ha(g,!1),i.lanes=4194304)}else{if(!h)if(r=Tu(x),r!==null){if(i.flags|=128,h=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ha(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!et)return Ft(i),null}else 2*Ye()-g.renderingStartTime>Co&&a!==1073741824&&(i.flags|=128,h=!0,Ha(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(a=g.last,a!==null?a.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ye(),i.sibling=null,a=nt.current,Ke(nt,h?a&1|2:a&1),i):(Ft(i),null);case 22:case 23:return xd(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(pn&1073741824)!==0&&(Ft(i),i.subtreeFlags&6&&(i.flags|=8192)):Ft(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function qx(r,i){switch(Ah(i),i.tag){case 1:return Jt(i.type)&&du(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Io(),Je(Xt),Je(Lt),$h(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(Je(nt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));wo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Je(nt),null;case 4:return Io(),null;case 10:return Oh(i.type._context),null;case 22:case 23:return xd(),null;case 24:return null;default:return null}}var Pu=!1,Ut=!1,Wx=typeof WeakSet=="function"?WeakSet:Set,ce=null;function bo(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ot(r,i,h)}else a.current=null}function ud(r,i,a){try{a()}catch(h){ot(r,i,h)}}var Ig=!1;function Gx(r,i){if(xh=Rr,r=nm(),fh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,N=-1,P=-1,H=0,Z=0,ee=r,J=null;t:for(;;){for(var ae;ee!==a||f!==0&&ee.nodeType!==3||(N=x+f),ee!==g||h!==0&&ee.nodeType!==3||(P=x+h),ee.nodeType===3&&(x+=ee.nodeValue.length),(ae=ee.firstChild)!==null;)J=ee,ee=ae;for(;;){if(ee===r)break t;if(J===a&&++H===f&&(N=x),J===g&&++Z===h&&(P=x),(ae=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=ae}a=N===-1||P===-1?null:{start:N,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Eh={focusedElem:r,selectionRange:a},Rr=!1,ce=i;ce!==null;)if(i=ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ce=r;else for(;ce!==null;){i=ce;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,ht=he.memoizedState,U=i.stateNode,D=U.getSnapshotBeforeUpdate(i.elementType===i.type?de:jn(i.type,de),ht);U.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){ot(i,i.return,ne)}if(r=i.sibling,r!==null){r.return=i.return,ce=r;break}ce=i.return}return he=Ig,Ig=!1,he}function qa(r,i,a){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&ud(i,a,g)}f=f.next}while(f!==h)}}function ju(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==i)}}function cd(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Sg(r){var i=r.alternate;i!==null&&(r.alternate=null,Sg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[sr],delete i[Da],delete i[bh],delete i[kx],delete i[Ax])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function bg(r){return r.tag===5||r.tag===3||r.tag===4}function Ng(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hd(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=cu));else if(h!==4&&(r=r.child,r!==null))for(hd(r,i,a),r=r.sibling;r!==null;)hd(r,i,a),r=r.sibling}function dd(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(dd(r,i,a),r=r.sibling;r!==null;)dd(r,i,a),r=r.sibling}var Rt=null,Dn=!1;function Ts(r,i,a){for(a=a.child;a!==null;)Cg(r,i,a),a=a.sibling}function Cg(r,i,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(si,a)}catch{}switch(a.tag){case 5:Ut||bo(a,i);case 6:var h=Rt,f=Dn;Rt=null,Ts(r,i,a),Rt=h,Dn=f,Rt!==null&&(Dn?(r=Rt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(Dn?(r=Rt,a=a.stateNode,r.nodeType===8?Sh(r.parentNode,a):r.nodeType===1&&Sh(r,a),fs(r)):Sh(Rt,a.stateNode));break;case 4:h=Rt,f=Dn,Rt=a.stateNode.containerInfo,Dn=!0,Ts(r,i,a),Rt=h,Dn=f;break;case 0:case 11:case 14:case 15:if(!Ut&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&ud(a,i,x),f=f.next}while(f!==h)}Ts(r,i,a);break;case 1:if(!Ut&&(bo(a,i),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(N){ot(a,i,N)}Ts(r,i,a);break;case 21:Ts(r,i,a);break;case 22:a.mode&1?(Ut=(h=Ut)||a.memoizedState!==null,Ts(r,i,a),Ut=h):Ts(r,i,a);break;default:Ts(r,i,a)}}function kg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Wx),i.forEach(function(h){var f=nE.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Vn(r,i){var a=i.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,x=i,N=x;e:for(;N!==null;){switch(N.tag){case 5:Rt=N.stateNode,Dn=!1;break e;case 3:Rt=N.stateNode.containerInfo,Dn=!0;break e;case 4:Rt=N.stateNode.containerInfo,Dn=!0;break e}N=N.return}if(Rt===null)throw Error(t(160));Cg(g,x,f),Rt=null,Dn=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(H){ot(f,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Ag(i,r),i=i.sibling}function Ag(r,i){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Vn(i,r),ar(r),h&4){try{qa(3,r,r.return),ju(3,r)}catch(de){ot(r,r.return,de)}try{qa(5,r,r.return)}catch(de){ot(r,r.return,de)}}break;case 1:Vn(i,r),ar(r),h&512&&a!==null&&bo(a,a.return);break;case 5:if(Vn(i,r),ar(r),h&512&&a!==null&&bo(a,a.return),r.flags&32){var f=r.stateNode;try{Zs(f,"")}catch(de){ot(r,r.return,de)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,x=a!==null?a.memoizedProps:g,N=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{N==="input"&&g.type==="radio"&&g.name!=null&&$i(f,g),Wi(N,x);var H=Wi(N,g);for(x=0;x<P.length;x+=2){var Z=P[x],ee=P[x+1];Z==="style"?qi(f,ee):Z==="dangerouslySetInnerHTML"?Ll(f,ee):Z==="children"?Zs(f,ee):Q(f,Z,ee,H)}switch(N){case"input":Js(f,g);break;case"textarea":Ol(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?Nn(f,!!g.multiple,ae,!1):J!==!!g.multiple&&(g.defaultValue!=null?Nn(f,!!g.multiple,g.defaultValue,!0):Nn(f,!!g.multiple,g.multiple?[]:"",!1))}f[Da]=g}catch(de){ot(r,r.return,de)}}break;case 6:if(Vn(i,r),ar(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(de){ot(r,r.return,de)}}break;case 3:if(Vn(i,r),ar(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{fs(i.containerInfo)}catch(de){ot(r,r.return,de)}break;case 4:Vn(i,r),ar(r);break;case 13:Vn(i,r),ar(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(md=Ye())),h&4&&kg(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Ut=(H=Ut)||Z,Vn(i,r),Ut=H):Vn(i,r),ar(r),h&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!Z&&(r.mode&1)!==0)for(ce=r,Z=r.child;Z!==null;){for(ee=ce=Z;ce!==null;){switch(J=ce,ae=J.child,J.tag){case 0:case 11:case 14:case 15:qa(4,J,J.return);break;case 1:bo(J,J.return);var he=J.stateNode;if(typeof he.componentWillUnmount=="function"){h=J,a=J.return;try{i=h,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(de){ot(h,a,de)}}break;case 5:bo(J,J.return);break;case 22:if(J.memoizedState!==null){jg(ee);continue}}ae!==null?(ae.return=J,ce=ae):jg(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{f=ee.stateNode,H?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(N=ee.stateNode,P=ee.memoizedProps.style,x=P!=null&&P.hasOwnProperty("display")?P.display:null,N.style.display=ss("display",x))}catch(de){ot(r,r.return,de)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=H?"":ee.memoizedProps}catch(de){ot(r,r.return,de)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Vn(i,r),ar(r),h&4&&kg(r);break;case 21:break;default:Vn(i,r),ar(r)}}function ar(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(bg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Zs(f,""),h.flags&=-33);var g=Ng(r);dd(r,g,f);break;case 3:case 4:var x=h.stateNode.containerInfo,N=Ng(r);hd(r,N,x);break;default:throw Error(t(161))}}catch(P){ot(r,r.return,P)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Kx(r,i,a){ce=r,Rg(r)}function Rg(r,i,a){for(var h=(r.mode&1)!==0;ce!==null;){var f=ce,g=f.child;if(f.tag===22&&h){var x=f.memoizedState!==null||Pu;if(!x){var N=f.alternate,P=N!==null&&N.memoizedState!==null||Ut;N=Pu;var H=Ut;if(Pu=x,(Ut=P)&&!H)for(ce=f;ce!==null;)x=ce,P=x.child,x.tag===22&&x.memoizedState!==null?Dg(f):P!==null?(P.return=x,ce=P):Dg(f);for(;g!==null;)ce=g,Rg(g),g=g.sibling;ce=f,Pu=N,Ut=H}Pg(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ce=g):Pg(r)}}function Pg(r){for(;ce!==null;){var i=ce;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ut||ju(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Ut)if(a===null)h.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:jn(i.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&jm(i,g,h);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}jm(i,x,a)}break;case 5:var N=i.stateNode;if(a===null&&i.flags&4){a=N;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var Z=H.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&fs(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||i.flags&512&&cd(i)}catch(J){ot(i,i.return,J)}}if(i===r){ce=null;break}if(a=i.sibling,a!==null){a.return=i.return,ce=a;break}ce=i.return}}function jg(r){for(;ce!==null;){var i=ce;if(i===r){ce=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ce=a;break}ce=i.return}}function Dg(r){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ju(4,i)}catch(P){ot(i,a,P)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var f=i.return;try{h.componentDidMount()}catch(P){ot(i,f,P)}}var g=i.return;try{cd(i)}catch(P){ot(i,g,P)}break;case 5:var x=i.return;try{cd(i)}catch(P){ot(i,x,P)}}}catch(P){ot(i,i.return,P)}if(i===r){ce=null;break}var N=i.sibling;if(N!==null){N.return=i.return,ce=N;break}ce=i.return}}var Qx=Math.ceil,Du=ie.ReactCurrentDispatcher,fd=ie.ReactCurrentOwner,Tn=ie.ReactCurrentBatchConfig,Me=0,bt=null,yt=null,Pt=0,pn=0,No=vs(0),Et=0,Wa=null,wi=0,Vu=0,pd=0,Ga=null,en=null,md=0,Co=1/0,Br=null,Ou=!1,gd=null,Is=null,Lu=!1,Ss=null,Mu=0,Ka=0,yd=null,Fu=-1,Uu=0;function Qt(){return(Me&6)!==0?Ye():Fu!==-1?Fu:Fu=Ye()}function bs(r){return(r.mode&1)===0?1:(Me&2)!==0&&Pt!==0?Pt&-Pt:Px.transition!==null?(Uu===0&&(Uu=ma()),Uu):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:no(r.type)),r)}function On(r,i,a,h){if(50<Ka)throw Ka=0,yd=null,Error(t(185));li(r,a,h),((Me&2)===0||r!==bt)&&(r===bt&&((Me&2)===0&&(Vu|=a),Et===4&&Ns(r,Pt)),tn(r,h),a===1&&Me===0&&(i.mode&1)===0&&(Co=Ye()+500,pu&&ws()))}function tn(r,i){var a=r.callbackNode;ai(r,i);var h=Cr(r,r===bt?Pt:0);if(h===0)a!==null&&Qi(a),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(a!=null&&Qi(a),i===1)r.tag===0?Rx(Og.bind(null,r)):xm(Og.bind(null,r)),Nx(function(){(Me&6)===0&&ws()}),a=null;else{switch(Kn(h)){case 1:a=Yi;break;case 4:a=da;break;case 16:a=ri;break;case 536870912:a=Xi;break;default:a=ri}a=Hg(a,Vg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Vg(r,i){if(Fu=-1,Uu=0,(Me&6)!==0)throw Error(t(327));var a=r.callbackNode;if(ko()&&r.callbackNode!==a)return null;var h=Cr(r,r===bt?Pt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=Bu(r,h);else{i=h;var f=Me;Me|=2;var g=Mg();(bt!==r||Pt!==i)&&(Br=null,Co=Ye()+500,Ei(r,i));do try{Jx();break}catch(N){Lg(r,N)}while(!0);Vh(),Du.current=g,Me=f,yt!==null?i=0:(bt=null,Pt=0,i=Et)}if(i!==0){if(i===2&&(f=pa(r),f!==0&&(h=f,i=vd(r,f))),i===1)throw a=Wa,Ei(r,0),Ns(r,h),tn(r,Ye()),a;if(i===6)Ns(r,h);else{if(f=r.current.alternate,(h&30)===0&&!Yx(f)&&(i=Bu(r,h),i===2&&(g=pa(r),g!==0&&(h=g,i=vd(r,g))),i===1))throw a=Wa,Ei(r,0),Ns(r,h),tn(r,Ye()),a;switch(r.finishedWork=f,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Ti(r,en,Br);break;case 3:if(Ns(r,h),(h&130023424)===h&&(i=md+500-Ye(),10<i)){if(Cr(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Qt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Ih(Ti.bind(null,r,en,Br),i);break}Ti(r,en,Br);break;case 4:if(Ns(r,h),(h&4194240)===h)break;for(i=r.eventTimes,f=-1;0<h;){var x=31-an(h);g=1<<x,x=i[x],x>f&&(f=x),h&=~g}if(h=f,h=Ye()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Qx(h/1960))-h,10<h){r.timeoutHandle=Ih(Ti.bind(null,r,en,Br),h);break}Ti(r,en,Br);break;case 5:Ti(r,en,Br);break;default:throw Error(t(329))}}}return tn(r,Ye()),r.callbackNode===a?Vg.bind(null,r):null}function vd(r,i){var a=Ga;return r.current.memoizedState.isDehydrated&&(Ei(r,i).flags|=256),r=Bu(r,i),r!==2&&(i=en,en=a,i!==null&&_d(i)),r}function _d(r){en===null?en=r:en.push.apply(en,r)}function Yx(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Rn(g(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ns(r,i){for(i&=~pd,i&=~Vu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-an(i),h=1<<a;r[a]=-1,i&=~h}}function Og(r){if((Me&6)!==0)throw Error(t(327));ko();var i=Cr(r,0);if((i&1)===0)return tn(r,Ye()),null;var a=Bu(r,i);if(r.tag!==0&&a===2){var h=pa(r);h!==0&&(i=h,a=vd(r,h))}if(a===1)throw a=Wa,Ei(r,0),Ns(r,i),tn(r,Ye()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ti(r,en,Br),tn(r,Ye()),null}function wd(r,i){var a=Me;Me|=1;try{return r(i)}finally{Me=a,Me===0&&(Co=Ye()+500,pu&&ws())}}function xi(r){Ss!==null&&Ss.tag===0&&(Me&6)===0&&ko();var i=Me;Me|=1;var a=Tn.transition,h=Ve;try{if(Tn.transition=null,Ve=1,r)return r()}finally{Ve=h,Tn.transition=a,Me=i,(Me&6)===0&&ws()}}function xd(){pn=No.current,Je(No)}function Ei(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,bx(a)),yt!==null)for(a=yt.return;a!==null;){var h=a;switch(Ah(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&du();break;case 3:Io(),Je(Xt),Je(Lt),$h();break;case 5:Bh(h);break;case 4:Io();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:Oh(h.type._context);break;case 22:case 23:xd()}a=a.return}if(bt=r,yt=r=Cs(r.current,null),Pt=pn=i,Et=0,Wa=null,pd=Vu=wi=0,en=Ga=null,yi!==null){for(i=0;i<yi.length;i++)if(a=yi[i],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var x=g.next;g.next=f,h.next=x}a.pending=h}yi=null}return r}function Lg(r,i){do{var a=yt;try{if(Vh(),Iu.current=Cu,Su){for(var h=rt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Su=!1}if(_i=0,St=xt=rt=null,Ua=!1,Ba=0,fd.current=null,a===null||a.return===null){Et=1,Wa=i,yt=null;break}e:{var g=r,x=a.return,N=a,P=i;if(i=Pt,N.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var H=P,Z=N,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ae=lg(x);if(ae!==null){ae.flags&=-257,ug(ae,x,N,g,i),ae.mode&1&&ag(g,H,i),i=ae,P=H;var he=i.updateQueue;if(he===null){var de=new Set;de.add(P),i.updateQueue=de}else he.add(P);break e}else{if((i&1)===0){ag(g,H,i),Ed();break e}P=Error(t(426))}}else if(et&&N.mode&1){var ht=lg(x);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),ug(ht,x,N,g,i),jh(So(P,N));break e}}g=P=So(P,N),Et!==4&&(Et=2),Ga===null?Ga=[g]:Ga.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var U=ig(g,P,i);Pm(g,U);break e;case 1:N=P;var D=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Is===null||!Is.has(z)))){g.flags|=65536,i&=-i,g.lanes|=i;var ne=og(g,N,i);Pm(g,ne);break e}}g=g.return}while(g!==null)}Ug(a)}catch(fe){i=fe,yt===a&&a!==null&&(yt=a=a.return);continue}break}while(!0)}function Mg(){var r=Du.current;return Du.current=Cu,r===null?Cu:r}function Ed(){(Et===0||Et===3||Et===2)&&(Et=4),bt===null||(wi&268435455)===0&&(Vu&268435455)===0||Ns(bt,Pt)}function Bu(r,i){var a=Me;Me|=2;var h=Mg();(bt!==r||Pt!==i)&&(Br=null,Ei(r,i));do try{Xx();break}catch(f){Lg(r,f)}while(!0);if(Vh(),Me=a,Du.current=h,yt!==null)throw Error(t(261));return bt=null,Pt=0,Et}function Xx(){for(;yt!==null;)Fg(yt)}function Jx(){for(;yt!==null&&!ni();)Fg(yt)}function Fg(r){var i=$g(r.alternate,r,pn);r.memoizedProps=r.pendingProps,i===null?Ug(r):yt=i,fd.current=null}function Ug(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=Hx(a,i,pn),a!==null){yt=a;return}}else{if(a=qx(a,i),a!==null){a.flags&=32767,yt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,yt=null;return}}if(i=i.sibling,i!==null){yt=i;return}yt=i=r}while(i!==null);Et===0&&(Et=5)}function Ti(r,i,a){var h=Ve,f=Tn.transition;try{Tn.transition=null,Ve=1,Zx(r,i,a,h)}finally{Tn.transition=f,Ve=h}return null}function Zx(r,i,a,h){do ko();while(Ss!==null);if((Me&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(lh(r,g),r===bt&&(yt=bt=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Lu||(Lu=!0,Hg(ri,function(){return ko(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Tn.transition,Tn.transition=null;var x=Ve;Ve=1;var N=Me;Me|=4,fd.current=null,Gx(r,a),Ag(a,r),_x(Eh),Rr=!!xh,Eh=xh=null,r.current=a,Kx(a),Nr(),Me=N,Ve=x,Tn.transition=g}else r.current=a;if(Lu&&(Lu=!1,Ss=r,Mu=f),g=r.pendingLanes,g===0&&(Is=null),Kl(a.stateNode),tn(r,Ye()),i!==null)for(h=r.onRecoverableError,a=0;a<i.length;a++)f=i[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Ou)throw Ou=!1,r=gd,gd=null,r;return(Mu&1)!==0&&r.tag!==0&&ko(),g=r.pendingLanes,(g&1)!==0?r===yd?Ka++:(Ka=0,yd=r):Ka=0,ws(),null}function ko(){if(Ss!==null){var r=Kn(Mu),i=Tn.transition,a=Ve;try{if(Tn.transition=null,Ve=16>r?16:r,Ss===null)var h=!1;else{if(r=Ss,Ss=null,Mu=0,(Me&6)!==0)throw Error(t(331));var f=Me;for(Me|=4,ce=r.current;ce!==null;){var g=ce,x=g.child;if((ce.flags&16)!==0){var N=g.deletions;if(N!==null){for(var P=0;P<N.length;P++){var H=N[P];for(ce=H;ce!==null;){var Z=ce;switch(Z.tag){case 0:case 11:case 15:qa(8,Z,g)}var ee=Z.child;if(ee!==null)ee.return=Z,ce=ee;else for(;ce!==null;){Z=ce;var J=Z.sibling,ae=Z.return;if(Sg(Z),Z===H){ce=null;break}if(J!==null){J.return=ae,ce=J;break}ce=ae}}}var he=g.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var ht=de.sibling;de.sibling=null,de=ht}while(de!==null)}}ce=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,ce=x;else e:for(;ce!==null;){if(g=ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:qa(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,ce=U;break e}ce=g.return}}var D=r.current;for(ce=D;ce!==null;){x=ce;var z=x.child;if((x.subtreeFlags&2064)!==0&&z!==null)z.return=x,ce=z;else e:for(x=D;ce!==null;){if(N=ce,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:ju(9,N)}}catch(fe){ot(N,N.return,fe)}if(N===x){ce=null;break e}var ne=N.sibling;if(ne!==null){ne.return=N.return,ce=ne;break e}ce=N.return}}if(Me=f,ws(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(si,r)}catch{}h=!0}return h}finally{Ve=a,Tn.transition=i}}return!1}function Bg(r,i,a){i=So(a,i),i=ig(r,i,1),r=Es(r,i,1),i=Qt(),r!==null&&(li(r,1,i),tn(r,i))}function ot(r,i,a){if(r.tag===3)Bg(r,r,a);else for(;i!==null;){if(i.tag===3){Bg(i,r,a);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Is===null||!Is.has(h))){r=So(a,r),r=og(i,r,1),i=Es(i,r,1),r=Qt(),i!==null&&(li(i,1,r),tn(i,r));break}}i=i.return}}function eE(r,i,a){var h=r.pingCache;h!==null&&h.delete(i),i=Qt(),r.pingedLanes|=r.suspendedLanes&a,bt===r&&(Pt&a)===a&&(Et===4||Et===3&&(Pt&130023424)===Pt&&500>Ye()-md?Ei(r,0):pd|=a),tn(r,i)}function zg(r,i){i===0&&((r.mode&1)===0?i=1:(i=cs,cs<<=1,(cs&130023424)===0&&(cs=4194304)));var a=Qt();r=Mr(r,i),r!==null&&(li(r,i,a),tn(r,a))}function tE(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),zg(r,a)}function nE(r,i){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),zg(r,a)}var $g;$g=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Xt.current)Zt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Zt=!1,$x(r,i,a);Zt=(r.flags&131072)!==0}else Zt=!1,et&&(i.flags&1048576)!==0&&Em(i,gu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Ru(r,i),r=i.pendingProps;var f=yo(i,Lt.current);To(i,a),f=Wh(null,i,h,r,f,a);var g=Gh();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Jt(h)?(g=!0,fu(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Fh(i),f.updater=ku,i.stateNode=f,f._reactInternals=i,Zh(i,h,r,a),i=rd(null,i,h,!0,g,a)):(i.tag=0,et&&g&&kh(i),Kt(null,i,f,a),i=i.child),i;case 16:h=i.elementType;e:{switch(Ru(r,i),r=i.pendingProps,f=h._init,h=f(h._payload),i.type=h,f=i.tag=sE(h),r=jn(h,r),f){case 0:i=nd(null,i,h,r,a);break e;case 1:i=mg(null,i,h,r,a);break e;case 11:i=cg(null,i,h,r,a);break e;case 14:i=hg(null,i,h,jn(h.type,r),a);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:jn(h,f),nd(r,i,h,f,a);case 1:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:jn(h,f),mg(r,i,h,f,a);case 3:e:{if(gg(i),r===null)throw Error(t(387));h=i.pendingProps,g=i.memoizedState,f=g.element,Rm(r,i),Eu(i,h,null,a);var x=i.memoizedState;if(h=x.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=So(Error(t(423)),i),i=yg(r,i,h,a,f);break e}else if(h!==f){f=So(Error(t(424)),i),i=yg(r,i,h,a,f);break e}else for(fn=ys(i.stateNode.containerInfo.firstChild),dn=i,et=!0,Pn=null,a=km(i,null,h,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(wo(),h===f){i=Ur(r,i,a);break e}Kt(r,i,h,a)}i=i.child}return i;case 5:return Dm(i),r===null&&Ph(i),h=i.type,f=i.pendingProps,g=r!==null?r.memoizedProps:null,x=f.children,Th(h,f)?x=null:g!==null&&Th(h,g)&&(i.flags|=32),pg(r,i),Kt(r,i,x,a),i.child;case 6:return r===null&&Ph(i),null;case 13:return vg(r,i,a);case 4:return Uh(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=xo(i,null,h,a):Kt(r,i,h,a),i.child;case 11:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:jn(h,f),cg(r,i,h,f,a);case 7:return Kt(r,i,i.pendingProps,a),i.child;case 8:return Kt(r,i,i.pendingProps.children,a),i.child;case 12:return Kt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(h=i.type._context,f=i.pendingProps,g=i.memoizedProps,x=f.value,Ke(_u,h._currentValue),h._currentValue=x,g!==null)if(Rn(g.value,x)){if(g.children===f.children&&!Xt.current){i=Ur(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var N=g.dependencies;if(N!==null){x=g.child;for(var P=N.firstContext;P!==null;){if(P.context===h){if(g.tag===1){P=Fr(-1,a&-a),P.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var Z=H.pending;Z===null?P.next=P:(P.next=Z.next,Z.next=P),H.pending=P}}g.lanes|=a,P=g.alternate,P!==null&&(P.lanes|=a),Lh(g.return,a,i),N.lanes|=a;break}P=P.next}}else if(g.tag===10)x=g.type===i.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(t(341));x.lanes|=a,N=x.alternate,N!==null&&(N.lanes|=a),Lh(x,a,i),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}Kt(r,i,f.children,a),i=i.child}return i;case 9:return f=i.type,h=i.pendingProps.children,To(i,a),f=xn(f),h=h(f),i.flags|=1,Kt(r,i,h,a),i.child;case 14:return h=i.type,f=jn(h,i.pendingProps),f=jn(h.type,f),hg(r,i,h,f,a);case 15:return dg(r,i,i.type,i.pendingProps,a);case 17:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:jn(h,f),Ru(r,i),i.tag=1,Jt(h)?(r=!0,fu(i)):r=!1,To(i,a),rg(i,h,f),Zh(i,h,f,a),rd(null,i,h,!0,r,a);case 19:return wg(r,i,a);case 22:return fg(r,i,a)}throw Error(t(156,i.tag))};function Hg(r,i){return ha(r,i)}function rE(r,i,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(r,i,a,h){return new rE(r,i,a,h)}function Td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function sE(r){if(typeof r=="function")return Td(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===Ge)return 14}return 2}function Cs(r,i){var a=r.alternate;return a===null?(a=In(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function zu(r,i,a,h,f,g){var x=2;if(h=r,typeof r=="function")Td(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case R:return Ii(a.children,f,g,i);case S:x=8,f|=8;break;case b:return r=In(12,a,i,f|2),r.elementType=b,r.lanes=g,r;case C:return r=In(13,a,i,f),r.elementType=C,r.lanes=g,r;case ke:return r=In(19,a,i,f),r.elementType=ke,r.lanes=g,r;case He:return $u(a,f,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:x=10;break e;case A:x=9;break e;case O:x=11;break e;case Ge:x=14;break e;case Ne:x=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=In(x,a,i,f),i.elementType=r,i.type=h,i.lanes=g,i}function Ii(r,i,a,h){return r=In(7,r,h,i),r.lanes=a,r}function $u(r,i,a,h){return r=In(22,r,h,i),r.elementType=He,r.lanes=a,r.stateNode={isHidden:!1},r}function Id(r,i,a){return r=In(6,r,null,i),r.lanes=a,r}function Sd(r,i,a){return i=In(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function iE(r,i,a,h,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ga(0),this.expirationTimes=ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function bd(r,i,a,h,f,g,x,N,P){return r=new iE(r,i,a,N,P),i===1?(i=1,g===!0&&(i|=8)):i=0,g=In(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(g),r}function oE(r,i,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:h==null?null:""+h,children:r,containerInfo:i,implementation:a}}function qg(r){if(!r)return _s;r=r._reactInternals;e:{if(kn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Jt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Jt(a))return _m(r,a,i)}return i}function Wg(r,i,a,h,f,g,x,N,P){return r=bd(a,h,!0,r,f,g,x,N,P),r.context=qg(null),a=r.current,h=Qt(),f=bs(a),g=Fr(h,f),g.callback=i??null,Es(a,g,f),r.current.lanes=f,li(r,f,h),tn(r,h),r}function Hu(r,i,a,h){var f=i.current,g=Qt(),x=bs(f);return a=qg(a),i.context===null?i.context=a:i.pendingContext=a,i=Fr(g,x),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=Es(f,i,x),r!==null&&(On(r,f,x,g),xu(r,f,x)),x}function qu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Gg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Nd(r,i){Gg(r,i),(r=r.alternate)&&Gg(r,i)}function aE(){return null}var Kg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Cd(r){this._internalRoot=r}Wu.prototype.render=Cd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Hu(r,i,null,null)},Wu.prototype.unmount=Cd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;xi(function(){Hu(null,r,null,null)}),i[Dr]=null}};function Wu(r){this._internalRoot=r}Wu.prototype.unstable_scheduleHydration=function(r){if(r){var i=wa();r={blockedOn:null,target:r,priority:i};for(var a=0;a<ln.length&&i!==0&&i<ln[a].priority;a++);ln.splice(a,0,r),a===0&&eo(r)}};function kd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Gu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Qg(){}function lE(r,i,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var H=qu(x);g.call(H)}}var x=Wg(i,h,r,0,null,!1,!1,"",Qg);return r._reactRootContainer=x,r[Dr]=x.current,Pa(r.nodeType===8?r.parentNode:r),xi(),x}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var N=h;h=function(){var H=qu(P);N.call(H)}}var P=bd(r,0,!1,null,null,!1,!1,"",Qg);return r._reactRootContainer=P,r[Dr]=P.current,Pa(r.nodeType===8?r.parentNode:r),xi(function(){Hu(i,P,a,h)}),P}function Ku(r,i,a,h,f){var g=a._reactRootContainer;if(g){var x=g;if(typeof f=="function"){var N=f;f=function(){var P=qu(x);N.call(P)}}Hu(i,x,r,f)}else x=lE(a,i,r,f,h);return qu(x)}va=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Ue(i.pendingLanes);a!==0&&(ya(i,a|1),tn(i,Ye()),(Me&6)===0&&(Co=Ye()+500,ws()))}break;case 13:xi(function(){var h=Mr(r,1);if(h!==null){var f=Qt();On(h,r,1,f)}}),Nd(r,1)}},Ji=function(r){if(r.tag===13){var i=Mr(r,134217728);if(i!==null){var a=Qt();On(i,r,134217728,a)}Nd(r,134217728)}},_a=function(r){if(r.tag===13){var i=bs(r),a=Mr(r,i);if(a!==null){var h=Qt();On(a,r,i,h)}Nd(r,i)}},wa=function(){return Ve},xa=function(r,i){var a=Ve;try{return Ve=r,i()}finally{Ve=a}},Ir=function(r,i,a){switch(i){case"input":if(Js(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var h=a[i];if(h!==r&&h.form===r.form){var f=hu(h);if(!f)throw Error(t(90));na(h),Js(h,f)}}}break;case"textarea":Ol(r,a);break;case"select":i=a.value,i!=null&&Nn(r,!!a.multiple,i,!1)}},Fl=wd,Ul=xi;var uE={usingClientEntryPoint:!1,Events:[Va,mo,hu,os,as,wd]},Qa={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cE={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Gl(r),r===null?null:r.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||aE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{si=Qu.inject(cE),on=Qu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uE,nn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kd(i))throw Error(t(200));return oE(r,i,null,a)},nn.createRoot=function(r,i){if(!kd(r))throw Error(t(299));var a=!1,h="",f=Kg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=bd(r,1,!1,null,null,a,!1,h,f),r[Dr]=i.current,Pa(r.nodeType===8?r.parentNode:r),new Cd(i)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Gl(i),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return xi(r)},nn.hydrate=function(r,i,a){if(!Gu(i))throw Error(t(200));return Ku(null,r,i,!0,a)},nn.hydrateRoot=function(r,i,a){if(!kd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",x=Kg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=Wg(i,null,r,1,a??null,f,!1,g,x),r[Dr]=i.current,Pa(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Wu(i)},nn.render=function(r,i,a){if(!Gu(i))throw Error(t(200));return Ku(null,r,i,!1,a)},nn.unmountComponentAtNode=function(r){if(!Gu(r))throw Error(t(40));return r._reactRootContainer?(xi(function(){Ku(null,null,r,!1,function(){r._reactRootContainer=null,r[Dr]=null})}),!0):!1},nn.unstable_batchedUpdates=wd,nn.unstable_renderSubtreeIntoContainer=function(r,i,a,h){if(!Gu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ku(r,i,a,!1,h)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var ry;function _E(){if(ry)return Pd.exports;ry=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pd.exports=vE(),Pd.exports}var sy;function wE(){if(sy)return Yu;sy=1;var n=_E();return Yu.createRoot=n.createRoot,Yu.hydrateRoot=n.hydrateRoot,Yu}var xE=wE();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iy="popstate";function EE(n={}){function e(s,o){let{pathname:l,search:c,hash:p}=s.location;return Jd("",{pathname:l,search:c,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:hl(o)}return IE(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Un(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TE(){return Math.random().toString(36).substring(2,10)}function oy(n,e){return{usr:n.state,key:n.key,idx:e}}function Jd(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:t,key:e&&e.key||s||TE()}}function hl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function IE(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,p="POP",m=null,v=w();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function w(){return(c.state||{idx:null}).idx}function E(){p="POP";let V=w(),G=V==null?null:V-v;v=V,m&&m({action:p,location:F.location,delta:G})}function I(V,G){p="PUSH";let W=Jd(F.location,V,G);v=w()+1;let Q=oy(W,v),ie=F.createHref(W);try{c.pushState(Q,"",ie)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(ie)}l&&m&&m({action:p,location:F.location,delta:1})}function j(V,G){p="REPLACE";let W=Jd(F.location,V,G);v=w();let Q=oy(W,v),ie=F.createHref(W);c.replaceState(Q,"",ie),l&&m&&m({action:p,location:F.location,delta:0})}function $(V){return SE(V)}let F={get action(){return p},get location(){return n(o,c)},listen(V){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(iy,E),m=V,()=>{o.removeEventListener(iy,E),m=null}},createHref(V){return e(o,V)},createURL:$,encodeLocation(V){let G=$(V);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:I,replace:j,go(V){return c.go(V)}};return F}function SE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:hl(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Jv(n,e,t="/"){return bE(n,e,t,!1)}function bE(n,e,t,s){let o=typeof e=="string"?Wo(e):e,l=Gr(o.pathname||"/",t);if(l==null)return null;let c=Zv(n);NE(c);let p=null;for(let m=0;p==null&&m<c.length;++m){let v=ME(l);p=OE(c[m],v,s)}return p}function Zv(n,e=[],t=[],s="",o=!1){let l=(c,p,m=o,v)=>{let w={relativePath:v===void 0?c.path||"":v,caseSensitive:c.caseSensitive===!0,childrenIndex:p,route:c};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&m)return;tt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let E=qr([s,w.relativePath]),I=t.concat(w);c.children&&c.children.length>0&&(tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Zv(c.children,e,I,E,m)),!(c.path==null&&!c.index)&&e.push({path:E,score:DE(E,c.index),routesMeta:I})};return n.forEach((c,p)=>{if(c.path===""||!c.path?.includes("?"))l(c,p);else for(let m of e_(c.path))l(c,p,!0,m)}),e}function e_(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=e_(s.join("/")),p=[];return p.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&p.push(...c),p.map(m=>n.startsWith("/")&&m===""?"/":m)}function NE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:VE(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var CE=/^:[\w-]+$/,kE=3,AE=2,RE=1,PE=10,jE=-2,ay=n=>n==="*";function DE(n,e){let t=n.split("/"),s=t.length;return t.some(ay)&&(s+=jE),e&&(s+=AE),t.filter(o=>!ay(o)).reduce((o,l)=>o+(CE.test(l)?kE:l===""?RE:PE),s)}function VE(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function OE(n,e,t=!1){let{routesMeta:s}=n,o={},l="/",c=[];for(let p=0;p<s.length;++p){let m=s[p],v=p===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",E=vc({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},w),I=m.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=vc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:qr([l,E.pathname]),pathnameBase:zE(qr([l,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(l=qr([l,E.pathnameBase]))}return c}function vc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=LE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:E},I)=>{if(w==="*"){let $=p[I]||"";c=l.slice(0,l.length-$.length).replace(/(.)\/+$/,"$1")}const j=p[I];return E&&!j?v[w]=void 0:v[w]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:c,pattern:n}}function LE(n,e=!1,t=!0){Un(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ME(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function FE(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Wo(n):n;return{pathname:t?t.startsWith("/")?t:UE(t,e):e,search:$E(s),hash:HE(o)}}function UE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Vd(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kf(n){let e=BE(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Af(n,e,t,s=!1){let o;typeof n=="string"?o=Wo(n):(o={...n},tt(!o.pathname||!o.pathname.includes("?"),Vd("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Vd("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Vd("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,p;if(c==null)p=t;else{let E=e.length-1;if(!s&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}p=E>=0?e[E]:"/"}let m=FE(o,p),v=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(v||w)&&(m.pathname+="/"),m}var qr=n=>n.join("/").replace(/\/\/+/g,"/"),zE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$E=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var t_=["POST","PUT","PATCH","DELETE"];new Set(t_);var WE=["GET",...t_];new Set(WE);var Go=L.createContext(null);Go.displayName="DataRouter";var Mc=L.createContext(null);Mc.displayName="DataRouterState";L.createContext(!1);var n_=L.createContext({isTransitioning:!1});n_.displayName="ViewTransition";var GE=L.createContext(new Map);GE.displayName="Fetchers";var KE=L.createContext(null);KE.displayName="Await";var zn=L.createContext(null);zn.displayName="Navigation";var xl=L.createContext(null);xl.displayName="Location";var Er=L.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var Rf=L.createContext(null);Rf.displayName="RouteError";function QE(n,{relative:e}={}){tt(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=L.useContext(zn),{hash:o,pathname:l,search:c}=El(n,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:qr([t,l])),s.createHref({pathname:p,search:c,hash:o})}function Ko(){return L.useContext(xl)!=null}function $n(){return tt(Ko(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(xl).location}var r_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s_(n){L.useContext(zn).static||L.useLayoutEffect(n)}function Jr(){let{isDataRoute:n}=L.useContext(Er);return n?lT():YE()}function YE(){tt(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(Go),{basename:e,navigator:t}=L.useContext(zn),{matches:s}=L.useContext(Er),{pathname:o}=$n(),l=JSON.stringify(kf(s)),c=L.useRef(!1);return s_(()=>{c.current=!0}),L.useCallback((m,v={})=>{if(Un(c.current,r_),!c.current)return;if(typeof m=="number"){t.go(m);return}let w=Af(m,JSON.parse(l),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:qr([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,l,o,n])}L.createContext(null);function El(n,{relative:e}={}){let{matches:t}=L.useContext(Er),{pathname:s}=$n(),o=JSON.stringify(kf(t));return L.useMemo(()=>Af(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function XE(n,e){return i_(n,e)}function i_(n,e,t,s,o){tt(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=L.useContext(zn),{matches:c}=L.useContext(Er),p=c[c.length-1],m=p?p.params:{},v=p?p.pathname:"/",w=p?p.pathnameBase:"/",E=p&&p.route;{let W=E&&E.path||"";o_(v,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let I=$n(),j;if(e){let W=typeof e=="string"?Wo(e):e;tt(w==="/"||W.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${W.pathname}" was given in the \`location\` prop.`),j=W}else j=I;let $=j.pathname||"/",F=$;if(w!=="/"){let W=w.replace(/^\//,"").split("/");F="/"+$.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=Jv(n,{pathname:F});Un(E||V!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Un(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=nT(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:qr([w,l.encodeLocation?l.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?w:qr([w,l.encodeLocation?l.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),c,t,s,o);return e&&G?L.createElement(xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},G):G}function JE(){let n=aT(),e=qE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,c)}var ZE=L.createElement(JE,null),eT=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?L.createElement(Er.Provider,{value:this.props.routeContext},L.createElement(Rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tT({routeContext:n,match:e,children:t}){let s=L.useContext(Go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Er.Provider,{value:n},t)}function nT(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let p=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let w=l[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:E,errors:I}=t,j=w.route.loader&&!E.hasOwnProperty(w.route.id)&&(!I||I[w.route.id]===void 0);if(w.route.lazy||j){p=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((v,w,E)=>{let I,j=!1,$=null,F=null;t&&(I=c&&w.route.id?c[w.route.id]:void 0,$=w.route.errorElement||ZE,p&&(m<0&&E===0?(o_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,F=null):m===E&&(j=!0,F=w.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,E+1)),G=()=>{let W;return I?W=$:j?W=F:w.route.Component?W=L.createElement(w.route.Component,null):w.route.element?W=w.route.element:W=v,L.createElement(tT,{match:w,routeContext:{outlet:v,matches:V,isDataRoute:t!=null},children:W})};return t&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?L.createElement(eT,{location:t.location,revalidation:t.revalidation,component:$,error:I,children:G(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:s}):G()},null)}function Pf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(n){let e=L.useContext(Go);return tt(e,Pf(n)),e}function sT(n){let e=L.useContext(Mc);return tt(e,Pf(n)),e}function iT(n){let e=L.useContext(Er);return tt(e,Pf(n)),e}function jf(n){let e=iT(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oT(){return jf("useRouteId")}function aT(){let n=L.useContext(Rf),e=sT("useRouteError"),t=jf("useRouteError");return n!==void 0?n:e.errors?.[t]}function lT(){let{router:n}=rT("useNavigate"),e=jf("useNavigate"),t=L.useRef(!1);return s_(()=>{t.current=!0}),L.useCallback(async(o,l={})=>{Un(t.current,r_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var ly={};function o_(n,e,t){!e&&!ly[n]&&(ly[n]=!0,Un(!1,t))}L.memo(uT);function uT({routes:n,future:e,state:t,unstable_onError:s}){return i_(n,void 0,t,s,e)}function uy({to:n,replace:e,state:t,relative:s}){tt(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(zn);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(Er),{pathname:c}=$n(),p=Jr(),m=Af(n,kf(l),c,s==="path"),v=JSON.stringify(m);return L.useEffect(()=>{p(JSON.parse(v),{replace:e,state:t,relative:s})},[p,v,s,e,t]),null}function zt(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cT({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){tt(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Wo(t));let{pathname:m="/",search:v="",hash:w="",state:E=null,key:I="default"}=t,j=L.useMemo(()=>{let $=Gr(m,c);return $==null?null:{location:{pathname:$,search:v,hash:w,state:E,key:I},navigationType:s}},[c,m,v,w,E,I,s]);return Un(j!=null,`<Router basename="${c}"> is not able to match the URL "${m}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:L.createElement(zn.Provider,{value:p},L.createElement(xl.Provider,{children:e,value:j}))}function hT({children:n,location:e}){return XE(Zd(n),e)}function Zd(n,e=[]){let t=[];return L.Children.forEach(n,(s,o)=>{if(!L.isValidElement(s))return;let l=[...e,o];if(s.type===L.Fragment){t.push.apply(t,Zd(s.props.children,l));return}tt(s.type===zt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Zd(s.props.children,l)),t.push(c)}),t}var oc="get",ac="application/x-www-form-urlencoded";function Fc(n){return n!=null&&typeof n.tagName=="string"}function dT(n){return Fc(n)&&n.tagName.toLowerCase()==="button"}function fT(n){return Fc(n)&&n.tagName.toLowerCase()==="form"}function pT(n){return Fc(n)&&n.tagName.toLowerCase()==="input"}function mT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gT(n,e){return n.button===0&&(!e||e==="_self")&&!mT(n)}var Xu=null;function yT(){if(Xu===null)try{new FormData(document.createElement("form"),0),Xu=!1}catch{Xu=!0}return Xu}var vT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(n){return n!=null&&!vT.has(n)?(Un(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ac}"`),null):n}function _T(n,e){let t,s,o,l,c;if(fT(n)){let p=n.getAttribute("action");s=p?Gr(p,e):null,t=n.getAttribute("method")||oc,o=Od(n.getAttribute("enctype"))||ac,l=new FormData(n)}else if(dT(n)||pT(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||p.getAttribute("action");if(s=m?Gr(m,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||oc,o=Od(n.getAttribute("formenctype"))||Od(p.getAttribute("enctype"))||ac,l=new FormData(p,n),!yT()){let{name:v,type:w,value:E}=n;if(w==="image"){let I=v?`${v}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else v&&l.append(v,E)}}else{if(Fc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=oc,s=null,o=ac,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Df(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wT(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Gr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function xT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ET(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function TT(n,e,t){let s=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await xT(l,t);return c.links?c.links():[]}return[]}));return NT(s.flat(1).filter(ET).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cy(n,e,t,s,o,l){let c=(m,v)=>t[v]?m.route.id!==t[v].route.id:!0,p=(m,v)=>t[v].pathname!==m.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,v)=>c(m,v)||p(m,v)):l==="data"?e.filter((m,v)=>{let w=s.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(c(m,v)||p(m,v))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function IT(n,e,{includeHydrateFallback:t}={}){return ST(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function ST(n){return[...new Set(n)]}function bT(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function NT(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let l=JSON.stringify(bT(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function a_(){let n=L.useContext(Go);return Df(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function CT(){let n=L.useContext(Mc);return Df(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vf=L.createContext(void 0);Vf.displayName="FrameworkContext";function l_(){let n=L.useContext(Vf);return Df(n,"You must render this element inside a <HydratedRouter> element"),n}function kT(n,e){let t=L.useContext(Vf),[s,o]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:v,onMouseLeave:w,onTouchStart:E}=e,I=L.useRef(null);L.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let F=G=>{G.forEach(W=>{c(W.isIntersecting)})},V=new IntersectionObserver(F,{threshold:.5});return I.current&&V.observe(I.current),()=>{V.disconnect()}}},[n]),L.useEffect(()=>{if(s){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[s]);let j=()=>{o(!0)},$=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,I,{}]:[l,I,{onFocus:Xa(p,j),onBlur:Xa(m,$),onMouseEnter:Xa(v,j),onMouseLeave:Xa(w,$),onTouchStart:Xa(E,j)}]:[!1,I,{}]}function Xa(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function AT({page:n,...e}){let{router:t}=a_(),s=L.useMemo(()=>Jv(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?L.createElement(PT,{page:n,matches:s,...e}):null}function RT(n){let{manifest:e,routeModules:t}=l_(),[s,o]=L.useState([]);return L.useEffect(()=>{let l=!1;return TT(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),s}function PT({page:n,matches:e,...t}){let s=$n(),{manifest:o,routeModules:l}=l_(),{basename:c}=a_(),{loaderData:p,matches:m}=CT(),v=L.useMemo(()=>cy(n,e,m,o,s,"data"),[n,e,m,o,s]),w=L.useMemo(()=>cy(n,e,m,o,s,"assets"),[n,e,m,o,s]),E=L.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let $=new Set,F=!1;if(e.forEach(G=>{let W=o.routes[G.route.id];!W||!W.hasLoader||(!v.some(Q=>Q.route.id===G.route.id)&&G.route.id in p&&l[G.route.id]?.shouldRevalidate||W.hasClientLoader?F=!0:$.add(G.route.id))}),$.size===0)return[];let V=wT(n,c,"data");return F&&$.size>0&&V.searchParams.set("_routes",e.filter(G=>$.has(G.route.id)).map(G=>G.route.id).join(",")),[V.pathname+V.search]},[c,p,s,o,v,e,n,l]),I=L.useMemo(()=>IT(w,o),[w,o]),j=RT(w);return L.createElement(L.Fragment,null,E.map($=>L.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...t})),I.map($=>L.createElement("link",{key:$,rel:"modulepreload",href:$,...t})),j.map(({key:$,link:F})=>L.createElement("link",{key:$,nonce:t.nonce,...F})))}function jT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var u_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u_&&(window.__reactRouterVersion="7.9.2")}catch{}function DT({basename:n,children:e,window:t}){let s=L.useRef();s.current==null&&(s.current=EE({window:t,v5Compat:!0}));let o=s.current,[l,c]=L.useState({action:o.action,location:o.location}),p=L.useCallback(m=>{L.startTransition(()=>c(m))},[c]);return L.useLayoutEffect(()=>o.listen(p),[o,p]),L.createElement(cT,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var c_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=L.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:p,target:m,to:v,preventScrollReset:w,viewTransition:E,...I},j){let{basename:$}=L.useContext(zn),F=typeof v=="string"&&c_.test(v),V,G=!1;if(typeof v=="string"&&F&&(V=v,u_))try{let b=new URL(window.location.href),k=v.startsWith("//")?new URL(b.protocol+v):new URL(v),A=Gr(k.pathname,$);k.origin===b.origin&&A!=null?v=A+k.search+k.hash:G=!0}catch{Un(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=QE(v,{relative:o}),[Q,ie,ve]=kT(s,I),te=MT(v,{replace:c,state:p,target:m,preventScrollReset:w,relative:o,viewTransition:E});function R(b){e&&e(b),b.defaultPrevented||te(b)}let S=L.createElement("a",{...I,...ve,href:V||W,onClick:G||l?e:R,ref:jT(j,ie),target:m,"data-discover":!F&&t==="render"?"true":void 0});return Q&&!F?L.createElement(L.Fragment,null,S,L.createElement(AT,{page:W})):S});Tt.displayName="Link";var VT=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:p,children:m,...v},w){let E=El(c,{relative:v.relative}),I=$n(),j=L.useContext(Mc),{navigator:$,basename:F}=L.useContext(zn),V=j!=null&&$T(E)&&p===!0,G=$.encodeLocation?$.encodeLocation(E).pathname:E.pathname,W=I.pathname,Q=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;t||(W=W.toLowerCase(),Q=Q?Q.toLowerCase():null,G=G.toLowerCase()),Q&&F&&(Q=Gr(Q,F)||Q);const ie=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ve=W===G||!o&&W.startsWith(G)&&W.charAt(ie)==="/",te=Q!=null&&(Q===G||!o&&Q.startsWith(G)&&Q.charAt(G.length)==="/"),R={isActive:ve,isPending:te,isTransitioning:V},S=ve?e:void 0,b;typeof s=="function"?b=s(R):b=[s,ve?"active":null,te?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(R):l;return L.createElement(Tt,{...v,"aria-current":S,className:b,ref:w,style:k,to:c,viewTransition:p},typeof m=="function"?m(R):m)});VT.displayName="NavLink";var OT=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=oc,action:p,onSubmit:m,relative:v,preventScrollReset:w,viewTransition:E,...I},j)=>{let $=BT(),F=zT(p,{relative:v}),V=c.toLowerCase()==="get"?"get":"post",G=typeof p=="string"&&c_.test(p),W=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let ie=Q.nativeEvent.submitter,ve=ie?.getAttribute("formmethod")||c;$(ie||Q.currentTarget,{fetcherKey:e,method:ve,navigate:t,replace:o,state:l,relative:v,preventScrollReset:w,viewTransition:E})};return L.createElement("form",{ref:j,method:V,action:F,onSubmit:s?m:W,...I,"data-discover":!G&&n==="render"?"true":void 0})});OT.displayName="Form";function LT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(n){let e=L.useContext(Go);return tt(e,LT(n)),e}function MT(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let p=Jr(),m=$n(),v=El(n,{relative:l});return L.useCallback(w=>{if(gT(w,e)){w.preventDefault();let E=t!==void 0?t:hl(m)===hl(v);p(n,{replace:E,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[m,p,v,t,s,e,n,o,l,c])}var FT=0,UT=()=>`__${String(++FT)}__`;function BT(){let{router:n}=h_("useSubmit"),{basename:e}=L.useContext(zn),t=oT();return L.useCallback(async(s,o={})=>{let{action:l,method:c,encType:p,formData:m,body:v}=_T(s,e);if(o.navigate===!1){let w=o.fetcherKey||UT();await n.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||c,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||c,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function zT(n,{relative:e}={}){let{basename:t}=L.useContext(zn),s=L.useContext(Er);tt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...El(n||".",{relative:e})},c=$n();if(n==null){l.search=c.search;let p=new URLSearchParams(l.search),m=p.getAll("index");if(m.some(w=>w==="")){p.delete("index"),m.filter(E=>E).forEach(E=>p.append("index",E));let w=p.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:qr([t,l.pathname])),hl(l)}function $T(n,{relative:e}={}){let t=L.useContext(n_);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=h_("useViewTransitionState"),o=El(n,{relative:e});if(!t.isTransitioning)return!1;let l=Gr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Gr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return vc(o.pathname,c)!=null||vc(o.pathname,l)!=null}const HT="/assets/fnd-B8xR8oYh.png",qT=({text:n,className:e="",animationDelayStep:t=.1})=>d.jsx("span",{className:`font-extrabold ${e}`,style:{display:"block"},children:n.split("").map((s,o)=>d.jsx("span",{className:"inline-block letter-wave",style:{animationDelay:`${o*t}s`,animationPlayState:"running"},children:s===" "?" ":s},o))});function WT(){const[n,e]=L.useState(!0);return L.useEffect(()=>{const t=setTimeout(()=>e(!1),2500);return()=>clearTimeout(t)},[]),d.jsxs("div",{children:[n&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pointer-events-none",children:cl.createElement("dotlottie-wc",{src:"https://lottie.host/81653027-58d6-47e3-9de5-491db6a527a5/TWNyD5vQVe.lottie",style:{width:"150px",height:"150px",opacity:.3},autoplay:!0,loop:!0})}),d.jsx("div",{className:"relative min-h-screen gradient-bg-warm",children:d.jsxs("div",{className:"relative z-20 pt-[80px]",children:[d.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:d.jsxs("div",{className:"text-center mb-16 px-6",children:[d.jsx("h2",{className:"text-5xl font-serif vibrant-text mb-8 font-bold",children:d.jsx(qT,{text:"Bee Bridge",animationDelayStep:.1})}),d.jsx("p",{className:"text-xl text-honeybee-dark max-w-2xl mx-auto mb-10 font-medium",children:"We're the bridge between the farmer's field, the beekeeper's hive, to the honey in your home."}),d.jsxs("div",{className:"flex justify-center gap-6",children:[d.jsx(Tt,{to:"/shop",className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Shop Now"}),d.jsx(Tt,{to:"/about",className:"glass-effect bright-border text-honeybee-dark hover:bg-honeybee-primary hover:text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Learn More"})]})]})}),d.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-10 text-center",children:"Connecting Farmers and Consumers"}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[d.jsx("img",{src:HT,alt:"Farmers and Consumers",className:"w-full md:w-1/2 h-64 md:h-80 object-cover rounded-lg shadow-lg"}),d.jsx("p",{className:"text-lg text-honeybee-dark-brown max-w-xl",children:"Our platform bridges the gap between farmers and consumers, ensuring fresh, organic produce reaches your table directly from the source or become a seller through our marketplace and sell/rent the bee colonies."})]})]})]})}),d.jsx("div",{className:"text-center mb-8",children:d.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-6 text-center",children:"Service"})}),d.jsx("section",{className:"py-20 bg-white",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-0",children:[d.jsx("video",{src:"/assets/cart-animated-icon-gif-download-10270594.mp4",autoPlay:!0,loop:!0,muted:!0,controls:!1,className:"w-24 h-24 md:w-48 md:h-48"}),d.jsx("div",{className:"mx-4 md:mx-8",children:d.jsx("svg",{className:"w-8 h-8 md:w-12 md:h-12 text-black",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),d.jsx("video",{src:"/assets/payment-complete-animation-gif-download-4281059.mp4",autoPlay:!0,loop:!0,muted:!0,controls:!1,className:"w-24 h-24 md:w-48 md:h-48"}),d.jsx("div",{className:"mx-4 md:mx-8",children:d.jsx("svg",{className:"w-8 h-8 md:w-12 md:h-12 text-black",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),d.jsx("video",{src:"/assets/delivery-animation-gif-download-3434735.mp4",autoPlay:!0,loop:!0,muted:!0,controls:!1,className:"w-24 h-24 md:w-48 md:h-48"}),d.jsx("div",{className:"mx-4 md:mx-8",children:d.jsx("svg",{className:"w-8 h-8 md:w-12 md:h-12 text-black",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),d.jsx("video",{src:"/assets/2.mp4",autoPlay:!0,loop:!0,muted:!0,controls:!1,className:"w-24 h-24 md:w-48 md:h-48"})]})})}),d.jsx("section",{className:"py-20 bg-white",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-6 text-center",children:"Featured Products"}),d.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover our selection of premium organic honey products, harvested with care and love."})]}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-gray-500",children:"[Product images and links will be displayed here.]"})})]})}),d.jsx("section",{className:"py-20 bg-honeybee-light",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsx("div",{className:"text-center mb-16",children:d.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-6 text-center",children:"Our Story"})}),d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"At Honybee, our journey began with a deep appreciation for the delicate balance of nature and the hardworking bees that produce nature's golden elixir. We source our honey from sustainable apiaries across the globe, partnering with passionate beekeepers who prioritize environmental stewardship and ethical practices. Each harvest is done with care and love, ensuring that our products not only delight the senses but also support biodiversity and local communities. From the sun-drenched meadows of Europe to the wild landscapes of North America, our commitment to purity and sustainability shines through in every jar. Join us in savoring the authentic taste of organic honey, harvested with respect for the earth and its pollinators."}),d.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"As you explore our collection, you'll feel the warmth of our dedication to quality and the joy of connecting with nature's bounty. We're more than just a marketplace; we're a community united by the love of honey and the bees that make it possible."})]})]})})]})}const GT=()=>d.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"About Bee Bridge"}),d.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"Our passion for honey is rooted in a deep respect for nature and the incredible work of bees."})]}),d.jsxs("div",{className:"mt-20 grid md:grid-cols-2 gap-16 items-center",children:[d.jsx("div",{children:d.jsx("img",{src:"https://static.vecteezy.com/system/resources/thumbnails/004/454/157/small_2x/honey-can-realistic-composition-vector.jpg",alt:"Beekeeper",className:"rounded-lg shadow-lg"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-serif font-bold mb-4",children:"Our Story"}),d.jsx("p",{className:"mb-4",children:"Bee Bridge was founded with a simple mission: to bring the purest, most delicious honey from our hives to your home. We believe in sustainable beekeeping practices that prioritize the health of our bees and the environment."}),d.jsx("p",{children:"Our farms are dedicated to sustainable practices, and through our website, we connect consumers directly with the source, fostering transparency and trust in every jar of honey."})]})]}),d.jsxs("div",{className:"mt-20 text-center",children:[d.jsx("h2",{className:"text-3xl font-serif font-bold mb-8",children:"Our Values"}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[d.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[d.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Sustainability"}),d.jsx("p",{children:"We are committed to protecting our planet and its precious pollinators."})]}),d.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[d.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Quality"}),d.jsx("p",{children:"We deliver only the finest, 100% pure and raw honey."})]}),d.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[d.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Community"}),d.jsx("p",{children:"We support local beekeepers and educate our community about the importance of bees."})]})]})]})]})}),KT={primary:"gradient-bg-primary hover:shadow-2xl text-black hover:text-black border-0 modern-shadow-hover transform hover:scale-105",secondary:"bg-honeybee-secondary hover:bg-honeybee-accent text-white modern-shadow-hover",accent:"gradient-bg-accent hover:shadow-xl text-white modern-shadow-hover transform hover:scale-105",ghost:"hover:bg-gray-100/10 text-honeybee-primary hover:text-honeybee-accent",light:"glass-effect text-honeybee-dark hover:bg-honeybee-primary hover:text-black modern-shadow-hover"},QT={default:"py-3 px-6",icon:"h-10 w-10"},qt=({children:n,variant:e="primary",size:t="default",className:s="",onClick:o,...l})=>{const[c,p]=L.useState(!1),[m,v]=L.useState({}),w=E=>{const j=E.currentTarget.getBoundingClientRect(),$=Math.max(j.width,j.height),F=E.clientX-j.left-$/2,V=E.clientY-j.top-$/2;v({width:$,height:$,left:F,top:V}),p(!0),setTimeout(()=>p(!1),600),o&&o(E)};return d.jsxs("button",{className:`relative overflow-hidden rounded-lg shadow-lg transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1) focus:outline-none focus:ring-4 focus:ring-honeybee-accent ${KT[e]} ${QT[t]} ${s}`,onClick:w,...l,children:[n,c&&d.jsx("span",{className:"button-ripple absolute",style:m})]})},YT=()=>d.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"Contact Us"}),d.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"We'd love to hear from you! Whether you have a question about our products, our practices, or anything else, our team is ready to answer all your questions."})]}),d.jsxs("div",{className:"mt-20 grid md:grid-cols-2 gap-16",children:[d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-serif font-bold mb-6",children:"Send us a message"}),d.jsxs("form",{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Name"}),d.jsx("input",{type:"text",id:"name",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-md focus:ring-2 focus:ring-honeybee-primary focus:border-honeybee-primary bg-white"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),d.jsx("input",{type:"email",id:"email",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-md focus:ring-2 focus:ring-honeybee-primary focus:border-honeybee-primary bg-white"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-1",children:"Message"}),d.jsx("textarea",{id:"message",rows:4,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-md focus:ring-2 focus:ring-honeybee-primary focus:border-honeybee-primary bg-white"})]}),d.jsx(qt,{type:"submit",variant:"primary",className:"w-full",children:"Send Message"})]})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Email Us"}),d.jsx("p",{children:"beebridgeshop@gmail.com"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Call Us"}),d.jsx("p",{children:"(123) 456-7890"})]})]})]})]})}),d_=L.createContext(void 0),Tl=()=>{const n=L.useContext(d_);if(!n)throw new Error("useCart must be used within a CartProvider");return n},XT=({children:n})=>{const[e,t]=L.useState([]),s=m=>{const v=m.name.includes("Subscription Plan"),w=e.some(E=>E.name.includes("Subscription Plan"));if(v)t([{...m,quantity:1}]);else{if(w)return;t(E=>E.find(j=>j.id===m.id)?E.map(j=>j.id===m.id?{...j,quantity:j.quantity+1}:j):[...E,{...m,quantity:1}])}},o=m=>{t(v=>v.filter(w=>w.id!==m))},l=(m,v)=>{if(v<=0){o(m);return}t(w=>w.map(E=>E.id===m?{...E,quantity:v}:E))},c=()=>{t([])},p=()=>e.reduce((m,v)=>{const w=parseFloat(v.price.replace(/[$₹]/g,""));return m+w*v.quantity},0);return d.jsx(d_.Provider,{value:{cartItems:e,addToCart:s,removeFromCart:o,updateQuantity:l,clearCart:c,getTotal:p},children:n})},JT=[{id:1,name:"Wildflower Honey",price:"₹399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Pure organic honey from wildflower meadows"},{id:2,name:"Acacia Honey",price:"₹499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Light and delicate honey with subtle floral notes"},{id:3,name:"Manuka Honey",price:"₹599",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Premium therapeutic honey from New Zealand"},{id:4,name:"Honeycomb",price:"₹799",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Raw honeycomb straight from our sustainable apiaries"},{id:5,name:"Clover Honey",price:"₹399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"A classic, mild honey perfect for everyday use."},{id:6,name:"Lavender Honey",price:"₹499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Infused with the calming aroma of lavender blossoms."}],ZT=()=>{const{addToCart:n}=Tl(),e=t=>{n(t)};return d.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"Our Honey Selection"}),d.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"Explore our collection of premium, all-natural honey. Each jar is a testament to the hard work of our bees and the richness of the land they forage."})]}),d.jsx("div",{className:"mt-16 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:JT.map(t=>d.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition duration-300",children:[d.jsx("div",{className:"h-56 overflow-hidden",children:d.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transform hover:scale-105 transition duration-500"})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-medium text-honeybee-secondary",children:t.name}),d.jsx("p",{className:"text-honeybee-dark-brown mt-2 text-sm",children:t.description}),d.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[d.jsx("span",{className:"text-black font-bold",children:t.price}),d.jsx("button",{onClick:()=>e(t),className:"bg-honeybee-primary hover:bg-honeybee-accent text-white rounded-full p-2 transition duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})]},t.id))})]})})},f_="/assets/congratulation-DMocTdUx.gif",e1=()=>{const{cartItems:n,getTotal:e,removeFromCart:t}=Tl(),[s,o]=L.useState(1),[l,c]=L.useState(""),[p,m]=L.useState(0),[v,w]=L.useState(""),[E,I]=L.useState(!1),[j,$]=L.useState({email:"",signUp:!1}),[F,V]=L.useState({firstName:"",lastName:"",company:"",address:"",apartment:"",city:"",country:"",state:"",zip:"",phone:""}),G=n.every(Ne=>Ne.name.includes("Subscription Plan")),W=e(),Q=W-W*p,ie={HONEY10:.1,BEE20:.2,OFFER:.1},ve=()=>{const Ne=l.toUpperCase();ie[Ne]?(m(ie[Ne]),w(""),I(!0),setTimeout(()=>I(!1),3e3)):(m(0),w("Invalid coupon code"))},te=()=>{},R=()=>{G?s<3&&o(s+1):s<4&&o(s+1)},S=()=>{s>1&&o(s-1)},b=Ne=>{const{name:He,value:se,type:pe,checked:le}=Ne.target;$(M=>({...M,[He]:pe==="checkbox"?le:se}))},k=Ne=>{const{name:He,value:se}=Ne.target;V(pe=>({...pe,[He]:se}))},A=()=>null,O=()=>d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Contact information"}),d.jsx("input",{type:"email",name:"email",value:j.email,onChange:b,placeholder:"Email",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsxs("label",{className:"inline-flex items-center text-sm mb-4",children:[d.jsx("input",{type:"checkbox",name:"signUp",checked:j.signUp,onChange:b,className:"form-checkbox text-purple-700"}),d.jsx("span",{className:"ml-2",children:"Sign up for exclusive offers and news via text messages & email."})]}),d.jsx("div",{className:"flex justify-between",children:d.jsx("button",{onClick:R,className:"bg-black text-white py-2 px-4 rounded hover:bg-gray-800 transition",children:G?"Continue to payment":"Continue to shipping"})})]}),C=()=>d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Shipping address"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[d.jsx("input",{type:"text",name:"firstName",value:F.firstName,onChange:k,placeholder:"First name",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsx("input",{type:"text",name:"lastName",value:F.lastName,onChange:k,placeholder:"Last name",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"})]}),d.jsx("input",{type:"text",name:"company",value:F.company,onChange:k,placeholder:"Company (optional)",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsx("input",{type:"text",name:"address",value:F.address,onChange:k,placeholder:"Address",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsx("input",{type:"text",name:"apartment",value:F.apartment,onChange:k,placeholder:"Apartment, suite, etc. (optional)",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsx("input",{type:"text",name:"city",value:F.city,onChange:k,placeholder:"City",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-2",children:[d.jsxs("select",{name:"country",value:F.country,onChange:k,className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700",children:[d.jsx("option",{value:"",children:"Country/region"}),d.jsx("option",{value:"United States",children:"United States"}),d.jsx("option",{value:"Canada",children:"Canada"})]}),d.jsxs("select",{name:"state",value:F.state,onChange:k,className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700",children:[d.jsx("option",{value:"",children:"State"}),d.jsx("option",{value:"State",children:"State"})]}),d.jsx("input",{type:"text",name:"zip",value:F.zip,onChange:k,placeholder:"ZIP code",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"})]}),d.jsx("input",{type:"text",name:"phone",value:F.phone,onChange:k,placeholder:"Phone number for shipping updates and offers (optional)",className:"w-full border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("button",{onClick:S,className:"underline text-purple-700",children:"Return to cart"}),d.jsx("button",{onClick:R,className:"bg-black text-white py-2 px-4 rounded hover:bg-gray-800 transition",children:"Choose shipping method"})]})]}),ke=()=>d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Payment"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"coupon",className:"block font-semibold mb-1",children:"Gift card or discount code"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{id:"coupon",type:"text",value:l,onChange:Ne=>c(Ne.target.value),placeholder:"Enter coupon code",className:"flex-grow border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsx("button",{onClick:ve,className:"bg-gray-300 px-4 rounded hover:bg-gray-400 transition",children:"Apply"})]}),v&&d.jsx("p",{className:"text-red-600 mt-1",children:v})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"flex justify-between font-semibold",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["₹",W.toFixed(2)]})]}),d.jsxs("p",{className:"flex justify-between font-semibold",children:[d.jsx("span",{children:"Shipping"}),d.jsx("span",{children:"Calculated at next step"})]}),d.jsxs("p",{className:"flex justify-between font-bold text-lg",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["₹",Q.toFixed(2)]})]})]}),d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("button",{className:"bg-white border border-gray-300 rounded flex items-center justify-center py-3 px-6 hover:bg-gray-100 transition",children:d.jsx("img",{src:"https://5.imimg.com/data5/SELLER/Default/2023/9/348603242/KE/OR/XP/29083784/razorpay-software-250x250.png",alt:"Razorpay",className:"h-16 w-auto"})})}),d.jsx(qt,{onClick:te,variant:"primary",className:"w-full",children:"Place Order"}),d.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[d.jsx("p",{children:"Refund policy"}),d.jsx("p",{children:"Shipping policy"}),d.jsx("p",{children:"I consent to receive recurring automated marketing by text message through an automatic telephone dialing system. Consent is not a condition to purchase. STOP to cancel. HELP for help. Message and Data rates may apply. View Privacy Policy & TOS"}),d.jsx("p",{children:"Terms of service"})]})]}),Ge=()=>d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Your cart"}),n.length===0?d.jsx("p",{children:"Your cart is empty"}):d.jsxs(d.Fragment,{children:[n.map(Ne=>d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[!Ne.name.includes("Subscription Plan")&&d.jsx("img",{src:Ne.image,alt:Ne.name,className:"w-8 h-8 object-cover rounded"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-semibold",children:Ne.name}),d.jsxs("p",{className:"text-xs text-gray-600",children:["Quantity: ",Ne.quantity]})]}),d.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[d.jsxs("p",{className:"font-semibold",children:["₹",(parseFloat(Ne.price.replace(/[$₹]/g,""))*Ne.quantity).toFixed(2)]}),d.jsx("button",{onClick:()=>t(Ne.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete item",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},Ne.id)),d.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-2",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["₹",W.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-2",children:[d.jsx("span",{children:"Shipping"}),d.jsx("span",{children:"Calculated at next step"})]}),d.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-gray-300 pt-2",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["₹",Q.toFixed(2)]})]})]})]});return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"max-w-6xl mx-auto p-6 grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"md:col-span-2 bg-white rounded-lg shadow-lg p-6",children:[d.jsx("nav",{className:"text-sm mb-6",children:d.jsxs("ol",{className:"list-reset flex text-gray-600 space-x-2",children:[d.jsxs("li",{children:["Cart ",">"]}),d.jsxs("li",{className:s===1?"font-bold":"",children:["Information ",">"]}),!G&&d.jsxs("li",{className:s===2?"font-bold":"",children:["Shipping ",">"]}),d.jsx("li",{className:s===(G?2:3)?"font-bold":"",children:"Payment"})]})}),s===1&&d.jsxs(d.Fragment,{children:[A(),d.jsx("hr",{className:"my-4"}),O()]}),s===2&&!G&&C(),s===2&&G&&ke(),s===3&&!G&&ke()]}),d.jsx("div",{className:"md:col-span-1",children:Ge()})]}),E&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:d.jsx("img",{src:f_,alt:"Congratulations",className:"w-96 h-96 object-cover rounded-lg shadow-2xl"})})]})},t1=()=>{};var hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},n1=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],p=n[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},m_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,p=c?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,w=l>>2,E=(l&3)<<4|p>>4;let I=(p&15)<<2|v>>6,j=v&63;m||(j=64,c||(I=64)),s.push(t[w],t[E],t[I],t[j])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(p_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):n1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||p==null||v==null||E==null)throw new r1;const I=l<<2|p>>4;if(s.push(I),v!==64){const j=p<<4&240|v>>2;if(s.push(j),E!==64){const $=v<<6&192|E;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s1=function(n){const e=p_(n);return m_.encodeByteArray(e,!0)},_c=function(n){return s1(n).replace(/\./g,"")},g_=function(n){try{return m_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=()=>i1().__FIREBASE_DEFAULTS__,a1=()=>{if(typeof process>"u"||typeof hy>"u")return;const n=hy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},l1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&g_(n[1]);return e&&JSON.parse(e)},Uc=()=>{try{return t1()||o1()||a1()||l1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},y_=n=>Uc()?.emulatorHosts?.[n],v_=n=>{const e=y_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},__=()=>Uc()?.config,w_=n=>Uc()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Of(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[_c(JSON.stringify(t)),_c(JSON.stringify(c)),""].join(".")}const rl={};function c1(){const n={prod:[],emulator:[]};for(const e of Object.keys(rl))rl[e]?n.emulator.push(e):n.prod.push(e);return n}function h1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let dy=!1;function Lf(n,e){if(typeof window>"u"||typeof document>"u"||!Ks(window.location.host)||rl[n]===e||rl[n]||dy)return;rl[n]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",l=c1().prod.length>0;function c(){const I=document.getElementById(s);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function m(I,j){I.setAttribute("width","24"),I.setAttribute("id",j),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{dy=!0,c()},I}function w(I,j){I.setAttribute("id",j),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=h1(s),j=t("text"),$=document.getElementById(j)||document.createElement("span"),F=t("learnmore"),V=document.getElementById(F)||document.createElement("a"),G=t("preprendIcon"),W=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const Q=I.element;p(Q),w(V,F);const ie=v();m(W,G),Q.append(W,$,V,ie),document.body.appendChild(Q)}l?($.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function f1(){const n=Uc()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function g1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y1(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function v1(){return!f1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _1(){try{return typeof indexedDB=="object"}catch{return!1}}function w1(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="FirebaseError";class Tr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=x1,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?E1(l,s):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new Tr(o,p,s)}}function E1(n,e){return n.replace(T1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const T1=/\{\$([^}]+)}/g;function I1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ri(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],c=e[o];if(fy(l)&&fy(c)){if(!Ri(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function fy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function S1(n,e){const t=new b1(n,e);return t.subscribe.bind(t)}class b1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");N1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(n){return n&&n._delegate?n._delegate:n}class Us{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new u1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A1(e))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Si){return this.instances.has(e)}getOptions(e=Si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:k1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Si){return this.component?this.component.multipleInstances?e:Si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k1(n){return n===Si?void 0:n}function A1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new C1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pe||(Pe={}));const P1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},j1=Pe.INFO,D1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},V1=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=D1[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mf{constructor(e){this.name=e,this._logLevel=j1,this._logHandler=V1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const O1=(n,e)=>e.some(t=>n instanceof t);let py,my;function L1(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M1(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,ef=new WeakMap,T_=new WeakMap,Md=new WeakMap,Ff=new WeakMap;function F1(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Os(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&E_.set(t,n)}).catch(()=>{}),Ff.set(e,n),e}function U1(n){if(ef.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ef.set(n,e)}let tf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ef.get(n);if(e==="objectStoreNames")return n.objectStoreNames||T_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function B1(n){tf=n(tf)}function z1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Fd(this),e,...t);return T_.set(s,e.sort?e.sort():[e]),Os(s)}:M1().includes(n)?function(...e){return n.apply(Fd(this),e),Os(E_.get(this))}:function(...e){return Os(n.apply(Fd(this),e))}}function $1(n){return typeof n=="function"?z1(n):(n instanceof IDBTransaction&&U1(n),O1(n,L1())?new Proxy(n,tf):n)}function Os(n){if(n instanceof IDBRequest)return F1(n);if(Md.has(n))return Md.get(n);const e=$1(n);return e!==n&&(Md.set(n,e),Ff.set(e,n)),e}const Fd=n=>Ff.get(n);function H1(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),p=Os(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Os(c.result),m.oldVersion,m.newVersion,Os(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const q1=["get","getKey","getAll","getAllKeys","count"],W1=["put","add","delete","clear"],Ud=new Map;function gy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=W1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||q1.includes(t)))return;const l=async function(c,...p){const m=this.transaction(c,o?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[t](...p),o&&m.done]))[0]};return Ud.set(e,l),l}B1(n=>({...n,get:(e,t,s)=>gy(e,t)||n.get(e,t,s),has:(e,t)=>!!gy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(K1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function K1(n){return n.getComponent()?.type==="VERSION"}const nf="@firebase/app",yy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Mf("@firebase/app"),Q1="@firebase/app-compat",Y1="@firebase/analytics-compat",X1="@firebase/analytics",J1="@firebase/app-check-compat",Z1="@firebase/app-check",eI="@firebase/auth",tI="@firebase/auth-compat",nI="@firebase/database",rI="@firebase/data-connect",sI="@firebase/database-compat",iI="@firebase/functions",oI="@firebase/functions-compat",aI="@firebase/installations",lI="@firebase/installations-compat",uI="@firebase/messaging",cI="@firebase/messaging-compat",hI="@firebase/performance",dI="@firebase/performance-compat",fI="@firebase/remote-config",pI="@firebase/remote-config-compat",mI="@firebase/storage",gI="@firebase/storage-compat",yI="@firebase/firestore",vI="@firebase/ai",_I="@firebase/firestore-compat",wI="firebase",xI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="[DEFAULT]",EI={[nf]:"fire-core",[Q1]:"fire-core-compat",[X1]:"fire-analytics",[Y1]:"fire-analytics-compat",[Z1]:"fire-app-check",[J1]:"fire-app-check-compat",[eI]:"fire-auth",[tI]:"fire-auth-compat",[nI]:"fire-rtdb",[rI]:"fire-data-connect",[sI]:"fire-rtdb-compat",[iI]:"fire-fn",[oI]:"fire-fn-compat",[aI]:"fire-iid",[lI]:"fire-iid-compat",[uI]:"fire-fcm",[cI]:"fire-fcm-compat",[hI]:"fire-perf",[dI]:"fire-perf-compat",[fI]:"fire-rc",[pI]:"fire-rc-compat",[mI]:"fire-gcs",[gI]:"fire-gcs-compat",[yI]:"fire-fst",[_I]:"fire-fst-compat",[vI]:"fire-vertex","fire-js":"fire-js",[wI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,TI=new Map,sf=new Map;function vy(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pi(n){const e=n.name;if(sf.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;sf.set(e,n);for(const t of wc.values())vy(t,n);for(const t of TI.values())vy(t,n);return!0}function Bc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new Il("app","Firebase",II);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=xI;function I_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:rf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ls.create("bad-app-name",{appName:String(o)});if(t||(t=__()),!t)throw Ls.create("no-options");const l=wc.get(o);if(l){if(Ri(t,l.options)&&Ri(s,l.config))return l;throw Ls.create("duplicate-app",{appName:o})}const c=new R1(o);for(const m of sf.values())c.addComponent(m);const p=new SI(t,s,c);return wc.set(o,p),p}function Uf(n=rf){const e=wc.get(n);if(!e&&n===rf&&__())return I_();if(!e)throw Ls.create("no-app",{appName:n});return e}function dr(n,e,t){let s=EI[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(c.join(" "));return}Pi(new Us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebase-heartbeat-database",NI=1,dl="firebase-heartbeat-store";let Bd=null;function S_(){return Bd||(Bd=H1(bI,NI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ls.create("idb-open",{originalErrorMessage:n.message})})),Bd}async function CI(n){try{const t=(await S_()).transaction(dl),s=await t.objectStore(dl).get(b_(n));return await t.done,s}catch(e){if(e instanceof Tr)Kr.warn(e.message);else{const t=Ls.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(t.message)}}}async function _y(n,e){try{const s=(await S_()).transaction(dl,"readwrite");await s.objectStore(dl).put(e,b_(n)),await s.done}catch(t){if(t instanceof Tr)Kr.warn(t.message);else{const s=Ls.create("idb-set",{originalErrorMessage:t?.message});Kr.warn(s.message)}}}function b_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1024,AI=30;class RI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>AI){const o=DI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wy(),{heartbeatsToSend:t,unsentEntries:s}=PI(this._heartbeatsCache.heartbeats),o=_c(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Kr.warn(e),""}}}function wy(){return new Date().toISOString().substring(0,10)}function PI(n,e=kI){const t=[];let s=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),xy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),xy(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class jI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _1()?w1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _y(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _y(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xy(n){return _c(JSON.stringify({version:2,heartbeats:n})).length}function DI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n){Pi(new Us("platform-logger",e=>new G1(e),"PRIVATE")),Pi(new Us("heartbeat",e=>new RI(e),"PRIVATE")),dr(nf,yy,n),dr(nf,yy,"esm2020"),dr("fire-js","")}VI("");function N_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OI=N_,C_=new Il("auth","Firebase",N_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Mf("@firebase/auth");function LI(n,...e){xc.logLevel<=Pe.WARN&&xc.warn(`Auth (${Li}): ${n}`,...e)}function lc(n,...e){xc.logLevel<=Pe.ERROR&&xc.error(`Auth (${Li}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(n,...e){throw zf(n,...e)}function Mn(n,...e){return zf(n,...e)}function Bf(n,e,t){const s={...OI(),[e]:t};return new Il("auth","Firebase",s).create(e,{appName:n.name})}function Ci(n){return Bf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MI(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&_r(n,"argument-error"),Bf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zf(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return C_.create(n,...e)}function xe(n,e,...t){if(!n)throw zf(e,...t)}function $r(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lc(e),new Error(e)}function Qr(n,e){n||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(){return typeof self<"u"&&self.location?.href||""}function FI(){return Ey()==="http:"||Ey()==="https:"}function Ey(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FI()||m1()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qr(t>e,"Short delay should be less than long delay!"),this.isMobile=d1()||g1()}get(){return UI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(n,e){Qr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HI=new bl(3e4,6e4);function Hf(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Qo(n,e,t,s,o={}){return A_(n,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const p=Sl({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:m,...l};return p1()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Ks(n.emulatorConfig.host)&&(v.credentials="include"),k_.fetch()(await R_(n,n.config.apiHost,t,p),v)})}async function A_(n,e,t){n._canInitEmulator=!1;const s={...zI,...e};try{const o=new WI(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ju(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const p=l.ok?c.errorMessage:c.error.message,[m,v]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Ju(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Ju(n,"user-disabled",c);const w=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Bf(n,w,v);_r(n,w)}}catch(o){if(o instanceof Tr)throw o;_r(n,"network-request-failed",{message:String(o)})}}async function qI(n,e,t,s,o={}){const l=await Qo(n,e,t,s,o);return"mfaPendingCredential"in l&&_r(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function R_(n,e,t,s){const o=`${e}${t}?${s}`,l=n,c=l.config.emulator?$f(n.config,o):`${n.config.apiScheme}://${o}`;return $I.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class WI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Mn(this.auth,"network-request-failed")),HI.get())})}}function Ju(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Mn(n,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(n,e){return Qo(n,"POST","/v1/accounts:delete",e)}async function Ec(n,e){return Qo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KI(n,e=!1){const t=pt(n),s=await t.getIdToken(e),o=qf(s);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:sl(zd(o.auth_time)),issuedAtTime:sl(zd(o.iat)),expirationTime:sl(zd(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function zd(n){return Number(n)*1e3}function qf(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=g_(t);return o?JSON.parse(o):(lc("Failed to decode base64 JWT payload"),null)}catch(o){return lc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ty(n){const e=qf(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Tr&&QI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function QI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n){const e=n.auth,t=await n.getIdToken(),s=await fl(n,Ec(e,{idToken:t}));xe(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?P_(o.providerUserInfo):[],c=JI(n.providerData,l),p=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!c?.length,v=p?m:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new af(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function XI(n){const e=pt(n);await Tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JI(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function P_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(n,e){const t=await A_(n,{},async()=>{const s=Sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await R_(n,o,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return n.emulatorConfig&&Ks(n.emulatorConfig.host)&&(m.credentials="include"),k_.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eS(n,e){return Qo(n,"POST","/v2/accounts:revokeToken",Hf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ty(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=Ty(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await ZI(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new Do;return s&&(xe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ln{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new YI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new af(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await fl(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KI(this,e)}reload(){return XI(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Tc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await fl(this,GI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,p=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:E,emailVerified:I,isAnonymous:j,providerData:$,stsTokenManager:F}=t;xe(E&&F,e,"internal-error");const V=Do.fromJSON(this.name,F);xe(typeof E=="string",e,"internal-error"),As(s,e.name),As(o,e.name),xe(typeof I=="boolean",e,"internal-error"),xe(typeof j=="boolean",e,"internal-error"),As(l,e.name),As(c,e.name),As(p,e.name),As(m,e.name),As(v,e.name),As(w,e.name);const G=new Ln({uid:E,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:j,photoURL:c,phoneNumber:l,tenantId:p,stsTokenManager:V,createdAt:v,lastLoginAt:w});return $&&Array.isArray($)&&(G.providerData=$.map(W=>({...W}))),m&&(G._redirectEventId=m),G}static async _fromIdTokenResponse(e,t,s=!1){const o=new Do;o.updateFromServerResponse(t);const l=new Ln({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Tc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?P_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,p=new Do;p.updateFromIdToken(s);const m=new Ln({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new af(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,v),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new Map;function Hr(n){Qr(n instanceof Function,"Expected a class definition");let e=Iy.get(n);return e?(Qr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Iy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}j_.type="NONE";const Sy=j_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(n,e,t){return`firebase:${n}:${e}:${t}`}class Vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=uc(this.userKey,o.apiKey,l),this.fullPersistenceKey=uc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ec(this.auth,{idToken:e}).catch(()=>{});return t?Ln._fromGetAccountInfoResponse(this.auth,t,e):null}return Ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Vo(Hr(Sy),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Hr(Sy);const c=uc(s,e.config.apiKey,e.name);let p=null;for(const v of t)try{const w=await v._get(c);if(w){let E;if(typeof w=="string"){const I=await Ec(e,{idToken:w}).catch(()=>{});if(!I)break;E=await Ln._fromGetAccountInfoResponse(e,I,w)}else E=Ln._fromJSON(e,w);v!==l&&(p=E),l=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Vo(l,e,s):(l=m[0],p&&await l._set(c,p.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(c)}catch{}})),new Vo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F_(e))return"Blackberry";if(U_(e))return"Webos";if(V_(e))return"Safari";if((e.includes("chrome/")||O_(e))&&!e.includes("edge/"))return"Chrome";if(M_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function D_(n=Wt()){return/firefox\//i.test(n)}function V_(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O_(n=Wt()){return/crios\//i.test(n)}function L_(n=Wt()){return/iemobile/i.test(n)}function M_(n=Wt()){return/android/i.test(n)}function F_(n=Wt()){return/blackberry/i.test(n)}function U_(n=Wt()){return/webos/i.test(n)}function Wf(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tS(n=Wt()){return Wf(n)&&!!window.navigator?.standalone}function nS(){return y1()&&document.documentMode===10}function B_(n=Wt()){return Wf(n)||M_(n)||U_(n)||F_(n)||/windows phone/i.test(n)||L_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n,e=[]){let t;switch(n){case"Browser":t=by(Wt());break;case"Worker":t=`${by(Wt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Li}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,p)=>{try{const m=e(l);c(m)}catch(m){p(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(n,e={}){return Qo(n,"GET","/v2/passwordPolicy",Hf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=6;class oS{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??iS,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ny(this),this.idTokenSubscription=new Ny(this),this.beforeStateQueue=new rS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ec(this,{idToken:e}),s=await Ln._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===c)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(Ci(this));const t=e?pt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sS(this),t=new oS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Il("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await eS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hr(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(p,this,"internal-error"),p.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zc(n){return pt(n)}let Ny=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=S1(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lS(n){Gf=n}function uS(n){return Gf.loadJS(n)}function cS(){return Gf.gapiScript}function hS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(n,e){const t=Bc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ri(l,e??{}))return o;_r(o,"already-initialized")}return t.initialize({options:e})}function fS(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Hr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function pS(n,e,t){const s=zc(n);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=$_(e),{host:c,port:p}=mS(e),m=p===null?"":`:${p}`,v={url:`${l}//${c}${m}/`},w=Object.freeze({host:c,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(Ri(v,s.config.emulator)&&Ri(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Ks(c)?(Of(`${l}//${c}${m}`),Lf("Auth",!0)):gS()}function $_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function mS(n){const e=$_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Cy(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Cy(c)}}}function Cy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gS(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,t){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(n,e){return qI(n,"POST","/v1/accounts:signInWithIdp",Hf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="http://localhost";class ji extends H_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const c=new ji(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Oo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Oo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oo(e,t)}buildRequest(){const e={requestUri:yS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Kf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Nl{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ji._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return zr.credential(t,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Nl{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Nl{constructor(){super("twitter.com")}static credential(e,t){return ji._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return js.credential(t,s)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Ln._fromIdTokenResponse(e,s,o),c=ky(s);return new Fo({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=ky(s);return new Fo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function ky(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Tr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ic.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ic(e,t,s,o)}}function q_(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ic._fromErrorAndOperation(n,l,e,s):l})}async function vS(n,e,t=!1){const s=await fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(n,e,t=!1){const{auth:s}=n;if(Sn(s.app))return Promise.reject(Ci(s));const o="reauthenticate";try{const l=await fl(n,q_(s,o,e,n),t);xe(l.idToken,s,"internal-error");const c=qf(l.idToken);xe(c,s,"internal-error");const{sub:p}=c;return xe(n.uid===p,s,"user-mismatch"),Fo._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&_r(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(n,e,t=!1){if(Sn(n.app))return Promise.reject(Ci(n));const s="signIn",o=await q_(n,s,e),l=await Fo._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}function xS(n,e,t,s){return pt(n).onIdTokenChanged(e,t,s)}function ES(n,e,t){return pt(n).beforeAuthStateChanged(e,t)}function TS(n,e,t,s){return pt(n).onAuthStateChanged(e,t,s)}function IS(n){return pt(n).signOut()}const Sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sc,"1"),this.storage.removeItem(Sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=1e3,bS=10;class G_ extends W_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,p,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);nS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bS):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},SS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}G_.type="LOCAL";const NS=G_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends W_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}K_.type="SESSION";const Q_=K_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new $c(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(c).map(async v=>v(t.origin,l)),m=await CS(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((p,m)=>{const v=Qf("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(I.data.response);break;default:clearTimeout(w),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function AS(n){fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function RS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PS(){return navigator?.serviceWorker?.controller||null}function jS(){return Y_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="firebaseLocalStorageDb",DS=1,bc="firebaseLocalStorage",J_="fbase_key";class Cl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hc(n,e){return n.transaction([bc],e?"readwrite":"readonly").objectStore(bc)}function VS(){const n=indexedDB.deleteDatabase(X_);return new Cl(n).toPromise()}function lf(){const n=indexedDB.open(X_,DS);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(bc,{keyPath:J_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(bc)?e(s):(s.close(),await VS(),e(await lf()))})})}async function Ay(n,e,t){const s=Hc(n,!0).put({[J_]:e,value:t});return new Cl(s).toPromise()}async function OS(n,e){const t=Hc(n,!1).get(e),s=await new Cl(t).toPromise();return s===void 0?null:s.value}function Ry(n,e){const t=Hc(n,!0).delete(e);return new Cl(t).toPromise()}const LS=800,MS=3;class Z_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>MS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(jS()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RS(),!this.activeServiceWorker)return;this.sender=new kS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lf();return await Ay(e,Sc,"1"),await Ry(e,Sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ay(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>OS(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ry(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Hc(o,!1).getAll();return new Cl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z_.type="LOCAL";const FS=Z_;new bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n,e){return e?Hr(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends H_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function US(n){return wS(n.auth,new Yf(n),n.bypassAuthState)}function BS(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),_S(t,new Yf(n),n.bypassAuthState)}async function zS(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),vS(t,new Yf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:p}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return US;case"linkViaPopup":case"linkViaRedirect":return zS;case"reauthViaPopup":case"reauthViaRedirect":return BS;default:_r(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new bl(2e3,1e4);async function HS(n,e,t){if(Sn(n.app))return Promise.reject(Mn(n,"operation-not-supported-in-this-environment"));const s=zc(n);MI(n,e,Kf);const o=e0(s,t);return new bi(s,"signInViaPopup",e,o).executeNotNull()}class bi extends t0{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,bi.currentPopupAction&&bi.currentPopupAction.cancel(),bi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=Qf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$S.get())};e()}}bi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="pendingRedirect",cc=new Map;class WS extends t0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=cc.get(this.auth._key());if(!e){try{const s=await GS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}cc.set(this.auth._key(),e)}return this.bypassAuthState||cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GS(n,e){const t=YS(e),s=QS(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function KS(n,e){cc.set(n._key(),e)}function QS(n){return Hr(n._redirectPersistence)}function YS(n){return uc(qS,n.config.apiKey,n.name)}async function XS(n,e,t=!1){if(Sn(n.app))return Promise.reject(Ci(n));const s=zc(n),o=e0(s,e),c=await new WS(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=600*1e3;class ZS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eb(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!n0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Mn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Py(e))}saveEventToCache(e){this.cachedEventUids.add(Py(e)),this.lastProcessedEventTime=Date.now()}}function Py(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function n0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function eb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(n,e={}){return Qo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rb=/^https?/;async function sb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await tb(n);for(const t of e)try{if(ib(t))return}catch{}_r(n,"unauthorized-domain")}function ib(n){const e=of(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!rb.test(t))return!1;if(nb.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new bl(3e4,6e4);function jy(){const n=fr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ab(n){return new Promise((e,t)=>{function s(){jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jy(),t(Mn(n,"network-request-failed"))},timeout:ob.get()})}if(fr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fr().gapi?.load)s();else{const o=hS("iframefcb");return fr()[o]=()=>{gapi.load?s():t(Mn(n,"network-request-failed"))},uS(`${cS()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw hc=null,e})}let hc=null;function lb(n){return hc=hc||ab(n),hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new bl(5e3,15e3),cb="__/auth/iframe",hb="emulator/auth/iframe",db={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pb(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$f(e,hb):`https://${n.config.authDomain}/${cb}`,s={apiKey:e.apiKey,appName:n.name,v:Li},o=fb.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Sl(s).slice(1)}`}async function mb(n){const e=await lb(n),t=fr().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:pb(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:db,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Mn(n,"network-request-failed"),p=fr().setTimeout(()=>{l(c)},ub.get());function m(){fr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yb=500,vb=600,_b="_blank",wb="http://localhost";class Dy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xb(n,e,t,s=yb,o=vb){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...gb,width:s.toString(),height:o.toString(),top:l,left:c},v=Wt().toLowerCase();t&&(p=O_(v)?_b:t),D_(v)&&(e=e||wb,m.scrollbars="yes");const w=Object.entries(m).reduce((I,[j,$])=>`${I}${j}=${$},`,"");if(tS(v)&&p!=="_self")return Eb(e||"",p),new Dy(null);const E=window.open(e||"",p,w);xe(E,n,"popup-blocked");try{E.focus()}catch{}return new Dy(E)}function Eb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="__/auth/handler",Ib="emulator/auth/handler",Sb=encodeURIComponent("fac");async function Vy(n,e,t,s,o,l){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Li,eventId:o};if(e instanceof Kf){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",I1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))c[w]=E}if(e instanceof Nl){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const p=c;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const m=await n._getAppCheckToken(),v=m?`#${Sb}=${encodeURIComponent(m)}`:"";return`${bb(n)}?${Sl(p).slice(1)}${v}`}function bb({config:n}){return n.emulator?$f(n,Ib):`https://${n.authDomain}/${Tb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="webStorageSupport";class Nb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q_,this._completeRedirectFn=XS,this._overrideRedirectResult=KS}async _openPopup(e,t,s,o){Qr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Vy(e,t,s,of(),o);return xb(e,l,Qf())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Vy(e,t,s,of(),o);return AS(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Qr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await mb(e),s=new ZS(e);return t.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($d,{type:$d},o=>{const l=o?.[0]?.[$d];l!==void 0&&t(!!l),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return B_()||V_()||Wf()}}const Cb=Nb;var Oy="@firebase/auth",Ly="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rb(n){Pi(new Us("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:p}=s.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z_(n)},v=new aS(s,o,l,m);return fS(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Pi(new Us("auth-internal",e=>{const t=zc(e.getProvider("auth").getImmediate());return(s=>new kb(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(Oy,Ly,Ab(n)),dr(Oy,Ly,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=300,jb=w_("authIdTokenMaxAge")||Pb;let My=null;const Db=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>jb)return;const o=t?.token;My!==o&&(My=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Vb(n=Uf()){const e=Bc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dS(n,{popupRedirectResolver:Cb,persistence:[FS,NS,Q_]}),s=w_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=Db(l.toString());ES(t,c,()=>c(t.currentUser)),xS(t,p=>c(p))}}const o=y_("auth");return o&&pS(t,`http://${o}`),t}function Ob(){return document.getElementsByTagName("head")?.[0]??document}lS({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=Mn("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",Ob().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rb("Browser");var Lb="firebase",Mb="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(Lb,Mb,"app");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,r0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function b(){}b.prototype=S.prototype,R.F=S.prototype,R.prototype=new b,R.prototype.constructor=R,R.D=function(k,A,O){for(var C=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)C[ke-2]=arguments[ke];return S.prototype[A].apply(k,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,b){b||(b=0);const k=Array(16);if(typeof S=="string")for(var A=0;A<16;++A)k[A]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(A=0;A<16;++A)k[A]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=R.g[0],b=R.g[1],A=R.g[2];let O=R.g[3],C;C=S+(O^b&(A^O))+k[0]+3614090360&4294967295,S=b+(C<<7&4294967295|C>>>25),C=O+(A^S&(b^A))+k[1]+3905402710&4294967295,O=S+(C<<12&4294967295|C>>>20),C=A+(b^O&(S^b))+k[2]+606105819&4294967295,A=O+(C<<17&4294967295|C>>>15),C=b+(S^A&(O^S))+k[3]+3250441966&4294967295,b=A+(C<<22&4294967295|C>>>10),C=S+(O^b&(A^O))+k[4]+4118548399&4294967295,S=b+(C<<7&4294967295|C>>>25),C=O+(A^S&(b^A))+k[5]+1200080426&4294967295,O=S+(C<<12&4294967295|C>>>20),C=A+(b^O&(S^b))+k[6]+2821735955&4294967295,A=O+(C<<17&4294967295|C>>>15),C=b+(S^A&(O^S))+k[7]+4249261313&4294967295,b=A+(C<<22&4294967295|C>>>10),C=S+(O^b&(A^O))+k[8]+1770035416&4294967295,S=b+(C<<7&4294967295|C>>>25),C=O+(A^S&(b^A))+k[9]+2336552879&4294967295,O=S+(C<<12&4294967295|C>>>20),C=A+(b^O&(S^b))+k[10]+4294925233&4294967295,A=O+(C<<17&4294967295|C>>>15),C=b+(S^A&(O^S))+k[11]+2304563134&4294967295,b=A+(C<<22&4294967295|C>>>10),C=S+(O^b&(A^O))+k[12]+1804603682&4294967295,S=b+(C<<7&4294967295|C>>>25),C=O+(A^S&(b^A))+k[13]+4254626195&4294967295,O=S+(C<<12&4294967295|C>>>20),C=A+(b^O&(S^b))+k[14]+2792965006&4294967295,A=O+(C<<17&4294967295|C>>>15),C=b+(S^A&(O^S))+k[15]+1236535329&4294967295,b=A+(C<<22&4294967295|C>>>10),C=S+(A^O&(b^A))+k[1]+4129170786&4294967295,S=b+(C<<5&4294967295|C>>>27),C=O+(b^A&(S^b))+k[6]+3225465664&4294967295,O=S+(C<<9&4294967295|C>>>23),C=A+(S^b&(O^S))+k[11]+643717713&4294967295,A=O+(C<<14&4294967295|C>>>18),C=b+(O^S&(A^O))+k[0]+3921069994&4294967295,b=A+(C<<20&4294967295|C>>>12),C=S+(A^O&(b^A))+k[5]+3593408605&4294967295,S=b+(C<<5&4294967295|C>>>27),C=O+(b^A&(S^b))+k[10]+38016083&4294967295,O=S+(C<<9&4294967295|C>>>23),C=A+(S^b&(O^S))+k[15]+3634488961&4294967295,A=O+(C<<14&4294967295|C>>>18),C=b+(O^S&(A^O))+k[4]+3889429448&4294967295,b=A+(C<<20&4294967295|C>>>12),C=S+(A^O&(b^A))+k[9]+568446438&4294967295,S=b+(C<<5&4294967295|C>>>27),C=O+(b^A&(S^b))+k[14]+3275163606&4294967295,O=S+(C<<9&4294967295|C>>>23),C=A+(S^b&(O^S))+k[3]+4107603335&4294967295,A=O+(C<<14&4294967295|C>>>18),C=b+(O^S&(A^O))+k[8]+1163531501&4294967295,b=A+(C<<20&4294967295|C>>>12),C=S+(A^O&(b^A))+k[13]+2850285829&4294967295,S=b+(C<<5&4294967295|C>>>27),C=O+(b^A&(S^b))+k[2]+4243563512&4294967295,O=S+(C<<9&4294967295|C>>>23),C=A+(S^b&(O^S))+k[7]+1735328473&4294967295,A=O+(C<<14&4294967295|C>>>18),C=b+(O^S&(A^O))+k[12]+2368359562&4294967295,b=A+(C<<20&4294967295|C>>>12),C=S+(b^A^O)+k[5]+4294588738&4294967295,S=b+(C<<4&4294967295|C>>>28),C=O+(S^b^A)+k[8]+2272392833&4294967295,O=S+(C<<11&4294967295|C>>>21),C=A+(O^S^b)+k[11]+1839030562&4294967295,A=O+(C<<16&4294967295|C>>>16),C=b+(A^O^S)+k[14]+4259657740&4294967295,b=A+(C<<23&4294967295|C>>>9),C=S+(b^A^O)+k[1]+2763975236&4294967295,S=b+(C<<4&4294967295|C>>>28),C=O+(S^b^A)+k[4]+1272893353&4294967295,O=S+(C<<11&4294967295|C>>>21),C=A+(O^S^b)+k[7]+4139469664&4294967295,A=O+(C<<16&4294967295|C>>>16),C=b+(A^O^S)+k[10]+3200236656&4294967295,b=A+(C<<23&4294967295|C>>>9),C=S+(b^A^O)+k[13]+681279174&4294967295,S=b+(C<<4&4294967295|C>>>28),C=O+(S^b^A)+k[0]+3936430074&4294967295,O=S+(C<<11&4294967295|C>>>21),C=A+(O^S^b)+k[3]+3572445317&4294967295,A=O+(C<<16&4294967295|C>>>16),C=b+(A^O^S)+k[6]+76029189&4294967295,b=A+(C<<23&4294967295|C>>>9),C=S+(b^A^O)+k[9]+3654602809&4294967295,S=b+(C<<4&4294967295|C>>>28),C=O+(S^b^A)+k[12]+3873151461&4294967295,O=S+(C<<11&4294967295|C>>>21),C=A+(O^S^b)+k[15]+530742520&4294967295,A=O+(C<<16&4294967295|C>>>16),C=b+(A^O^S)+k[2]+3299628645&4294967295,b=A+(C<<23&4294967295|C>>>9),C=S+(A^(b|~O))+k[0]+4096336452&4294967295,S=b+(C<<6&4294967295|C>>>26),C=O+(b^(S|~A))+k[7]+1126891415&4294967295,O=S+(C<<10&4294967295|C>>>22),C=A+(S^(O|~b))+k[14]+2878612391&4294967295,A=O+(C<<15&4294967295|C>>>17),C=b+(O^(A|~S))+k[5]+4237533241&4294967295,b=A+(C<<21&4294967295|C>>>11),C=S+(A^(b|~O))+k[12]+1700485571&4294967295,S=b+(C<<6&4294967295|C>>>26),C=O+(b^(S|~A))+k[3]+2399980690&4294967295,O=S+(C<<10&4294967295|C>>>22),C=A+(S^(O|~b))+k[10]+4293915773&4294967295,A=O+(C<<15&4294967295|C>>>17),C=b+(O^(A|~S))+k[1]+2240044497&4294967295,b=A+(C<<21&4294967295|C>>>11),C=S+(A^(b|~O))+k[8]+1873313359&4294967295,S=b+(C<<6&4294967295|C>>>26),C=O+(b^(S|~A))+k[15]+4264355552&4294967295,O=S+(C<<10&4294967295|C>>>22),C=A+(S^(O|~b))+k[6]+2734768916&4294967295,A=O+(C<<15&4294967295|C>>>17),C=b+(O^(A|~S))+k[13]+1309151649&4294967295,b=A+(C<<21&4294967295|C>>>11),C=S+(A^(b|~O))+k[4]+4149444226&4294967295,S=b+(C<<6&4294967295|C>>>26),C=O+(b^(S|~A))+k[11]+3174756917&4294967295,O=S+(C<<10&4294967295|C>>>22),C=A+(S^(O|~b))+k[2]+718787259&4294967295,A=O+(C<<15&4294967295|C>>>17),C=b+(O^(A|~S))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+A&4294967295,R.g[3]=R.g[3]+O&4294967295}s.prototype.v=function(R,S){S===void 0&&(S=R.length);const b=S-this.blockSize,k=this.C;let A=this.h,O=0;for(;O<S;){if(A==0)for(;O<=b;)o(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<S;)if(k[A++]=R.charCodeAt(O++),A==this.blockSize){o(this,k),A=0;break}}else for(;O<S;)if(k[A++]=R[O++],A==this.blockSize){o(this,k),A=0;break}}this.h=A,this.o+=S},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var b=R.length-8;b<R.length;++b)R[b]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,b=0;b<4;++b)for(let k=0;k<32;k+=8)R[S++]=this.g[b]>>>k&255;return R};function l(R,S){var b=p;return Object.prototype.hasOwnProperty.call(b,R)?b[R]:b[R]=S(R)}function c(R,S){this.h=S;const b=[];let k=!0;for(let A=R.length-1;A>=0;A--){const O=R[A]|0;k&&O==S||(b[A]=O,k=!1)}this.g=b}var p={};function m(R){return-128<=R&&R<128?l(R,function(S){return new c([S|0],S<0?-1:0)}):new c([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return V(v(-R));const S=[];let b=1;for(let k=0;R>=b;k++)S[k]=R/b|0,b*=4294967296;return new c(S,0)}function w(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return V(w(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=v(Math.pow(S,8));let k=E;for(let O=0;O<R.length;O+=8){var A=Math.min(8,R.length-O);const C=parseInt(R.substring(O,O+A),S);A<8?(A=v(Math.pow(S,A)),k=k.j(A).add(v(C))):(k=k.j(b),k=k.add(v(C)))}return k}var E=m(0),I=m(1),j=m(16777216);n=c.prototype,n.m=function(){if(F(this))return-V(this).m();let R=0,S=1;for(let b=0;b<this.g.length;b++){const k=this.i(b);R+=(k>=0?k:4294967296+k)*S,S*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if($(this))return"0";if(F(this))return"-"+V(this).toString(R);const S=v(Math.pow(R,6));var b=this;let k="";for(;;){const A=ie(b,S).g;b=G(b,A.j(S));let O=((b.g.length>0?b.g[0]:b.h)>>>0).toString(R);if(b=A,$(b))return O+k;for(;O.length<6;)O="0"+O;k=O+k}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function $(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function F(R){return R.h==-1}n.l=function(R){return R=G(this,R),F(R)?-1:$(R)?0:1};function V(R){const S=R.g.length,b=[];for(let k=0;k<S;k++)b[k]=~R.g[k];return new c(b,~R.h).add(I)}n.abs=function(){return F(this)?V(this):this},n.add=function(R){const S=Math.max(this.g.length,R.g.length),b=[];let k=0;for(let A=0;A<=S;A++){let O=k+(this.i(A)&65535)+(R.i(A)&65535),C=(O>>>16)+(this.i(A)>>>16)+(R.i(A)>>>16);k=C>>>16,O&=65535,C&=65535,b[A]=C<<16|O}return new c(b,b[b.length-1]&-2147483648?-1:0)};function G(R,S){return R.add(V(S))}n.j=function(R){if($(this)||$(R))return E;if(F(this))return F(R)?V(this).j(V(R)):V(V(this).j(R));if(F(R))return V(this.j(V(R)));if(this.l(j)<0&&R.l(j)<0)return v(this.m()*R.m());const S=this.g.length+R.g.length,b=[];for(var k=0;k<2*S;k++)b[k]=0;for(k=0;k<this.g.length;k++)for(let A=0;A<R.g.length;A++){const O=this.i(k)>>>16,C=this.i(k)&65535,ke=R.i(A)>>>16,Ge=R.i(A)&65535;b[2*k+2*A]+=C*Ge,W(b,2*k+2*A),b[2*k+2*A+1]+=O*Ge,W(b,2*k+2*A+1),b[2*k+2*A+1]+=C*ke,W(b,2*k+2*A+1),b[2*k+2*A+2]+=O*ke,W(b,2*k+2*A+2)}for(R=0;R<S;R++)b[R]=b[2*R+1]<<16|b[2*R];for(R=S;R<2*S;R++)b[R]=0;return new c(b,0)};function W(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function Q(R,S){this.g=R,this.h=S}function ie(R,S){if($(S))throw Error("division by zero");if($(R))return new Q(E,E);if(F(R))return S=ie(V(R),S),new Q(V(S.g),V(S.h));if(F(S))return S=ie(R,V(S)),new Q(V(S.g),S.h);if(R.g.length>30){if(F(R)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var b=I,k=S;k.l(R)<=0;)b=ve(b),k=ve(k);var A=te(b,1),O=te(k,1);for(k=te(k,2),b=te(b,2);!$(k);){var C=O.add(k);C.l(R)<=0&&(A=A.add(b),O=C),k=te(k,1),b=te(b,1)}return S=G(R,A.j(S)),new Q(A,S)}for(A=E;R.l(S)>=0;){for(b=Math.max(1,Math.floor(R.m()/S.m())),k=Math.ceil(Math.log(b)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),O=v(b),C=O.j(S);F(C)||C.l(R)>0;)b-=k,O=v(b),C=O.j(S);$(O)&&(O=I),A=A.add(O),R=G(R,C)}return new Q(A,R)}n.B=function(R){return ie(this,R).h},n.and=function(R){const S=Math.max(this.g.length,R.g.length),b=[];for(let k=0;k<S;k++)b[k]=this.i(k)&R.i(k);return new c(b,this.h&R.h)},n.or=function(R){const S=Math.max(this.g.length,R.g.length),b=[];for(let k=0;k<S;k++)b[k]=this.i(k)|R.i(k);return new c(b,this.h|R.h)},n.xor=function(R){const S=Math.max(this.g.length,R.g.length),b=[];for(let k=0;k<S;k++)b[k]=this.i(k)^R.i(k);return new c(b,this.h^R.h)};function ve(R){const S=R.g.length+1,b=[];for(let k=0;k<S;k++)b[k]=R.i(k)<<1|R.i(k-1)>>>31;return new c(b,R.h)}function te(R,S){const b=S>>5;S%=32;const k=R.g.length-b,A=[];for(let O=0;O<k;O++)A[O]=S>0?R.i(O+b)>>>S|R.i(O+b+1)<<32-S:R.i(O+b);return new c(A,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,r0=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=w,Ms=c}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s0,Za,i0,dc,uf,o0,a0,l0;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var y=0;y<u.length;++y){var _=u[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,y){if(y)e:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var B=u[T];if(!(B in _))break e;_=_[B]}u=u[u.length-1],T=_[u],y=y(T),y!=T&&y!=null&&e(_,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var _=[],T;for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&_.push([T,y[T]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function p(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function m(u,y,_){return u.call.apply(u.bind,arguments)}function v(u,y,_){return v=m,v.apply(null,arguments)}function w(u,y){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,y){function _(){}_.prototype=y.prototype,u.Z=y.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,B,q){for(var re=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)re[Te-2]=arguments[Te];return y.prototype[B].apply(T,re)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const y=u.length;if(y>0){const _=Array(y);for(let T=0;T<y;T++)_[T]=u[T];return _}return[]}function $(u,y){for(let T=1;T<arguments.length;T++){const B=arguments[T];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=u.length||0;const q=B.length||0;u.length=_+q;for(let re=0;re<q;re++)u[_+re]=B[re]}else u.push(B)}}class F{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(u){c.setTimeout(()=>{throw u},0)}function G(){var u=R;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,_){const T=Q.get();T.set(y,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Q=new F(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,te=!1,R=new W,S=()=>{const u=Promise.resolve(void 0);ve=()=>{u.then(b)}};function b(){for(var u;u=G();){try{u.h.call(u.g)}catch(_){V(_)}var y=Q;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}te=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};c.addEventListener("test",_,y),c.removeEventListener("test",_,y)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ke(u,y){A.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}E(ke,A),ke.prototype.init=function(u,y){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(_=="mouseover"?y=u.fromElement:_=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),Ne=0;function He(u,y,_,T,B){this.listener=u,this.proxy=null,this.src=y,this.type=_,this.capture=!!T,this.ha=B,this.key=++Ne,this.da=this.fa=!1}function se(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u,y,_){for(const T in u)y.call(_,u[T],T,u)}function le(u,y){for(const _ in u)y.call(void 0,u[_],_,u)}function M(u){const y={};for(const _ in u)y[_]=u[_];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(u,y){let _,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(_ in T)u[_]=T[_];for(let q=0;q<X.length;q++)_=X[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function be(u){this.src=u,this.g={},this.h=0}be.prototype.add=function(u,y,_,T,B){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const re=Re(u,y,T,B);return re>-1?(y=u[re],_||(y.fa=!1)):(y=new He(y,this.src,q,!!T,B),y.fa=_,u.push(y)),y};function Ae(u,y){const _=y.type;if(_ in u.g){var T=u.g[_],B=Array.prototype.indexOf.call(T,y,void 0),q;(q=B>=0)&&Array.prototype.splice.call(T,B,1),q&&(se(y),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Re(u,y,_,T){for(let B=0;B<u.length;++B){const q=u[B];if(!q.da&&q.listener==y&&q.capture==!!_&&q.ha==T)return B}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Le={};function qe(u,y,_,T,B){if(Array.isArray(y)){for(let q=0;q<y.length;q++)qe(u,y[q],_,T,B);return null}return _=ra(_),u&&u[Ge]?u.J(y,_,p(T)?!!T.capture:!1,B):Gt(u,y,_,!1,T,B)}function Gt(u,y,_,T,B,q){if(!y)throw Error("Invalid event type");const re=p(B)?!!B.capture:!!B;let Te=$i(u);if(Te||(u[Be]=Te=new be(u)),_=Te.add(y,_,T,re,q),_.proxy)return _;if(T=Bi(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)O||(B=re),B===void 0&&(B=!1),u.addEventListener(y.toString(),T,B);else if(u.attachEvent)u.attachEvent(zi(y.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Bi(){function u(_){return y.call(u.src,u.listener,_)}const y=Vl;return u}function na(u,y,_,T,B){if(Array.isArray(y))for(var q=0;q<y.length;q++)na(u,y[q],_,T,B);else T=p(T)?!!T.capture:!!T,_=ra(_),u&&u[Ge]?(u=u.i,q=String(y).toString(),q in u.g&&(y=u.g[q],_=Re(y,_,T,B),_>-1&&(se(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete u.g[q],u.h--)))):u&&(u=$i(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Re(y,_,T,B)),(_=u>-1?y[u]:null)&&es(_))}function es(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Ge])Ae(y.i,u);else{var _=u.type,T=u.proxy;y.removeEventListener?y.removeEventListener(_,T,u.capture):y.detachEvent?y.detachEvent(zi(_),T):y.addListener&&y.removeListener&&y.removeListener(T),(_=$i(y))?(Ae(_,u),_.h==0&&(_.src=null,y[Be]=null)):se(u)}}}function zi(u){return u in Le?Le[u]:Le[u]="on"+u}function Vl(u,y){if(u.da)u=!0;else{y=new ke(y,this);const _=u.listener,T=u.ha||u.src;u.fa&&es(u),u=_.call(T,y)}return u}function $i(u){return u=u[Be],u instanceof be?u:null}var Js="__closure_events_fn_"+(Math.random()*1e9>>>0);function ra(u){return typeof u=="function"?u:(u[Js]||(u[Js]=function(y){return u.handleEvent(y)}),u[Js])}function mt(){k.call(this),this.i=new be(this),this.M=this,this.G=null}E(mt,k),mt.prototype[Ge]=!0,mt.prototype.removeEventListener=function(u,y,_,T){na(this,u,y,_,T)};function ut(u,y){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=y.type||y,typeof y=="string")y=new A(y,u);else if(y instanceof A)y.target=y.target||u;else{var B=y;y=new A(T,u),Se(y,B)}B=!0;let q,re;if(_)for(re=_.length-1;re>=0;re--)q=y.g=_[re],B=Nn(q,T,!0,y)&&B;if(q=y.g=u,B=Nn(q,T,!0,y)&&B,B=Nn(q,T,!1,y)&&B,_)for(re=0;re<_.length;re++)q=y.g=_[re],B=Nn(q,T,!1,y)&&B}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const _=u.g[y];for(let T=0;T<_.length;T++)se(_[T]);delete u.g[y],u.h--}}this.G=null},mt.prototype.J=function(u,y,_,T){return this.i.add(String(u),y,!1,_,T)},mt.prototype.K=function(u,y,_,T){return this.i.add(String(u),y,!0,_,T)};function Nn(u,y,_,T){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let q=0;q<y.length;++q){const re=y[q];if(re&&!re.da&&re.capture==_){const Te=re.listener,ct=re.ha||re.src;re.fa&&Ae(u.i,re),B=Te.call(ct,T)!==!1&&B}}return B&&!T.defaultPrevented}function sa(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(u,y||0)}function ia(u){u.g=sa(()=>{u.g=null,u.i&&(u.i=!1,ia(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Ol extends k{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ia(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){k.call(this),this.h=u,this.g={}}E(ts,k);var oa=[];function Hi(u){pe(u.g,function(y,_){this.g.hasOwnProperty(_)&&es(y)},u),u.g={}}ts.prototype.N=function(){ts.Z.N.call(this),Hi(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=c.JSON.stringify,Ll=c.JSON.parse,Zs=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function rs(){}function Ml(){}var ss={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qi(){A.call(this,"d")}E(qi,A);function aa(){A.call(this,"c")}E(aa,A);var Cn={},Wi=null;function is(){return Wi=Wi||new mt}Cn.Ia="serverreachability";function Gi(u){A.call(this,Cn.Ia,u)}E(Gi,A);function Ir(u){const y=is();ut(y,new Gi(y))}Cn.STAT_EVENT="statevent";function Sr(u,y){A.call(this,Cn.STAT_EVENT,u),this.stat=y}E(Sr,A);function it(u){const y=is();ut(y,new Sr(y,u))}Cn.Ja="timingevent";function la(u,y){A.call(this,Cn.Ja,u),this.size=y}E(la,A);function os(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},y)}function as(){this.g=!0}as.prototype.ua=function(){this.g=!1};function Fl(u,y,_,T,B,q){u.info(function(){if(u.g)if(q){var re="",Te=q.split("&");for(let $e=0;$e<Te.length;$e++){var ct=Te[$e].split("=");if(ct.length>1){const gt=ct[0];ct=ct[1];const hn=gt.split("_");re=hn.length>=2&&hn[1]=="type"?re+(gt+"="+ct+"&"):re+(gt+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+y+`
`+_+`
`+re})}function Ul(u,y,_,T,B,q,re){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+y+`
`+_+`
`+q+" "+re})}function Hn(u,y,_,T){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+ei(u,_)+(T?" "+T:"")})}function Bl(u,y){u.info(function(){return"TIMEOUT: "+y})}as.prototype.info=function(){};function ei(u,y){if(!u.g)return y;if(!y)return null;try{const q=JSON.parse(y);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var B=T[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<T.length;re++)T[re]=""}}}}return ns(q)}catch{return y}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},us={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zl;function br(){}E(br,rs),br.prototype.g=function(){return new XMLHttpRequest},zl=new br;function qn(u){return encodeURIComponent(String(u))}function Ki(u){var y=1;u=u.split(":");const _=[];for(;y>0&&u.length;)_.push(u.shift()),y--;return u.length&&_.push(u.join(":")),_}function yn(u,y,_,T){this.j=u,this.i=y,this.l=_,this.S=T||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $l}function $l(){this.i=null,this.g="",this.h=!1}var Hl={},ua={};function kn(u,y,_){u.M=1,u.A=Cr(vn(y)),u.u=_,u.R=!0,ca(u,null)}function ca(u,y){u.F=Date.now(),ti(u),u.B=vn(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),wa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new $l,u.g=eu(u.j,_?y:null,!u.u),u.P>0&&(u.O=new Ol(v(u.Y,u,u.g),u.P)),y=u.V,_=u.g,T=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(oa[0]=B.toString()),B=oa);for(let q=0;q<B.length;q++){const re=qe(_,B[q],T||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Ir(),Fl(u.i,u.v,u.B,u.l,u.S,u.u)}yn.prototype.ba=function(u){u=u.target;const y=this.O;y&&Jn(u)==3?y.j():this.Y(u)},yn.prototype.Y=function(u){try{if(u==this.g)e:{const Te=Jn(this.g),ct=this.g.ya(),$e=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||Jl(this.g)))){this.K||Te!=4||ct==7||(ct==8||$e<=0?Ir(3):Ir(2)),Qi(this);var y=this.g.ca();this.X=y;var _=ql(this);if(this.o=y==200,Ul(this.i,this.v,this.B,this.l,this.S,Te,y),this.o){if(this.U&&!this.L){t:{if(this.g){var T,B=this.g;if((T=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var q=T;break t}}q=null}if(u=q)Hn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ye(this,u);else{this.o=!1,this.m=3,it(12),Nr(this),ni(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<_.length;)if(gt=Gl(this,_),gt==ua){Te==4&&(this.m=4,it(14),u=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Hl){this.m=4,it(15),Hn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Hn(this.i,this.l,gt,null),Ye(this,gt);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||_.length!=0||this.h.h||(this.m=1,it(16),u=!1),this.o=this.o&&u,!u)Hn(this.i,this.l,_,"[Invalid Chunked Response]"),Nr(this),ni(this);else if(_.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),hi(re),re.P=!0,it(11))}}else Hn(this.i,this.l,_,null),Ye(this,_);Te==4&&Nr(this),this.o&&!this.K&&(Te==4?io(this.j,this):(this.o=!1,ti(this)))}else Ea(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),Nr(this),ni(this)}}}catch{}finally{}};function ql(u){if(!Wl(u))return u.g.la();const y=Jl(u.g);if(y==="")return"";let _="";const T=y.length,B=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nr(u),ni(u),"";u.h.i=new c.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,_+=u.h.i.decode(y[q],{stream:!(B&&q==T-1)});return y.length=0,u.h.g+=_,u.C=0,u.h.g}function Wl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Gl(u,y){var _=u.C,T=y.indexOf(`
`,_);return T==-1?ua:(_=Number(y.substring(_,T)),isNaN(_)?Hl:(T+=1,T+_>y.length?ua:(y=y.slice(T,T+_),u.C=T+_,y)))}yn.prototype.cancel=function(){this.K=!0,Nr(this)};function ti(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=os(v(u.aa,u),y)}function Qi(u){u.D&&(c.clearTimeout(u.D),u.D=null)}yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Bl(this.i,this.B),this.M!=2&&(Ir(),it(17)),Nr(this),this.m=2,ni(this)):ha(this,this.T-u)};function ni(u){u.j.I==0||u.K||io(u.j,u)}function Nr(u){Qi(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Hi(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Ye(u,y){try{var _=u.j;if(_.I!=0&&(_.g==u||fa(_.h,u))){if(!u.L&&fa(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)so(_),un(_);else break e;tr(_),it(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=os(v(_.Va,_),6e3));ri(_.h)<=1&&_.ta&&(_.ta=void 0)}else cn(_,11)}else if((u.L||_.g==u)&&so(_),!C(y))for(B=_.Ba.g.parse(y),y=0;y<B.length;y++){let $e=B[y];const gt=$e[0];if(!(gt<=_.K))if(_.K=gt,$e=$e[1],_.I==2)if($e[0]=="c"){_.M=$e[1],_.ba=$e[2];const hn=$e[3];hn!=null&&(_.ka=hn,_.j.info("VER="+_.ka));const jr=$e[4];jr!=null&&(_.za=jr,_.j.info("SVER="+_.za));const nr=$e[5];nr!=null&&typeof nr=="number"&&nr>0&&(T=1.5*nr,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const rr=u.g;if(rr){const lo=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lo){var q=T.h;q.g||lo.indexOf("spdy")==-1&&lo.indexOf("quic")==-1&&lo.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Xi(q,q.h),q.h=null))}if(T.G){const Sa=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(T.wa=Sa,Ue(T.J,T.G,Sa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var re=u;if(T.na=Ia(T,T.L?T.ba:null,T.W),re.L){si(T.h,re);var Te=re,ct=T.O;ct&&(Te.H=ct),Te.D&&(Qi(Te),ti(Te)),T.g=re}else Ot(T);_.i.length>0&&Pr(_)}else $e[0]!="stop"&&$e[0]!="close"||cn(_,7);else _.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?cn(_,7):no(_):$e[0]!="noop"&&_.l&&_.l.qa($e),_.A=0)}}Ir(4)}catch{}}var ah=class{constructor(u,y){this.g=u,this.map=y}};function Yi(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function da(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function fa(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Xi(u,y){u.g?u.g.add(y):u.h=y}function si(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Yi.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function on(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const _ of u.g.values())y=y.concat(_.G);return y}return j(u.i)}var Kl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function an(u,y){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let B,q=null;T>=0?(B=u[_].substring(0,T),q=u[_].substring(T+1)):B=u[_],y(B,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Wn?(this.l=u.l,ii(this,u.j),this.o=u.o,this.g=u.g,Gn(this,u.u),this.h=u.h,cs(this,xa(u.i)),this.m=u.m):u&&(y=String(u).match(Kl))?(this.l=!1,ii(this,y[1]||"",!0),this.o=oi(y[2]||""),this.g=oi(y[3]||"",!0),Gn(this,y[4]),this.h=oi(y[5]||"",!0),cs(this,y[6]||"",!0),this.m=oi(y[7]||"")):(this.l=!1,this.i=new Ve(null,this.l))}Wn.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(ai(y,ma,!0),":");var _=this.g;return(_||y=="file")&&(u.push("//"),(y=this.o)&&u.push(ai(y,ma,!0),"@"),u.push(qn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ai(_,_.charAt(0)=="/"?li:ga,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ai(_,ya)),u.join("")},Wn.prototype.resolve=function(u){const y=vn(this);let _=!!u.j;_?ii(y,u.j):_=!!u.o,_?y.o=u.o:_=!!u.g,_?y.g=u.g:_=u.u!=null;var T=u.h;if(_)Gn(y,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var B=y.h.lastIndexOf("/");B!=-1&&(T=y.h.slice(0,B+1)+T)}if(B=T,B==".."||B==".")T="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){T=B.lastIndexOf("/",0)==0,B=B.split("/");const q=[];for(let re=0;re<B.length;){const Te=B[re++];Te=="."?T&&re==B.length&&q.push(""):Te==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&re==B.length&&q.push("")):(q.push(Te),T=!0)}T=q.join("/")}else T=B}return _?y.h=T:_=u.i.toString()!=="",_?cs(y,xa(u.i)):_=!!u.m,_&&(y.m=u.m),y};function vn(u){return new Wn(u)}function ii(u,y,_){u.j=_?oi(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Gn(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function cs(u,y,_){y instanceof Ve?(u.i=y,Zi(u.i,u.l)):(_||(y=ai(y,lh)),u.i=new Ve(y,u.l))}function Ue(u,y,_){u.i.set(y,_)}function Cr(u){return Ue(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ai(u,y,_){return typeof u=="string"?(u=encodeURI(u).replace(y,pa),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pa(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ma=/[#\/\?@]/g,ga=/[#\?:]/g,li=/[#\?]/g,lh=/[#\?@]/g,ya=/#/g;function Ve(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Kn(u){u.g||(u.g=new Map,u.h=0,u.i&&an(u.i,function(y,_){u.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Ve.prototype,n.add=function(u,y){Kn(this),this.i=null,u=Qn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(y),this.h+=1,this};function va(u,y){Kn(u),y=Qn(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ji(u,y){return Kn(u),y=Qn(u,y),u.g.has(y)}n.forEach=function(u,y){Kn(this),this.g.forEach(function(_,T){_.forEach(function(B){u.call(y,B,T,this)},this)},this)};function _a(u,y){Kn(u);let _=[];if(typeof y=="string")Ji(u,y)&&(_=_.concat(u.g.get(Qn(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)_=_.concat(u[y]);return _}n.set=function(u,y){return Kn(this),this.i=null,u=Qn(this,u),Ji(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},n.get=function(u,y){return u?(u=_a(this,u),u.length>0?String(u[0]):y):y};function wa(u,y,_){va(u,y),_.length>0&&(u.i=null,u.g.set(Qn(u,y),j(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let T=0;T<y.length;T++){var _=y[T];const B=qn(_);_=_a(this,_);for(let q=0;q<_.length;q++){let re=B;_[q]!==""&&(re+="="+qn(_[q])),u.push(re)}}return this.i=u.join("&")};function xa(u){const y=new Ve;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Qn(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Zi(u,y){y&&!u.j&&(Kn(u),u.i=null,u.g.forEach(function(_,T){const B=T.toLowerCase();T!=B&&(va(this,T),wa(this,B,_))},u)),u.j=y}function Yn(u,y){const _=new as;if(c.Image){const T=new Image;T.onload=w(kt,_,"TestLoadImage: loaded",!0,y,T),T.onerror=w(kt,_,"TestLoadImage: error",!1,y,T),T.onabort=w(kt,_,"TestLoadImage: abort",!1,y,T),T.ontimeout=w(kt,_,"TestLoadImage: timeout",!1,y,T),c.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else y(!1)}function Xn(u,y){const _=new as,T=new AbortController,B=setTimeout(()=>{T.abort(),kt(_,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(B),q.ok?kt(_,"TestPingServer: ok",!0,y):kt(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),kt(_,"TestPingServer: error",!1,y)})}function kt(u,y,_,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(_)}catch{}}function ui(){this.g=new Zs}function kr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(kr,rs),kr.prototype.g=function(){return new ln(this.i,this.h)};function ln(u,y){mt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ln,mt),n=ln.prototype,n.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,An(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ql(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ql(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?hs(this):An(this),this.readyState==3&&Ql(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},n.Na=function(u){this.g&&(this.response=u,hs(this))},n.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,An(u)}n.setRequestHeader=function(u,y){this.A.append(u,y)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=y.next();return u.join(`\r
`)};function An(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yl(u){let y="";return pe(u,function(_,T){y+=T,y+=":",y+=_,y+=`\r
`}),y}function eo(u,y,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Yl(_),typeof u=="string"?_!=null&&qn(_):Ue(u,y,_))}function We(u){mt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(We,mt);var Xl=/^https?$/i,uh=["POST","PUT"];n=We.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,y,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zl.g(),this.g.onreadystatechange=I(v(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(q){ds(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)_.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),B=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(uh,y,void 0)>=0)||T||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of _)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){ds(this,q)}};function ds(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,fs(u),Rr(u)}function fs(u){u.A||(u.A=!0,ut(u,"complete"),ut(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ut(this,"complete"),ut(this,"abort"),Rr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),We.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},n.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof l<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ut(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var T;if(T=q===0){let re=String(u.D).match(Kl)[1]||null;!re&&c.self&&c.self.location&&(re=c.self.location.protocol.slice(0,-1)),T=!Xl.test(re?re.toLowerCase():"")}_=T}if(_)ut(u,"complete"),ut(u,"success");else{u.o=6;try{var B=Jn(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",fs(u)}}finally{Rr(u)}}}}function Rr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,y||ut(u,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}n.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Ll(y)}};function Jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ea(u){const y={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var _=Ki(u[T]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=y[B]||[];y[B]=q,q.push(_)}le(y,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(u,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||y}function to(u){this.za=0,this.i=[],this.j=new as,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zn("baseRetryDelayMs",5e3,u),this.Za=Zn("retryDelaySeedMs",1e4,u),this.Ta=Zn("forwardChannelMaxRetries",2,u),this.va=Zn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Yi(u&&u.concurrentRequestLimit),this.Ba=new ui,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=to.prototype,n.ka=8,n.I=1,n.connect=function(u,y,_,T){it(0),this.W=u,this.H=y||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Ia(this,null,this.W),Pr(this)};function no(u){if(ro(u),u.I==3){var y=u.V++,_=vn(u.J);if(Ue(_,"SID",u.M),Ue(_,"RID",y),Ue(_,"TYPE","terminate"),er(u,_),y=new yn(u,u.j,y),y.M=2,y.A=Cr(vn(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=y.A,_=!0),_||(y.g=eu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ti(y)}di(u)}function un(u){u.g&&(hi(u),u.g.cancel(),u.g=null)}function ro(u){un(u),u.v&&(c.clearTimeout(u.v),u.v=null),so(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function Pr(u){if(!da(u.h)&&!u.m){u.m=!0;var y=u.Ea;ve||S(),te||(ve(),te=!0),R.add(y,u),u.D=0}}function Zl(u,y){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=os(v(u.Ea,u,y),oo(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new yn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),Se(q,this.U)):q=this.U),this.u!==null||this.R||(B.J=q,q=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ta(this,B,y),_=vn(this.J),Ue(_,"RID",u),Ue(_,"CVER",22),this.G&&Ue(_,"X-HTTP-Session-Id",this.G),er(this,_),q&&(this.R?y="headers="+qn(Yl(q))+"&"+y:this.u&&eo(_,this.u,q)),Xi(this.h,B),this.Ra&&Ue(_,"TYPE","init"),this.S?(Ue(_,"$req",y),Ue(_,"SID","null"),B.U=!0,kn(B,_,null)):kn(B,_,y),this.I=2}}else this.I==3&&(u?ci(this,u):this.i.length==0||da(this.h)||ci(this))};function ci(u,y){var _;y?_=y.l:_=u.V++;const T=vn(u.J);Ue(T,"SID",u.M),Ue(T,"RID",_),Ue(T,"AID",u.K),er(u,T),u.u&&u.o&&eo(T,u.u,u.o),_=new yn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ta(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Xi(u.h,_),kn(_,T,y)}function er(u,y){u.H&&pe(u.H,function(_,T){Ue(y,T,_)}),u.l&&pe({},function(_,T){Ue(y,T,_)})}function Ta(u,y,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;e:{var B=u.i;let Te=-1;for(;;){const ct=["count="+_];Te==-1?_>0?(Te=B[0].g,ct.push("ofs="+Te)):Te=0:ct.push("ofs="+Te);let $e=!0;for(let gt=0;gt<_;gt++){var q=B[gt].g;const hn=B[gt].map;if(q-=Te,q<0)Te=Math.max(0,B[gt].g-100),$e=!1;else try{q="req"+q+"_"||"";try{var re=hn instanceof Map?hn:Object.entries(hn);for(const[jr,nr]of re){let rr=nr;p(nr)&&(rr=ns(nr)),ct.push(q+jr+"="+encodeURIComponent(rr))}}catch(jr){throw ct.push(q+"type="+encodeURIComponent("_badmap")),jr}}catch{T&&T(hn)}}if($e){re=ct.join("&");break e}}re=void 0}return u=u.i.splice(0,_),y.G=u,re}function Ot(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ve||S(),te||(ve(),te=!0),R.add(y,u),u.A=0}}function tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=os(v(u.Da,u),oo(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,ps(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=os(v(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),un(this),ps(this))};function hi(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function ps(u){u.g=new yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=vn(u.na);Ue(y,"RID","rpc"),Ue(y,"SID",u.M),Ue(y,"AID",u.K),Ue(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ue(y,"TO",u.ia),Ue(y,"TYPE","xmlhttp"),er(u,y),u.u&&u.o&&eo(y,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Cr(vn(y)),_.u=null,_.R=!0,ca(_,u)}n.Va=function(){this.C!=null&&(this.C=null,un(this),tr(this),it(19))};function so(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function io(u,y){var _=null;if(u.g==y){so(u),hi(u),u.g=null;var T=2}else if(fa(u.h,y))_=y.G,si(u.h,y),T=1;else return;if(u.I!=0){if(y.o)if(T==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var B=u.D;T=is(),ut(T,new la(T,_)),Pr(u)}else Ot(u);else if(B=y.m,B==3||B==0&&y.X>0||!(T==1&&Zl(u,y)||T==2&&tr(u)))switch(_&&_.length>0&&(y=u.h,y.i=y.i.concat(_)),B){case 1:cn(u,5);break;case 4:cn(u,10);break;case 3:cn(u,6);break;default:cn(u,2)}}}function oo(u,y){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*y}function cn(u,y){if(u.j.info("Error code "+y),y==2){var _=v(u.bb,u),T=u.Ua;const B=!T;T=new Wn(T||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ii(T,"https"),Cr(T),B?Yn(T.toString(),_):Xn(T.toString(),_)}else it(2);u.I=0,u.l&&u.l.pa(y),di(u),ro(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function di(u){if(u.I=0,u.ja=[],u.l){const y=on(u.h);(y.length!=0||u.i.length!=0)&&($(u.ja,y),$(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function Ia(u,y,_){var T=_ instanceof Wn?vn(_):new Wn(_);if(T.g!="")y&&(T.g=y+"."+T.g),Gn(T,T.u);else{var B=c.location;T=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const q=new Wn(null);T&&ii(q,T),y&&(q.g=y),B&&Gn(q,B),_&&(q.h=_),T=q}return _=u.G,y=u.wa,_&&y&&Ue(T,_,y),Ue(T,"VER",u.ka),er(u,T),T}function eu(u,y,_){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new We(new kr({ab:_})):new We(u.ma),y.Fa(u.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}n=tu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ao(){}ao.prototype.g=function(u,y){return new At(u,y)};function At(u,y){mt.call(this),this.g=new to(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!C(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ms(this)}E(At,mt),At.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){no(this.g)},At.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ns(u),u=_);y.i.push(new ah(y.Ya++,u)),y.I==3&&Pr(y)},At.prototype.N=function(){this.g.l=null,delete this.j,no(this.g),delete this.g,At.Z.N.call(this)};function nu(u){qi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const _ in y){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}E(nu,qi);function ru(){aa.call(this),this.status=1}E(ru,aa);function ms(u){this.g=u}E(ms,tu),ms.prototype.ra=function(){ut(this.g,"a")},ms.prototype.qa=function(u){ut(this.g,new nu(u))},ms.prototype.pa=function(u){ut(this.g,new ru)},ms.prototype.oa=function(){ut(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,l0=function(){return new ao},a0=function(){return is()},o0=Cn,uf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,dc=ls,us.COMPLETE="complete",i0=us,Ml.EventType=ss,ss.OPEN="a",ss.CLOSE="b",ss.ERROR="c",ss.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Za=Ml,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,s0=We}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore",By="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Mf("@firebase/firestore");function Ao(){return Di.logLevel}function ue(n,...e){if(Di.logLevel<=Pe.DEBUG){const t=e.map(Xf);Di.debug(`Firestore (${Yo}): ${n}`,...t)}}function Yr(n,...e){if(Di.logLevel<=Pe.ERROR){const t=e.map(Xf);Di.error(`Firestore (${Yo}): ${n}`,...t)}}function Uo(n,...e){if(Di.logLevel<=Pe.WARN){const t=e.map(Xf);Di.warn(`Firestore (${Yo}): ${n}`,...t)}}function Xf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,u0(n,s,t)}function u0(n,e,t){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Yr(s),new Error(s)}function ze(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||u0(e,o,s)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class Ub{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Bb{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string",31837,{l:s}),new c0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class zb{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $b{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new zb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hb{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const s=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=qb(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function je(n,e){return n<e?-1:n>e?1:0}function cf(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),l=e.charAt(s);if(o!==l)return Hd(o)===Hd(l)?je(o,l):Hd(o)?1:-1}return je(n.length,e.length)}const Wb=55296,Gb=57343;function Hd(n){const e=n.charCodeAt(0);return e>=Wb&&e<=Gb}function Bo(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="__name__";class cr{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&_e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=cr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const s=cr.isNumericId(e),o=cr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?cr.extractNumericId(e).compare(cr.extractNumericId(t)):cf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class Qe extends cr{construct(e,t,s){return new Qe(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Qe(t)}static emptyPath(){return new Qe([])}}const Kb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends cr{construct(e,t,s){return new Dt(e,t,s)}static isValidIdentifier(e){return Kb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$y}static keyField(){return new Dt([$y])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new oe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(s+=p,o++):(l(),o++)}if(l(),c)throw new oe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Qe.fromString(e))}static fromName(e){return new me(Qe.fromString(e).popFirst(5))}static empty(){return new me(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(n,e,t){if(!t)throw new oe(K.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Qb(n,e,t,s){if(e===!0&&s===!0)throw new oe(K.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hy(n){if(!me.isDocumentKey(n))throw new oe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qy(n){if(me.isDocumentKey(n))throw new oe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function d0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e(12329,{type:typeof n})}function wr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qc(n);throw new oe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,e){const t={typeString:n};return e&&(t.value=e),t}function kl(n,e){if(!d0(n))throw new oe(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new oe(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=-62135596800,Gy=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Gy);return new Ze(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Wy)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gy}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kl(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:wt("string",Ze._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ze(0,0))}static max(){return new Ee(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function Yb(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new Ze(t+1,0):new Ze(t,s));return new Bs(o,me.empty(),e)}function Xb(n){return new Bs(n.readTime,n.key,pl)}class Bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Bs(Ee.min(),me.empty(),pl)}static max(){return new Bs(Ee.max(),me.empty(),pl)}}function Jb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n){if(n.code!==K.FAILED_PRECONDITION||n.message!==Zb)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,s)=>{t(e)}))}static reject(e){return new Y(((t,s)=>{s(e)}))}static waitFor(e){return new Y(((t,s)=>{let o=0,l=0,c=!1;e.forEach((p=>{++o,p.next((()=>{++l,c&&l===o&&t()}),(m=>s(m)))})),c=!0,l===o&&t()}))}static or(e){let t=Y.resolve(!1);for(const s of e)t=t.next((o=>o?Y.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new Y(((s,o)=>{const l=e.length,c=new Array(l);let p=0;for(let m=0;m<l;m++){const v=m;t(e[v]).next((w=>{c[v]=w,++p,p===l&&s(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new Y(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function tN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=-1;function Gc(n){return n==null}function Nc(n){return n===0&&1/n==-1/0}function nN(n){return typeof n=="number"&&Number.isInteger(n)&&!Nc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="";function rN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ky(e)),e=sN(n.get(t),e);return Ky(e)}function sN(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case f0:t+="";break;default:t+=l}}return t}function Ky(n){return n+f0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function p0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??jt.RED,this.left=o??jt.EMPTY,this.right=l??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new jt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new mn([])}unionWith(e){let t=new It(Dt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new m0("Invalid base64 string: "+l):l}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=iN.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $s(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="server_timestamp",y0="__type__",v0="__previous_value__",_0="__local_write_time__";function ep(n){return(n?.mapValue?.fields||{})[y0]?.stringValue===g0}function Kc(n){const e=n.mapValue.fields[v0];return ep(e)?Kc(e):e}function ml(n){const e=zs(n.mapValue.fields[_0].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t,s,o,l,c,p,m,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=w}}const Cc="(default)";class gl{constructor(e,t){this.projectId=e,this.database=t||Cc}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===Cc}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="__type__",aN="__max__",tc={mapValue:{}},x0="__vector__",kc="value";function Hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ep(n)?4:uN(n)?9007199254740991:lN(n)?10:11:_e(28295,{value:n})}function xr(n,e){if(n===e)return!0;const t=Hs(n);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ml(n).isEqual(ml(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=zs(o.timestampValue),p=zs(l.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return $s(o.bytesValue).isEqual($s(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return dt(o.geoPointValue.latitude)===dt(l.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return dt(o.integerValue)===dt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=dt(o.doubleValue),p=dt(l.doubleValue);return c===p?Nc(c)===Nc(p):isNaN(c)&&isNaN(p)}return!1})(n,e);case 9:return Bo(n.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},p=l.mapValue.fields||{};if(Qy(c)!==Qy(p))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(p[m]===void 0||!xr(c[m],p[m])))return!1;return!0})(n,e);default:return _e(52216,{left:n})}}function yl(n,e){return(n.values||[]).find((t=>xr(t,e)))!==void 0}function zo(n,e){if(n===e)return 0;const t=Hs(n),s=Hs(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const p=dt(l.integerValue||l.doubleValue),m=dt(c.integerValue||c.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(n,e);case 3:return Xy(n.timestampValue,e.timestampValue);case 4:return Xy(ml(n),ml(e));case 5:return cf(n.stringValue,e.stringValue);case 6:return(function(l,c){const p=$s(l),m=$s(c);return p.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const p=l.split("/"),m=c.split("/");for(let v=0;v<p.length&&v<m.length;v++){const w=je(p[v],m[v]);if(w!==0)return w}return je(p.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const p=je(dt(l.latitude),dt(c.latitude));return p!==0?p:je(dt(l.longitude),dt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Jy(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const p=l.fields||{},m=c.fields||{},v=p[kc]?.arrayValue,w=m[kc]?.arrayValue,E=je(v?.values?.length||0,w?.values?.length||0);return E!==0?E:Jy(v,w)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===tc.mapValue&&c===tc.mapValue)return 0;if(l===tc.mapValue)return 1;if(c===tc.mapValue)return-1;const p=l.fields||{},m=Object.keys(p),v=c.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let E=0;E<m.length&&E<w.length;++E){const I=cf(m[E],w[E]);if(I!==0)return I;const j=zo(p[m[E]],v[w[E]]);if(j!==0)return j}return je(m.length,w.length)})(n.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function Xy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=zs(n),s=zs(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function Jy(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=zo(t[o],s[o]);if(l)return l}return je(t.length,s.length)}function $o(n){return hf(n)}function hf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=zs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $s(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return me.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=hf(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${hf(t.fields[c])}`;return o+"}"})(n.mapValue):_e(61005,{value:n})}function fc(n){switch(Hs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(n);return e?16+fc(e):16;case 5:return 2*n.stringValue.length;case 6:return $s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+fc(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Qs(s.fields,((l,c)=>{o+=l.length+fc(c)})),o})(n.mapValue);default:throw _e(13486,{value:n})}}function Zy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function df(n){return!!n&&"integerValue"in n}function tp(n){return!!n&&"arrayValue"in n}function ev(n){return!!n&&"nullValue"in n}function tv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pc(n){return!!n&&"mapValue"in n}function lN(n){return(n?.mapValue?.fields||{})[w0]?.stringValue===x0}function il(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Qs(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=il(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=il(n.arrayValue.values[t]);return e}return{...n}}function uN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===aN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(t)}setAll(e){let t=Dt.emptyPath(),s={},o=[];e.forEach(((c,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=p.popLast()}c?s[p.lastSegment()]=il(c):o.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Qs(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new sn(il(this.value))}}function E0(n){const e=[];return Qs(n.fields,((t,s)=>{const o=new Dt([t]);if(pc(s)){const l=E0(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,s,o,l,c,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=p}static newInvalidDocument(e){return new Ht(e,0,Ee.min(),Ee.min(),Ee.min(),sn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ht(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new Ht(e,2,t,Ee.min(),Ee.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,Ee.min(),Ee.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.position=e,this.inclusive=t}}function nv(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?s=me.comparator(me.fromName(c.referenceValue),t.key):s=zo(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function rv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t="asc"){this.field=e,this.dir=t}}function cN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{}class _t extends T0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new dN(e,t,s):t==="array-contains"?new mN(e,s):t==="in"?new gN(e,s):t==="not-in"?new yN(e,s):t==="array-contains-any"?new vN(e,s):new _t(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new fN(e,s):new pN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(zo(t,this.value)):t!==null&&Hs(this.value)===Hs(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends T0{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Bn(e,t)}matches(e){return I0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function I0(n){return n.op==="and"}function S0(n){return hN(n)&&I0(n)}function hN(n){for(const e of n.filters)if(e instanceof Bn)return!1;return!0}function ff(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(S0(n))return n.filters.map((e=>ff(e))).join(",");{const e=n.filters.map((t=>ff(t))).join(",");return`${n.op}(${e})`}}function b0(n,e){return n instanceof _t?(function(s,o){return o instanceof _t&&s.op===o.op&&s.field.isEqual(o.field)&&xr(s.value,o.value)})(n,e):n instanceof Bn?(function(s,o){return o instanceof Bn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,p)=>l&&b0(c,o.filters[p])),!0):!1})(n,e):void _e(19439)}function N0(n){return n instanceof _t?(function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`})(n):n instanceof Bn?(function(t){return t.op.toString()+" {"+t.getFilters().map(N0).join(" ,")+"}"})(n):"Filter"}class dN extends _t{constructor(e,t,s){super(e,t,s),this.key=me.fromName(s.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class fN extends _t{constructor(e,t){super(e,"in",t),this.keys=C0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pN extends _t{constructor(e,t){super(e,"not-in",t),this.keys=C0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function C0(n,e){return(e.arrayValue?.values||[]).map((t=>me.fromName(t.referenceValue)))}class mN extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tp(t)&&yl(t.arrayValue,this.value)}}class gN extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yl(this.value.arrayValue,t)}}class yN extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yl(this.value.arrayValue,t)}}class vN extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>yl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t=null,s=[],o=[],l=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=p,this.Te=null}}function sv(n,e=null,t=[],s=[],o=null,l=null,c=null){return new _N(n,e,t,s,o,l,c)}function np(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>ff(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Gc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>$o(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>$o(s))).join(",")),e.Te=t}return e.Te}function rp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!b0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rv(n.startAt,e.startAt)&&rv(n.endAt,e.endAt)}function pf(n){return me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t=null,s=[],o=[],l=null,c="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wN(n,e,t,s,o,l,c,p){return new Zo(n,e,t,s,o,l,c,p)}function sp(n){return new Zo(n)}function iv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function k0(n){return n.collectionGroup!==null}function ol(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new It(Dt.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new vl(l,s))})),t.has(Dt.keyField().canonicalString())||e.Ie.push(new vl(Dt.keyField(),s))}return e.Ie}function pr(n){const e=Ie(n);return e.Ee||(e.Ee=xN(e,ol(n))),e.Ee}function xN(n,e){if(n.limitType==="F")return sv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new vl(o.field,l)}));const t=n.endAt?new Ac(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Ac(n.startAt.position,n.startAt.inclusive):null;return sv(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function mf(n,e){const t=n.filters.concat([e]);return new Zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gf(n,e,t){return new Zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qc(n,e){return rp(pr(n),pr(e))&&n.limitType===e.limitType}function A0(n){return`${np(pr(n))}|lt:${n.limitType}`}function Ro(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>N0(o))).join(", ")}]`),Gc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>$o(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>$o(o))).join(",")),`Target(${s})`})(pr(n))}; limitType=${n.limitType})`}function Yc(n,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,o){for(const l of ol(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(c,p,m){const v=nv(c,p,m);return c.inclusive?v<=0:v<0})(s.startAt,ol(s),o)||s.endAt&&!(function(c,p,m){const v=nv(c,p,m);return c.inclusive?v>=0:v>0})(s.endAt,ol(s),o))})(n,e)}function EN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R0(n){return(e,t)=>{let s=!1;for(const o of ol(n)){const l=TN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function TN(n,e,t){const s=n.field.isKeyField()?me.comparator(e.key,t.key):(function(l,c,p){const m=c.data.field(l),v=p.data.field(l);return m!==null&&v!==null?zo(m,v):_e(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return p0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new st(me.comparator);function Xr(){return IN}const P0=new st(me.comparator);function el(...n){let e=P0;for(const t of n)e=e.insert(t.key,t);return e}function j0(n){let e=P0;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ni(){return al()}function D0(){return al()}function al(){return new Mi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const SN=new st(me.comparator),bN=new It(me.comparator);function De(...n){let e=bN;for(const t of n)e=e.add(t);return e}const NN=new It(je);function CN(){return NN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function V0(n){return{integerValue:""+n}}function kN(n,e){return nN(e)?V0(e):ip(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function AN(n,e,t){return n instanceof Rc?(function(o,l){const c={fields:{[y0]:{stringValue:g0},[_0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ep(l)&&(l=Kc(l)),l&&(c.fields[v0]=l),{mapValue:c}})(t,e):n instanceof _l?L0(n,e):n instanceof wl?M0(n,e):(function(o,l){const c=O0(o,l),p=ov(c)+ov(o.Ae);return df(c)&&df(o.Ae)?V0(p):ip(o.serializer,p)})(n,e)}function RN(n,e,t){return n instanceof _l?L0(n,e):n instanceof wl?M0(n,e):t}function O0(n,e){return n instanceof Pc?(function(s){return df(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Rc extends Xc{}class _l extends Xc{constructor(e){super(),this.elements=e}}function L0(n,e){const t=F0(e);for(const s of n.elements)t.some((o=>xr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class wl extends Xc{constructor(e){super(),this.elements=e}}function M0(n,e){let t=F0(e);for(const s of n.elements)t=t.filter((o=>!xr(o,s)));return{arrayValue:{values:t}}}class Pc extends Xc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ov(n){return dt(n.integerValue||n.doubleValue)}function F0(n){return tp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function PN(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof _l&&o instanceof _l||s instanceof wl&&o instanceof wl?Bo(s.elements,o.elements,xr):s instanceof Pc&&o instanceof Pc?xr(s.Ae,o.Ae):s instanceof Rc&&o instanceof Rc})(n.transform,e.transform)}class jN{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jc{}function U0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new z0(n.key,Fn.none()):new Al(n.key,n.data,Fn.none());{const t=n.data,s=sn.empty();let o=new It(Dt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Ys(n.key,s,new mn(o.toArray()),Fn.none())}}function DN(n,e,t){n instanceof Al?(function(o,l,c){const p=o.value.clone(),m=lv(o.fieldTransforms,l,c.transformResults);p.setAll(m),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):n instanceof Ys?(function(o,l,c){if(!mc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const p=lv(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(B0(o)),m.setAll(p),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ll(n,e,t,s){return n instanceof Al?(function(l,c,p,m){if(!mc(l.precondition,c))return p;const v=l.value.clone(),w=uv(l.fieldTransforms,m,c);return v.setAll(w),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Ys?(function(l,c,p,m){if(!mc(l.precondition,c))return p;const v=uv(l.fieldTransforms,m,c),w=c.data;return w.setAll(B0(l)),w.setAll(v),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(l,c,p){return mc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p})(n,e,t)}function VN(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=O0(s.transform,o||null);l!=null&&(t===null&&(t=sn.empty()),t.set(s.field,l))}return t||null}function av(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Bo(s,o,((l,c)=>PN(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Al extends Jc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends Jc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function B0(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function lv(n,e,t){const s=new Map;ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,p=e.data.field(l.field);s.set(l.field,RN(c,p,t[o]))}return s}function uv(n,e,t){const s=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);s.set(o.field,AN(l,c,e))}return s}class z0 extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ON extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&DN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ll(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ll(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=D0();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let p=this.applyToLocalView(c,l.mutatedFields);p=t.has(o.key)?null:p;const m=U0(c,p);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((t,s)=>av(t,s)))&&Bo(this.baseMutations,e.baseMutations,((t,s)=>av(t,s)))}}class op{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return SN})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new op(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Oe;function UN(n){switch(n){case K.OK:return _e(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return _e(15467,{code:n})}}function $0(n){if(n===void 0)return Yr("GRPC error has no .code"),K.UNKNOWN;switch(n){case vt.OK:return K.OK;case vt.CANCELLED:return K.CANCELLED;case vt.UNKNOWN:return K.UNKNOWN;case vt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case vt.INTERNAL:return K.INTERNAL;case vt.UNAVAILABLE:return K.UNAVAILABLE;case vt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case vt.NOT_FOUND:return K.NOT_FOUND;case vt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case vt.ABORTED:return K.ABORTED;case vt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case vt.DATA_LOSS:return K.DATA_LOSS;default:return _e(39323,{code:n})}}(Oe=vt||(vt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Ms([4294967295,4294967295],0);function cv(n){const e=BN().encode(n),t=new r0;return t.update(e),new Uint8Array(t.digest())}function hv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ms([t,s],0),new Ms([o,l],0)]}class ap{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new tl(`Invalid padding: ${t}`);if(s<0)throw new tl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new tl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ms.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Ms.fromNumber(s)));return o.compare(zN)===1&&(o=new Ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=cv(e),[s,o]=hv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ap(l,o,t);return s.forEach((p=>c.insert(p))),c}insert(e){if(this.ge===0)return;const t=cv(e),[s,o]=hv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Zc(Ee.min(),o,new st(je),Xr(),De())}}class Rl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Rl(s,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class H0{constructor(e,t){this.targetId=e,this.Ce=t}}class q0{constructor(e,t,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class dv{constructor(){this.ve=0,this.Fe=fv(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),t=De(),s=De();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:l})}})),new Rl(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=fv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $N{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=nc(),this.He=nc(),this.Ye=new st(je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(pf(l))if(s===0){const c=new me(l.path);this.et(t,c,Ht.newNoDocument(c,Ee.min()))}else ze(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const p=this.ut(e),m=p?this.ct(p,e,c):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,p;try{c=$s(s).toUint8Array()}catch(m){if(m instanceof m0)return Uo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new ap(c,o,l)}catch(m){return Uo(m instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),p=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const p=this.ot(c);if(p){if(l.current&&pf(p.target)){const m=new me(p.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Ht.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=De();this.He.forEach(((l,c)=>{let p=!0;c.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new Zc(e,t,this.Ye,this.je,s);return this.je=Xr(),this.Je=nc(),this.He=nc(),this.Ye=new st(je),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new dv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new It(je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new It(je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nc(){return new st(me.comparator)}function fv(){return new st(me.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WN={and:"AND",or:"OR"};class GN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yf(n,e){return n.useProto3Json||Gc(e)?e:{value:e}}function jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KN(n,e){return jc(n,e.toTimestamp())}function mr(n){return ze(!!n,49232),Ee.fromTimestamp((function(t){const s=zs(t);return new Ze(s.seconds,s.nanos)})(n))}function lp(n,e){return vf(n,e).canonicalString()}function vf(n,e){const t=(function(o){return new Qe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function G0(n){const e=Qe.fromString(n);return ze(J0(e),10190,{key:e.toString()}),e}function _f(n,e){return lp(n.databaseId,e.path)}function qd(n,e){const t=G0(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(Q0(t))}function K0(n,e){return lp(n.databaseId,e)}function QN(n){const e=G0(n);return e.length===4?Qe.emptyPath():Q0(e)}function wf(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q0(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pv(n,e,t){return{name:_f(n,e),fields:t.value.mapValue.fields}}function YN(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_e(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,w){return v.useProto3Json?(ze(w===void 0||typeof w=="string",58123),Vt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Vt.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&(function(v){const w=v.code===void 0?K.UNKNOWN:$0(v.code);return new oe(w,v.message||"")})(c);t=new q0(s,o,l,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qd(n,s.document.name),l=mr(s.document.updateTime),c=s.document.createTime?mr(s.document.createTime):Ee.min(),p=new sn({mapValue:{fields:s.document.fields}}),m=Ht.newFoundDocument(o,l,c,p),v=s.targetIds||[],w=s.removedTargetIds||[];t=new gc(v,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qd(n,s.document),l=s.readTime?mr(s.readTime):Ee.min(),c=Ht.newNoDocument(o,l),p=s.removedTargetIds||[];t=new gc([],p,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qd(n,s.document),l=s.removedTargetIds||[];t=new gc([],l,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new FN(o,l),p=s.targetId;t=new H0(p,c)}}return t}function XN(n,e){let t;if(e instanceof Al)t={update:pv(n,e.key,e.value)};else if(e instanceof z0)t={delete:_f(n,e.key)};else if(e instanceof Ys)t={update:pv(n,e.key,e.data),updateMask:oC(e.fieldMask)};else{if(!(e instanceof ON))return _e(16599,{Vt:e.type});t={verify:_f(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const p=c.transform;if(p instanceof Rc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _l)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof wl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Pc)return{fieldPath:c.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:KN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e(27497)})(n,e.precondition)),t}function JN(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?mr(o.updateTime):mr(l);return c.isEqual(Ee.min())&&(c=mr(l)),new jN(c,o.transformResults||[])})(t,e)))):[]}function ZN(n,e){return{documents:[K0(n,e.path)]}}function eC(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=K0(n,o);const l=(function(v){if(v.length!==0)return X0(Bn.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(v){if(v.length!==0)return v.map((w=>(function(I){return{field:Po(I.field),direction:rC(I.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=yf(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function tC(n){let e=QN(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ze(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(E){const I=Y0(E);return I instanceof Bn&&S0(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((I=>(function($){return new vl(jo($.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(I)))})(t.orderBy));let p=null;t.limit&&(p=(function(E){let I;return I=typeof E=="object"?E.value:E,Gc(I)?null:I})(t.limit));let m=null;t.startAt&&(m=(function(E){const I=!!E.before,j=E.values||[];return new Ac(j,I)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const I=!E.before,j=E.values||[];return new Ac(j,I)})(t.endAt)),wN(e,o,c,l,p,"F",m,v)}function nC(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Y0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=jo(t.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=jo(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=jo(t.unaryFilter.field);return _t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=jo(t.unaryFilter.field);return _t.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return _t.create(jo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Bn.create(t.compositeFilter.filters.map((s=>Y0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(t.compositeFilter.op))})(n):_e(30097,{filter:n})}function rC(n){return HN[n]}function sC(n){return qN[n]}function iC(n){return WN[n]}function Po(n){return{fieldPath:n.canonicalString()}}function jo(n){return Dt.fromServerFormat(n.fieldPath)}function X0(n){return n instanceof _t?(function(t){if(t.op==="=="){if(tv(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(ev(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tv(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(ev(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:sC(t.op),value:t.value}}})(n):n instanceof Bn?(function(t){const s=t.getFilters().map((o=>X0(o)));return s.length===1?s[0]:{compositeFilter:{op:iC(t.op),filters:s}}})(n):_e(54877,{filter:n})}function oC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function J0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,s,o,l=Ee.min(),c=Ee.min(),p=Vt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.yt=e}}function lC(n){const e=tC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.Cn=new cC}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Bs.min())}updateCollectionGroup(e,t,s){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class cC{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new It(Qe.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Z0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="LruGarbageCollector",hC=1048576;function yv([n,e],[t,s]){const o=je(n,t);return o===0?je(e,s):o}class dC{constructor(e){this.Ir=e,this.buffer=new It(yv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fC{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(gv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jo(t)?ue(gv,"Ignoring IndexedDB error during garbage collection: ",t):await Xo(t)}await this.Vr(3e5)}))}}class pC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Wc.ce);const s=new dC(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(mv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,c,p,m,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),Ao()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${l} targets in `+(m-p)+`ms
	Removed ${E} documents in `+(v-m)+`ms
Total Duration: ${v-w}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function mC(n,e){return new pC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.changes=new Mi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Y.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&ll(s.mutation,o,mn.empty(),Ze.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,De()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=De()){const o=Ni();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let c=el();return l.forEach(((p,m)=>{c=c.insert(p,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Ni();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,De())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,p)=>{t.set(c,p)}))}))}computeViews(e,t,s,o){let l=Xr();const c=al(),p=(function(){return al()})();return t.forEach(((m,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Ys)?l=l.insert(v.key,v):w!==void 0?(c.set(v.key,w.mutation.getFieldMask()),ll(w.mutation,v,w.mutation.getFieldMask(),Ze.now())):c.set(v.key,mn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((v,w)=>c.set(v,w))),t.forEach(((v,w)=>p.set(v,new yC(w,c.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=al();let o=new st(((c,p)=>c-p)),l=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const p of c)p.keys().forEach((m=>{const v=t.get(m);if(v===null)return;let w=s.get(m)||mn.empty();w=p.applyToLocalView(v,w),s.set(m,w);const E=(o.get(p.batchId)||De()).add(m);o=o.insert(p.batchId,E)}))})).next((()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),v=m.key,w=m.value,E=D0();w.forEach((I=>{if(!l.has(I)){const j=U0(t.get(I),s.get(I));j!==null&&E.set(I,j),l=l.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,E))}return Y.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):k0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Y.resolve(Ni());let p=pl,m=l;return c.next((v=>Y.forEach(v,((w,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),l.get(w)?Y.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{m=m.insert(w,I)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,m,v,De()))).next((w=>({batchId:p,changes:j0(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((s=>{let o=el();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=el();return this.indexManager.getCollectionParents(e,l).next((p=>Y.forEach(p,(m=>{const v=(function(E,I){return new Zo(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((E,I)=>{c=c.insert(E,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((c=>{l.forEach(((m,v)=>{const w=v.getKey();c.get(w)===null&&(c=c.insert(w,Ht.newInvalidDocument(w)))}));let p=el();return c.forEach(((m,v)=>{const w=l.get(m);w!==void 0&&ll(w.mutation,v,mn.empty(),Ze.now()),Yc(t,v)&&(p=p.insert(m,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:lC(o.bundledQuery),readTime:mr(o.readTime)}})(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.overlays=new st(me.comparator),this.qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ni();return Y.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),Y.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(e,t,s){const o=Ni(),l=t.length+1,c=new me(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const m=p.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new st(((v,w)=>v-w));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=l.get(v.largestBatchId);w===null&&(w=Ni(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const p=Ni(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,w)=>p.set(v,w))),!(p.size()>=o)););return Y.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new MN(t,s));let l=this.qr.get(t);l===void 0&&(l=De(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.Qr=new It(Ct.$r),this.Ur=new It(Ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ct(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Ct(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new me(new Qe([])),s=new Ct(t,e),o=new Ct(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new me(new Qe([])),s=new Ct(t,e),o=new Ct(t,e+1);let l=De();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Ct(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ct{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return me.comparator(e.key,t.key)||je(e.Yr,t.Yr)}static Kr(e,t){return je(e.Yr,t.Yr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new It(Ct.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new LN(l,t,s,o);this.mutationQueue.push(c);for(const p of o)this.Zr=this.Zr.add(new Ct(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Y.resolve(c)}lookupMutationBatch(e,t){return Y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Zf:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const p=this.Xr(c.Yr);l.push(p)})),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new It(je);return t.forEach((o=>{const l=new Ct(o,0),c=new Ct(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(p=>{s=s.add(p.Yr)}))})),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;me.isDocumentKey(l)||(l=l.child(""));const c=new Ct(new me(l),0);let p=new It(je);return this.Zr.forEachWhile((m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(p=p.add(m.Yr)),!0)}),c),Y.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(t.mutations,(o=>{const l=new Ct(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Ct(t,0),o=this.Zr.firstAfterOrEqual(s);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.ri=e,this.docs=(function(){return new st(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Y.resolve(s?s.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let s=Xr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Ht.newInvalidDocument(o))})),Y.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Xr();const c=t.path,p=new me(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||Jb(Xb(w),s)<=0||(o.has(w.key)||Yc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,t,s,o){_e(9500)}ii(e,t){return Y.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new IC(this)}getSize(e){return Y.resolve(this.size)}}class IC extends gC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.persistence=e,this.si=new Mi((t=>np(t)),rp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new up,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),Y.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ho(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Pr(t),Y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((c,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Y.waitFor(l).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return Y.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),Y.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Y.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return Y.resolve(s)}containsKey(e,t){return Y.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wc(0),this.li=!1,this.li=!0,this.hi=new xC,this.referenceDelegate=e(this),this.Pi=new SC(this),this.indexManager=new uC,this.remoteDocumentCache=(function(o){return new TC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new aC(t),this.Ii=new _C(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new EC(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new bC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return Y.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class bC extends eN{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.Ri=new up,this.Vi=null}static mi(e){return new cp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),Y.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Dc{constructor(e,t){this.persistence=e,this.pi=new Mi((s=>rN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=mC(this,t)}static mi(e,t){return new Dc(e,t)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return Y.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?Y.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((p=>{p||(s++,l.removeEntry(c,Ee.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fc(e.data.value)),t}br(e,t,s){return Y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=De(),o=De();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new hp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v1()?8:tN(Wt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new NC;return this.Ss(e,t,c).next((p=>{if(l.result=p,this.Vs)return this.bs(e,t,c,p.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Ao()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Ao()<=Pe.DEBUG&&ue("QueryEngine","Query:",Ro(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ao()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):Y.resolve())}ys(e,t){if(iv(t))return Y.resolve(null);let s=pr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=gf(t,null,"F"),s=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=De(...l);return this.ps.getDocuments(e,c).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const v=this.Ds(t,p);return this.Cs(t,v,c,m.readTime)?this.ys(e,gf(t,null,"F")):this.vs(e,v,t,m)}))))})))))}ws(e,t,s,o){return iv(t)||o.isEqual(Ee.min())?Y.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,o)?Y.resolve(null):(Ao()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(t)),this.vs(e,c,t,Yb(o,pl)).next((p=>p)))}))}Ds(e,t){let s=new It(R0(e));return t.forEach(((o,l)=>{Yc(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return Ao()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ro(t)),this.ps.getDocumentsMatchingQuery(e,t,Bs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="LocalStore",kC=3e8;class AC{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new st(je),this.xs=new Mi((l=>np(l)),rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function RC(n,e,t,s){return new AC(n,e,t,s)}async function tw(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],p=[];let m=De();for(const v of o){c.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of l){p.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(s,m).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:p})))}))}))}function PC(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,m,v,w){const E=v.batch,I=E.keys();let j=Y.resolve();return I.forEach(($=>{j=j.next((()=>w.getEntry(m,$))).next((F=>{const V=v.docVersions.get($);ze(V!==null,48541),F.version.compareTo(V)<0&&(E.applyToRemoteDocument(F,v),F.isValidDocument()&&(F.setReadTime(v.commitVersion),w.addEntry(F)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(m,E)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=De();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(m=m.add(p.batch.mutations[v].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function nw(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function jC(n,e){const t=Ie(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((w,E)=>{const I=o.get(E);if(!I)return;p.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,w.addedDocuments,E))));let j=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?j=j.withResumeToken(Vt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(w.resumeToken,s)),o=o.insert(E,j),(function(F,V,G){return F.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=kC?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(I,j,w)&&p.push(t.Pi.updateTargetData(l,j))}));let m=Xr(),v=De();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),p.push(DC(l,c,e.documentUpdates).next((w=>{m=w.ks,v=w.qs}))),!s.isEqual(Ee.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));p.push(w)}return Y.waitFor(p).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,v))).next((()=>m))})).then((l=>(t.Ms=o,l)))}function DC(n,e,t){let s=De(),o=De();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let c=Xr();return t.forEach(((p,m)=>{const v=l.get(p);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(p,m.readTime),c=c.insert(p,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(p,m)):ue(dp,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function VC(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Zf),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function OC(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,Y.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new Vs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function xf(n,e,t){const s=Ie(n),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Jo(c))throw c;ue(dp,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function vv(n,e,t){const s=Ie(n);let o=Ee.min(),l=De();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,v,w){const E=Ie(m),I=E.xs.get(w);return I!==void 0?Y.resolve(E.Ms.get(I)):E.Pi.getTargetData(v,w)})(s,c,pr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,p.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:Ee.min(),t?l:De()))).next((p=>(LC(s,EN(e),p),{documents:p,Qs:l})))))}function LC(n,e,t){let s=n.Os.get(e)||Ee.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(e,s)}class _v{constructor(){this.activeTargetIds=CN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MC{constructor(){this.Mo=new _v,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _v,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="ConnectivityMonitor";class xv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(wv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(wv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Ef(){return rc===null?rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Cc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const c=Ef(),p=this.zo(e,t.toUriEncodedString());ue(Wd,`Sending RPC '${e}' ${c}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:v}=new URL(p),w=Ks(v);return this.Jo(e,p,m,s,w).then((E=>(ue(Wd,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Uo(Wd,`RPC '${e}' ${c} failed with error: `,E,"url: ",p,"request:",s),E}))}Ho(e,t,s,o,l,c){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=UC[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class $C extends BC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const c=Ef();return new Promise(((p,m)=>{const v=new s0;v.setWithCredentials(!0),v.listenOnce(i0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case dc.NO_ERROR:const E=v.getResponseJson();ue(Bt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),p(E);break;case dc.TIMEOUT:ue(Bt,`RPC '${e}' ${c} timed out`),m(new oe(K.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const I=v.getStatus();if(ue(Bt,`RPC '${e}' ${c} failed with status:`,I,"response text:",v.getResponseText()),I>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j?.error;if($&&$.status&&$.message){const F=(function(G){const W=G.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(W)>=0?W:K.UNKNOWN})($.status);m(new oe(F,$.message))}else m(new oe(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new oe(K.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ue(Bt,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);ue(Bt,`RPC '${e}' ${c} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=Ef(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=l0(),p=a0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const w=l.join("");ue(Bt,`Creating RPC '${e}' stream ${o}: ${w}`,m);const E=c.createWebChannel(w,m);this.I_(E);let I=!1,j=!1;const $=new zC({Yo:V=>{j?ue(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(I||(ue(Bt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),ue(Bt,`RPC '${e}' stream ${o} sending:`,V),E.send(V))},Zo:()=>E.close()}),F=(V,G,W)=>{V.listen(G,(Q=>{try{W(Q)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return F(E,Za.EventType.OPEN,(()=>{j||(ue(Bt,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),F(E,Za.EventType.CLOSE,(()=>{j||(j=!0,ue(Bt,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(E))})),F(E,Za.EventType.ERROR,(V=>{j||(j=!0,Uo(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),$.a_(new oe(K.UNAVAILABLE,"The operation could not be completed")))})),F(E,Za.EventType.MESSAGE,(V=>{if(!j){const G=V.data[0];ze(!!G,16349);const W=G,Q=W?.error||W[0]?.error;if(Q){ue(Bt,`RPC '${e}' stream ${o} received error:`,Q);const ie=Q.status;let ve=(function(S){const b=vt[S];if(b!==void 0)return $0(b)})(ie),te=Q.message;ve===void 0&&(ve=K.INTERNAL,te="Unknown error status: "+ie+" with message "+Q.message),j=!0,$.a_(new oe(ve,te)),E.close()}else ue(Bt,`RPC '${e}' stream ${o} received:`,G),$.u_(G)}})),F(p,o0.STAT_EVENT,(V=>{V.stat===uf.PROXY?ue(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===uf.NOPROXY&&ue(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n){return new GN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="PersistentStream";class sw{constructor(e,t,s,o,l,c,p,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(Ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HC extends sw{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=YN(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ee.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ee.min():c.readTime?mr(c.readTime):Ee.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=wf(this.serializer),t.addTarget=(function(l,c){let p;const m=c.target;if(p=pf(m)?{documents:ZN(l,m)}:{query:eC(l,m).ft},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=W0(l,c.resumeToken);const v=yf(l,c.expectedCount);v!==null&&(p.expectedCount=v)}else if(c.snapshotVersion.compareTo(Ee.min())>0){p.readTime=jc(l,c.snapshotVersion.toTimestamp());const v=yf(l,c.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const s=nC(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=wf(this.serializer),t.removeTarget=e,this.q_(t)}}class qC extends sw{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=JN(e.writeResults,e.commitTime),s=mr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=wf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>XN(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{}class GC extends WC{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,vf(t,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(K.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Ho(e,vf(t,s),o,c,p,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(K.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="RemoteStore";class QC{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Fi(this)&&(ue(Vi,"Restarting streams for network reachability change."),await(async function(m){const v=Ie(m);v.Ea.add(4),await Pl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await th(v)})(this))}))})),this.Ra=new KC(s,o)}}async function th(n){if(Fi(n))for(const e of n.da)await e(!0)}async function Pl(n){for(const e of n.da)await e(!1)}function iw(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),gp(t)?mp(t):ea(t).O_()&&pp(t,e))}function fp(n,e){const t=Ie(n),s=ea(t);t.Ia.delete(e),s.O_()&&ow(t,e),t.Ia.size===0&&(s.O_()?s.L_():Fi(t)&&t.Ra.set("Unknown"))}function pp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ea(n).Y_(e)}function ow(n,e){n.Va.Ue(e),ea(n).Z_(e)}function mp(n){n.Va=new $N({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ea(n).start(),n.Ra.ua()}function gp(n){return Fi(n)&&!ea(n).x_()&&n.Ia.size>0}function Fi(n){return Ie(n).Ea.size===0}function aw(n){n.Va=void 0}async function YC(n){n.Ra.set("Online")}async function XC(n){n.Ia.forEach(((e,t)=>{pp(n,e)}))}async function JC(n,e){aw(n),gp(n)?(n.Ra.ha(e),mp(n)):n.Ra.set("Unknown")}async function ZC(n,e,t){if(n.Ra.set("Online"),e instanceof q0&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const p of l.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(s){ue(Vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vc(n,s)}else if(e instanceof gc?n.Va.Ze(e):e instanceof H0?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ee.min()))try{const s=await nw(n.localStore);t.compareTo(s)>=0&&await(function(l,c){const p=l.Va.Tt(c);return p.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=l.Ia.get(v);w&&l.Ia.set(v,w.withResumeToken(m.resumeToken,c))}})),p.targetMismatches.forEach(((m,v)=>{const w=l.Ia.get(m);if(!w)return;l.Ia.set(m,w.withResumeToken(Vt.EMPTY_BYTE_STRING,w.snapshotVersion)),ow(l,m);const E=new Vs(w.target,m,v,w.sequenceNumber);pp(l,E)})),l.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(s){ue(Vi,"Failed to raise snapshot:",s),await Vc(n,s)}}async function Vc(n,e,t){if(!Jo(e))throw e;n.Ea.add(1),await Pl(n),n.Ra.set("Offline"),t||(t=()=>nw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(Vi,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await th(n)}))}function lw(n,e){return e().catch((t=>Vc(n,t,e)))}async function nh(n){const e=Ie(n),t=qs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zf;for(;ek(e);)try{const o=await VC(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,tk(e,o)}catch(o){await Vc(e,o)}uw(e)&&cw(e)}function ek(n){return Fi(n)&&n.Ta.length<10}function tk(n,e){n.Ta.push(e);const t=qs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function uw(n){return Fi(n)&&!qs(n).x_()&&n.Ta.length>0}function cw(n){qs(n).start()}async function nk(n){qs(n).ra()}async function rk(n){const e=qs(n);for(const t of n.Ta)e.ea(t.mutations)}async function sk(n,e,t){const s=n.Ta.shift(),o=op.from(s,e,t);await lw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await nh(n)}async function ik(n,e){e&&qs(n).X_&&await(async function(s,o){if((function(c){return UN(c)&&c!==K.ABORTED})(o.code)){const l=s.Ta.shift();qs(s).B_(),await lw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await nh(s)}})(n,e),uw(n)&&cw(n)}async function Tv(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ue(Vi,"RemoteStore received new credentials");const s=Fi(t);t.Ea.add(3),await Pl(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await th(t)}async function ok(n,e){const t=Ie(n);e?(t.Ea.delete(2),await th(t)):e||(t.Ea.add(2),await Pl(t),t.Ra.set("Unknown"))}function ea(n){return n.ma||(n.ma=(function(t,s,o){const l=Ie(t);return l.sa(),new HC(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:YC.bind(null,n),t_:XC.bind(null,n),r_:JC.bind(null,n),H_:ZC.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),gp(n)?mp(n):n.Ra.set("Unknown")):(await n.ma.stop(),aw(n))}))),n.ma}function qs(n){return n.fa||(n.fa=(function(t,s,o){const l=Ie(t);return l.sa(),new qC(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:nk.bind(null,n),r_:ik.bind(null,n),ta:rk.bind(null,n),na:sk.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await nh(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(Vi,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,p=new yp(e,t,c,o,l);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(n,e){if(Yr("AsyncQueue",`${e}: ${n}`),Jo(n))return new oe(K.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||me.comparator(t.key,s.key):(t,s)=>me.comparator(t.key,s.key),this.keyedMap=el(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.ga=new st(me.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class qo{constructor(e,t,s,o,l,c,p,m,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach((p=>{c.push({type:0,doc:p})})),new qo(e,t,Lo.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lk{constructor(){this.queries=Sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ie(t),l=o.queries;o.queries=Sv(),l.forEach(((c,p)=>{for(const m of p.Sa)m.onError(s)}))})(this,new oe(K.ABORTED,"Firestore shutting down"))}}function Sv(){return new Mi((n=>A0(n)),Qc)}async function hw(n,e){const t=Ie(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new ak,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const p=vp(c,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&_p(t)}async function dw(n,e){const t=Ie(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function uk(n,e){const t=Ie(n);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const p of c.Sa)p.Fa(o)&&(s=!0);c.wa=o}}s&&_p(t)}function ck(n,e,t){const s=Ie(n),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function _p(n){n.Ca.forEach((e=>{e.next()}))}var Tf,bv;(bv=Tf||(Tf={})).Ma="default",bv.Cache="cache";class fw{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new qo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.key=e}}class mw{constructor(e){this.key=e}}class hk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=R0(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Iv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const I=o.get(w),j=Yc(this.query,E)?E:null,$=!!I&&this.mutatedKeys.has(I.key),F=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let V=!1;I&&j?I.data.isEqual(j.data)?$!==F&&(s.track({type:3,doc:j}),V=!0):this.su(I,j)||(s.track({type:2,doc:j}),V=!0,(m&&this.eu(j,m)>0||v&&this.eu(j,v)<0)&&(p=!0)):!I&&j?(s.track({type:0,doc:j}),V=!0):I&&!j&&(s.track({type:1,doc:I}),V=!0,(m||v)&&(p=!0)),V&&(j?(c=c.add(j),l=F?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{tu:c,iu:s,Cs:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,E)=>(function(j,$){const F=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:V})}};return F(j)-F($)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,v=m!==this.Za;return this.Za=m,c.length!==0||v?{snapshot:new qo(this.query,e.tu,l,c,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new mw(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new pw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=De();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wp="SyncEngine";class dk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class fk{constructor(e){this.key=e,this.hu=!1}}class pk{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Mi((p=>A0(p)),Qc),this.Iu=new Map,this.Eu=new Set,this.du=new st(me.comparator),this.Au=new Map,this.Ru=new up,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mk(n,e,t=!0){const s=xw(n);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await gw(s,e,t,!0),o}async function gk(n,e){const t=xw(n);await gw(t,e,!0,!1)}async function gw(n,e,t,s){const o=await OC(n.localStore,pr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let p;return s&&(p=await yk(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&iw(n.remoteStore,o),p}async function yk(n,e,t,s,o){n.pu=(E,I,j)=>(async function(F,V,G,W){let Q=V.view.ru(G);Q.Cs&&(Q=await vv(F.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,Q))));const ie=W&&W.targetChanges.get(V.targetId),ve=W&&W.targetMismatches.get(V.targetId)!=null,te=V.view.applyChanges(Q,F.isPrimaryClient,ie,ve);return Cv(F,V.targetId,te.au),te.snapshot})(n,E,I,j);const l=await vv(n.localStore,e,!0),c=new hk(e,l.Qs),p=c.ru(l.documents),m=Rl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=c.applyChanges(p,n.isPrimaryClient,m);Cv(n,t,v.au);const w=new dk(e,t,c);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function vk(n,e,t){const s=Ie(n),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!Qc(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xf(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&fp(s.remoteStore,o.targetId),If(s,o.targetId)})).catch(Xo)):(If(s,o.targetId),await xf(s.localStore,o.targetId,!0))}async function _k(n,e){const t=Ie(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),fp(t.remoteStore,s.targetId))}async function wk(n,e,t){const s=Nk(n);try{const o=await(function(c,p){const m=Ie(c),v=Ze.now(),w=p.reduce(((j,$)=>j.add($.key)),De());let E,I;return m.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let $=Xr(),F=De();return m.Ns.getEntries(j,w).next((V=>{$=V,$.forEach(((G,W)=>{W.isValidDocument()||(F=F.add(G))}))})).next((()=>m.localDocuments.getOverlayedDocuments(j,$))).next((V=>{E=V;const G=[];for(const W of p){const Q=VN(W,E.get(W.key).overlayedDocument);Q!=null&&G.push(new Ys(W.key,Q,E0(Q.value.mapValue),Fn.exists(!0)))}return m.mutationQueue.addMutationBatch(j,v,G,p)})).next((V=>{I=V;const G=V.applyToLocalDocumentSet(E,F);return m.documentOverlayCache.saveOverlays(j,V.batchId,G)}))})).then((()=>({batchId:I.batchId,changes:j0(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,p,m){let v=c.Vu[c.currentUser.toKey()];v||(v=new st(je)),v=v.insert(p,m),c.Vu[c.currentUser.toKey()]=v})(s,o.batchId,t),await jl(s,o.changes),await nh(s.remoteStore)}catch(o){const l=vp(o,"Failed to persist write");t.reject(l)}}async function yw(n,e){const t=Ie(n);try{const s=await jC(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ze(c.hu,14607):o.removedDocuments.size>0&&(ze(c.hu,42227),c.hu=!1))})),await jl(t,s,e)}catch(s){await Xo(s)}}function Nv(n,e,t){const s=Ie(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,c)=>{const p=c.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(c,p){const m=Ie(c);m.onlineState=p;let v=!1;m.queries.forEach(((w,E)=>{for(const I of E.Sa)I.va(p)&&(v=!0)})),v&&_p(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xk(n,e,t){const s=Ie(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new st(me.comparator);c=c.insert(l,Ht.newNoDocument(l,Ee.min()));const p=De().add(l),m=new Zc(Ee.min(),new Map,new st(je),c,p);await yw(s,m),s.du=s.du.remove(l),s.Au.delete(e),xp(s)}else await xf(s.localStore,e,!1).then((()=>If(s,e,t))).catch(Xo)}async function Ek(n,e){const t=Ie(n),s=e.batch.batchId;try{const o=await PC(t.localStore,e);_w(t,s,null),vw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await jl(t,o)}catch(o){await Xo(o)}}async function Tk(n,e,t){const s=Ie(n);try{const o=await(function(c,p){const m=Ie(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return m.mutationQueue.lookupMutationBatch(v,p).next((E=>(ze(E!==null,37113),w=E.keys(),m.mutationQueue.removeMutationBatch(v,E)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,w,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>m.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);_w(s,e,t),vw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await jl(s,o)}catch(o){await Xo(o)}}function vw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function _w(n,e,t){const s=Ie(n);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function If(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||ww(n,s)}))}function ww(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(fp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),xp(n))}function Cv(n,e,t){for(const s of t)s instanceof pw?(n.Ru.addReference(s.key,e),Ik(n,s)):s instanceof mw?(ue(wp,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||ww(n,s.key)):_e(19791,{wu:s})}function Ik(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ue(wp,"New document in limbo: "+t),n.Eu.add(s),xp(n))}function xp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new me(Qe.fromString(e)),s=n.fu.next();n.Au.set(s,new fk(t)),n.du=n.du.insert(t,s),iw(n.remoteStore,new Vs(pr(sp(t.path)),s,"TargetPurposeLimboResolution",Wc.ce))}}async function jl(n,e,t){const s=Ie(n),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{c.push(s.pu(m,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(v){o.push(v);const w=hp.As(m.targetId,v);l.push(w)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(m,v){const w=Ie(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Y.forEach(v,(I=>Y.forEach(I.Es,(j=>w.persistence.referenceDelegate.addReference(E,I.targetId,j))).next((()=>Y.forEach(I.ds,(j=>w.persistence.referenceDelegate.removeReference(E,I.targetId,j)))))))))}catch(E){if(!Jo(E))throw E;ue(dp,"Failed to update sequence numbers: "+E)}for(const E of v){const I=E.targetId;if(!E.fromCache){const j=w.Ms.get(I),$=j.snapshotVersion,F=j.withLastLimboFreeSnapshotVersion($);w.Ms=w.Ms.insert(I,F)}}})(s.localStore,l))}async function Sk(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ue(wp,"User change. New user:",e.toKey());const s=await tw(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((p=>{p.forEach((m=>{m.reject(new oe(K.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jl(t,s.Ls)}}function bk(n,e){const t=Ie(n),s=t.Au.get(e);if(s&&s.hu)return De().add(s.key);{let o=De();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const p=t.Tu.get(c);o=o.unionWith(p.view.nu)}return o}}function xw(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xk.bind(null,e),e.Pu.H_=uk.bind(null,e.eventManager),e.Pu.yu=ck.bind(null,e.eventManager),e}function Nk(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ek.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tk.bind(null,e),e}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return RC(this.persistence,new CC,e.initialUser,this.serializer)}Cu(e){return new ew(cp.mi,this.serializer)}Du(e){return new MC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class Ck extends Oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof Dc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fC(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new ew((s=>Dc.mi(s,t)),this.serializer)}}class Sf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sk.bind(null,this.syncEngine),await ok(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lk})()}createDatastore(e){const t=eh(e.databaseInfo.databaseId),s=(function(l){return new $C(l)})(e.databaseInfo);return(function(l,c,p,m){return new GC(l,c,p,m)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,c,p){return new QC(s,o,l,c,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>Nv(this.syncEngine,t,0)),(function(){return xv.v()?new xv:new FC})())}createSyncEngine(e,t){return(function(o,l,c,p,m,v,w){const E=new pk(o,l,c,p,m,v);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ie(t);ue(Vi,"RemoteStore shutting down."),s.Ea.add(5),await Pl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sf.provider={build:()=>new Sf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class kk{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Jf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ue(Ws,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ue(Ws,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=vp(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Kd(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await tw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function kv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Ak(n);ue(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Tv(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Tv(e.remoteStore,o))),n._onlineComponents=e}async function Ak(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Ws,"Using user provided OfflineComponentProvider");try{await Kd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await Kd(n,new Oc)}}else ue(Ws,"Using default OfflineComponentProvider"),await Kd(n,new Ck(void 0));return n._offlineComponents}async function Tw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Ws,"Using user provided OnlineComponentProvider"),await kv(n,n._uninitializedComponentsProvider._online)):(ue(Ws,"Using default OnlineComponentProvider"),await kv(n,new Sf))),n._onlineComponents}function Rk(n){return Tw(n).then((e=>e.syncEngine))}async function Iw(n){const e=await Tw(n),t=e.eventManager;return t.onListen=mk.bind(null,e.syncEngine),t.onUnlisten=vk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_k.bind(null,e.syncEngine),t}function Pk(n,e,t={}){const s=new Wr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,p,m,v){const w=new Ew({next:I=>{w.Nu(),c.enqueueAndForget((()=>dw(l,E)));const j=I.docs.has(p);!j&&I.fromCache?v.reject(new oe(K.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&I.fromCache&&m&&m.source==="server"?v.reject(new oe(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),E=new fw(sp(p.path),w,{includeMetadataChanges:!0,qa:!0});return hw(l,E)})(await Iw(n),n.asyncQueue,e,t,s))),s.promise}function jk(n,e,t={}){const s=new Wr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,p,m,v){const w=new Ew({next:I=>{w.Nu(),c.enqueueAndForget((()=>dw(l,E))),I.fromCache&&m.source==="server"?v.reject(new oe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),E=new fw(p,w,{includeMetadataChanges:!0,qa:!0});return hw(l,E)})(await Iw(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="firestore.googleapis.com",Rv=!0;class Pv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bw,this.ssl=Rv}else this.host=e.host,this.ssl=e.ssl??Rv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hC)throw new oe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Fb;switch(s.type){case"firstParty":return new $b(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Av.get(t);s&&(ue("ComponentProvider","Removing Datastore"),Av.delete(t),s.terminate())})(this),Promise.resolve()}}function Dk(n,e,t,s={}){n=wr(n,rh);const o=Ks(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(Of(`https://${p}`),Lf("Firestore",!0)),l.host!==bw&&l.host!==p&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:p,ssl:o,emulatorOptions:s};if(!Ri(m,c)&&(n._setSettings(m),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=$t.MOCK_USER;else{v=x_(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new oe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new $t(E)}n._authCredentials=new Ub(new c0(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class ft{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(kl(t,ft._jsonSchema))return new ft(e,s||null,new me(Qe.fromString(t.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:wt("string",ft._jsonSchemaVersion),referencePath:wt("string")};class Fs extends Ui{constructor(e,t,s){super(e,t,sp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new me(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function Ep(n,e,...t){if(n=pt(n),h0("collection","path",e),n instanceof rh){const s=Qe.fromString(e,...t);return qy(s),new Fs(n,null,s)}{if(!(n instanceof ft||n instanceof Fs))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Qe.fromString(e,...t));return qy(s),new Fs(n.firestore,null,s)}}function Gs(n,e,...t){if(n=pt(n),arguments.length===1&&(e=Jf.newId()),h0("doc","path",e),n instanceof rh){const s=Qe.fromString(e,...t);return Hy(s),new ft(n,null,new me(s))}{if(!(n instanceof ft||n instanceof Fs))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Qe.fromString(e,...t));return Hy(s),new ft(n.firestore,n instanceof Fs?n.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class Dv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rw(this,"async_queue_retry"),this._c=()=>{const s=Gd();s&&ue(jv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Gd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Gd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jo(e))throw e;ue(jv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",Vv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=yp.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Vv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ta extends rh{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Dv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dv(e),this._firestoreClient=void 0,await e}}}function Vk(n,e){const t=typeof n=="object"?n:Uf(),s=typeof n=="string"?n:Cc,o=Bc(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=v_("firestore");l&&Dk(o,...l)}return o}function Tp(n){if(n._terminated)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ok(n),n._firestoreClient}function Ok(n){const e=n._freezeSettings(),t=(function(o,l,c,p){return new oN(o,l,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Sw(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new kk(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bn(Vt.fromBase64String(e))}catch(t){throw new oe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bn(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kl(e,bn._jsonSchema))return bn.fromBase64String(e.bytes)}}bn._jsonSchemaVersion="firestore/bytes/1.0",bn._jsonSchema={type:wt("string",bn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(kl(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:wt("string",gr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kl(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new yr(e.vectorValues);throw new oe(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:wt("string",yr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=/^__.*__$/;class Mk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Al(e,this.data,t,this.fieldTransforms)}}class Nw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:n})}}class Sp{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Cw(this.Ac)&&Lk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Fk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||eh(e)}Cc(e,t,s,o=!1){return new Sp({Ac:e,methodName:t,Dc:s,path:Dt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ih(n){const e=n._freezeSettings(),t=eh(n._databaseId);return new Fk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kw(n,e,t,s,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);bp("Data must be an object, but it was:",c,s);const p=Aw(s,c);let m,v;if(l.merge)m=new mn(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const E of l.mergeFields){const I=bf(e,E,t);if(!c.contains(I))throw new oe(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Pw(w,I)||w.push(I)}m=new mn(w),v=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,v=c.fieldTransforms;return new Mk(new sn(p),m,v)}class oh extends Ip{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}function Uk(n,e,t,s){const o=n.Cc(1,e,t);bp("Data must be an object, but it was:",o,s);const l=[],c=sn.empty();Qs(s,((m,v)=>{const w=Np(e,m,t);v=pt(v);const E=o.yc(w);if(v instanceof oh)l.push(w);else{const I=Dl(v,E);I!=null&&(l.push(w),c.set(w,I))}}));const p=new mn(l);return new Nw(c,p,o.fieldTransforms)}function Bk(n,e,t,s,o,l){const c=n.Cc(1,e,t),p=[bf(e,s,t)],m=[o];if(l.length%2!=0)throw new oe(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)p.push(bf(e,l[I])),m.push(l[I+1]);const v=[],w=sn.empty();for(let I=p.length-1;I>=0;--I)if(!Pw(v,p[I])){const j=p[I];let $=m[I];$=pt($);const F=c.yc(j);if($ instanceof oh)v.push(j);else{const V=Dl($,F);V!=null&&(v.push(j),w.set(j,V))}}const E=new mn(v);return new Nw(w,E,c.fieldTransforms)}function zk(n,e,t,s=!1){return Dl(t,n.Cc(s?4:3,e))}function Dl(n,e){if(Rw(n=pt(n)))return bp("Unsupported field value:",e,n),Aw(n,e);if(n instanceof Ip)return(function(s,o){if(!Cw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const p of s){let m=Dl(p,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(n,e)}return(function(s,o){if((s=pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ze.fromDate(s);return{timestampValue:jc(o.serializer,l)}}if(s instanceof Ze){const l=new Ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jc(o.serializer,l)}}if(s instanceof gr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bn)return{bytesValue:W0(o.serializer,s._byteString)};if(s instanceof ft){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yr)return(function(c,p){return{mapValue:{fields:{[w0]:{stringValue:x0},[kc]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return ip(p.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${qc(s)}`)})(n,e)}function Aw(n,e){const t={};return p0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(n,((s,o)=>{const l=Dl(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function Rw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof gr||n instanceof bn||n instanceof ft||n instanceof Ip||n instanceof yr)}function bp(n,e,t){if(!Rw(t)||!d0(t)){const s=qc(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function bf(n,e,t){if((e=pt(e))instanceof sh)return e._internalPath;if(typeof e=="string")return Np(n,e);throw Lc("Field path arguments must be of type string or ",n,!1,void 0,t)}const $k=new RegExp("[~\\*/\\[\\]]");function Np(n,e,t){if(e.search($k)>=0)throw Lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sh(...e.split("."))._internalPath}catch{throw Lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lc(n,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new oe(K.INVALID_ARGUMENT,p+n+m)}function Pw(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Hk extends jw{data(){return super.data()}}function Cp(n,e){return typeof e=="string"?Np(n,e):e instanceof sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class Dw extends kp{}function Vw(n,e,...t){let s=[];e instanceof kp&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((m=>m instanceof Rp)).length,p=l.filter((m=>m instanceof Ap)).length;if(c>1||c>0&&p>0)throw new oe(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Ap extends Dw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ap(e,t,s)}_apply(e){const t=this._parse(e);return Lw(e._query,t),new Ui(e.firestore,e.converter,mf(e._query,t))}_parse(e){const t=ih(e.firestore);return(function(l,c,p,m,v,w,E){let I;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new oe(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Lv(E,w);const $=[];for(const F of E)$.push(Ov(m,l,F));I={arrayValue:{values:$}}}else I=Ov(m,l,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Lv(E,w),I=zk(p,c,E,w==="in"||w==="not-in");return _t.create(v,w,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Rp extends kp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rp(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Bn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const p=l.getFlattenedFilters();for(const m of p)Lw(c,m),c=mf(c,m)})(e._query,t),new Ui(e.firestore,e.converter,mf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pp extends Dw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Pp(e,t)}_apply(e){const t=(function(o,l,c){if(o.startAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vl(l,c)})(e._query,this._field,this._direction);return new Ui(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Zo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Ow(n,e="asc"){const t=e,s=Cp("orderBy",n);return Pp._create(s,t)}function Ov(n,e,t){if(typeof(t=pt(t))=="string"){if(t==="")throw new oe(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k0(e)&&t.indexOf("/")!==-1)throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Qe.fromString(t));if(!me.isDocumentKey(s))throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Zy(n,new me(s))}if(t instanceof ft)return Zy(n,t._key);throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qc(t)}.`)}function Lv(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lw(n,e){const t=(function(o,l){for(const c of o)for(const p of c.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Wk{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Qs(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[kc].arrayValue?.values?.map((s=>dt(s.doubleValue)));return new yr(t)}convertGeoPoint(e){return new gr(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Kc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const t=zs(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Qe.fromString(e);ze(J0(s),9688,{name:e});const o=new gl(s.get(1),s.get(3)),l=new me(s.popFirst(5));return o.isEqual(t)||Yr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class nl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ki extends jw{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Cp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ki._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ki._jsonSchemaVersion="firestore/documentSnapshot/1.0",ki._jsonSchema={type:wt("string",ki._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class yc extends ki{data(e={}){return super.data(e)}}class Mo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new yc(this._firestore,this._userDataWriter,s.key,s,new nl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((p=>{const m=new yc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new nl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const m=new yc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new nl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return p.type!==0&&(v=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),w=c.indexOf(p.doc.key)),{type:Gk(p.type),doc:m,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Gk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n){n=wr(n,ft);const e=wr(n.firestore,ta);return Pk(Tp(e),n._key).then((t=>Yk(e,n,t)))}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:wt("string",Mo._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Fw extends Wk{constructor(e){super(),this.firestore=e}convertBytes(e){return new bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,t)}}function Uw(n){n=wr(n,Ui);const e=wr(n.firestore,ta),t=Tp(e),s=new Fw(e);return qk(n._query),jk(t,n._query).then((o=>new Mo(e,s,n,o)))}function Dp(n,e,t){n=wr(n,ft);const s=wr(n.firestore,ta),o=Mw(n.converter,e,t);return Vp(s,[kw(ih(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Fn.none())])}function Kk(n,e,t,...s){n=wr(n,ft);const o=wr(n.firestore,ta),l=ih(o);let c;return c=typeof(e=pt(e))=="string"||e instanceof sh?Bk(l,"updateDoc",n._key,e,t,s):Uk(l,"updateDoc",n._key,e),Vp(o,[c.toMutation(n._key,Fn.exists(!0))])}function Qk(n,e){const t=wr(n.firestore,ta),s=Gs(n),o=Mw(n.converter,e);return Vp(t,[kw(ih(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then((()=>s))}function Vp(n,e){return(function(s,o){const l=new Wr;return s.asyncQueue.enqueueAndForget((async()=>wk(await Rk(s),o,l))),l.promise})(Tp(n),e)}function Yk(n,e,t){const s=t.docs.get(e._key),o=new Fw(n);return new ki(n,o,e._key,s,new nl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Yo=o})(Li),Pi(new Us("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),p=new ta(new Bb(s.getProvider("auth-internal")),new Hb(c,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new oe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(v.options.projectId,w)})(c,o),c);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),dr(Uy,By,e),dr(Uy,By,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firebasestorage.googleapis.com",zw="storageBucket",Xk=120*1e3,Jk=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends Tr{constructor(e,t,s=0){super(Qd(e),`Firebase Storage: ${t} (${Qd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function Qd(n){return"storage/"+n}function Op(){const n="An unknown error occurred, please check the error payload for server response.";return new lt(at.UNKNOWN,n)}function Zk(n){return new lt(at.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function eA(n){return new lt(at.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tA(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(at.UNAUTHENTICATED,n)}function nA(){return new lt(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rA(n){return new lt(at.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function sA(){return new lt(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iA(){return new lt(at.CANCELED,"User canceled the upload/download.")}function oA(n){return new lt(at.INVALID_URL,"Invalid URL '"+n+"'.")}function aA(n){return new lt(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function lA(){return new lt(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zw+"' property when initializing the app?")}function uA(){return new lt(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cA(){return new lt(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hA(n){return new lt(at.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Nf(n){return new lt(at.INVALID_ARGUMENT,n)}function $w(){return new lt(at.APP_DELETED,"The Firebase app was deleted.")}function dA(n){return new lt(at.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ul(n,e){return new lt(at.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ja(n){throw new lt(at.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=gn.makeFromUrl(e,t)}catch{return new gn(e,"")}if(s.path==="")return s;throw aA(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const c="(/(.*))?$",p=new RegExp("^gs://"+o+c,"i"),m={bucket:1,path:3};function v(ie){ie.path_=decodeURIComponent(ie.path)}const w="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",j=new RegExp(`^https?://${E}/${w}/b/${o}/o${I}`,"i"),$={bucket:1,path:3},F=t===Bw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",G=new RegExp(`^https?://${F}/${o}/${V}`,"i"),Q=[{regex:p,indices:m,postModify:l},{regex:j,indices:$,postModify:v},{regex:G,indices:{bucket:1,path:2},postModify:v}];for(let ie=0;ie<Q.length;ie++){const ve=Q[ie],te=ve.regex.exec(e);if(te){const R=te[ve.indices.bucket];let S=te[ve.indices.path];S||(S=""),s=new gn(R,S),ve.postModify(s);break}}if(s==null)throw oA(e);return s}}class fA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n,e,t){let s=1,o=null,l=null,c=!1,p=0;function m(){return p===2}let v=!1;function w(...V){v||(v=!0,e.apply(null,V))}function E(V){o=setTimeout(()=>{o=null,n(j,m())},V)}function I(){l&&clearTimeout(l)}function j(V,...G){if(v){I();return}if(V){I(),w.call(null,V,...G);return}if(m()||c){I(),w.call(null,V,...G);return}s<64&&(s*=2);let Q;p===1?(p=2,Q=0):Q=(s+Math.random())*1e3,E(Q)}let $=!1;function F(V){$||($=!0,I(),!v&&(o!==null?(V||(p=2),clearTimeout(o),E(0)):V||(p=1)))}return E(0),l=setTimeout(()=>{c=!0,F(!0)},t),F}function mA(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){return n!==void 0}function yA(n){return typeof n=="object"&&!Array.isArray(n)}function Lp(n){return typeof n=="string"||n instanceof String}function Mv(n){return Mp()&&n instanceof Blob}function Mp(){return typeof Blob<"u"}function Fv(n,e,t,s){if(s<e)throw Nf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Nf(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function Hw(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ai;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ai||(Ai={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,s,o,l,c,p,m,v,w,E,I=!0,j=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=p,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=E,this.retry=I,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,F)=>{this.resolve_=$,this.reject_=F,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new sc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=p=>{const m=p.loaded,v=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const p=l.getErrorCode()===Ai.NO_ERROR,m=l.getStatus();if(!p||vA(m,this.additionalRetryCodes_)&&this.retry){const w=l.getErrorCode()===Ai.ABORT;s(!1,new sc(!1,null,w));return}const v=this.successCodes_.indexOf(m)!==-1;s(!0,new sc(v,l))})},t=(s,o)=>{const l=this.resolve_,c=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());gA(m)?l(m):l()}catch(m){c(m)}else if(p!==null){const m=Op();m.serverResponse=p.getErrorText(),this.errorCallback_?c(this.errorCallback_(p,m)):c(m)}else if(o.canceled){const m=this.appDelete_?$w():iA();c(m)}else{const m=sA();c(m)}};this.canceled_?t(!1,new sc(!1,null,!0)):this.backoffId_=pA(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sc{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function wA(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function xA(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EA(n,e){e&&(n["X-Firebase-GMPID"]=e)}function TA(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function IA(n,e,t,s,o,l,c=!0,p=!1){const m=Hw(n.urlParams),v=n.url+m,w=Object.assign({},n.headers);return EA(w,e),wA(w,t),xA(w,l),TA(w,s),new _A(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bA(...n){const e=SA();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(Mp())return new Blob(n);throw new lt(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NA(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n){if(typeof atob>"u")throw hA("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Yd{constructor(e,t){this.data=e,this.contentType=t||null}}function kA(n,e){switch(n){case hr.RAW:return new Yd(qw(e));case hr.BASE64:case hr.BASE64URL:return new Yd(Ww(n,e));case hr.DATA_URL:return new Yd(RA(e),PA(e))}throw Op()}function qw(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=n.charCodeAt(++t);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function AA(n){let e;try{e=decodeURIComponent(n)}catch{throw ul(hr.DATA_URL,"Malformed data URL.")}return qw(e)}function Ww(n,e){switch(n){case hr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw ul(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case hr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw ul(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=CA(e)}catch(o){throw o.message.includes("polyfill")?o:ul(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Gw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ul(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=jA(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function RA(n){const e=new Gw(n);return e.base64?Ww(hr.BASE64,e.rest):AA(e.rest)}function PA(n){return new Gw(n).contentType}function jA(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t){let s=0,o="";Mv(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Mv(this.data_)){const s=this.data_,o=NA(s,e,t);return o===null?null:new Ds(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Ds(s,!0)}}static getBlob(...e){if(Mp()){const t=e.map(s=>s instanceof Ds?s.data_:s);return new Ds(bA.apply(null,t))}else{const t=e.map(c=>Lp(c)?kA(hr.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(c=>{for(let p=0;p<c.length;p++)o[l++]=c[p]}),new Ds(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n){let e;try{e=JSON.parse(n)}catch{return null}return yA(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function VA(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function Qw(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n,e){return e}class Yt{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||OA}}let ic=null;function LA(n){return!Lp(n)||n.length<2?n:Qw(n)}function Yw(){if(ic)return ic;const n=[];n.push(new Yt("bucket")),n.push(new Yt("generation")),n.push(new Yt("metageneration")),n.push(new Yt("name","fullPath",!0));function e(l,c){return LA(c)}const t=new Yt("name");t.xform=e,n.push(t);function s(l,c){return c!==void 0?Number(c):c}const o=new Yt("size");return o.xform=s,n.push(o),n.push(new Yt("timeCreated")),n.push(new Yt("updated")),n.push(new Yt("md5Hash",null,!0)),n.push(new Yt("cacheControl",null,!0)),n.push(new Yt("contentDisposition",null,!0)),n.push(new Yt("contentEncoding",null,!0)),n.push(new Yt("contentLanguage",null,!0)),n.push(new Yt("contentType",null,!0)),n.push(new Yt("metadata","customMetadata",!0)),ic=n,ic}function MA(n,e){function t(){const s=n.bucket,o=n.fullPath,l=new gn(s,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function FA(n,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];s[c.local]=c.xform(s,e[c.server])}return MA(s,n),s}function Xw(n,e,t){const s=Kw(e);return s===null?null:FA(n,s,t)}function UA(n,e,t,s){const o=Kw(e);if(o===null||!Lp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(v=>{const w=n.bucket,E=n.fullPath,I="/b/"+c(w)+"/o/"+c(E),j=Fp(I,t,s),$=Hw({alt:"media",token:v});return j+$})[0]}function BA(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class Jw{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n){if(!n)throw Op()}function zA(n,e){function t(s,o){const l=Xw(n,o,e);return Zw(l!==null),l}return t}function $A(n,e){function t(s,o){const l=Xw(n,o,e);return Zw(l!==null),UA(l,o,n.host,n._protocol)}return t}function ex(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=nA():o=tA():t.getStatus()===402?o=eA(n.bucket):t.getStatus()===403?o=rA(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function HA(n){const e=ex(n);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=Zk(n.path)),l.serverResponse=o.serverResponse,l}return t}function qA(n,e,t){const s=e.fullServerUrl(),o=Fp(s,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,p=new Jw(o,l,$A(n,t),c);return p.errorHandler=HA(e),p}function WA(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function GA(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=WA(null,e)),s}function KA(n,e,t,s,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function p(){let Q="";for(let ie=0;ie<2;ie++)Q=Q+Math.random().toString().slice(2);return Q}const m=p();c["Content-Type"]="multipart/related; boundary="+m;const v=GA(e,s,o),w=BA(v,t),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+v.contentType+`\r
\r
`,I=`\r
--`+m+"--",j=Ds.getBlob(E,s,I);if(j===null)throw uA();const $={name:v.fullPath},F=Fp(l,n.host,n._protocol),V="POST",G=n.maxUploadRetryTime,W=new Jw(F,V,zA(n,t),G);return W.urlParams=$,W.headers=c,W.body=j.uploadData(),W.errorHandler=ex(e),W}class QA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ai.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ai.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ai.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,l){if(this.sent_)throw Ja("cannot .send() more than once");if(Ks(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ja("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ja("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ja("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ja("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class YA extends QA{initXhr(){this.xhr_.responseType="text"}}function tx(){return new YA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t){this._service=e,t instanceof gn?this._location=t:this._location=gn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Oi(e,t)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qw(this._location.path)}get storage(){return this._service}get parent(){const e=DA(this._location.path);if(e===null)return null;const t=new gn(this._location.bucket,e);return new Oi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw dA(e)}}function XA(n,e,t){n._throwIfRoot("uploadBytes");const s=KA(n.storage,n._location,Yw(),new Ds(e,!0),t);return n.storage.makeRequestWithTokens(s,tx).then(o=>({metadata:o,ref:n}))}function JA(n){n._throwIfRoot("getDownloadURL");const e=qA(n.storage,n._location,Yw());return n.storage.makeRequestWithTokens(e,tx).then(t=>{if(t===null)throw cA();return t})}function ZA(n,e){const t=VA(n._location.path,e),s=new gn(n._location.bucket,t);return new Oi(n.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n){return/^[A-Za-z]+:\/\//.test(n)}function tR(n,e){return new Oi(n,e)}function nx(n,e){if(n instanceof Up){const t=n;if(t._bucket==null)throw lA();const s=new Oi(t,t._bucket);return e!=null?nx(s,e):s}else return e!==void 0?ZA(n,e):n}function nR(n,e){if(e&&eR(e)){if(n instanceof Up)return tR(n,e);throw Nf("To use ref(service, url), the first argument must be a Storage instance.")}else return nx(n,e)}function Uv(n,e){const t=e?.[zw];return t==null?null:gn.makeFromBucketSpec(t,n)}function rR(n,e,t,s={}){n.host=`${e}:${t}`;const o=Ks(e);o&&(Of(`https://${n.host}/b`),Lf("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:x_(l,n.app.options.projectId))}class Up{constructor(e,t,s,o,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Bw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xk,this._maxUploadRetryTime=Jk,this._requests=new Set,o!=null?this._bucket=gn.makeFromBucketSpec(o,this._host):this._bucket=Uv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=Uv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oi(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new fA($w());{const c=IA(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Bv="@firebase/storage",zv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="storage";function $v(n,e,t){return n=pt(n),XA(n,e,t)}function Hv(n){return n=pt(n),JA(n)}function qv(n,e){return n=pt(n),nR(n,e)}function sR(n=Uf(),e){n=pt(n);const s=Bc(n,rx).getImmediate({identifier:e}),o=v_("storage");return o&&iR(s,...o),s}function iR(n,e,t,s={}){rR(n,e,t,s)}function oR(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Up(t,s,o,e,Li)}function aR(){Pi(new Us(rx,oR,"PUBLIC").setMultipleInstances(!0)),dr(Bv,zv,""),dr(Bv,zv,"esm2020")}aR();const lR={apiKey:"AIzaSyCvZx_FU_BtRFTVNr9aotQKU_siKGP1v1I",authDomain:"beebridge.firebaseapp.com",projectId:"beebridge",storageBucket:"beebridge.firebasestorage.app",messagingSenderId:"378321462417",appId:"1:378321462417:web:d69bada8dffabedb318b30",measurementId:"G-C0CPML4GKE"},Bp=I_(lR),Xd=Vb(Bp),uR=new zr,vr=Vk(Bp),Wv=sR(Bp),Zr=()=>{const[n,e]=L.useState(null),[t,s]=L.useState(!0);return L.useEffect(()=>TS(Xd,p=>{e(p),s(!1)}),[]),{user:n,loading:t,signInWithGoogle:async()=>{try{return(await HS(Xd,uR)).user}catch(c){console.error("Error signing in with Google:",c);const p=c;throw p.code==="auth/popup-blocked"?new Error("Popup was blocked by the browser. Please allow popups for this site and try again."):p.code==="auth/popup-closed-by-user"?new Error("Sign-in was canceled. Please try again."):p.code==="auth/cancelled-popup-request"?new Error("Another sign-in popup is already open. Please close it and try again."):new Error("Google sign-in failed. Please check your internet connection and try again.")}},logout:async()=>{try{await IS(Xd)}catch(c){throw console.error("Error signing out:",c),c}}}},Gv="/assets/success%20confetti-DC1AmzHE.gif",Kv={HONEY10:.1,BEE20:.2,OFFER:.1},cR=()=>{const{cartItems:n,getTotal:e,clearCart:t}=Tl(),{user:s}=Zr(),[o,l]=L.useState(""),[c,p]=L.useState(0),[m,v]=L.useState(""),[w,E]=L.useState(!1),[I,j]=L.useState(!1),[$,F]=L.useState(!1),[V,G]=L.useState(""),W=e(),Q=W-W*c;L.useEffect(()=>{if($){const te=setTimeout(()=>{F(!1)},2e3);return()=>clearTimeout(te)}},[$]);const ie=()=>{const te=o.toUpperCase();Kv[te]?(p(Kv[te]),v(""),E(!0),setTimeout(()=>E(!1),3e3)):(p(0),v("Invalid coupon code"))},ve=async()=>{if(!s){alert("Please sign in to place an order.");return}try{const te=n.map(A=>({id:A.id,name:A.name,price:A.price,quantity:A.quantity})),R={userId:s.uid,items:te,total:W,discountedTotal:c>0?Q:void 0,coupon:c>0?o.toUpperCase():void 0,discount:c>0?c:void 0,status:"completed",createdAt:new Date,customerEmail:s.email||void 0,customerName:s.displayName||void 0},b=(await Qk(Ep(vr,"orders"),R)).id;if(G(b),n.some(A=>A.name.includes("Subscription Plan"))){const A=Gs(vr,"users",s.uid);await Dp(A,{goldenBatch:!0},{merge:!0})}F(!0),j(!0),t()}catch(te){console.error("Error placing order:",te),alert("Failed to place order. Please try again.")}};return I?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"max-w-4xl mx-auto p-6 text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Thank you for your order!"}),d.jsx("p",{children:"Your order has been placed successfully."}),V&&d.jsxs("p",{className:"text-lg mt-4",children:["Order ID: ",d.jsx("span",{className:"font-bold",children:V})]})]}),$&&d.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50",children:d.jsx("img",{src:Gv,alt:"Success",className:"w-64 h-64 object-cover"})}),w&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:d.jsx("img",{src:f_,alt:"Congratulations",className:"w-96 h-96 object-cover rounded-lg shadow-2xl"})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-honeybee-background text-honeybee-secondary rounded-lg shadow-lg",children:[d.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Checkout"}),d.jsxs("div",{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Order Summary"}),n.map(te=>d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsxs("span",{children:[te.name," x ",te.quantity]}),d.jsxs("span",{children:["₹",(parseFloat(te.price.replace(/[$₹]/g,""))*te.quantity).toFixed(2)]})]},te.id)),d.jsxs("div",{className:"flex justify-between font-bold border-t border-gray-300 pt-2",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["₹",W.toFixed(2)]})]}),c>0&&d.jsxs("div",{className:"flex justify-between font-bold text-green-600 pt-2",children:[d.jsx("span",{children:"Discount:"}),d.jsxs("span",{children:["-₹",(W*c).toFixed(2)]})]}),c>0&&d.jsxs("div",{className:"flex justify-between font-bold border-t border-gray-300 pt-2",children:[d.jsx("span",{children:"Amount to Pay:"}),d.jsxs("span",{children:["₹",Q.toFixed(2)]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"coupon",className:"block font-semibold mb-1",children:"Have a coupon?"}),d.jsx("input",{id:"coupon",type:"text",value:o,onChange:te=>l(te.target.value),className:"border border-gray-300 rounded px-3 py-2 w-full",placeholder:"Enter coupon code"}),m&&d.jsx("p",{className:"text-red-600 mt-1",children:m}),d.jsx(qt,{onClick:ie,variant:"accent",className:"mt-2",children:"Apply Coupon"})]}),d.jsx("div",{children:d.jsx(qt,{onClick:ve,variant:"primary",className:"w-full",children:"Place Order"})})]})]}),$&&d.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50",children:d.jsx("img",{src:Gv,alt:"Success",className:"w-64 h-64 object-cover"})})]})},hR=()=>{const{user:n}=Zr(),e=$n(),[t,s]=L.useState({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),[o,l]=L.useState(!0),[c,p]=L.useState(!0),[m,v]=L.useState(t);L.useEffect(()=>{(async()=>{if(n){const V=Gs(vr,"profile","oKBVdiB6yR4iiwacSWah"),G=await jp(V);if(G.exists()){const W=G.data();s(W),v(W),p(!1)}else s({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),v({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),p(!0)}l(!1)})()},[n]);const w=F=>{const{name:V,value:G}=F.target;v(W=>({...W,[V]:G}))},E=async()=>{if(!n){alert("User not authenticated");return}if(!n.providerData.some(V=>V.providerId==="google.com")){alert("Profile saving is only available for Google users");return}try{const V=Gs(vr,"profile","oKBVdiB6yR4iiwacSWah");console.log("Saving profile data:",m),await Dp(V,m,{merge:!0}),s(m),p(!1),alert("Profile saved successfully!")}catch(V){console.error("Error saving profile:",V),V instanceof Error&&"code"in V&&V.code==="permission-denied"?alert("Missing or insufficient permissions. Please ensure you are signed in and try again."):alert("Failed to save profile. Please try again.")}},I=()=>{v(t),p(!0)},j=()=>{v(t),p(!1)};if(o)return d.jsx("div",{children:"Loading profile..."});const $=n&&n.providerData.some(F=>F.providerId==="google.com");return d.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Profile"}),n?$?c?d.jsx("div",{className:"group",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),d.jsx("input",{type:"text",name:"name",value:m.name,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age"}),d.jsx("input",{type:"number",name:"age",value:m.age,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your age"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),d.jsx("input",{type:"text",name:"location",value:m.location,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your location"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),d.jsx("input",{type:"text",name:"pincode",value:m.pincode,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your pincode"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:m.email,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your email"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),d.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your phone number"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),d.jsx("textarea",{name:"address",value:m.address,onChange:w,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your full address"})]})]}),d.jsxs("div",{className:"group",children:[d.jsx(qt,{onClick:E,className:"w-full",variant:"primary",children:"Save Profile"}),d.jsx("button",{onClick:j,className:"w-full mt-2 py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100",children:"Cancel"})]})]})}):d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Name"}),d.jsx("p",{className:"text-gray-900",children:t.name})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Age"}),d.jsx("p",{className:"text-gray-900",children:t.age})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Location"}),d.jsx("p",{className:"text-gray-900",children:t.location})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Pincode"}),d.jsx("p",{className:"text-gray-900",children:t.pincode})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Email"}),d.jsx("p",{className:"text-gray-900",children:t.email})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Phone"}),d.jsx("p",{className:"text-gray-900",children:t.phone})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Address"}),d.jsx("p",{className:"text-gray-900",children:t.address})]})]}),d.jsx("button",{onClick:I,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none","aria-label":"Edit Profile",children:"Edit Profile"})]}):d.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:d.jsx("p",{className:"text-center text-gray-600",children:e.state?.message||"Profile access is only available for Google users."})}):d.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:d.jsx("p",{className:"text-center text-gray-600",children:e.state?.message||"Please sign in with Google to access your profile."})})]})},Qv="/assets/last-BU7c_pAB.mp4",dR={email:"",name:"",password:"",confirmPassword:"",country:"",profilePic:null,acceptTerms:!1,city:"",state:"",zip:"",countryCode:"",phone:"",idProof:null,sellerType:""},fR=()=>{const[n,e]=L.useState(0),[t,s]=L.useState(dR),[o,l]=L.useState(""),[c,p]=L.useState(!1),[m,v]=L.useState(null),{user:w,loading:E}=Zr(),I=Jr();L.useEffect(()=>{!E&&(!w||!w.providerData.some(S=>S.providerId==="google.com"))&&I("/profile",{state:{message:"Please sign in with Google to access your seller page."}})},[w,E,I]),L.useEffect(()=>{(async()=>{if(w&&w.providerData.some(b=>b.providerId==="google.com"))try{const b=Gs(vr,"sellerApplications",w.uid);(await jp(b)).exists()?v(!0):v(!1)}catch(b){console.error("Error checking application:",b),v(!1)}else v(!1)})()},[w]);const j=S=>{const{name:b,value:k,type:A,checked:O}=S.target;s(C=>({...C,[b]:A==="checkbox"?O:k}))},$=S=>{const{name:b,files:k}=S.target;k&&k[0]&&s(A=>({...A,[b]:k[0]}))},F=()=>{n<4&&e(n+1)},V=()=>{n>1&&e(n-1)},G=async S=>{if(S.preventDefault(),n===3){if(!w){alert("Please sign in to submit the application."),I("/login");return}if(!o){alert("Please select a seller type (Honey or Bee Hive).");return}if(!t.email||!t.name||!t.acceptTerms){alert("Please fill all required fields and accept terms.");return}try{const{profilePic:b,idProof:k,password:A,confirmPassword:O,...C}=t,ke={...C,sellerType:o,submittedAt:new Date,kycVerified:!1};console.log("Submitting data:",ke),console.log("User UID:",w.uid),await Dp(Gs(vr,"sellerApplications",w.uid),ke,{merge:!0}),alert("Application submitted successfully!"),I("/applications")}catch(b){console.error("Error submitting application:",b);let k="Unknown error";b&&typeof b=="object"&&"code"in b&&b.code==="permission-denied"?k="Missing or insufficient permissions. Please ensure you are signed in and try again.":b instanceof Error&&(k=b.message),alert(`Failed to submit application: ${k}. Please try again.`)}return}F()},W=()=>{const S=["Personal Information","Address","Contact","Finish"];return d.jsx("div",{className:"flex justify-center space-x-8 mb-8",children:S.map((b,k)=>{const A=k+1,O=A===n,C=A<n;return d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${O||C?"border-purple-700":"border-gray-300"}`,children:C?d.jsx("svg",{className:"w-4 h-4 text-purple-700",fill:"none",stroke:"currentColor",strokeWidth:"3",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):d.jsx("div",{className:`w-3 h-3 rounded-full ${O?"bg-purple-700":"bg-gray-300"}`})}),d.jsx("span",{className:`mt-1 text-xs font-semibold ${O||C?"text-purple-700":"text-gray-400"}`,children:b.split(" ").map((ke,Ge)=>d.jsxs(cl.Fragment,{children:[ke,d.jsx("br",{})]},Ge))})]},b)})})},Q=()=>d.jsx("div",{className:"max-w-4xl mx-auto p-6 text-center",children:d.jsxs("div",{className:"flex justify-center gap-8",children:[d.jsx("button",{onClick:()=>{if(!w){alert("Please sign in with Google to become a seller."),I("/profile");return}l("honey"),p(!0)},className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Sell Honey"}),d.jsx("button",{onClick:()=>{if(!w){alert("Please sign in with Google to become a seller."),I("/profile");return}l("beehive"),p(!0)},className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Sell Bee Hive"})]})}),ie=()=>d.jsxs("form",{onSubmit:G,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[d.jsx("h2",{className:"text-xl font-bold mb-6",children:"Personal Information"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Email"}),d.jsx("input",{type:"email",name:"email",value:t.email,onChange:j,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Name"}),d.jsx("input",{type:"text",name:"name",placeholder:"e.g. John Doe",value:t.name,onChange:j,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Password"}),d.jsx("input",{type:"password",name:"password",value:t.password,onChange:j,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Confirm Password"}),d.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:j,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Country"}),d.jsx("input",{type:"text",name:"country",placeholder:"Country...",value:t.country,onChange:j,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Profile Picture"}),d.jsx("input",{type:"file",name:"profilePic",accept:"image/*",onChange:$,required:!0,className:"w-full mb-2 px-3 py-2 border rounded bg-gray-100 text-gray-700"}),t.profilePic&&d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["File: ",t.profilePic.name," | Size: ",(t.profilePic.size/1024).toFixed(2)," KB | Type: ",t.profilePic.type]}),d.jsxs("label",{className:"inline-flex items-center mb-4",children:[d.jsx("input",{type:"checkbox",name:"acceptTerms",checked:t.acceptTerms,onChange:j,required:!0,className:"form-checkbox text-purple-700"}),d.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I Accept Terms & Conditions"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{type:"button",onClick:()=>{e(0)},className:"text-purple-700 underline",children:"Back to Options"}),d.jsxs(qt,{type:"submit",variant:"primary",className:"flex items-center space-x-2",children:[d.jsx("span",{children:"Next"}),d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]}),ve=()=>d.jsxs("form",{onSubmit:G,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[d.jsx("h2",{className:"text-xl font-bold mb-6",children:"Address"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"City"}),d.jsx("input",{type:"text",name:"city",value:t.city,onChange:j,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"State"}),d.jsx("input",{type:"text",name:"state",value:t.state,onChange:j,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Zip"}),d.jsx("input",{type:"text",name:"zip",value:t.zip,onChange:j,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Country Code"}),d.jsx("input",{type:"text",name:"countryCode",value:t.countryCode,onChange:j,required:!0,className:"w-full mb-6 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{type:"button",onClick:V,className:"text-purple-700 underline",children:"Back"}),d.jsxs(qt,{type:"submit",variant:"primary",className:"flex items-center space-x-2",children:[d.jsx("span",{children:"Next"}),d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]}),te=()=>d.jsxs("form",{onSubmit:G,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[d.jsx("h2",{className:"text-xl font-bold mb-6",children:"Contact"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Phone"}),d.jsx("input",{type:"text",name:"phone",value:t.phone,onChange:j,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"ID Proof"}),d.jsx("input",{type:"file",name:"idProof",accept:"image/*,.pdf",onChange:$,required:!0,className:"w-full mb-2 px-3 py-2 border rounded bg-gray-100 text-gray-700"}),t.idProof&&d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["File: ",t.idProof.name," | Size: ",(t.idProof.size/1024).toFixed(2)," KB | Type: ",t.idProof.type]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{type:"button",onClick:V,className:"text-purple-700 underline",children:"Back"}),d.jsx(qt,{type:"submit",variant:"primary",children:"Sign up"})]})]}),R=()=>d.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded shadow text-center",children:[d.jsx("svg",{className:"mx-auto mb-6 w-16 h-16 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Application Submitted"}),d.jsx("p",{className:"mb-4",children:"Your seller application has been submitted successfully. You will be redirected to your dashboard shortly."}),d.jsx("a",{href:"/applications",className:"text-purple-700 underline",children:"Go to Dashboard"})]});return E||m===null?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):m?(c||p(!0),d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:d.jsx("video",{src:Qv,autoPlay:!0,muted:!0,preload:"auto",ref:S=>{S&&(S.playbackRate=.7)},onEnded:()=>I("/applications"),className:"w-full h-full object-cover"})})):d.jsxs("div",{className:"min-h-screen py-12 px-4",children:[d.jsx("h1",{className:"text-center font-semibold text-lg mb-4",children:"Register as a Seller"}),c?d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:d.jsx("video",{src:Qv,autoPlay:!0,muted:!0,preload:"auto",ref:S=>{S&&(S.playbackRate=.7)},onEnded:()=>{p(!1),e(1)},className:"w-full h-full object-cover"})}):d.jsxs(d.Fragment,{children:[n===0&&Q(),n>0&&W(),n===1&&ie(),n===2&&ve(),n===3&&te(),n===4&&R()]})]})},pR="/assets/Verification%20-%20ID%20Card%20_%20Face%20Scan-uqHJYXAA.webm",mR=()=>{const{user:n,logout:e}=Zr(),t=Jr(),[s,o]=L.useState(null),[l,c]=L.useState(!1),[p,m]=L.useState(!1),[v,w]=L.useState(!0),[E,I]=L.useState([]),[j,$]=L.useState(0),[F,V]=L.useState(0),[G,W]=L.useState(0),[Q,ie]=L.useState({idType:"Adhaar",idNumber:"",address:"",pincode:"",frontSide:null,backSide:null}),ve=async te=>{if(te.preventDefault(),!!n)try{let R="",S="";if(Q.frontSide){const k=qv(Wv,`kyc/${n.uid}/front_${Q.frontSide.name}`);await $v(k,Q.frontSide),R=await Hv(k)}if(Q.backSide){const k=qv(Wv,`kyc/${n.uid}/back_${Q.backSide.name}`);await $v(k,Q.backSide),S=await Hv(k)}const b=Gs(vr,"sellerApplications",n.uid);await Kk(b,{kycVerified:!0,kycData:{idType:Q.idType,idNumber:Q.idNumber,address:Q.address,pincode:Q.pincode,frontSideUrl:R,backSideUrl:S}}),c(!0),alert("KYC submitted successfully!")}catch(R){console.error("Error submitting KYC:",R),alert("Error submitting KYC. Please try again.")}};return L.useEffect(()=>{n?((async()=>{try{const S=Gs(vr,"sellerApplications",n.uid),b=await jp(S);if(b.exists()){const k=b.data();o(!0),c(k.kycVerified||!1)}else o(!1)}catch(S){console.error("Error checking application:",S),o(!1)}finally{w(!1)}})(),(async()=>{try{const S=Vw(Ep(vr,"orders"),Ow("createdAt","desc")),b=await Uw(S),k=[];let A=0,O=0;const C=new Set;b.forEach(ke=>{const Ge={id:ke.id,...ke.data()};k.push(Ge),A+=Ge.total||0,O+=1,Ge.items.forEach(Ne=>C.add(Ne.id.toString()))}),I(k),$(A),V(O),W(C.size)}catch(S){console.error("Error fetching orders:",S)}})()):(w(!1),o(!1))},[n]),v?d.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):n?s?d.jsxs("div",{className:"flex h-screen bg-gray-100",children:[d.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold text-purple-700",children:"HoneyBee"})}),d.jsxs("nav",{className:"mt-4",children:[d.jsxs("button",{onClick:()=>t("/seller"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"🏪"})," Seller"]}),d.jsxs("button",{onClick:()=>t("/applications"),className:"flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded",children:[d.jsx("span",{className:"mr-3",children:"📊"})," Dashboard"]}),d.jsxs("button",{onClick:()=>t("/earnings"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"💰"})," Earnings"]}),d.jsxs("button",{onClick:()=>t("/orders"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"🛒"})," Orders"]}),d.jsxs("button",{onClick:()=>t("/analytics"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"📈"})," Analytics"]}),d.jsxs("button",{onClick:()=>t("/products"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"📦"})," Products"]}),d.jsxs("button",{onClick:()=>t("/settings"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"⚙️"})," Settings"]}),d.jsxs("button",{onClick:async()=>{await e(),t("/")},className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"🚪"})," Logout"]})]})]}),d.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:d.jsxs("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:[!l&&d.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"KYC Verification Required"}),d.jsx("p",{children:"Please complete your KYC verification to unlock all features."})]}),d.jsx("button",{onClick:()=>m(!0),className:"bg-red-200 text-red-800 px-4 py-2 rounded hover:bg-red-300",children:"Complete KYC"})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),d.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",j.toFixed(2)]})]}),d.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F})]}),d.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:d.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Products"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:G})]}),d.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:d.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Golden Batch"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"Yes"})]}),d.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:d.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Overview Orders"}),d.jsxs("div",{className:"flex space-x-2 text-sm",children:[d.jsx("button",{className:"text-purple-600 border-b-2 border-purple-600 pb-1",children:"Monthly"}),d.jsx("button",{className:"text-gray-500",children:"Weekly"}),d.jsx("button",{className:"text-gray-500",children:"Daily"})]})]}),d.jsxs("div",{className:"flex space-x-2 text-sm mb-4",children:[d.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded",children:"Completed"}),d.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded",children:"Cancelled"})]}),d.jsxs("div",{className:"flex justify-between items-end h-32 space-x-1",children:[d.jsx("div",{className:"bg-blue-500 h-3/4 w-4 rounded"}),d.jsx("div",{className:"bg-blue-500 h-1/2 w-4 rounded"}),d.jsx("div",{className:"bg-red-500 h-4/5 w-4 rounded"}),d.jsx("div",{className:"bg-blue-500 h-2/3 w-4 rounded"}),d.jsx("div",{className:"bg-red-500 h-1/4 w-4 rounded"}),d.jsx("div",{className:"bg-blue-500 h-5/6 w-4 rounded"})]}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[d.jsx("span",{children:"Jan"}),d.jsx("span",{children:"Feb"}),d.jsx("span",{children:"Mar"}),d.jsx("span",{children:"Apr"}),d.jsx("span",{children:"May"}),d.jsx("span",{children:"Jun"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Activity"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),d.jsx("span",{className:"text-sm text-gray-600",children:"New order received"}),d.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:"2 min ago"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Product updated"}),d.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:"1 hour ago"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Payment processed"}),d.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:"3 hours ago"})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Orders"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("select",{className:"border rounded px-2 py-1 text-sm",children:[d.jsx("option",{children:"All"}),d.jsx("option",{children:"Pending"}),d.jsx("option",{children:"Completed"})]}),d.jsx("button",{className:"bg-purple-700 text-white px-4 py-1 rounded text-sm hover:bg-purple-800",children:"Export"})]})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.length>0?E.map(te=>d.jsxs("tr",{children:[d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",te.id.slice(-4)]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.items.map(R=>R.name).join(", ")}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${te.status==="completed"?"bg-green-100 text-green-800":te.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:te.status.charAt(0).toUpperCase()+te.status.slice(1)})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(te.createdAt).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.customerName||te.customerEmail||"N/A"})]},te.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No orders found"})})})]})})]})]})}),p&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-7xl w-full mx-4 max-h-[90vh] overflow-hidden flex",children:[d.jsx("div",{className:"w-1/2 p-8 flex items-center justify-center",children:d.jsx("video",{src:pR,autoPlay:!0,loop:!0,muted:!0,className:"w-80 h-80 object-contain rounded-lg"})}),d.jsxs("div",{className:"w-1/2 p-8 overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"KYC Verification"}),d.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),d.jsxs("form",{onSubmit:ve,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex space-x-4 mb-4",children:[d.jsx("button",{type:"button",onClick:()=>ie({...Q,idType:"Adhaar"}),className:`flex-1 py-2 px-4 rounded-md border ${Q.idType==="Adhaar"?"bg-purple-100 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:"Adhaar"}),d.jsx("button",{type:"button",onClick:()=>ie({...Q,idType:"Passport"}),className:`flex-1 py-2 px-4 rounded-md border ${Q.idType==="Passport"?"bg-purple-100 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:"Passport"})]}),d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter ID Number"}),d.jsx("input",{type:"text",value:Q.idNumber,onChange:te=>ie({...Q,idNumber:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter your ID number",required:!0}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"We will only store the last 4 digits of your ID proof"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address (Same as in KYC document)"}),d.jsx("textarea",{value:Q.address,onChange:te=>ie({...Q,address:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",rows:3,placeholder:"Enter your address",required:!0}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The address details should match with the uploaded KYC. Mismatch leads to shipment return as per customs regulations."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),d.jsx("input",{type:"text",value:Q.pincode,onChange:te=>ie({...Q,pincode:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter pincode",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload ID"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Upload Front Side"}),d.jsx("input",{type:"file",onChange:te=>ie({...Q,frontSide:te.target.files?te.target.files[0]:null}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",accept:"image/*,.pdf",required:!0}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, PDF (1MB Max)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Upload Back Side"}),d.jsx("input",{type:"file",onChange:te=>ie({...Q,backSide:te.target.files?te.target.files[0]:null}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",accept:"image/*,.pdf",required:!0}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, PDF (1MB Max)"})]})]})]}),d.jsx("button",{type:"submit",className:"w-full bg-purple-700 text-white py-3 px-4 rounded-md hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 font-medium",children:"Verify"})]})]})]})})]}):null:d.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Seller Dashboard"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-8",children:[d.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Please sign in with Google to access your seller dashboard."}),d.jsx("a",{href:"/profile",className:"text-purple-700 underline",children:"Go to Sign In"})]})]})})},gR=()=>{const{user:n,logout:e}=Zr(),t=Jr(),[s,o]=L.useState([]),[l,c]=L.useState(!0);return L.useEffect(()=>{n?(async()=>{try{const m=Vw(Ep(vr,"orders"),Ow("createdAt","desc")),v=await Uw(m),w=[];v.forEach(E=>{const I={id:E.id,...E.data()};w.push(I)}),o(w)}catch(m){console.error("Error fetching orders:",m)}finally{c(!1)}})():c(!1)},[n]),l?d.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):n?d.jsxs("div",{className:"flex h-screen bg-gray-100",children:[d.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold text-purple-700",children:"HoneyBee"})}),d.jsxs("nav",{className:"mt-4",children:[d.jsxs("button",{onClick:()=>t("/seller"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"🏪"})," Seller"]}),d.jsxs("button",{onClick:()=>t("/applications"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"📊"})," Dashboard"]}),d.jsxs("button",{onClick:()=>t("/earnings"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"💰"})," Earnings"]}),d.jsxs("button",{onClick:()=>t("/orders"),className:"flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded",children:[d.jsx("span",{className:"mr-3",children:"🛒"})," Orders"]}),d.jsxs("button",{onClick:()=>t("/analytics"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"📈"})," Analytics"]}),d.jsxs("button",{onClick:()=>t("/products"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"📦"})," Products"]}),d.jsxs("button",{onClick:()=>t("/settings"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"⚙️"})," Settings"]}),d.jsxs("button",{onClick:async()=>{await e(),t("/")},className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:"🚪"})," Logout"]})]})]}),d.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:d.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Orders"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("select",{className:"border rounded px-2 py-1 text-sm",children:[d.jsx("option",{children:"All"}),d.jsx("option",{children:"Pending"}),d.jsx("option",{children:"Completed"})]}),d.jsx("button",{className:"bg-purple-700 text-white px-4 py-1 rounded text-sm hover:bg-purple-800",children:"Export"})]})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length>0?s.map(p=>d.jsxs("tr",{children:[d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",p.id.slice(-4)]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.items.map(m=>m.name).join(", ")}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p.status==="completed"?"bg-green-100 text-green-800":p.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(p.createdAt).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.customerName||p.customerEmail||"N/A"})]},p.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No orders found"})})})]})})]})})})]}):d.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Orders"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-8",children:[d.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Please sign in with Google to access your orders."}),d.jsx("a",{href:"/profile",className:"text-purple-700 underline",children:"Go to Sign In"})]})]})})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Xs=(n,e)=>{const t=L.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:p="",children:m,...v},w)=>L.createElement("svg",{ref:w,...yR,width:o,height:o,stroke:s,strokeWidth:c?Number(l)*24/Number(o):l,className:["lucide",`lucide-${vR(n)}`,p].join(" "),...v},[...e.map(([E,I])=>L.createElement(E,I)),...Array.isArray(m)?m:[m]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Xs("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Xs("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Xs("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Xs("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Xs("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Xs("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Xs("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Xs("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),IR=()=>{const{addToCart:n}=Tl(),e=Jr(),t=(s,o)=>{const l={id:s==="Basic"?1:2,name:`${s} Subscription Plan`,price:o,image:s==="Basic"?"/src/assets/basic.PNG":"/src/assets/premium.PNG",description:`${s} subscription plan for sellers`};n(l),e("/cart")};return d.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Subscription Plans"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsx("div",{className:"group",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center",children:[d.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Basic"}),d.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"₹499"}),d.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[d.jsxs("li",{className:"flex items-center",children:[d.jsx(lr,{className:"w-5 h-5 text-green-500 mr-2"})," Basic sales tracking"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(lr,{className:"w-5 h-5 text-green-500 mr-2"})," 10% per sale"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(lr,{className:"w-5 h-5 text-green-500 mr-2"})," Payment payouts 5-7 days"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(lr,{className:"w-5 h-5 text-green-500 mr-2"})," Standard email Support"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(lr,{className:"w-5 h-5 text-green-500 mr-2"})," Can rent up to 10 hive per month"]})]}),d.jsx("div",{className:"group",children:d.jsx(qt,{onClick:()=>t("Basic","499"),className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})}),d.jsx("div",{className:"group",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center",children:[d.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Premium"}),d.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"₹1299"}),d.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[d.jsxs("li",{className:"flex items-center",children:[d.jsx(lr,{className:"w-5 h-5 text-green-500 mr-2"})," AI insights: best-selling flavors, demand trends by region"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(lr,{className:"w-5 h-5 text-green-500 mr-2"})," 5% per sale"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(lr,{className:"w-5 h-5 text-green-500 mr-2"})," Instant payout"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(lr,{className:"w-5 h-5 text-green-500 mr-2"})," Priority chat support"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(lr,{className:"w-5 h-5 text-green-500 mr-2"})," Can rent unlimited hive per month"]})]}),d.jsx("div",{className:"group",children:d.jsx(qt,{onClick:()=>t("Premium","1299"),className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})})]})]})},SR=()=>d.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-honeybee-secondary mb-6",children:"Settings"}),d.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:d.jsx("p",{className:"text-honeybee-dark-brown",children:"Settings page coming soon..."})})]});function bR(){const[n,e]=L.useState(!1),t=$n(),s=Jr(),{cartItems:o}=Tl(),{user:l,logout:c}=Zr(),p=()=>{e(!n)};return t.pathname==="/login"||t.pathname==="/signup"?null:d.jsxs("nav",{className:"bg-honeybee-background/95 backdrop-blur-sm shadow-lg fixed w-full z-50",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx(Tt,{to:"/",className:"flex-shrink-0 flex items-center",children:d.jsx("span",{className:"font-serif text-2xl font-bold text-honeybee-primary",children:"Bee Bridge"})})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[d.jsx(Tt,{to:"/home",className:`font-medium ${t.pathname==="/home"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Home"}),d.jsx(Tt,{to:"/shop",className:`font-medium ${t.pathname==="/shop"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Shop"}),d.jsx(Tt,{to:"/about",className:`font-medium ${t.pathname==="/about"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"About"}),d.jsx("button",{onClick:async()=>{if(!l){s("/profile",{state:{message:"Please sign in with Google to access your seller page."}});return}if(!l.providerData.some(m=>m.providerId==="google.com")){s("/profile",{state:{message:"Please sign in with Google to access your seller page."}});return}navigator.geolocation?navigator.geolocation.getCurrentPosition(()=>{s("/seller")},m=>{console.error("Error getting location:",m),alert("Location access denied. Please enable location services to access the seller page.")}):alert("Geolocation is not supported by this browser.")},className:`font-medium ${t.pathname==="/seller"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Seller"}),d.jsx(Tt,{to:"/contact",className:`font-medium ${t.pathname==="/contact"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Contact"}),d.jsx(Tt,{to:"/subscription",className:`font-medium ${t.pathname==="/subscription"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Subscription"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs(Tt,{to:"/cart",className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 relative",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),o.length>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full text-xs w-5 h-5 flex items-center justify-center",children:o.length})]}),d.jsx(Tt,{to:"/profile",className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),d.jsxs("div",{className:"relative group",children:[d.jsxs("button",{className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 flex items-center space-x-1 focus:outline-none",children:[d.jsx(xR,{className:"h-6 w-6"}),d.jsx("span",{className:"sr-only",children:"Settings"})]}),d.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-50",children:d.jsx("button",{className:"block w-full text-left px-4 py-2 text-honeybee-dark hover:bg-honeybee-light",onClick:()=>{c(),window.location.href="/"},children:"Logout"})})]}),d.jsx("button",{onClick:p,className:"md:hidden text-honeybee-secondary hover:text-honeybee-primary",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),n&&d.jsx("div",{className:"md:hidden bg-honeybee-background/95 backdrop-blur-sm border-t border-honeybee-light",children:d.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[d.jsx(Tt,{to:"/",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Home"}),d.jsx(Tt,{to:"/shop",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/shop"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Shop"}),d.jsx(Tt,{to:"/about",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/about"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"About"}),d.jsx(Tt,{to:"/seller",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/seller"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Seller"}),d.jsx(Tt,{to:"/contact",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/contact"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Contact"}),d.jsx(Tt,{to:"/subscription",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/subscription"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Subscription"}),d.jsx(Tt,{to:"/settings",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/settings"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Settings"})]})})]})}const NR=()=>d.jsxs("footer",{className:"bg-gray-900 text-gray-300 py-10",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 border-b border-gray-700 pb-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"About"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Contact Us"})}),d.jsx("li",{children:d.jsx("a",{href:"/about",className:"hover:text-white font-semibold",children:"About Us"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"Help"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Payments"})}),d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Shipping"})}),d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Cancellation & Returns"})}),d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"FAQ"})})]})]}),d.jsxs("div",{className:"border-l border-gray-700 pl-6",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"Mail Us:"}),d.jsx("address",{className:"not-italic text-sm space-y-1",children:d.jsx("p",{children:"beebridgeshop@gmail.com"})}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-sm font-semibold",children:"Social:"}),d.jsxs("div",{className:"flex space-x-4 mt-2",children:[d.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"hover:text-white",children:d.jsx(_R,{size:20})}),d.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",className:"hover:text-white",children:d.jsx(ER,{size:20})}),d.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",className:"hover:text-white",children:d.jsx(TR,{size:20})}),d.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"hover:text-white",children:d.jsx(wR,{size:20})})]})]})]})]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between pt-6",children:[d.jsxs("div",{className:"flex space-x-8 text-yellow-400 text-sm font-semibold",children:[d.jsx("a",{href:"/seller",className:"flex items-center space-x-2 hover:underline",children:d.jsx("span",{children:"Become a Seller"})}),d.jsx("a",{href:"/contact",className:"flex items-center space-x-2 hover:underline",children:d.jsx("span",{children:"Help Center"})})]}),d.jsx("div",{className:"text-gray-400 text-sm mt-4 md:mt-0",children:"© 2025 Bee Bridge.com"})]})]}),ur=({children:n,backgroundImage:e})=>{const t=$n();return d.jsxs("div",{className:"min-h-screen flex flex-col",style:e?{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}:{},children:[d.jsx(bR,{}),d.jsx("main",{className:"pt-16 pb-80",children:n}),t.pathname==="/seller"&&d.jsx("div",{className:"h-screen"}),t.pathname!=="/seller"&&d.jsx("div",{className:"mt-96",children:d.jsx(NR,{})})]})},Yv=()=>{const[n,e]=L.useState(""),[t,s]=L.useState(""),[o,l]=L.useState(!1),[c,p]=L.useState(null),m=Jr(),{signInWithGoogle:v}=Zr(),w=E=>{E.preventDefault(),m("/home")};return d.jsx("div",{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center px-4",children:d.jsxs("div",{className:"max-w-5xl w-full bg-gray-50 rounded-3xl shadow-2xl flex overflow-hidden",children:[d.jsxs("div",{className:"w-full md:w-1/2 p-10 flex flex-col justify-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Hello Again!"}),d.jsxs("form",{onSubmit:w,className:"space-y-6",children:[d.jsx("div",{children:d.jsx("input",{type:"email",id:"email",value:n,onChange:E=>e(E.target.value),required:!0,placeholder:"Email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),d.jsx("div",{children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:o?"text":"password",id:"password",value:t,onChange:E=>s(E.target.value),required:!0,placeholder:"Password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"}),d.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":o?"Hide password":"Show password",children:o?d.jsx(ix,{className:"h-5 w-5"}):d.jsx(sx,{className:"h-5 w-5"})})]})}),d.jsx("div",{children:d.jsx("div",{className:"text-right text-xs text-gray-500 mb-4 cursor-pointer hover:underline",children:"Recovery Password"})}),d.jsx("div",{children:d.jsx(qt,{type:"submit",variant:"primary",className:"w-full font-semibold",children:"Sign In"})})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("span",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",d.jsx(qt,{onClick:()=>m("/signup"),variant:"ghost",className:"text-honeybee-primary hover:underline font-semibold p-0",children:"Sign Up"})]})}),d.jsxs("div",{className:"flex items-center my-6",children:[d.jsx("hr",{className:"flex-grow border-gray-300"}),d.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"Or continue with"}),d.jsx("hr",{className:"flex-grow border-gray-300"})]}),c&&d.jsx("div",{className:"text-red-500 text-sm text-center mb-4",children:c}),d.jsx("div",{className:"flex justify-center",children:d.jsx(qt,{onClick:async()=>{p(null);try{await v(),m("/home")}catch(E){const I=E instanceof Error?E.message:"Google login failed. Please try again.";p(I)}},variant:"light",size:"icon",className:"p-3 shadow-md bg-white hover:shadow-lg",children:d.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"})})})]}),d.jsx("div",{className:"hidden md:flex md:w-1/2 relative rounded-r-3xl overflow-hidden border-8 border-white shadow-lg",children:cl.createElement("dotlottie-wc",{src:"https://lottie.host/415db1e3-d9d5-4073-b9fe-099abfe8c66c/XtpXv9SgcE.lottie",style:{width:"100%",height:"100%"},autoplay:!0,loop:!0})})]})})},CR=()=>{const[n,e]=L.useState(""),[t,s]=L.useState(""),[o,l]=L.useState(""),[c,p]=L.useState(!1),[m,v]=L.useState(!1),[w,E]=L.useState(null),I=Jr(),{signInWithGoogle:j}=Zr(),$=F=>{F.preventDefault(),v(!0),setTimeout(()=>{I("/home")},2500)};return m?d.jsx("div",{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center",children:cl.createElement("dotlottie-wc",{src:"https://lottie.host/81653027-58d6-47e3-9de5-491db6a527a5/TWNyD5vQVe.lottie",style:{width:"300px",height:"300px"},autoplay:!0,loop:!0})}):d.jsx("div",{className:"min-h-screen gradient-bg-warm flex items-center justify-center px-4",children:d.jsxs("div",{className:"max-w-5xl w-full glass-effect rounded-3xl modern-shadow flex overflow-hidden",children:[d.jsxs("div",{className:"w-full md:w-1/2 p-10 flex flex-col justify-center",children:[d.jsx("h1",{className:"text-4xl font-bold vibrant-text mb-6 text-center",children:"Create Account"}),d.jsxs("form",{onSubmit:$,className:"space-y-6",children:[d.jsx("div",{children:d.jsx("input",{type:"text",id:"name",value:n,onChange:F=>e(F.target.value),required:!0,placeholder:"Your full name",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),d.jsx("div",{children:d.jsx("input",{type:"email",id:"email",value:t,onChange:F=>s(F.target.value),required:!0,placeholder:"Email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),d.jsx("div",{children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:c?"text":"password",id:"password",value:o,onChange:F=>l(F.target.value),required:!0,placeholder:"Password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"}),d.jsx("button",{type:"button",onClick:()=>p(!c),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":c?"Hide password":"Show password",children:c?d.jsx(ix,{className:"h-5 w-5"}):d.jsx(sx,{className:"h-5 w-5"})})]})}),d.jsx("div",{children:d.jsx(qt,{type:"submit",variant:"primary",className:"w-full font-semibold",children:"Sign Up"})})]}),d.jsxs("div",{className:"flex items-center my-6",children:[d.jsx("hr",{className:"flex-grow border-gray-300"}),d.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"Or continue with"}),d.jsx("hr",{className:"flex-grow border-gray-300"})]}),w&&d.jsx("div",{className:"text-red-500 text-sm text-center mb-4",children:w}),d.jsx("div",{className:"flex justify-center",children:d.jsx(qt,{onClick:async()=>{E(null);try{await j(),v(!0),setTimeout(()=>I("/home"),2500)}catch(F){const V=F instanceof Error?F.message:"Google login failed. Please try again.";E(V)}},variant:"light",size:"icon",className:"p-3 shadow-md bg-white hover:shadow-lg",children:d.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"})})}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("span",{className:"text-gray-600 text-sm",children:["Already have an account?"," ",d.jsx(qt,{onClick:()=>I("/login"),variant:"ghost",className:"text-honeybee-primary hover:underline font-semibold p-0",children:"Sign In"})]})})]}),d.jsx("div",{className:"hidden md:block md:w-1/2 relative rounded-r-3xl overflow-hidden border-8 border-white shadow-lg",children:cl.createElement("dotlottie-wc",{src:"https://lottie.host/415db1e3-d9d5-4073-b9fe-099abfe8c66c/XtpXv9SgcE.lottie",style:{width:"100%",height:"100%"},autoplay:!0,loop:!0})})]})})},kR=({type:n="card",count:e=1,className:t=""})=>{const s=Array.from({length:e},(o,l)=>d.jsxs("div",{className:`animate-pulse ${t} ${n==="card"?"bg-gray-200 rounded-xl p-6 space-y-4":n==="list"?"bg-gray-200 rounded-lg p-4 space-y-3":"bg-gray-200 rounded h-4"}`,children:[n==="card"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),d.jsx("div",{className:"h-10 bg-gray-300 rounded"})]}),n==="list"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]}),n==="text"&&d.jsx("div",{className:"h-4 bg-gray-300 rounded"})]},l));return d.jsx(d.Fragment,{children:s})},Xv=({children:n})=>{const{user:e,loading:t}=Zr();return t?d.jsx(kR,{}):e?e.providerData.some(s=>s.providerId==="google.com")?n:d.jsx(uy,{to:"/profile",replace:!0}):d.jsx(uy,{to:"/login",replace:!0})},AR="https://media.istockphoto.com/id/1669258600/vector/illustration-of-delicious-melted-chocolate-on-white-background.jpg?s=612x612&w=0&k=20&c=oykGVJHBjHuevHVi2GE8jFmCe0EpX2unEfhMPCFFeik=";function RR(){return d.jsxs(hT,{children:[d.jsx(zt,{path:"/",element:d.jsx(Yv,{})}),d.jsx(zt,{path:"/login",element:d.jsx(Yv,{})}),d.jsx(zt,{path:"/signup",element:d.jsx(CR,{})}),d.jsx(zt,{path:"/home",element:d.jsx(ur,{children:d.jsx(WT,{})})}),d.jsx(zt,{path:"/about",element:d.jsx(ur,{children:d.jsx(GT,{})})}),d.jsx(zt,{path:"/contact",element:d.jsx(ur,{children:d.jsx(YT,{})})}),d.jsx(zt,{path:"/shop",element:d.jsx(ur,{children:d.jsx(ZT,{})})}),d.jsx(zt,{path:"/cart",element:d.jsx(ur,{children:d.jsx(e1,{})})}),d.jsx(zt,{path:"/checkout",element:d.jsx(ur,{children:d.jsx(cR,{})})}),d.jsx(zt,{path:"/profile",element:d.jsx(ur,{children:d.jsx(hR,{})})}),d.jsx(zt,{path:"/seller",element:d.jsx(ur,{backgroundImage:AR,children:d.jsx(fR,{})})}),d.jsx(zt,{path:"/applications",element:d.jsx(Xv,{children:d.jsx(mR,{})})}),d.jsx(zt,{path:"/orders",element:d.jsx(Xv,{children:d.jsx(gR,{})})}),d.jsx(zt,{path:"/subscription",element:d.jsx(ur,{children:d.jsx(IR,{})})}),d.jsx(zt,{path:"/settings",element:d.jsx(ur,{children:d.jsx(SR,{})})})]})}function PR(){return d.jsx(XT,{children:d.jsx(DT,{children:d.jsx(RR,{})})})}xE.createRoot(document.getElementById("root")).render(d.jsx(L.StrictMode,{children:d.jsx(PR,{})}));
