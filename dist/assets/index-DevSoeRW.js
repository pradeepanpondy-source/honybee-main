(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function RE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bd={exports:{}},tl={},zd={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function AE(){if(ay)return Ne;ay=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,F={};function j(M,X,Se){this.props=M,this.context=X,this.refs=F,this.updater=Se||P}j.prototype.isReactComponent={},j.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function H(){}H.prototype=j.prototype;function G(M,X,Se){this.props=M,this.context=X,this.refs=F,this.updater=Se||P}var Q=G.prototype=new H;Q.constructor=G,z(Q,j.prototype),Q.isPureReactComponent=!0;var ie=Array.isArray,ve=Object.prototype.hasOwnProperty,te={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(M,X,Se){var be,Re={},Ae=null,Be=null;if(X!=null)for(be in X.ref!==void 0&&(Be=X.ref),X.key!==void 0&&(Ae=""+X.key),X)ve.call(X,be)&&!A.hasOwnProperty(be)&&(Re[be]=X[be]);var Ve=arguments.length-2;if(Ve===1)Re.children=Se;else if(1<Ve){for(var qe=Array(Ve),Gt=0;Gt<Ve;Gt++)qe[Gt]=arguments[Gt+2];Re.children=qe}if(M&&M.defaultProps)for(be in Ve=M.defaultProps,Ve)Re[be]===void 0&&(Re[be]=Ve[be]);return{$$typeof:n,type:M,key:Ae,ref:Be,props:Re,_owner:te.current}}function b(M,X){return{$$typeof:n,type:M.type,key:X,ref:M.ref,props:M.props,_owner:M._owner}}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function R(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Se){return X[Se]})}var L=/\/+/g;function N(M,X){return typeof M=="object"&&M!==null&&M.key!=null?R(""+M.key):X.toString(36)}function ke(M,X,Se,be,Re){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(Ae){case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case n:case e:Be=!0}}if(Be)return Be=M,Re=Re(Be),M=be===""?"."+N(Be,0):be,ie(Re)?(Se="",M!=null&&(Se=M.replace(L,"$&/")+"/"),ke(Re,X,Se,"",function(Gt){return Gt})):Re!=null&&(k(Re)&&(Re=b(Re,Se+(!Re.key||Be&&Be.key===Re.key?"":(""+Re.key).replace(L,"$&/")+"/")+M)),X.push(Re)),1;if(Be=0,be=be===""?".":be+":",ie(M))for(var Ve=0;Ve<M.length;Ve++){Ae=M[Ve];var qe=be+N(Ae,Ve);Be+=ke(Ae,X,Se,qe,Re)}else if(qe=I(M),typeof qe=="function")for(M=qe.call(M),Ve=0;!(Ae=M.next()).done;)Ae=Ae.value,qe=be+N(Ae,Ve++),Be+=ke(Ae,X,Se,qe,Re);else if(Ae==="object")throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Be}function Ge(M,X,Se){if(M==null)return M;var be=[],Re=0;return ke(M,be,"","",function(Ae){return X.call(Se,Ae,Re++)}),be}function Ce(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(Se){(M._status===0||M._status===-1)&&(M._status=1,M._result=Se)},function(Se){(M._status===0||M._status===-1)&&(M._status=2,M._result=Se)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var He={current:null},se={transition:null},pe={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:se,ReactCurrentOwner:te};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Ge,forEach:function(M,X,Se){Ge(M,function(){X.apply(this,arguments)},Se)},count:function(M){var X=0;return Ge(M,function(){X++}),X},toArray:function(M){return Ge(M,function(X){return X})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ne.Component=j,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=G,Ne.StrictMode=s,Ne.Suspense=m,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ne.act=le,Ne.cloneElement=function(M,X,Se){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var be=z({},M.props),Re=M.key,Ae=M.ref,Be=M._owner;if(X!=null){if(X.ref!==void 0&&(Ae=X.ref,Be=te.current),X.key!==void 0&&(Re=""+X.key),M.type&&M.type.defaultProps)var Ve=M.type.defaultProps;for(qe in X)ve.call(X,qe)&&!A.hasOwnProperty(qe)&&(be[qe]=X[qe]===void 0&&Ve!==void 0?Ve[qe]:X[qe])}var qe=arguments.length-2;if(qe===1)be.children=Se;else if(1<qe){Ve=Array(qe);for(var Gt=0;Gt<qe;Gt++)Ve[Gt]=arguments[Gt+2];be.children=Ve}return{$$typeof:n,type:M.type,key:Re,ref:Ae,props:be,_owner:Be}},Ne.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Ne.createElement=S,Ne.createFactory=function(M){var X=S.bind(null,M);return X.type=M,X},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:p,render:M}},Ne.isValidElement=k,Ne.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:Ce}},Ne.memo=function(M,X){return{$$typeof:v,type:M,compare:X===void 0?null:X}},Ne.startTransition=function(M){var X=se.transition;se.transition={};try{M()}finally{se.transition=X}},Ne.unstable_act=le,Ne.useCallback=function(M,X){return He.current.useCallback(M,X)},Ne.useContext=function(M){return He.current.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M){return He.current.useDeferredValue(M)},Ne.useEffect=function(M,X){return He.current.useEffect(M,X)},Ne.useId=function(){return He.current.useId()},Ne.useImperativeHandle=function(M,X,Se){return He.current.useImperativeHandle(M,X,Se)},Ne.useInsertionEffect=function(M,X){return He.current.useInsertionEffect(M,X)},Ne.useLayoutEffect=function(M,X){return He.current.useLayoutEffect(M,X)},Ne.useMemo=function(M,X){return He.current.useMemo(M,X)},Ne.useReducer=function(M,X,Se){return He.current.useReducer(M,X,Se)},Ne.useRef=function(M){return He.current.useRef(M)},Ne.useState=function(M){return He.current.useState(M)},Ne.useSyncExternalStore=function(M,X,Se){return He.current.useSyncExternalStore(M,X,Se)},Ne.useTransition=function(){return He.current.useTransition()},Ne.version="18.3.1",Ne}var ly;function Uf(){return ly||(ly=1,zd.exports=AE()),zd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function PE(){if(uy)return tl;uy=1;var n=Uf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(p,m,v){var w,E={},I=null,P=null;v!==void 0&&(I=""+v),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(P=m.ref);for(w in m)s.call(m,w)&&!l.hasOwnProperty(w)&&(E[w]=m[w]);if(p&&p.defaultProps)for(w in m=p.defaultProps,m)E[w]===void 0&&(E[w]=m[w]);return{$$typeof:e,type:p,key:I,ref:P,props:E,_owner:o.current}}return tl.Fragment=t,tl.jsx=c,tl.jsxs=c,tl}var cy;function jE(){return cy||(cy=1,Bd.exports=PE()),Bd.exports}var d=jE(),V=Uf();const vl=RE(V);var ac={},$d={exports:{}},nn={},Hd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function DE(){return hy||(hy=1,(function(n){function e(se,pe){var le=se.length;se.push(pe);e:for(;0<le;){var M=le-1>>>1,X=se[M];if(0<o(X,pe))se[M]=pe,se[le]=X,le=M;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var pe=se[0],le=se.pop();if(le!==pe){se[0]=le;e:for(var M=0,X=se.length,Se=X>>>1;M<Se;){var be=2*(M+1)-1,Re=se[be],Ae=be+1,Be=se[Ae];if(0>o(Re,le))Ae<X&&0>o(Be,Re)?(se[M]=Be,se[Ae]=le,M=Ae):(se[M]=Re,se[be]=le,M=be);else if(Ae<X&&0>o(Be,le))se[M]=Be,se[Ae]=le,M=Ae;else break e}}return pe}function o(se,pe){var le=se.sortIndex-pe.sortIndex;return le!==0?le:se.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,p=c.now();n.unstable_now=function(){return c.now()-p}}var m=[],v=[],w=1,E=null,I=3,P=!1,z=!1,F=!1,j=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(se){for(var pe=t(v);pe!==null;){if(pe.callback===null)s(v);else if(pe.startTime<=se)s(v),pe.sortIndex=pe.expirationTime,e(m,pe);else break;pe=t(v)}}function ie(se){if(F=!1,Q(se),!z)if(t(m)!==null)z=!0,Ce(ve);else{var pe=t(v);pe!==null&&He(ie,pe.startTime-se)}}function ve(se,pe){z=!1,F&&(F=!1,H(S),S=-1),P=!0;var le=I;try{for(Q(pe),E=t(m);E!==null&&(!(E.expirationTime>pe)||se&&!R());){var M=E.callback;if(typeof M=="function"){E.callback=null,I=E.priorityLevel;var X=M(E.expirationTime<=pe);pe=n.unstable_now(),typeof X=="function"?E.callback=X:E===t(m)&&s(m),Q(pe)}else s(m);E=t(m)}if(E!==null)var Se=!0;else{var be=t(v);be!==null&&He(ie,be.startTime-pe),Se=!1}return Se}finally{E=null,I=le,P=!1}}var te=!1,A=null,S=-1,b=5,k=-1;function R(){return!(n.unstable_now()-k<b)}function L(){if(A!==null){var se=n.unstable_now();k=se;var pe=!0;try{pe=A(!0,se)}finally{pe?N():(te=!1,A=null)}}else te=!1}var N;if(typeof G=="function")N=function(){G(L)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ge=ke.port2;ke.port1.onmessage=L,N=function(){Ge.postMessage(null)}}else N=function(){j(L,0)};function Ce(se){A=se,te||(te=!0,N())}function He(se,pe){S=j(function(){se(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){z||P||(z=!0,Ce(ve))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(se){switch(I){case 1:case 2:case 3:var pe=3;break;default:pe=I}var le=I;I=pe;try{return se()}finally{I=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,pe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=I;I=se;try{return pe()}finally{I=le}},n.unstable_scheduleCallback=function(se,pe,le){var M=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?M+le:M):le=M,se){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,se={id:w++,callback:pe,priorityLevel:se,startTime:le,expirationTime:X,sortIndex:-1},le>M?(se.sortIndex=le,e(v,se),t(m)===null&&se===t(v)&&(F?(H(S),S=-1):F=!0,He(ie,le-M))):(se.sortIndex=X,e(m,se),z||P||(z=!0,Ce(ve))),se},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(se){var pe=I;return function(){var le=I;I=pe;try{return se.apply(this,arguments)}finally{I=le}}}})(qd)),qd}var dy;function OE(){return dy||(dy=1,Hd.exports=DE()),Hd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function LE(){if(fy)return nn;fy=1;var n=Uf(),e=OE();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function I(r){return m.call(E,r)?!0:m.call(w,r)?!1:v.test(r)?E[r]=!0:(w[r]=!0,!1)}function P(r,i,a,h){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function z(r,i,a,h){if(i===null||typeof i>"u"||P(r,i,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function F(r,i,a,h,f,g,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=x}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new F(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];j[i]=new F(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new F(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new F(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new F(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new F(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new F(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new F(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new F(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(H,G);j[i]=new F(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(H,G);j[i]=new F(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(H,G);j[i]=new F(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new F(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new F(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,i,a,h){var f=j.hasOwnProperty(i)?j[i]:null;(f!==null?f.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(z(i,a,f,h)&&(a=null),h||f===null?I(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,i,a):r.setAttribute(i,a))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),te=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),R=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),se=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,M;function X(r){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+r}var Se=!1;function be(r,i){if(!r||Se)return"";Se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var h=q}Reflect.construct(r,[],i)}else{try{i.call()}catch(q){h=q}r.call(i.prototype)}else{try{throw Error()}catch(q){h=q}r()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=h.stack.split(`
`),x=f.length-1,C=g.length-1;1<=x&&0<=C&&f[x]!==g[C];)C--;for(;1<=x&&0<=C;x--,C--)if(f[x]!==g[C]){if(x!==1||C!==1)do if(x--,C--,0>C||f[x]!==g[C]){var D=`
`+f[x].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=x&&0<=C);break}}}finally{Se=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function Re(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function Ae(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case te:return"Portal";case b:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case ke:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case L:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ge:return i=r.displayName||null,i!==null?i:Ae(r.type)||"Memo";case Ce:i=r._payload,r=r._init;try{return Ae(r(i))}catch{}}return null}function Be(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ve(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gt(r){var i=qe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){h=""+x,g.call(this,x)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Gi(r){r._valueTracker||(r._valueTracker=Gt(r))}function aa(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),h="";return r&&(h=qe(r)?r.checked?"true":"false":r.value),r=h,r!==a?(i.setValue(r),!0):!1}function ts(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ki(r,i){var a=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Wl(r,i){var a=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;a=Ve(i.value!=null?i.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Qi(r,i){i=i.checked,i!=null&&Q(r,"checked",i,!1)}function ni(r,i){Qi(r,i);var a=Ve(i.value),h=i.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?mt(r,i.type,a):i.hasOwnProperty("defaultValue")&&mt(r,i.type,Ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function la(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function mt(r,i,a){(i!=="number"||ts(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var ct=Array.isArray;function An(r,i,a,h){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ve(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function ua(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ca(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(ct(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Ve(a)}}function Gl(r,i){var a=Ve(i.value),h=Ve(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function ns(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ha(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yi(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ha(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var rs,Kl=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(i,a,h,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=rs.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function ri(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ql=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(r){Ql.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),ss[i]=ss[r]})});function is(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||ss.hasOwnProperty(r)&&ss[r]?(""+i).trim():i+"px"}function Xi(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=is(a,i[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var da=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pn(r,i){if(i){if(da[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ji(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function Zi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Cr=null,Nr=null,ot=null;function fa(r){if(r=Ua(r)){if(typeof Cr!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Eu(i),Cr(r.stateNode,r.type,i))}}function as(r){Nr?ot?ot.push(r):ot=[r]:Nr=r}function ls(){if(Nr){var r=Nr,i=ot;if(ot=Nr=null,fa(r),i)for(r=0;r<i.length;r++)fa(i[r])}}function Yl(r,i){return r(i)}function Xl(){}var Kn=!1;function Jl(r,i,a){if(Kn)return r(i,a);Kn=!0;try{return Yl(r,i,a)}finally{Kn=!1,(Nr!==null||ot!==null)&&(Xl(),ls())}}function si(r,i){var a=r.stateNode;if(a===null)return null;var h=Eu(a);if(h===null)return null;a=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var us=!1;if(p)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){us=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{us=!1}function Zl(r,i,a,h,f,g,x,C,D){var q=Array.prototype.slice.call(arguments,3);try{i.apply(a,q)}catch(Z){this.onError(Z)}}var kr=!1,Qn=null,eo=!1,_n=null,eu={onError:function(r){kr=!0,Qn=r}};function tu(r,i,a,h,f,g,x,C,D){kr=!1,Qn=null,Zl.apply(eu,arguments)}function pa(r,i,a,h,f,g,x,C,D){if(tu.apply(this,arguments),kr){if(kr){var q=Qn;kr=!1,Qn=null}else throw Error(t(198));eo||(eo=!0,_n=q)}}function jn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function ma(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function nu(r){if(jn(r)!==r)throw Error(t(188))}function ru(r){var i=r.alternate;if(!i){if(i=jn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,h=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return nu(f),r;if(g===h)return nu(f),i;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var x=!1,C=f.child;C;){if(C===a){x=!0,a=f,h=g;break}if(C===h){x=!0,h=f,a=g;break}C=C.sibling}if(!x){for(C=g.child;C;){if(C===a){x=!0,a=g,h=f;break}if(C===h){x=!0,h=g,a=f;break}C=C.sibling}if(!x)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function su(r){return r=ru(r),r!==null?ii(r):null}function ii(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=ii(r);if(i!==null)return i;r=r.sibling}return null}var ga=e.unstable_scheduleCallback,to=e.unstable_cancelCallback,oi=e.unstable_shouldYield,Rr=e.unstable_requestPaint,Ye=e.unstable_now,vh=e.unstable_getCurrentPriorityLevel,no=e.unstable_ImmediatePriority,ya=e.unstable_UserBlockingPriority,ai=e.unstable_NormalPriority,va=e.unstable_LowPriority,ro=e.unstable_IdlePriority,li=null,ln=null;function iu(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:ui,Yn=Math.log,wn=Math.LN2;function ui(r){return r>>>=0,r===0?32:31-(Yn(r)/wn|0)|0}var Xn=64,hs=4194304;function Ue(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ar(r,i){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,x=a&268435455;if(x!==0){var C=x&~f;C!==0?h=Ue(C):(g&=x,g!==0&&(h=Ue(g)))}else x=a&~f,x!==0?h=Ue(x):g!==0&&(h=Ue(g));if(h===0)return 0;if(i!==0&&i!==h&&(i&f)===0&&(f=h&-h,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((h&4)!==0&&(h|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)a=31-un(i),f=1<<a,h|=r[a],i&=~f;return h}function ci(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(r,i){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var x=31-un(g),C=1<<x,D=f[x];D===-1?((C&a)===0||(C&h)!==0)&&(f[x]=ci(C,i)):D<=i&&(r.expiredLanes|=C),g&=~C}}function _a(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function wa(){var r=Xn;return Xn<<=1,(Xn&4194240)===0&&(Xn=64),r}function xa(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function di(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-un(i),r[i]=a}function _h(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-un(a),g=1<<f;i[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function Ea(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var h=31-un(a),f=1<<h;f&i|r[h]&i&&(r[h]|=i),a&=~f}}var Oe=0;function Jn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ta,so,Ia,Sa,ba,Zn=!1,io=[],er=null,tr=null,kt=null,fi=new Map,Pr=new Map,cn=[],ou="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ds(r,i){switch(r){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":fi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(i.pointerId)}}function Dn(r,i,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Ua(i),i!==null&&so(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function au(r,i,a,h,f){switch(i){case"focusin":return er=Dn(er,r,i,a,h,f),!0;case"dragenter":return tr=Dn(tr,r,i,a,h,f),!0;case"mouseover":return kt=Dn(kt,r,i,a,h,f),!0;case"pointerover":var g=f.pointerId;return fi.set(g,Dn(fi.get(g)||null,r,i,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Pr.set(g,Dn(Pr.get(g)||null,r,i,a,h,f)),!0}return!1}function oo(r){var i=yi(r.target);if(i!==null){var a=jn(i);if(a!==null){if(i=a.tag,i===13){if(i=ma(a),i!==null){r.blockedOn=i,ba(r.priority,function(){Ia(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function We(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=ao(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);os=h,a.target.dispatchEvent(h),os=null}else return i=Ua(a),i!==null&&so(i),r.blockedOn=a,!1;i.shift()}return!0}function lu(r,i,a){We(r)&&a.delete(i)}function wh(){Zn=!1,er!==null&&We(er)&&(er=null),tr!==null&&We(tr)&&(tr=null),kt!==null&&We(kt)&&(kt=null),fi.forEach(lu),Pr.forEach(lu)}function fs(r,i){r.blockedOn===i&&(r.blockedOn=null,Zn||(Zn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wh)))}function ps(r){function i(f){return fs(f,r)}if(0<io.length){fs(io[0],r);for(var a=1;a<io.length;a++){var h=io[a];h.blockedOn===r&&(h.blockedOn=null)}}for(er!==null&&fs(er,r),tr!==null&&fs(tr,r),kt!==null&&fs(kt,r),fi.forEach(i),Pr.forEach(i),a=0;a<cn.length;a++)h=cn[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<cn.length&&(a=cn[0],a.blockedOn===null);)oo(a),a.blockedOn===null&&cn.shift()}var jr=ie.ReactCurrentBatchConfig,Dr=!0;function nr(r,i,a,h){var f=Oe,g=jr.transition;jr.transition=null;try{Oe=1,Ca(r,i,a,h)}finally{Oe=f,jr.transition=g}}function uu(r,i,a,h){var f=Oe,g=jr.transition;jr.transition=null;try{Oe=4,Ca(r,i,a,h)}finally{Oe=f,jr.transition=g}}function Ca(r,i,a,h){if(Dr){var f=ao(r,i,a,h);if(f===null)Ah(r,i,h,rr,a),ds(r,h);else if(au(f,r,i,a,h))h.stopPropagation();else if(ds(r,h),i&4&&-1<ou.indexOf(r)){for(;f!==null;){var g=Ua(f);if(g!==null&&Ta(g),g=ao(r,i,a,h),g===null&&Ah(r,i,h,rr,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else Ah(r,i,h,null,a)}}var rr=null;function ao(r,i,a,h){if(rr=null,r=Zi(h),r=yi(r),r!==null)if(i=jn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=ma(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return rr=r,null}function lo(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vh()){case no:return 1;case ya:return 4;case ai:case va:return 16;case ro:return 536870912;default:return 16}default:return 16}}var hn=null,uo=null,Or=null;function cu(){if(Or)return Or;var r,i=uo,a=i.length,h,f="value"in hn?hn.value:hn.textContent,g=f.length;for(r=0;r<a&&i[r]===f[r];r++);var x=a-r;for(h=1;h<=x&&i[a-h]===f[g-h];h++);return Or=f.slice(r,1<h?1-h:void 0)}function pi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function sr(){return!0}function Na(){return!1}function Vt(r){function i(a,h,f,g,x){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?sr:Na,this.isPropagationStopped=Na,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),i}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Vt(ir),ms=le({},ir,{view:0,detail:0}),co=Vt(ms),ho,fo,dn,gi=le({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Te,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==dn&&(dn&&r.type==="mousemove"?(ho=r.screenX-dn.screenX,fo=r.screenY-dn.screenY):fo=ho=0,dn=r),ho)},movementY:function(r){return"movementY"in r?r.movementY:fo}}),ka=Vt(gi),hu=le({},gi,{dataTransfer:0}),du=Vt(hu),po=le({},ms,{relatedTarget:0}),Rt=Vt(po),fu=le({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Vt(fu),gs=le({},ir,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Vt(gs),y=le({},ir,{data:0}),_=Vt(y),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function re(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=W[r])?!!i[r]:!1}function Te(){return re}var ht=le({},ms,{key:function(r){if(r.key){var i=T[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=pi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?B[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Te,charCode:function(r){return r.type==="keypress"?pi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?pi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$e=Vt(ht),gt=le({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fn=Vt(gt),Lr=le({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Te}),or=Vt(Lr),ar=le({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),mo=Vt(ar),Ra=le({},gi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ix=Vt(Ra),Sx=[9,13,27,32],xh=p&&"CompositionEvent"in window,Aa=null;p&&"documentMode"in document&&(Aa=document.documentMode);var bx=p&&"TextEvent"in window&&!Aa,Zp=p&&(!xh||Aa&&8<Aa&&11>=Aa),em=" ",tm=!1;function nm(r,i){switch(r){case"keyup":return Sx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var go=!1;function Cx(r,i){switch(r){case"compositionend":return rm(i);case"keypress":return i.which!==32?null:(tm=!0,em);case"textInput":return r=i.data,r===em&&tm?null:r;default:return null}}function Nx(r,i){if(go)return r==="compositionend"||!xh&&nm(r,i)?(r=cu(),Or=uo=hn=null,go=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zp&&i.locale!=="ko"?null:i.data;default:return null}}var kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!kx[r.type]:i==="textarea"}function im(r,i,a,h){as(h),i=_u(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,h),r.push({event:a,listeners:i}))}var Pa=null,ja=null;function Rx(r){Tm(r,0)}function mu(r){var i=xo(r);if(aa(i))return r}function Ax(r,i){if(r==="change")return i}var om=!1;if(p){var Eh;if(p){var Th="oninput"in document;if(!Th){var am=document.createElement("div");am.setAttribute("oninput","return;"),Th=typeof am.oninput=="function"}Eh=Th}else Eh=!1;om=Eh&&(!document.documentMode||9<document.documentMode)}function lm(){Pa&&(Pa.detachEvent("onpropertychange",um),ja=Pa=null)}function um(r){if(r.propertyName==="value"&&mu(ja)){var i=[];im(i,ja,r,Zi(r)),Jl(Rx,i)}}function Px(r,i,a){r==="focusin"?(lm(),Pa=i,ja=a,Pa.attachEvent("onpropertychange",um)):r==="focusout"&&lm()}function jx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return mu(ja)}function Dx(r,i){if(r==="click")return mu(i)}function Ox(r,i){if(r==="input"||r==="change")return mu(i)}function Lx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var On=typeof Object.is=="function"?Object.is:Lx;function Da(r,i){if(On(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),h=Object.keys(i);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!m.call(i,f)||!On(r[f],i[f]))return!1}return!0}function cm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hm(r,i){var a=cm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=i&&h>=i)return{node:a,offset:i-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cm(a)}}function dm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?dm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function fm(){for(var r=window,i=ts();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=ts(r.document)}return i}function Ih(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Vx(r){var i=fm(),a=r.focusedElem,h=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&dm(a.ownerDocument.documentElement,a)){if(h!==null&&Ih(a)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=hm(a,g);var x=hm(a,h);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Mx=p&&"documentMode"in document&&11>=document.documentMode,yo=null,Sh=null,Oa=null,bh=!1;function pm(r,i,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bh||yo==null||yo!==ts(h)||(h=yo,"selectionStart"in h&&Ih(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Oa&&Da(Oa,h)||(Oa=h,h=_u(Sh,"onSelect"),0<h.length&&(i=new mi("onSelect","select",null,i,a),r.push({event:i,listeners:h}),i.target=yo)))}function gu(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var vo={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Ch={},mm={};p&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function yu(r){if(Ch[r])return Ch[r];if(!vo[r])return r;var i=vo[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in mm)return Ch[r]=i[a];return r}var gm=yu("animationend"),ym=yu("animationiteration"),vm=yu("animationstart"),_m=yu("transitionend"),wm=new Map,xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(r,i){wm.set(r,i),l(i,[r])}for(var Nh=0;Nh<xm.length;Nh++){var kh=xm[Nh],Fx=kh.toLowerCase(),Ux=kh[0].toUpperCase()+kh.slice(1);ys(Fx,"on"+Ux)}ys(gm,"onAnimationEnd"),ys(ym,"onAnimationIteration"),ys(vm,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(_m,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bx=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Em(r,i,a){var h=r.type||"unknown-event";r.currentTarget=a,pa(h,i,void 0,r),r.currentTarget=null}function Tm(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(i)for(var x=h.length-1;0<=x;x--){var C=h[x],D=C.instance,q=C.currentTarget;if(C=C.listener,D!==g&&f.isPropagationStopped())break e;Em(f,C,q),g=D}else for(x=0;x<h.length;x++){if(C=h[x],D=C.instance,q=C.currentTarget,C=C.listener,D!==g&&f.isPropagationStopped())break e;Em(f,C,q),g=D}}}if(eo)throw r=_n,eo=!1,_n=null,r}function Xe(r,i){var a=i[Vh];a===void 0&&(a=i[Vh]=new Set);var h=r+"__bubble";a.has(h)||(Im(i,r,2,!1),a.add(h))}function Rh(r,i,a){var h=0;i&&(h|=4),Im(a,r,h,i)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Va(r){if(!r[vu]){r[vu]=!0,s.forEach(function(a){a!=="selectionchange"&&(Bx.has(a)||Rh(a,!1,r),Rh(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[vu]||(i[vu]=!0,Rh("selectionchange",!1,i))}}function Im(r,i,a,h){switch(lo(i)){case 1:var f=nr;break;case 4:f=uu;break;default:f=Ca}a=f.bind(null,i,a,r),f=void 0,!us||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function Ah(r,i,a,h,f){var g=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var C=h.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(x===4)for(x=h.return;x!==null;){var D=x.tag;if((D===3||D===4)&&(D=x.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;x=x.return}for(;C!==null;){if(x=yi(C),x===null)return;if(D=x.tag,D===5||D===6){h=g=x;continue e}C=C.parentNode}}h=h.return}Jl(function(){var q=g,Z=Zi(a),ee=[];e:{var J=wm.get(r);if(J!==void 0){var ae=mi,he=r;switch(r){case"keypress":if(pi(a)===0)break e;case"keydown":case"keyup":ae=$e;break;case"focusin":he="focus",ae=Rt;break;case"focusout":he="blur",ae=Rt;break;case"beforeblur":case"afterblur":ae=Rt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=or;break;case gm:case ym:case vm:ae=pu;break;case _m:ae=mo;break;case"scroll":ae=co;break;case"wheel":ae=Ix;break;case"copy":case"cut":case"paste":ae=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=fn}var de=(i&4)!==0,dt=!de&&r==="scroll",U=de?J!==null?J+"Capture":null:J;de=[];for(var O=q,$;O!==null;){$=O;var ne=$.stateNode;if($.tag===5&&ne!==null&&($=ne,U!==null&&(ne=si(O,U),ne!=null&&de.push(Ma(O,ne,$)))),dt)break;O=O.return}0<de.length&&(J=new ae(J,he,null,a,Z),ee.push({event:J,listeners:de}))}}if((i&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",J&&a!==os&&(he=a.relatedTarget||a.fromElement)&&(yi(he)||he[Vr]))break e;if((ae||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(he=a.relatedTarget||a.toElement,ae=q,he=he?yi(he):null,he!==null&&(dt=jn(he),he!==dt||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=q),ae!==he)){if(de=ka,ne="onMouseLeave",U="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(de=fn,ne="onPointerLeave",U="onPointerEnter",O="pointer"),dt=ae==null?J:xo(ae),$=he==null?J:xo(he),J=new de(ne,O+"leave",ae,a,Z),J.target=dt,J.relatedTarget=$,ne=null,yi(Z)===q&&(de=new de(U,O+"enter",he,a,Z),de.target=$,de.relatedTarget=dt,ne=de),dt=ne,ae&&he)t:{for(de=ae,U=he,O=0,$=de;$;$=_o($))O++;for($=0,ne=U;ne;ne=_o(ne))$++;for(;0<O-$;)de=_o(de),O--;for(;0<$-O;)U=_o(U),$--;for(;O--;){if(de===U||U!==null&&de===U.alternate)break t;de=_o(de),U=_o(U)}de=null}else de=null;ae!==null&&Sm(ee,J,ae,de,!1),he!==null&&dt!==null&&Sm(ee,dt,he,de,!0)}}e:{if(J=q?xo(q):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var fe=Ax;else if(sm(J))if(om)fe=Ox;else{fe=jx;var ge=Px}else(ae=J.nodeName)&&ae.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(fe=Dx);if(fe&&(fe=fe(r,q))){im(ee,fe,a,Z);break e}ge&&ge(r,J,q),r==="focusout"&&(ge=J._wrapperState)&&ge.controlled&&J.type==="number"&&mt(J,"number",J.value)}switch(ge=q?xo(q):window,r){case"focusin":(sm(ge)||ge.contentEditable==="true")&&(yo=ge,Sh=q,Oa=null);break;case"focusout":Oa=Sh=yo=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,pm(ee,a,Z);break;case"selectionchange":if(Mx)break;case"keydown":case"keyup":pm(ee,a,Z)}var ye;if(xh)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else go?nm(r,a)&&(xe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Zp&&a.locale!=="ko"&&(go||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&go&&(ye=cu()):(hn=Z,uo="value"in hn?hn.value:hn.textContent,go=!0)),ge=_u(q,xe),0<ge.length&&(xe=new _(xe,r,null,a,Z),ee.push({event:xe,listeners:ge}),ye?xe.data=ye:(ye=rm(a),ye!==null&&(xe.data=ye)))),(ye=bx?Cx(r,a):Nx(r,a))&&(q=_u(q,"onBeforeInput"),0<q.length&&(Z=new _("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:q}),Z.data=ye))}Tm(ee,i)})}function Ma(r,i,a){return{instance:r,listener:i,currentTarget:a}}function _u(r,i){for(var a=i+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=si(r,a),g!=null&&h.unshift(Ma(r,g,f)),g=si(r,i),g!=null&&h.push(Ma(r,g,f))),r=r.return}return h}function _o(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Sm(r,i,a,h,f){for(var g=i._reactName,x=[];a!==null&&a!==h;){var C=a,D=C.alternate,q=C.stateNode;if(D!==null&&D===h)break;C.tag===5&&q!==null&&(C=q,f?(D=si(a,g),D!=null&&x.unshift(Ma(a,D,C))):f||(D=si(a,g),D!=null&&x.push(Ma(a,D,C)))),a=a.return}x.length!==0&&r.push({event:i,listeners:x})}var zx=/\r\n?/g,$x=/\u0000|\uFFFD/g;function bm(r){return(typeof r=="string"?r:""+r).replace(zx,`
`).replace($x,"")}function wu(r,i,a){if(i=bm(i),bm(r)!==i&&a)throw Error(t(425))}function xu(){}var Ph=null,jh=null;function Dh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Oh=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,Cm=typeof Promise=="function"?Promise:void 0,qx=typeof queueMicrotask=="function"?queueMicrotask:typeof Cm<"u"?function(r){return Cm.resolve(null).then(r).catch(Wx)}:Oh;function Wx(r){setTimeout(function(){throw r})}function Lh(r,i){var a=i,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),ps(i);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);ps(i)}function vs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Nm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var wo=Math.random().toString(36).slice(2),lr="__reactFiber$"+wo,Fa="__reactProps$"+wo,Vr="__reactContainer$"+wo,Vh="__reactEvents$"+wo,Gx="__reactListeners$"+wo,Kx="__reactHandles$"+wo;function yi(r){var i=r[lr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Vr]||a[lr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Nm(r);r!==null;){if(a=r[lr])return a;r=Nm(r)}return i}r=a,a=r.parentNode}return null}function Ua(r){return r=r[lr]||r[Vr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function xo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Eu(r){return r[Fa]||null}var Mh=[],Eo=-1;function _s(r){return{current:r}}function Je(r){0>Eo||(r.current=Mh[Eo],Mh[Eo]=null,Eo--)}function Ke(r,i){Eo++,Mh[Eo]=r.current,r.current=i}var ws={},Mt=_s(ws),Xt=_s(!1),vi=ws;function To(r,i){var a=r.type.contextTypes;if(!a)return ws;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=i[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function Jt(r){return r=r.childContextTypes,r!=null}function Tu(){Je(Xt),Je(Mt)}function km(r,i,a){if(Mt.current!==ws)throw Error(t(168));Ke(Mt,i),Ke(Xt,a)}function Rm(r,i,a){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in i))throw Error(t(108,Be(r)||"Unknown",f));return le({},a,h)}function Iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ws,vi=Mt.current,Ke(Mt,r),Ke(Xt,Xt.current),!0}function Am(r,i,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Rm(r,i,vi),h.__reactInternalMemoizedMergedChildContext=r,Je(Xt),Je(Mt),Ke(Mt,r)):Je(Xt),Ke(Xt,a)}var Mr=null,Su=!1,Fh=!1;function Pm(r){Mr===null?Mr=[r]:Mr.push(r)}function Qx(r){Su=!0,Pm(r)}function xs(){if(!Fh&&Mr!==null){Fh=!0;var r=0,i=Oe;try{var a=Mr;for(Oe=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Mr=null,Su=!1}catch(f){throw Mr!==null&&(Mr=Mr.slice(r+1)),ga(no,xs),f}finally{Oe=i,Fh=!1}}return null}var Io=[],So=0,bu=null,Cu=0,xn=[],En=0,_i=null,Fr=1,Ur="";function wi(r,i){Io[So++]=Cu,Io[So++]=bu,bu=r,Cu=i}function jm(r,i,a){xn[En++]=Fr,xn[En++]=Ur,xn[En++]=_i,_i=r;var h=Fr;r=Ur;var f=32-un(h)-1;h&=~(1<<f),a+=1;var g=32-un(i)+f;if(30<g){var x=f-f%5;g=(h&(1<<x)-1).toString(32),h>>=x,f-=x,Fr=1<<32-un(i)+f|a<<f|h,Ur=g+r}else Fr=1<<g|a<<f|h,Ur=r}function Uh(r){r.return!==null&&(wi(r,1),jm(r,1,0))}function Bh(r){for(;r===bu;)bu=Io[--So],Io[So]=null,Cu=Io[--So],Io[So]=null;for(;r===_i;)_i=xn[--En],xn[En]=null,Ur=xn[--En],xn[En]=null,Fr=xn[--En],xn[En]=null}var pn=null,mn=null,et=!1,Ln=null;function Dm(r,i){var a=bn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Om(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,pn=r,mn=vs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,pn=r,mn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=_i!==null?{id:Fr,overflow:Ur}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=bn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,pn=r,mn=null,!0):!1;default:return!1}}function zh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function $h(r){if(et){var i=mn;if(i){var a=i;if(!Om(r,i)){if(zh(r))throw Error(t(418));i=vs(a.nextSibling);var h=pn;i&&Om(r,i)?Dm(h,a):(r.flags=r.flags&-4097|2,et=!1,pn=r)}}else{if(zh(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,pn=r}}}function Lm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function Nu(r){if(r!==pn)return!1;if(!et)return Lm(r),et=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Dh(r.type,r.memoizedProps)),i&&(i=mn)){if(zh(r))throw Vm(),Error(t(418));for(;i;)Dm(r,i),i=vs(i.nextSibling)}if(Lm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){mn=vs(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}mn=null}}else mn=pn?vs(r.stateNode.nextSibling):null;return!0}function Vm(){for(var r=mn;r;)r=vs(r.nextSibling)}function bo(){mn=pn=null,et=!1}function Hh(r){Ln===null?Ln=[r]:Ln.push(r)}var Yx=ie.ReactCurrentBatchConfig;function Ba(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(x){var C=f.refs;x===null?delete C[g]:C[g]=x},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function ku(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Mm(r){var i=r._init;return i(r._payload)}function Fm(r){function i(U,O){if(r){var $=U.deletions;$===null?(U.deletions=[O],U.flags|=16):$.push(O)}}function a(U,O){if(!r)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function h(U,O){for(U=new Map;O!==null;)O.key!==null?U.set(O.key,O):U.set(O.index,O),O=O.sibling;return U}function f(U,O){return U=ks(U,O),U.index=0,U.sibling=null,U}function g(U,O,$){return U.index=$,r?($=U.alternate,$!==null?($=$.index,$<O?(U.flags|=2,O):$):(U.flags|=2,O)):(U.flags|=1048576,O)}function x(U){return r&&U.alternate===null&&(U.flags|=2),U}function C(U,O,$,ne){return O===null||O.tag!==6?(O=Od($,U.mode,ne),O.return=U,O):(O=f(O,$),O.return=U,O)}function D(U,O,$,ne){var fe=$.type;return fe===A?Z(U,O,$.props.children,ne,$.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ce&&Mm(fe)===O.type)?(ne=f(O,$.props),ne.ref=Ba(U,O,$),ne.return=U,ne):(ne=Zu($.type,$.key,$.props,null,U.mode,ne),ne.ref=Ba(U,O,$),ne.return=U,ne)}function q(U,O,$,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==$.containerInfo||O.stateNode.implementation!==$.implementation?(O=Ld($,U.mode,ne),O.return=U,O):(O=f(O,$.children||[]),O.return=U,O)}function Z(U,O,$,ne,fe){return O===null||O.tag!==7?(O=Ni($,U.mode,ne,fe),O.return=U,O):(O=f(O,$),O.return=U,O)}function ee(U,O,$){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Od(""+O,U.mode,$),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ve:return $=Zu(O.type,O.key,O.props,null,U.mode,$),$.ref=Ba(U,null,O),$.return=U,$;case te:return O=Ld(O,U.mode,$),O.return=U,O;case Ce:var ne=O._init;return ee(U,ne(O._payload),$)}if(ct(O)||pe(O))return O=Ni(O,U.mode,$,null),O.return=U,O;ku(U,O)}return null}function J(U,O,$,ne){var fe=O!==null?O.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return fe!==null?null:C(U,O,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ve:return $.key===fe?D(U,O,$,ne):null;case te:return $.key===fe?q(U,O,$,ne):null;case Ce:return fe=$._init,J(U,O,fe($._payload),ne)}if(ct($)||pe($))return fe!==null?null:Z(U,O,$,ne,null);ku(U,$)}return null}function ae(U,O,$,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get($)||null,C(O,U,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ve:return U=U.get(ne.key===null?$:ne.key)||null,D(O,U,ne,fe);case te:return U=U.get(ne.key===null?$:ne.key)||null,q(O,U,ne,fe);case Ce:var ge=ne._init;return ae(U,O,$,ge(ne._payload),fe)}if(ct(ne)||pe(ne))return U=U.get($)||null,Z(O,U,ne,fe,null);ku(O,ne)}return null}function he(U,O,$,ne){for(var fe=null,ge=null,ye=O,xe=O=0,bt=null;ye!==null&&xe<$.length;xe++){ye.index>xe?(bt=ye,ye=null):bt=ye.sibling;var Fe=J(U,ye,$[xe],ne);if(Fe===null){ye===null&&(ye=bt);break}r&&ye&&Fe.alternate===null&&i(U,ye),O=g(Fe,O,xe),ge===null?fe=Fe:ge.sibling=Fe,ge=Fe,ye=bt}if(xe===$.length)return a(U,ye),et&&wi(U,xe),fe;if(ye===null){for(;xe<$.length;xe++)ye=ee(U,$[xe],ne),ye!==null&&(O=g(ye,O,xe),ge===null?fe=ye:ge.sibling=ye,ge=ye);return et&&wi(U,xe),fe}for(ye=h(U,ye);xe<$.length;xe++)bt=ae(ye,U,xe,$[xe],ne),bt!==null&&(r&&bt.alternate!==null&&ye.delete(bt.key===null?xe:bt.key),O=g(bt,O,xe),ge===null?fe=bt:ge.sibling=bt,ge=bt);return r&&ye.forEach(function(Rs){return i(U,Rs)}),et&&wi(U,xe),fe}function de(U,O,$,ne){var fe=pe($);if(typeof fe!="function")throw Error(t(150));if($=fe.call($),$==null)throw Error(t(151));for(var ge=fe=null,ye=O,xe=O=0,bt=null,Fe=$.next();ye!==null&&!Fe.done;xe++,Fe=$.next()){ye.index>xe?(bt=ye,ye=null):bt=ye.sibling;var Rs=J(U,ye,Fe.value,ne);if(Rs===null){ye===null&&(ye=bt);break}r&&ye&&Rs.alternate===null&&i(U,ye),O=g(Rs,O,xe),ge===null?fe=Rs:ge.sibling=Rs,ge=Rs,ye=bt}if(Fe.done)return a(U,ye),et&&wi(U,xe),fe;if(ye===null){for(;!Fe.done;xe++,Fe=$.next())Fe=ee(U,Fe.value,ne),Fe!==null&&(O=g(Fe,O,xe),ge===null?fe=Fe:ge.sibling=Fe,ge=Fe);return et&&wi(U,xe),fe}for(ye=h(U,ye);!Fe.done;xe++,Fe=$.next())Fe=ae(ye,U,xe,Fe.value,ne),Fe!==null&&(r&&Fe.alternate!==null&&ye.delete(Fe.key===null?xe:Fe.key),O=g(Fe,O,xe),ge===null?fe=Fe:ge.sibling=Fe,ge=Fe);return r&&ye.forEach(function(kE){return i(U,kE)}),et&&wi(U,xe),fe}function dt(U,O,$,ne){if(typeof $=="object"&&$!==null&&$.type===A&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case ve:e:{for(var fe=$.key,ge=O;ge!==null;){if(ge.key===fe){if(fe=$.type,fe===A){if(ge.tag===7){a(U,ge.sibling),O=f(ge,$.props.children),O.return=U,U=O;break e}}else if(ge.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ce&&Mm(fe)===ge.type){a(U,ge.sibling),O=f(ge,$.props),O.ref=Ba(U,ge,$),O.return=U,U=O;break e}a(U,ge);break}else i(U,ge);ge=ge.sibling}$.type===A?(O=Ni($.props.children,U.mode,ne,$.key),O.return=U,U=O):(ne=Zu($.type,$.key,$.props,null,U.mode,ne),ne.ref=Ba(U,O,$),ne.return=U,U=ne)}return x(U);case te:e:{for(ge=$.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===$.containerInfo&&O.stateNode.implementation===$.implementation){a(U,O.sibling),O=f(O,$.children||[]),O.return=U,U=O;break e}else{a(U,O);break}else i(U,O);O=O.sibling}O=Ld($,U.mode,ne),O.return=U,U=O}return x(U);case Ce:return ge=$._init,dt(U,O,ge($._payload),ne)}if(ct($))return he(U,O,$,ne);if(pe($))return de(U,O,$,ne);ku(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,O!==null&&O.tag===6?(a(U,O.sibling),O=f(O,$),O.return=U,U=O):(a(U,O),O=Od($,U.mode,ne),O.return=U,U=O),x(U)):a(U,O)}return dt}var Co=Fm(!0),Um=Fm(!1),Ru=_s(null),Au=null,No=null,qh=null;function Wh(){qh=No=Au=null}function Gh(r){var i=Ru.current;Je(Ru),r._currentValue=i}function Kh(r,i,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===a)break;r=r.return}}function ko(r,i){Au=r,qh=No=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Zt=!0),r.firstContext=null)}function Tn(r){var i=r._currentValue;if(qh!==r)if(r={context:r,memoizedValue:i,next:null},No===null){if(Au===null)throw Error(t(308));No=r,Au.dependencies={lanes:0,firstContext:r}}else No=No.next=r;return i}var xi=null;function Qh(r){xi===null?xi=[r]:xi.push(r)}function Bm(r,i,a,h){var f=i.interleaved;return f===null?(a.next=a,Qh(i)):(a.next=f.next,f.next=a),i.interleaved=a,Br(r,h)}function Br(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Es=!1;function Yh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function zr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Ts(r,i,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Me&2)!==0){var f=h.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),h.pending=i,Br(r,a)}return f=h.interleaved,f===null?(i.next=i,Qh(h)):(i.next=f.next,f.next=i),h.interleaved=i,Br(r,a)}function Pu(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,Ea(r,a)}}function $m(r,i){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function ju(r,i,a,h){var f=r.updateQueue;Es=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var D=C,q=D.next;D.next=null,x===null?g=q:x.next=q,x=D;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==x&&(C===null?Z.firstBaseUpdate=q:C.next=q,Z.lastBaseUpdate=D))}if(g!==null){var ee=f.baseState;x=0,Z=q=D=null,C=g;do{var J=C.lane,ae=C.eventTime;if((h&J)===J){Z!==null&&(Z=Z.next={eventTime:ae,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var he=r,de=C;switch(J=i,ae=a,de.tag){case 1:if(he=de.payload,typeof he=="function"){ee=he.call(ae,ee,J);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,J=typeof he=="function"?he.call(ae,ee,J):he,J==null)break e;ee=le({},ee,J);break e;case 2:Es=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[C]:J.push(C))}else ae={eventTime:ae,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?(q=Z=ae,D=ee):Z=Z.next=ae,x|=J;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;J=C,C=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(D=ee),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,i=f.shared.interleaved,i!==null){f=i;do x|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);Ii|=x,r.lanes=x,r.memoizedState=ee}}function Hm(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var za={},ur=_s(za),$a=_s(za),Ha=_s(za);function Ei(r){if(r===za)throw Error(t(174));return r}function Xh(r,i){switch(Ke(Ha,i),Ke($a,r),Ke(ur,za),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Yi(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Yi(i,r)}Je(ur),Ke(ur,i)}function Ro(){Je(ur),Je($a),Je(Ha)}function qm(r){Ei(Ha.current);var i=Ei(ur.current),a=Yi(i,r.type);i!==a&&(Ke($a,r),Ke(ur,a))}function Jh(r){$a.current===r&&(Je(ur),Je($a))}var nt=_s(0);function Du(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zh=[];function ed(){for(var r=0;r<Zh.length;r++)Zh[r]._workInProgressVersionPrimary=null;Zh.length=0}var Ou=ie.ReactCurrentDispatcher,td=ie.ReactCurrentBatchConfig,Ti=0,rt=null,xt=null,It=null,Lu=!1,qa=!1,Wa=0,Xx=0;function Ft(){throw Error(t(321))}function nd(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!On(r[a],i[a]))return!1;return!0}function rd(r,i,a,h,f,g){if(Ti=g,rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ou.current=r===null||r.memoizedState===null?tE:nE,r=a(h,f),qa){g=0;do{if(qa=!1,Wa=0,25<=g)throw Error(t(301));g+=1,It=xt=null,i.updateQueue=null,Ou.current=rE,r=a(h,f)}while(qa)}if(Ou.current=Fu,i=xt!==null&&xt.next!==null,Ti=0,It=xt=rt=null,Lu=!1,i)throw Error(t(300));return r}function sd(){var r=Wa!==0;return Wa=0,r}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?rt.memoizedState=It=r:It=It.next=r,It}function In(){if(xt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var i=It===null?rt.memoizedState:It.next;if(i!==null)It=i,xt=r;else{if(r===null)throw Error(t(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},It===null?rt.memoizedState=It=r:It=It.next=r}return It}function Ga(r,i){return typeof i=="function"?i(r):i}function id(r){var i=In(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=xt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var C=x=null,D=null,q=g;do{var Z=q.lane;if((Ti&Z)===Z)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:r(h,q.action);else{var ee={lane:Z,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(C=D=ee,x=h):D=D.next=ee,rt.lanes|=Z,Ii|=Z}q=q.next}while(q!==null&&q!==g);D===null?x=h:D.next=C,On(h,i.memoizedState)||(Zt=!0),i.memoizedState=h,i.baseState=x,i.baseQueue=D,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,rt.lanes|=g,Ii|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function od(r){var i=In(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do g=r(g,x.action),x=x.next;while(x!==f);On(g,i.memoizedState)||(Zt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,h]}function Wm(){}function Gm(r,i){var a=rt,h=In(),f=i(),g=!On(h.memoizedState,f);if(g&&(h.memoizedState=f,Zt=!0),h=h.queue,ad(Ym.bind(null,a,h,r),[r]),h.getSnapshot!==i||g||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Ka(9,Qm.bind(null,a,h,f,i),void 0,null),St===null)throw Error(t(349));(Ti&30)!==0||Km(a,i,f)}return f}function Km(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Qm(r,i,a,h){i.value=a,i.getSnapshot=h,Xm(i)&&Jm(r)}function Ym(r,i,a){return a(function(){Xm(i)&&Jm(r)})}function Xm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!On(r,a)}catch{return!0}}function Jm(r){var i=Br(r,1);i!==null&&Un(i,r,1,-1)}function Zm(r){var i=cr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:r},i.queue=r,r=r.dispatch=eE.bind(null,rt,r),[i.memoizedState,r]}function Ka(r,i,a,h){return r={tag:r,create:i,destroy:a,deps:h,next:null},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,i.lastEffect=r)),r}function eg(){return In().memoizedState}function Vu(r,i,a,h){var f=cr();rt.flags|=r,f.memoizedState=Ka(1|i,a,void 0,h===void 0?null:h)}function Mu(r,i,a,h){var f=In();h=h===void 0?null:h;var g=void 0;if(xt!==null){var x=xt.memoizedState;if(g=x.destroy,h!==null&&nd(h,x.deps)){f.memoizedState=Ka(i,a,g,h);return}}rt.flags|=r,f.memoizedState=Ka(1|i,a,g,h)}function tg(r,i){return Vu(8390656,8,r,i)}function ad(r,i){return Mu(2048,8,r,i)}function ng(r,i){return Mu(4,2,r,i)}function rg(r,i){return Mu(4,4,r,i)}function sg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function ig(r,i,a){return a=a!=null?a.concat([r]):null,Mu(4,4,sg.bind(null,i,r),a)}function ld(){}function og(r,i){var a=In();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&nd(i,h[1])?h[0]:(a.memoizedState=[r,i],r)}function ag(r,i){var a=In();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&nd(i,h[1])?h[0]:(r=r(),a.memoizedState=[r,i],r)}function lg(r,i,a){return(Ti&21)===0?(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=a):(On(a,i)||(a=wa(),rt.lanes|=a,Ii|=a,r.baseState=!0),i)}function Jx(r,i){var a=Oe;Oe=a!==0&&4>a?a:4,r(!0);var h=td.transition;td.transition={};try{r(!1),i()}finally{Oe=a,td.transition=h}}function ug(){return In().memoizedState}function Zx(r,i,a){var h=Cs(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},cg(r))hg(i,a);else if(a=Bm(r,i,a,h),a!==null){var f=Qt();Un(a,r,h,f),dg(a,i,h)}}function eE(r,i,a){var h=Cs(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(cg(r))hg(i,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var x=i.lastRenderedState,C=g(x,a);if(f.hasEagerState=!0,f.eagerState=C,On(C,x)){var D=i.interleaved;D===null?(f.next=f,Qh(i)):(f.next=D.next,D.next=f),i.interleaved=f;return}}catch{}finally{}a=Bm(r,i,f,h),a!==null&&(f=Qt(),Un(a,r,h,f),dg(a,i,h))}}function cg(r){var i=r.alternate;return r===rt||i!==null&&i===rt}function hg(r,i){qa=Lu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function dg(r,i,a){if((a&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,Ea(r,a)}}var Fu={readContext:Tn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},tE={readContext:Tn,useCallback:function(r,i){return cr().memoizedState=[r,i===void 0?null:i],r},useContext:Tn,useEffect:tg,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,Vu(4194308,4,sg.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Vu(4194308,4,r,i)},useInsertionEffect:function(r,i){return Vu(4,2,r,i)},useMemo:function(r,i){var a=cr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var h=cr();return i=a!==void 0?a(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=Zx.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var i=cr();return r={current:r},i.memoizedState=r},useState:Zm,useDebugValue:ld,useDeferredValue:function(r){return cr().memoizedState=r},useTransition:function(){var r=Zm(!1),i=r[0];return r=Jx.bind(null,r[1]),cr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var h=rt,f=cr();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),St===null)throw Error(t(349));(Ti&30)!==0||Km(h,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,tg(Ym.bind(null,h,g,r),[r]),h.flags|=2048,Ka(9,Qm.bind(null,h,g,a,i),void 0,null),a},useId:function(){var r=cr(),i=St.identifierPrefix;if(et){var a=Ur,h=Fr;a=(h&~(1<<32-un(h)-1)).toString(32)+a,i=":"+i+"R"+a,a=Wa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Xx++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},nE={readContext:Tn,useCallback:og,useContext:Tn,useEffect:ad,useImperativeHandle:ig,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:ag,useReducer:id,useRef:eg,useState:function(){return id(Ga)},useDebugValue:ld,useDeferredValue:function(r){var i=In();return lg(i,xt.memoizedState,r)},useTransition:function(){var r=id(Ga)[0],i=In().memoizedState;return[r,i]},useMutableSource:Wm,useSyncExternalStore:Gm,useId:ug,unstable_isNewReconciler:!1},rE={readContext:Tn,useCallback:og,useContext:Tn,useEffect:ad,useImperativeHandle:ig,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:ag,useReducer:od,useRef:eg,useState:function(){return od(Ga)},useDebugValue:ld,useDeferredValue:function(r){var i=In();return xt===null?i.memoizedState=r:lg(i,xt.memoizedState,r)},useTransition:function(){var r=od(Ga)[0],i=In().memoizedState;return[r,i]},useMutableSource:Wm,useSyncExternalStore:Gm,useId:ug,unstable_isNewReconciler:!1};function Vn(r,i){if(r&&r.defaultProps){i=le({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function ud(r,i,a,h){i=r.memoizedState,a=a(h,i),a=a==null?i:le({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Uu={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var h=Qt(),f=Cs(r),g=zr(h,f);g.payload=i,a!=null&&(g.callback=a),i=Ts(r,g,f),i!==null&&(Un(i,r,f,h),Pu(i,r,f))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var h=Qt(),f=Cs(r),g=zr(h,f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=Ts(r,g,f),i!==null&&(Un(i,r,f,h),Pu(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Qt(),h=Cs(r),f=zr(a,h);f.tag=2,i!=null&&(f.callback=i),i=Ts(r,f,h),i!==null&&(Un(i,r,h,a),Pu(i,r,h))}};function fg(r,i,a,h,f,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,x):i.prototype&&i.prototype.isPureReactComponent?!Da(a,h)||!Da(f,g):!0}function pg(r,i,a){var h=!1,f=ws,g=i.contextType;return typeof g=="object"&&g!==null?g=Tn(g):(f=Jt(i)?vi:Mt.current,h=i.contextTypes,g=(h=h!=null)?To(r,f):ws),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Uu,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),i}function mg(r,i,a,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,h),i.state!==r&&Uu.enqueueReplaceState(i,i.state,null)}function cd(r,i,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Yh(r);var g=i.contextType;typeof g=="object"&&g!==null?f.context=Tn(g):(g=Jt(i)?vi:Mt.current,f.context=To(r,g)),f.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ud(r,i,g,a),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Uu.enqueueReplaceState(f,f.state,null),ju(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Ao(r,i){try{var a="",h=i;do a+=Re(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:f,digest:null}}function hd(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function dd(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var sE=typeof WeakMap=="function"?WeakMap:Map;function gg(r,i,a){a=zr(-1,a),a.tag=3,a.payload={element:null};var h=i.value;return a.callback=function(){Gu||(Gu=!0,Cd=h),dd(r,i)},a}function yg(r,i,a){a=zr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=i.value;a.payload=function(){return h(f)},a.callback=function(){dd(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){dd(r,i),typeof h!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function vg(r,i,a){var h=r.pingCache;if(h===null){h=r.pingCache=new sE;var f=new Set;h.set(i,f)}else f=h.get(i),f===void 0&&(f=new Set,h.set(i,f));f.has(a)||(f.add(a),r=vE.bind(null,r,i,a),i.then(r,r))}function _g(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function wg(r,i,a,h,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=zr(-1,1),i.tag=2,Ts(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var iE=ie.ReactCurrentOwner,Zt=!1;function Kt(r,i,a,h){i.child=r===null?Um(i,null,a,h):Co(i,r.child,a,h)}function xg(r,i,a,h,f){a=a.render;var g=i.ref;return ko(i,f),h=rd(r,i,a,h,g,f),a=sd(),r!==null&&!Zt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,$r(r,i,f)):(et&&a&&Uh(i),i.flags|=1,Kt(r,i,h,f),i.child)}function Eg(r,i,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!Dd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,Tg(r,i,g,h,f)):(r=Zu(a.type,null,h,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&f)===0){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:Da,a(x,h)&&r.ref===i.ref)return $r(r,i,f)}return i.flags|=1,r=ks(g,h),r.ref=i.ref,r.return=i,i.child=r}function Tg(r,i,a,h,f){if(r!==null){var g=r.memoizedProps;if(Da(g,h)&&r.ref===i.ref)if(Zt=!1,i.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Zt=!0);else return i.lanes=r.lanes,$r(r,i,f)}return fd(r,i,a,h,f)}function Ig(r,i,a){var h=i.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(jo,gn),gn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ke(jo,gn),gn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ke(jo,gn),gn|=h}else g!==null?(h=g.baseLanes|a,i.memoizedState=null):h=a,Ke(jo,gn),gn|=h;return Kt(r,i,f,a),i.child}function Sg(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function fd(r,i,a,h,f){var g=Jt(a)?vi:Mt.current;return g=To(i,g),ko(i,f),a=rd(r,i,a,h,g,f),h=sd(),r!==null&&!Zt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,$r(r,i,f)):(et&&h&&Uh(i),i.flags|=1,Kt(r,i,a,f),i.child)}function bg(r,i,a,h,f){if(Jt(a)){var g=!0;Iu(i)}else g=!1;if(ko(i,f),i.stateNode===null)zu(r,i),pg(i,a,h),cd(i,a,h,f),h=!0;else if(r===null){var x=i.stateNode,C=i.memoizedProps;x.props=C;var D=x.context,q=a.contextType;typeof q=="object"&&q!==null?q=Tn(q):(q=Jt(a)?vi:Mt.current,q=To(i,q));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function";ee||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==h||D!==q)&&mg(i,x,h,q),Es=!1;var J=i.memoizedState;x.state=J,ju(i,h,x,f),D=i.memoizedState,C!==h||J!==D||Xt.current||Es?(typeof Z=="function"&&(ud(i,a,Z,h),D=i.memoizedState),(C=Es||fg(i,a,C,h,J,D,q))?(ee||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=D),x.props=h,x.state=D,x.context=q,h=C):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{x=i.stateNode,zm(r,i),C=i.memoizedProps,q=i.type===i.elementType?C:Vn(i.type,C),x.props=q,ee=i.pendingProps,J=x.context,D=a.contextType,typeof D=="object"&&D!==null?D=Tn(D):(D=Jt(a)?vi:Mt.current,D=To(i,D));var ae=a.getDerivedStateFromProps;(Z=typeof ae=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==ee||J!==D)&&mg(i,x,h,D),Es=!1,J=i.memoizedState,x.state=J,ju(i,h,x,f);var he=i.memoizedState;C!==ee||J!==he||Xt.current||Es?(typeof ae=="function"&&(ud(i,a,ae,h),he=i.memoizedState),(q=Es||fg(i,a,q,h,J,he,D)||!1)?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,he,D),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,he,D)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=he),x.props=h,x.state=he,x.context=D,h=q):(typeof x.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),h=!1)}return pd(r,i,a,h,g,f)}function pd(r,i,a,h,f,g){Sg(r,i);var x=(i.flags&128)!==0;if(!h&&!x)return f&&Am(i,a,!1),$r(r,i,g);h=i.stateNode,iE.current=i;var C=x&&typeof a.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&x?(i.child=Co(i,r.child,null,g),i.child=Co(i,null,C,g)):Kt(r,i,C,g),i.memoizedState=h.state,f&&Am(i,a,!0),i.child}function Cg(r){var i=r.stateNode;i.pendingContext?km(r,i.pendingContext,i.pendingContext!==i.context):i.context&&km(r,i.context,!1),Xh(r,i.containerInfo)}function Ng(r,i,a,h,f){return bo(),Hh(f),i.flags|=256,Kt(r,i,a,h),i.child}var md={dehydrated:null,treeContext:null,retryLane:0};function gd(r){return{baseLanes:r,cachePool:null,transitions:null}}function kg(r,i,a){var h=i.pendingProps,f=nt.current,g=!1,x=(i.flags&128)!==0,C;if((C=x)||(C=r!==null&&r.memoizedState===null?!1:(f&2)!==0),C?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ke(nt,f&1),r===null)return $h(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=h.children,r=h.fallback,g?(h=i.mode,g=i.child,x={mode:"hidden",children:x},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=ec(x,h,0,null),r=Ni(r,h,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=gd(a),i.memoizedState=md,r):yd(i,x));if(f=r.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return oE(r,i,x,h,C,f,a);if(g){g=h.fallback,x=i.mode,f=r.child,C=f.sibling;var D={mode:"hidden",children:h.children};return(x&1)===0&&i.child!==f?(h=i.child,h.childLanes=0,h.pendingProps=D,i.deletions=null):(h=ks(f,D),h.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=ks(C,g):(g=Ni(g,x,a,null),g.flags|=2),g.return=i,h.return=i,h.sibling=g,i.child=h,h=g,g=i.child,x=r.child.memoizedState,x=x===null?gd(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=r.childLanes&~a,i.memoizedState=md,h}return g=r.child,r=g.sibling,h=ks(g,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=a),h.return=i,h.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=h,i.memoizedState=null,h}function yd(r,i){return i=ec({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Bu(r,i,a,h){return h!==null&&Hh(h),Co(i,r.child,null,a),r=yd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function oE(r,i,a,h,f,g,x){if(a)return i.flags&256?(i.flags&=-257,h=hd(Error(t(422))),Bu(r,i,x,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=h.fallback,f=i.mode,h=ec({mode:"visible",children:h.children},f,0,null),g=Ni(g,f,x,null),g.flags|=2,h.return=i,g.return=i,h.sibling=g,i.child=h,(i.mode&1)!==0&&Co(i,r.child,null,x),i.child.memoizedState=gd(x),i.memoizedState=md,g);if((i.mode&1)===0)return Bu(r,i,x,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var C=h.dgst;return h=C,g=Error(t(419)),h=hd(g,h,void 0),Bu(r,i,x,h)}if(C=(x&r.childLanes)!==0,Zt||C){if(h=St,h!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|x))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Br(r,f),Un(h,r,f,-1))}return jd(),h=hd(Error(t(421))),Bu(r,i,x,h)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=_E.bind(null,r),f._reactRetry=i,null):(r=g.treeContext,mn=vs(f.nextSibling),pn=i,et=!0,Ln=null,r!==null&&(xn[En++]=Fr,xn[En++]=Ur,xn[En++]=_i,Fr=r.id,Ur=r.overflow,_i=i),i=yd(i,h.children),i.flags|=4096,i)}function Rg(r,i,a){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Kh(r.return,i,a)}function vd(r,i,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Ag(r,i,a){var h=i.pendingProps,f=h.revealOrder,g=h.tail;if(Kt(r,i,h.children,a),h=nt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Rg(r,a,i);else if(r.tag===19)Rg(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ke(nt,h),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&Du(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),vd(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Du(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}vd(i,!0,a,null,g);break;case"together":vd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function $r(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Ii|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=ks(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=ks(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function aE(r,i,a){switch(i.tag){case 3:Cg(i),bo();break;case 5:qm(i);break;case 1:Jt(i.type)&&Iu(i);break;case 4:Xh(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,f=i.memoizedProps.value;Ke(Ru,h._currentValue),h._currentValue=f;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Ke(nt,nt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?kg(r,i,a):(Ke(nt,nt.current&1),r=$r(r,i,a),r!==null?r.sibling:null);Ke(nt,nt.current&1);break;case 19:if(h=(a&i.childLanes)!==0,(r.flags&128)!==0){if(h)return Ag(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(nt,nt.current),h)break;return null;case 22:case 23:return i.lanes=0,Ig(r,i,a)}return $r(r,i,a)}var Pg,_d,jg,Dg;Pg=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},_d=function(){},jg=function(r,i,a,h){var f=r.memoizedProps;if(f!==h){r=i.stateNode,Ei(ur.current);var g=null;switch(a){case"input":f=Ki(r,f),h=Ki(r,h),g=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":f=ua(r,f),h=ua(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=xu)}Pn(a,h);var x;a=null;for(q in f)if(!h.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var C=f[q];for(x in C)C.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in h){var D=h[q];if(C=f?.[q],h.hasOwnProperty(q)&&D!==C&&(D!=null||C!=null))if(q==="style")if(C){for(x in C)!C.hasOwnProperty(x)||D&&D.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in D)D.hasOwnProperty(x)&&C[x]!==D[x]&&(a||(a={}),a[x]=D[x])}else a||(g||(g=[]),g.push(q,a)),a=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(g=g||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&Xe("scroll",r),g||C===D||(g=[])):(g=g||[]).push(q,D))}a&&(g=g||[]).push("style",a);var q=g;(i.updateQueue=q)&&(i.flags|=4)}},Dg=function(r,i,a,h){a!==h&&(i.flags|=4)};function Qa(r,i){if(!et)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,i}function lE(r,i,a){var h=i.pendingProps;switch(Bh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return Jt(i.type)&&Tu(),Ut(i),null;case 3:return h=i.stateNode,Ro(),Je(Xt),Je(Mt),ed(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Nu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln!==null&&(Rd(Ln),Ln=null))),_d(r,i),Ut(i),null;case 5:Jh(i);var f=Ei(Ha.current);if(a=i.type,r!==null&&i.stateNode!=null)jg(r,i,a,h,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Ut(i),null}if(r=Ei(ur.current),Nu(i)){h=i.stateNode,a=i.type;var g=i.memoizedProps;switch(h[lr]=i,h[Fa]=g,r=(i.mode&1)!==0,a){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(f=0;f<La.length;f++)Xe(La[f],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Wl(h,g),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Xe("invalid",h);break;case"textarea":ca(h,g),Xe("invalid",h)}Pn(a,g),f=null;for(var x in g)if(g.hasOwnProperty(x)){var C=g[x];x==="children"?typeof C=="string"?h.textContent!==C&&(g.suppressHydrationWarning!==!0&&wu(h.textContent,C,r),f=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&wu(h.textContent,C,r),f=["children",""+C]):o.hasOwnProperty(x)&&C!=null&&x==="onScroll"&&Xe("scroll",h)}switch(a){case"input":Gi(h),la(h,g,!0);break;case"textarea":Gi(h),ns(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=xu)}h=f,i.updateQueue=h,h!==null&&(i.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ha(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=x.createElement(a,{is:h.is}):(r=x.createElement(a),a==="select"&&(x=r,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):r=x.createElementNS(r,a),r[lr]=i,r[Fa]=h,Pg(r,i,!1,!1),i.stateNode=r;e:{switch(x=Ji(a,h),a){case"dialog":Xe("cancel",r),Xe("close",r),f=h;break;case"iframe":case"object":case"embed":Xe("load",r),f=h;break;case"video":case"audio":for(f=0;f<La.length;f++)Xe(La[f],r);f=h;break;case"source":Xe("error",r),f=h;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),f=h;break;case"details":Xe("toggle",r),f=h;break;case"input":Wl(r,h),f=Ki(r,h),Xe("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Xe("invalid",r);break;case"textarea":ca(r,h),f=ua(r,h),Xe("invalid",r);break;default:f=h}Pn(a,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var D=C[g];g==="style"?Xi(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Kl(r,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&ri(r,D):typeof D=="number"&&ri(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&Xe("scroll",r):D!=null&&Q(r,g,D,x))}switch(a){case"input":Gi(r),la(r,h,!1);break;case"textarea":Gi(r),ns(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ve(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?An(r,!!h.multiple,g,!1):h.defaultValue!=null&&An(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=xu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ut(i),null;case 6:if(r&&i.stateNode!=null)Dg(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(a=Ei(Ha.current),Ei(ur.current),Nu(i)){if(h=i.stateNode,a=i.memoizedProps,h[lr]=i,(g=h.nodeValue!==a)&&(r=pn,r!==null))switch(r.tag){case 3:wu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&wu(h.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[lr]=i,i.stateNode=h}return Ut(i),null;case 13:if(Je(nt),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&mn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Vm(),bo(),i.flags|=98560,g=!1;else if(g=Nu(i),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[lr]=i}else bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),g=!1}else Ln!==null&&(Rd(Ln),Ln=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(nt.current&1)!==0?Et===0&&(Et=3):jd())),i.updateQueue!==null&&(i.flags|=4),Ut(i),null);case 4:return Ro(),_d(r,i),r===null&&Va(i.stateNode.containerInfo),Ut(i),null;case 10:return Gh(i.type._context),Ut(i),null;case 17:return Jt(i.type)&&Tu(),Ut(i),null;case 19:if(Je(nt),g=i.memoizedState,g===null)return Ut(i),null;if(h=(i.flags&128)!==0,x=g.rendering,x===null)if(h)Qa(g,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=Du(r),x!==null){for(i.flags|=128,Qa(g,!1),h=x.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=a,a=i.child;a!==null;)g=a,r=h,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,r=x.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(nt,nt.current&1|2),i.child}r=r.sibling}g.tail!==null&&Ye()>Do&&(i.flags|=128,h=!0,Qa(g,!1),i.lanes=4194304)}else{if(!h)if(r=Du(x),r!==null){if(i.flags|=128,h=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Qa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!et)return Ut(i),null}else 2*Ye()-g.renderingStartTime>Do&&a!==1073741824&&(i.flags|=128,h=!0,Qa(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(a=g.last,a!==null?a.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ye(),i.sibling=null,a=nt.current,Ke(nt,h?a&1|2:a&1),i):(Ut(i),null);case 22:case 23:return Pd(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(gn&1073741824)!==0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function uE(r,i){switch(Bh(i),i.tag){case 1:return Jt(i.type)&&Tu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ro(),Je(Xt),Je(Mt),ed(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Jh(i),null;case 13:if(Je(nt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));bo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Je(nt),null;case 4:return Ro(),null;case 10:return Gh(i.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var $u=!1,Bt=!1,cE=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Po(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){at(r,i,h)}else a.current=null}function wd(r,i,a){try{a()}catch(h){at(r,i,h)}}var Og=!1;function hE(r,i){if(Ph=Dr,r=fm(),Ih(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,C=-1,D=-1,q=0,Z=0,ee=r,J=null;t:for(;;){for(var ae;ee!==a||f!==0&&ee.nodeType!==3||(C=x+f),ee!==g||h!==0&&ee.nodeType!==3||(D=x+h),ee.nodeType===3&&(x+=ee.nodeValue.length),(ae=ee.firstChild)!==null;)J=ee,ee=ae;for(;;){if(ee===r)break t;if(J===a&&++q===f&&(C=x),J===g&&++Z===h&&(D=x),(ae=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=ae}a=C===-1||D===-1?null:{start:C,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(jh={focusedElem:r,selectionRange:a},Dr=!1,ce=i;ce!==null;)if(i=ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ce=r;else for(;ce!==null;){i=ce;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,dt=he.memoizedState,U=i.stateNode,O=U.getSnapshotBeforeUpdate(i.elementType===i.type?de:Vn(i.type,de),dt);U.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){at(i,i.return,ne)}if(r=i.sibling,r!==null){r.return=i.return,ce=r;break}ce=i.return}return he=Og,Og=!1,he}function Ya(r,i,a){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&wd(i,a,g)}f=f.next}while(f!==h)}}function Hu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==i)}}function xd(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Lg(r){var i=r.alternate;i!==null&&(r.alternate=null,Lg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[lr],delete i[Fa],delete i[Vh],delete i[Gx],delete i[Kx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Vg(r){return r.tag===5||r.tag===3||r.tag===4}function Mg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Vg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ed(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=xu));else if(h!==4&&(r=r.child,r!==null))for(Ed(r,i,a),r=r.sibling;r!==null;)Ed(r,i,a),r=r.sibling}function Td(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Td(r,i,a),r=r.sibling;r!==null;)Td(r,i,a),r=r.sibling}var At=null,Mn=!1;function Is(r,i,a){for(a=a.child;a!==null;)Fg(r,i,a),a=a.sibling}function Fg(r,i,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(li,a)}catch{}switch(a.tag){case 5:Bt||Po(a,i);case 6:var h=At,f=Mn;At=null,Is(r,i,a),At=h,Mn=f,At!==null&&(Mn?(r=At,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):At.removeChild(a.stateNode));break;case 18:At!==null&&(Mn?(r=At,a=a.stateNode,r.nodeType===8?Lh(r.parentNode,a):r.nodeType===1&&Lh(r,a),ps(r)):Lh(At,a.stateNode));break;case 4:h=At,f=Mn,At=a.stateNode.containerInfo,Mn=!0,Is(r,i,a),At=h,Mn=f;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&wd(a,i,x),f=f.next}while(f!==h)}Is(r,i,a);break;case 1:if(!Bt&&(Po(a,i),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(C){at(a,i,C)}Is(r,i,a);break;case 21:Is(r,i,a);break;case 22:a.mode&1?(Bt=(h=Bt)||a.memoizedState!==null,Is(r,i,a),Bt=h):Is(r,i,a);break;default:Is(r,i,a)}}function Ug(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new cE),i.forEach(function(h){var f=wE.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Fn(r,i){var a=i.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,x=i,C=x;e:for(;C!==null;){switch(C.tag){case 5:At=C.stateNode,Mn=!1;break e;case 3:At=C.stateNode.containerInfo,Mn=!0;break e;case 4:At=C.stateNode.containerInfo,Mn=!0;break e}C=C.return}if(At===null)throw Error(t(160));Fg(g,x,f),At=null,Mn=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(q){at(f,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Bg(i,r),i=i.sibling}function Bg(r,i){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Fn(i,r),hr(r),h&4){try{Ya(3,r,r.return),Hu(3,r)}catch(de){at(r,r.return,de)}try{Ya(5,r,r.return)}catch(de){at(r,r.return,de)}}break;case 1:Fn(i,r),hr(r),h&512&&a!==null&&Po(a,a.return);break;case 5:if(Fn(i,r),hr(r),h&512&&a!==null&&Po(a,a.return),r.flags&32){var f=r.stateNode;try{ri(f,"")}catch(de){at(r,r.return,de)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,x=a!==null?a.memoizedProps:g,C=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Qi(f,g),Ji(C,x);var q=Ji(C,g);for(x=0;x<D.length;x+=2){var Z=D[x],ee=D[x+1];Z==="style"?Xi(f,ee):Z==="dangerouslySetInnerHTML"?Kl(f,ee):Z==="children"?ri(f,ee):Q(f,Z,ee,q)}switch(C){case"input":ni(f,g);break;case"textarea":Gl(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?An(f,!!g.multiple,ae,!1):J!==!!g.multiple&&(g.defaultValue!=null?An(f,!!g.multiple,g.defaultValue,!0):An(f,!!g.multiple,g.multiple?[]:"",!1))}f[Fa]=g}catch(de){at(r,r.return,de)}}break;case 6:if(Fn(i,r),hr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(de){at(r,r.return,de)}}break;case 3:if(Fn(i,r),hr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{ps(i.containerInfo)}catch(de){at(r,r.return,de)}break;case 4:Fn(i,r),hr(r);break;case 13:Fn(i,r),hr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(bd=Ye())),h&4&&Ug(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Bt=(q=Bt)||Z,Fn(i,r),Bt=q):Fn(i,r),hr(r),h&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!Z&&(r.mode&1)!==0)for(ce=r,Z=r.child;Z!==null;){for(ee=ce=Z;ce!==null;){switch(J=ce,ae=J.child,J.tag){case 0:case 11:case 14:case 15:Ya(4,J,J.return);break;case 1:Po(J,J.return);var he=J.stateNode;if(typeof he.componentWillUnmount=="function"){h=J,a=J.return;try{i=h,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(de){at(h,a,de)}}break;case 5:Po(J,J.return);break;case 22:if(J.memoizedState!==null){Hg(ee);continue}}ae!==null?(ae.return=J,ce=ae):Hg(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{f=ee.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=ee.stateNode,D=ee.memoizedProps.style,x=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=is("display",x))}catch(de){at(r,r.return,de)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=q?"":ee.memoizedProps}catch(de){at(r,r.return,de)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Fn(i,r),hr(r),h&4&&Ug(r);break;case 21:break;default:Fn(i,r),hr(r)}}function hr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Vg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(ri(f,""),h.flags&=-33);var g=Mg(r);Td(r,g,f);break;case 3:case 4:var x=h.stateNode.containerInfo,C=Mg(r);Ed(r,C,x);break;default:throw Error(t(161))}}catch(D){at(r,r.return,D)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function dE(r,i,a){ce=r,zg(r)}function zg(r,i,a){for(var h=(r.mode&1)!==0;ce!==null;){var f=ce,g=f.child;if(f.tag===22&&h){var x=f.memoizedState!==null||$u;if(!x){var C=f.alternate,D=C!==null&&C.memoizedState!==null||Bt;C=$u;var q=Bt;if($u=x,(Bt=D)&&!q)for(ce=f;ce!==null;)x=ce,D=x.child,x.tag===22&&x.memoizedState!==null?qg(f):D!==null?(D.return=x,ce=D):qg(f);for(;g!==null;)ce=g,zg(g),g=g.sibling;ce=f,$u=C,Bt=q}$g(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ce=g):$g(r)}}function $g(r){for(;ce!==null;){var i=ce;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Bt||Hu(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Bt)if(a===null)h.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Vn(i.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Hm(i,g,h);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Hm(i,x,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var Z=q.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&ps(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||i.flags&512&&xd(i)}catch(J){at(i,i.return,J)}}if(i===r){ce=null;break}if(a=i.sibling,a!==null){a.return=i.return,ce=a;break}ce=i.return}}function Hg(r){for(;ce!==null;){var i=ce;if(i===r){ce=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ce=a;break}ce=i.return}}function qg(r){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Hu(4,i)}catch(D){at(i,a,D)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var f=i.return;try{h.componentDidMount()}catch(D){at(i,f,D)}}var g=i.return;try{xd(i)}catch(D){at(i,g,D)}break;case 5:var x=i.return;try{xd(i)}catch(D){at(i,x,D)}}}catch(D){at(i,i.return,D)}if(i===r){ce=null;break}var C=i.sibling;if(C!==null){C.return=i.return,ce=C;break}ce=i.return}}var fE=Math.ceil,qu=ie.ReactCurrentDispatcher,Id=ie.ReactCurrentOwner,Sn=ie.ReactCurrentBatchConfig,Me=0,St=null,yt=null,Pt=0,gn=0,jo=_s(0),Et=0,Xa=null,Ii=0,Wu=0,Sd=0,Ja=null,en=null,bd=0,Do=1/0,Hr=null,Gu=!1,Cd=null,Ss=null,Ku=!1,bs=null,Qu=0,Za=0,Nd=null,Yu=-1,Xu=0;function Qt(){return(Me&6)!==0?Ye():Yu!==-1?Yu:Yu=Ye()}function Cs(r){return(r.mode&1)===0?1:(Me&2)!==0&&Pt!==0?Pt&-Pt:Yx.transition!==null?(Xu===0&&(Xu=wa()),Xu):(r=Oe,r!==0||(r=window.event,r=r===void 0?16:lo(r.type)),r)}function Un(r,i,a,h){if(50<Za)throw Za=0,Nd=null,Error(t(185));di(r,a,h),((Me&2)===0||r!==St)&&(r===St&&((Me&2)===0&&(Wu|=a),Et===4&&Ns(r,Pt)),tn(r,h),a===1&&Me===0&&(i.mode&1)===0&&(Do=Ye()+500,Su&&xs()))}function tn(r,i){var a=r.callbackNode;hi(r,i);var h=Ar(r,r===St?Pt:0);if(h===0)a!==null&&to(a),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(a!=null&&to(a),i===1)r.tag===0?Qx(Gg.bind(null,r)):Pm(Gg.bind(null,r)),qx(function(){(Me&6)===0&&xs()}),a=null;else{switch(Jn(h)){case 1:a=no;break;case 4:a=ya;break;case 16:a=ai;break;case 536870912:a=ro;break;default:a=ai}a=ty(a,Wg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Wg(r,i){if(Yu=-1,Xu=0,(Me&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Oo()&&r.callbackNode!==a)return null;var h=Ar(r,r===St?Pt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=Ju(r,h);else{i=h;var f=Me;Me|=2;var g=Qg();(St!==r||Pt!==i)&&(Hr=null,Do=Ye()+500,bi(r,i));do try{gE();break}catch(C){Kg(r,C)}while(!0);Wh(),qu.current=g,Me=f,yt!==null?i=0:(St=null,Pt=0,i=Et)}if(i!==0){if(i===2&&(f=_a(r),f!==0&&(h=f,i=kd(r,f))),i===1)throw a=Xa,bi(r,0),Ns(r,h),tn(r,Ye()),a;if(i===6)Ns(r,h);else{if(f=r.current.alternate,(h&30)===0&&!pE(f)&&(i=Ju(r,h),i===2&&(g=_a(r),g!==0&&(h=g,i=kd(r,g))),i===1))throw a=Xa,bi(r,0),Ns(r,h),tn(r,Ye()),a;switch(r.finishedWork=f,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Ci(r,en,Hr);break;case 3:if(Ns(r,h),(h&130023424)===h&&(i=bd+500-Ye(),10<i)){if(Ar(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Qt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Oh(Ci.bind(null,r,en,Hr),i);break}Ci(r,en,Hr);break;case 4:if(Ns(r,h),(h&4194240)===h)break;for(i=r.eventTimes,f=-1;0<h;){var x=31-un(h);g=1<<x,x=i[x],x>f&&(f=x),h&=~g}if(h=f,h=Ye()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*fE(h/1960))-h,10<h){r.timeoutHandle=Oh(Ci.bind(null,r,en,Hr),h);break}Ci(r,en,Hr);break;case 5:Ci(r,en,Hr);break;default:throw Error(t(329))}}}return tn(r,Ye()),r.callbackNode===a?Wg.bind(null,r):null}function kd(r,i){var a=Ja;return r.current.memoizedState.isDehydrated&&(bi(r,i).flags|=256),r=Ju(r,i),r!==2&&(i=en,en=a,i!==null&&Rd(i)),r}function Rd(r){en===null?en=r:en.push.apply(en,r)}function pE(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!On(g(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ns(r,i){for(i&=~Sd,i&=~Wu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-un(i),h=1<<a;r[a]=-1,i&=~h}}function Gg(r){if((Me&6)!==0)throw Error(t(327));Oo();var i=Ar(r,0);if((i&1)===0)return tn(r,Ye()),null;var a=Ju(r,i);if(r.tag!==0&&a===2){var h=_a(r);h!==0&&(i=h,a=kd(r,h))}if(a===1)throw a=Xa,bi(r,0),Ns(r,i),tn(r,Ye()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ci(r,en,Hr),tn(r,Ye()),null}function Ad(r,i){var a=Me;Me|=1;try{return r(i)}finally{Me=a,Me===0&&(Do=Ye()+500,Su&&xs())}}function Si(r){bs!==null&&bs.tag===0&&(Me&6)===0&&Oo();var i=Me;Me|=1;var a=Sn.transition,h=Oe;try{if(Sn.transition=null,Oe=1,r)return r()}finally{Oe=h,Sn.transition=a,Me=i,(Me&6)===0&&xs()}}function Pd(){gn=jo.current,Je(jo)}function bi(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Hx(a)),yt!==null)for(a=yt.return;a!==null;){var h=a;switch(Bh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Tu();break;case 3:Ro(),Je(Xt),Je(Mt),ed();break;case 5:Jh(h);break;case 4:Ro();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:Gh(h.type._context);break;case 22:case 23:Pd()}a=a.return}if(St=r,yt=r=ks(r.current,null),Pt=gn=i,Et=0,Xa=null,Sd=Wu=Ii=0,en=Ja=null,xi!==null){for(i=0;i<xi.length;i++)if(a=xi[i],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var x=g.next;g.next=f,h.next=x}a.pending=h}xi=null}return r}function Kg(r,i){do{var a=yt;try{if(Wh(),Ou.current=Fu,Lu){for(var h=rt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Lu=!1}if(Ti=0,It=xt=rt=null,qa=!1,Wa=0,Id.current=null,a===null||a.return===null){Et=1,Xa=i,yt=null;break}e:{var g=r,x=a.return,C=a,D=i;if(i=Pt,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,Z=C,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ae=_g(x);if(ae!==null){ae.flags&=-257,wg(ae,x,C,g,i),ae.mode&1&&vg(g,q,i),i=ae,D=q;var he=i.updateQueue;if(he===null){var de=new Set;de.add(D),i.updateQueue=de}else he.add(D);break e}else{if((i&1)===0){vg(g,q,i),jd();break e}D=Error(t(426))}}else if(et&&C.mode&1){var dt=_g(x);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),wg(dt,x,C,g,i),Hh(Ao(D,C));break e}}g=D=Ao(D,C),Et!==4&&(Et=2),Ja===null?Ja=[g]:Ja.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var U=gg(g,D,i);$m(g,U);break e;case 1:C=D;var O=g.type,$=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ss===null||!Ss.has($)))){g.flags|=65536,i&=-i,g.lanes|=i;var ne=yg(g,C,i);$m(g,ne);break e}}g=g.return}while(g!==null)}Xg(a)}catch(fe){i=fe,yt===a&&a!==null&&(yt=a=a.return);continue}break}while(!0)}function Qg(){var r=qu.current;return qu.current=Fu,r===null?Fu:r}function jd(){(Et===0||Et===3||Et===2)&&(Et=4),St===null||(Ii&268435455)===0&&(Wu&268435455)===0||Ns(St,Pt)}function Ju(r,i){var a=Me;Me|=2;var h=Qg();(St!==r||Pt!==i)&&(Hr=null,bi(r,i));do try{mE();break}catch(f){Kg(r,f)}while(!0);if(Wh(),Me=a,qu.current=h,yt!==null)throw Error(t(261));return St=null,Pt=0,Et}function mE(){for(;yt!==null;)Yg(yt)}function gE(){for(;yt!==null&&!oi();)Yg(yt)}function Yg(r){var i=ey(r.alternate,r,gn);r.memoizedProps=r.pendingProps,i===null?Xg(r):yt=i,Id.current=null}function Xg(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=lE(a,i,gn),a!==null){yt=a;return}}else{if(a=uE(a,i),a!==null){a.flags&=32767,yt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,yt=null;return}}if(i=i.sibling,i!==null){yt=i;return}yt=i=r}while(i!==null);Et===0&&(Et=5)}function Ci(r,i,a){var h=Oe,f=Sn.transition;try{Sn.transition=null,Oe=1,yE(r,i,a,h)}finally{Sn.transition=f,Oe=h}return null}function yE(r,i,a,h){do Oo();while(bs!==null);if((Me&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(_h(r,g),r===St&&(yt=St=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ku||(Ku=!0,ty(ai,function(){return Oo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Sn.transition,Sn.transition=null;var x=Oe;Oe=1;var C=Me;Me|=4,Id.current=null,hE(r,a),Bg(a,r),Vx(jh),Dr=!!Ph,jh=Ph=null,r.current=a,dE(a),Rr(),Me=C,Oe=x,Sn.transition=g}else r.current=a;if(Ku&&(Ku=!1,bs=r,Qu=f),g=r.pendingLanes,g===0&&(Ss=null),iu(a.stateNode),tn(r,Ye()),i!==null)for(h=r.onRecoverableError,a=0;a<i.length;a++)f=i[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Gu)throw Gu=!1,r=Cd,Cd=null,r;return(Qu&1)!==0&&r.tag!==0&&Oo(),g=r.pendingLanes,(g&1)!==0?r===Nd?Za++:(Za=0,Nd=r):Za=0,xs(),null}function Oo(){if(bs!==null){var r=Jn(Qu),i=Sn.transition,a=Oe;try{if(Sn.transition=null,Oe=16>r?16:r,bs===null)var h=!1;else{if(r=bs,bs=null,Qu=0,(Me&6)!==0)throw Error(t(331));var f=Me;for(Me|=4,ce=r.current;ce!==null;){var g=ce,x=g.child;if((ce.flags&16)!==0){var C=g.deletions;if(C!==null){for(var D=0;D<C.length;D++){var q=C[D];for(ce=q;ce!==null;){var Z=ce;switch(Z.tag){case 0:case 11:case 15:Ya(8,Z,g)}var ee=Z.child;if(ee!==null)ee.return=Z,ce=ee;else for(;ce!==null;){Z=ce;var J=Z.sibling,ae=Z.return;if(Lg(Z),Z===q){ce=null;break}if(J!==null){J.return=ae,ce=J;break}ce=ae}}}var he=g.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var dt=de.sibling;de.sibling=null,de=dt}while(de!==null)}}ce=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,ce=x;else e:for(;ce!==null;){if(g=ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ya(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,ce=U;break e}ce=g.return}}var O=r.current;for(ce=O;ce!==null;){x=ce;var $=x.child;if((x.subtreeFlags&2064)!==0&&$!==null)$.return=x,ce=$;else e:for(x=O;ce!==null;){if(C=ce,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Hu(9,C)}}catch(fe){at(C,C.return,fe)}if(C===x){ce=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,ce=ne;break e}ce=C.return}}if(Me=f,xs(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(li,r)}catch{}h=!0}return h}finally{Oe=a,Sn.transition=i}}return!1}function Jg(r,i,a){i=Ao(a,i),i=gg(r,i,1),r=Ts(r,i,1),i=Qt(),r!==null&&(di(r,1,i),tn(r,i))}function at(r,i,a){if(r.tag===3)Jg(r,r,a);else for(;i!==null;){if(i.tag===3){Jg(i,r,a);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ss===null||!Ss.has(h))){r=Ao(a,r),r=yg(i,r,1),i=Ts(i,r,1),r=Qt(),i!==null&&(di(i,1,r),tn(i,r));break}}i=i.return}}function vE(r,i,a){var h=r.pingCache;h!==null&&h.delete(i),i=Qt(),r.pingedLanes|=r.suspendedLanes&a,St===r&&(Pt&a)===a&&(Et===4||Et===3&&(Pt&130023424)===Pt&&500>Ye()-bd?bi(r,0):Sd|=a),tn(r,i)}function Zg(r,i){i===0&&((r.mode&1)===0?i=1:(i=hs,hs<<=1,(hs&130023424)===0&&(hs=4194304)));var a=Qt();r=Br(r,i),r!==null&&(di(r,i,a),tn(r,a))}function _E(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Zg(r,a)}function wE(r,i){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),Zg(r,a)}var ey;ey=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Xt.current)Zt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Zt=!1,aE(r,i,a);Zt=(r.flags&131072)!==0}else Zt=!1,et&&(i.flags&1048576)!==0&&jm(i,Cu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;zu(r,i),r=i.pendingProps;var f=To(i,Mt.current);ko(i,a),f=rd(null,i,h,r,f,a);var g=sd();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Jt(h)?(g=!0,Iu(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Yh(i),f.updater=Uu,i.stateNode=f,f._reactInternals=i,cd(i,h,r,a),i=pd(null,i,h,!0,g,a)):(i.tag=0,et&&g&&Uh(i),Kt(null,i,f,a),i=i.child),i;case 16:h=i.elementType;e:{switch(zu(r,i),r=i.pendingProps,f=h._init,h=f(h._payload),i.type=h,f=i.tag=EE(h),r=Vn(h,r),f){case 0:i=fd(null,i,h,r,a);break e;case 1:i=bg(null,i,h,r,a);break e;case 11:i=xg(null,i,h,r,a);break e;case 14:i=Eg(null,i,h,Vn(h.type,r),a);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Vn(h,f),fd(r,i,h,f,a);case 1:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Vn(h,f),bg(r,i,h,f,a);case 3:e:{if(Cg(i),r===null)throw Error(t(387));h=i.pendingProps,g=i.memoizedState,f=g.element,zm(r,i),ju(i,h,null,a);var x=i.memoizedState;if(h=x.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=Ao(Error(t(423)),i),i=Ng(r,i,h,a,f);break e}else if(h!==f){f=Ao(Error(t(424)),i),i=Ng(r,i,h,a,f);break e}else for(mn=vs(i.stateNode.containerInfo.firstChild),pn=i,et=!0,Ln=null,a=Um(i,null,h,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bo(),h===f){i=$r(r,i,a);break e}Kt(r,i,h,a)}i=i.child}return i;case 5:return qm(i),r===null&&$h(i),h=i.type,f=i.pendingProps,g=r!==null?r.memoizedProps:null,x=f.children,Dh(h,f)?x=null:g!==null&&Dh(h,g)&&(i.flags|=32),Sg(r,i),Kt(r,i,x,a),i.child;case 6:return r===null&&$h(i),null;case 13:return kg(r,i,a);case 4:return Xh(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=Co(i,null,h,a):Kt(r,i,h,a),i.child;case 11:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Vn(h,f),xg(r,i,h,f,a);case 7:return Kt(r,i,i.pendingProps,a),i.child;case 8:return Kt(r,i,i.pendingProps.children,a),i.child;case 12:return Kt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(h=i.type._context,f=i.pendingProps,g=i.memoizedProps,x=f.value,Ke(Ru,h._currentValue),h._currentValue=x,g!==null)if(On(g.value,x)){if(g.children===f.children&&!Xt.current){i=$r(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var C=g.dependencies;if(C!==null){x=g.child;for(var D=C.firstContext;D!==null;){if(D.context===h){if(g.tag===1){D=zr(-1,a&-a),D.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var Z=q.pending;Z===null?D.next=D:(D.next=Z.next,Z.next=D),q.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),Kh(g.return,a,i),C.lanes|=a;break}D=D.next}}else if(g.tag===10)x=g.type===i.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(t(341));x.lanes|=a,C=x.alternate,C!==null&&(C.lanes|=a),Kh(x,a,i),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}Kt(r,i,f.children,a),i=i.child}return i;case 9:return f=i.type,h=i.pendingProps.children,ko(i,a),f=Tn(f),h=h(f),i.flags|=1,Kt(r,i,h,a),i.child;case 14:return h=i.type,f=Vn(h,i.pendingProps),f=Vn(h.type,f),Eg(r,i,h,f,a);case 15:return Tg(r,i,i.type,i.pendingProps,a);case 17:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Vn(h,f),zu(r,i),i.tag=1,Jt(h)?(r=!0,Iu(i)):r=!1,ko(i,a),pg(i,h,f),cd(i,h,f,a),pd(null,i,h,!0,r,a);case 19:return Ag(r,i,a);case 22:return Ig(r,i,a)}throw Error(t(156,i.tag))};function ty(r,i){return ga(r,i)}function xE(r,i,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(r,i,a,h){return new xE(r,i,a,h)}function Dd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function EE(r){if(typeof r=="function")return Dd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===Ge)return 14}return 2}function ks(r,i){var a=r.alternate;return a===null?(a=bn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Zu(r,i,a,h,f,g){var x=2;if(h=r,typeof r=="function")Dd(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case A:return Ni(a.children,f,g,i);case S:x=8,f|=8;break;case b:return r=bn(12,a,i,f|2),r.elementType=b,r.lanes=g,r;case N:return r=bn(13,a,i,f),r.elementType=N,r.lanes=g,r;case ke:return r=bn(19,a,i,f),r.elementType=ke,r.lanes=g,r;case He:return ec(a,f,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:x=10;break e;case R:x=9;break e;case L:x=11;break e;case Ge:x=14;break e;case Ce:x=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=bn(x,a,i,f),i.elementType=r,i.type=h,i.lanes=g,i}function Ni(r,i,a,h){return r=bn(7,r,h,i),r.lanes=a,r}function ec(r,i,a,h){return r=bn(22,r,h,i),r.elementType=He,r.lanes=a,r.stateNode={isHidden:!1},r}function Od(r,i,a){return r=bn(6,r,null,i),r.lanes=a,r}function Ld(r,i,a){return i=bn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function TE(r,i,a,h,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Vd(r,i,a,h,f,g,x,C,D){return r=new TE(r,i,a,C,D),i===1?(i=1,g===!0&&(i|=8)):i=0,g=bn(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(g),r}function IE(r,i,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:h==null?null:""+h,children:r,containerInfo:i,implementation:a}}function ny(r){if(!r)return ws;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Jt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Jt(a))return Rm(r,a,i)}return i}function ry(r,i,a,h,f,g,x,C,D){return r=Vd(a,h,!0,r,f,g,x,C,D),r.context=ny(null),a=r.current,h=Qt(),f=Cs(a),g=zr(h,f),g.callback=i??null,Ts(a,g,f),r.current.lanes=f,di(r,f,h),tn(r,h),r}function tc(r,i,a,h){var f=i.current,g=Qt(),x=Cs(f);return a=ny(a),i.context===null?i.context=a:i.pendingContext=a,i=zr(g,x),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=Ts(f,i,x),r!==null&&(Un(r,f,x,g),Pu(r,f,x)),x}function nc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function sy(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Md(r,i){sy(r,i),(r=r.alternate)&&sy(r,i)}function SE(){return null}var iy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Fd(r){this._internalRoot=r}rc.prototype.render=Fd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));tc(r,i,null,null)},rc.prototype.unmount=Fd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Si(function(){tc(null,r,null,null)}),i[Vr]=null}};function rc(r){this._internalRoot=r}rc.prototype.unstable_scheduleHydration=function(r){if(r){var i=Sa();r={blockedOn:null,target:r,priority:i};for(var a=0;a<cn.length&&i!==0&&i<cn[a].priority;a++);cn.splice(a,0,r),a===0&&oo(r)}};function Ud(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function sc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function oy(){}function bE(r,i,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var q=nc(x);g.call(q)}}var x=ry(i,h,r,0,null,!1,!1,"",oy);return r._reactRootContainer=x,r[Vr]=x.current,Va(r.nodeType===8?r.parentNode:r),Si(),x}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var C=h;h=function(){var q=nc(D);C.call(q)}}var D=Vd(r,0,!1,null,null,!1,!1,"",oy);return r._reactRootContainer=D,r[Vr]=D.current,Va(r.nodeType===8?r.parentNode:r),Si(function(){tc(i,D,a,h)}),D}function ic(r,i,a,h,f){var g=a._reactRootContainer;if(g){var x=g;if(typeof f=="function"){var C=f;f=function(){var D=nc(x);C.call(D)}}tc(i,x,r,f)}else x=bE(a,i,r,f,h);return nc(x)}Ta=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Ue(i.pendingLanes);a!==0&&(Ea(i,a|1),tn(i,Ye()),(Me&6)===0&&(Do=Ye()+500,xs()))}break;case 13:Si(function(){var h=Br(r,1);if(h!==null){var f=Qt();Un(h,r,1,f)}}),Md(r,1)}},so=function(r){if(r.tag===13){var i=Br(r,134217728);if(i!==null){var a=Qt();Un(i,r,134217728,a)}Md(r,134217728)}},Ia=function(r){if(r.tag===13){var i=Cs(r),a=Br(r,i);if(a!==null){var h=Qt();Un(a,r,i,h)}Md(r,i)}},Sa=function(){return Oe},ba=function(r,i){var a=Oe;try{return Oe=r,i()}finally{Oe=a}},Cr=function(r,i,a){switch(i){case"input":if(ni(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var h=a[i];if(h!==r&&h.form===r.form){var f=Eu(h);if(!f)throw Error(t(90));aa(h),ni(h,f)}}}break;case"textarea":Gl(r,a);break;case"select":i=a.value,i!=null&&An(r,!!a.multiple,i,!1)}},Yl=Ad,Xl=Si;var CE={usingClientEntryPoint:!1,Events:[Ua,xo,Eu,as,ls,Ad]},el={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NE={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=su(r),r===null?null:r.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||SE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{li=oc.inject(NE),ln=oc}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CE,nn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ud(i))throw Error(t(200));return IE(r,i,null,a)},nn.createRoot=function(r,i){if(!Ud(r))throw Error(t(299));var a=!1,h="",f=iy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Vd(r,1,!1,null,null,a,!1,h,f),r[Vr]=i.current,Va(r.nodeType===8?r.parentNode:r),new Fd(i)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=su(i),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return Si(r)},nn.hydrate=function(r,i,a){if(!sc(i))throw Error(t(200));return ic(null,r,i,!0,a)},nn.hydrateRoot=function(r,i,a){if(!Ud(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",x=iy;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=ry(i,null,r,1,a??null,f,!1,g,x),r[Vr]=i.current,Va(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new rc(i)},nn.render=function(r,i,a){if(!sc(i))throw Error(t(200));return ic(null,r,i,!1,a)},nn.unmountComponentAtNode=function(r){if(!sc(r))throw Error(t(40));return r._reactRootContainer?(Si(function(){ic(null,null,r,!1,function(){r._reactRootContainer=null,r[Vr]=null})}),!0):!1},nn.unstable_batchedUpdates=Ad,nn.unstable_renderSubtreeIntoContainer=function(r,i,a,h){if(!sc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ic(r,i,a,!1,h)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var py;function VE(){if(py)return $d.exports;py=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$d.exports=LE(),$d.exports}var my;function ME(){if(my)return ac;my=1;var n=VE();return ac.createRoot=n.createRoot,ac.hydrateRoot=n.hydrateRoot,ac}var FE=ME();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gy="popstate";function UE(n={}){function e(s,o){let{pathname:l,search:c,hash:p}=s.location;return uf("",{pathname:l,search:c,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:_l(o)}return zE(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BE(){return Math.random().toString(36).substring(2,10)}function yy(n,e){return{usr:n.state,key:n.key,idx:e}}function uf(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xo(e):e,state:t,key:e&&e.key||s||BE()}}function _l({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function zE(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,p="POP",m=null,v=w();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function w(){return(c.state||{idx:null}).idx}function E(){p="POP";let j=w(),H=j==null?null:j-v;v=j,m&&m({action:p,location:F.location,delta:H})}function I(j,H){p="PUSH";let G=uf(F.location,j,H);v=w()+1;let Q=yy(G,v),ie=F.createHref(G);try{c.pushState(Q,"",ie)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(ie)}l&&m&&m({action:p,location:F.location,delta:1})}function P(j,H){p="REPLACE";let G=uf(F.location,j,H);v=w();let Q=yy(G,v),ie=F.createHref(G);c.replaceState(Q,"",ie),l&&m&&m({action:p,location:F.location,delta:0})}function z(j){return $E(j)}let F={get action(){return p},get location(){return n(o,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(gy,E),m=j,()=>{o.removeEventListener(gy,E),m=null}},createHref(j){return e(o,j)},createURL:z,encodeLocation(j){let H=z(j);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:I,replace:P,go(j){return c.go(j)}};return F}function $E(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:_l(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function c_(n,e,t="/"){return HE(n,e,t,!1)}function HE(n,e,t,s){let o=typeof e=="string"?Xo(e):e,l=Yr(o.pathname||"/",t);if(l==null)return null;let c=h_(n);qE(c);let p=null;for(let m=0;p==null&&m<c.length;++m){let v=nT(l);p=eT(c[m],v,s)}return p}function h_(n,e=[],t=[],s="",o=!1){let l=(c,p,m=o,v)=>{let w={relativePath:v===void 0?c.path||"":v,caseSensitive:c.caseSensitive===!0,childrenIndex:p,route:c};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&m)return;tt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let E=Gr([s,w.relativePath]),I=t.concat(w);c.children&&c.children.length>0&&(tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),h_(c.children,e,I,E,m)),!(c.path==null&&!c.index)&&e.push({path:E,score:JE(E,c.index),routesMeta:I})};return n.forEach((c,p)=>{if(c.path===""||!c.path?.includes("?"))l(c,p);else for(let m of d_(c.path))l(c,p,!0,m)}),e}function d_(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=d_(s.join("/")),p=[];return p.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&p.push(...c),p.map(m=>n.startsWith("/")&&m===""?"/":m)}function qE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ZE(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var WE=/^:[\w-]+$/,GE=3,KE=2,QE=1,YE=10,XE=-2,vy=n=>n==="*";function JE(n,e){let t=n.split("/"),s=t.length;return t.some(vy)&&(s+=XE),e&&(s+=KE),t.filter(o=>!vy(o)).reduce((o,l)=>o+(WE.test(l)?GE:l===""?QE:YE),s)}function ZE(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function eT(n,e,t=!1){let{routesMeta:s}=n,o={},l="/",c=[];for(let p=0;p<s.length;++p){let m=s[p],v=p===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",E=Rc({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},w),I=m.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=Rc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Gr([l,E.pathname]),pathnameBase:oT(Gr([l,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(l=Gr([l,E.pathnameBase]))}return c}function Rc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=tT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:E},I)=>{if(w==="*"){let z=p[I]||"";c=l.slice(0,l.length-z.length).replace(/(.)\/+$/,"$1")}const P=p[I];return E&&!P?v[w]=void 0:v[w]=(P||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:c,pattern:n}}function tT(n,e=!1,t=!0){Hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Yr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function rT(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Xo(n):n;return{pathname:t?t.startsWith("/")?t:sT(t,e):e,search:aT(s),hash:lT(o)}}function sT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Wd(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bf(n){let e=iT(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function zf(n,e,t,s=!1){let o;typeof n=="string"?o=Xo(n):(o={...n},tt(!o.pathname||!o.pathname.includes("?"),Wd("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Wd("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Wd("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,p;if(c==null)p=t;else{let E=e.length-1;if(!s&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}p=E>=0?e[E]:"/"}let m=rT(o,p),v=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(v||w)&&(m.pathname+="/"),m}var Gr=n=>n.join("/").replace(/\/\/+/g,"/"),oT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function uT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var f_=["POST","PUT","PATCH","DELETE"];new Set(f_);var cT=["GET",...f_];new Set(cT);var Jo=V.createContext(null);Jo.displayName="DataRouter";var Qc=V.createContext(null);Qc.displayName="DataRouterState";V.createContext(!1);var p_=V.createContext({isTransitioning:!1});p_.displayName="ViewTransition";var hT=V.createContext(new Map);hT.displayName="Fetchers";var dT=V.createContext(null);dT.displayName="Await";var Wn=V.createContext(null);Wn.displayName="Navigation";var Al=V.createContext(null);Al.displayName="Location";var Ir=V.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var $f=V.createContext(null);$f.displayName="RouteError";function fT(n,{relative:e}={}){tt(Zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=V.useContext(Wn),{hash:o,pathname:l,search:c}=Pl(n,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Gr([t,l])),s.createHref({pathname:p,search:c,hash:o})}function Zo(){return V.useContext(Al)!=null}function Rn(){return tt(Zo(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Al).location}var m_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g_(n){V.useContext(Wn).static||V.useLayoutEffect(n)}function Sr(){let{isDataRoute:n}=V.useContext(Ir);return n?bT():pT()}function pT(){tt(Zo(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(Jo),{basename:e,navigator:t}=V.useContext(Wn),{matches:s}=V.useContext(Ir),{pathname:o}=Rn(),l=JSON.stringify(Bf(s)),c=V.useRef(!1);return g_(()=>{c.current=!0}),V.useCallback((m,v={})=>{if(Hn(c.current,m_),!c.current)return;if(typeof m=="number"){t.go(m);return}let w=zf(m,JSON.parse(l),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Gr([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,l,o,n])}V.createContext(null);function Pl(n,{relative:e}={}){let{matches:t}=V.useContext(Ir),{pathname:s}=Rn(),o=JSON.stringify(Bf(t));return V.useMemo(()=>zf(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function mT(n,e){return y_(n,e)}function y_(n,e,t,s,o){tt(Zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(Wn),{matches:c}=V.useContext(Ir),p=c[c.length-1],m=p?p.params:{},v=p?p.pathname:"/",w=p?p.pathnameBase:"/",E=p&&p.route;{let G=E&&E.path||"";v_(v,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let I=Rn(),P;if(e){let G=typeof e=="string"?Xo(e):e;tt(w==="/"||G.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${G.pathname}" was given in the \`location\` prop.`),P=G}else P=I;let z=P.pathname||"/",F=z;if(w!=="/"){let G=w.replace(/^\//,"").split("/");F="/"+z.replace(/^\//,"").split("/").slice(G.length).join("/")}let j=c_(n,{pathname:F});Hn(E||j!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Hn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=wT(j&&j.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Gr([w,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?w:Gr([w,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,t,s,o);return e&&H?V.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},H):H}function gT(){let n=ST(),e=uT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,c)}var yT=V.createElement(gT,null),vT=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?V.createElement(Ir.Provider,{value:this.props.routeContext},V.createElement($f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _T({routeContext:n,match:e,children:t}){let s=V.useContext(Jo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Ir.Provider,{value:n},t)}function wT(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let p=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let w=l[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:E,errors:I}=t,P=w.route.loader&&!E.hasOwnProperty(w.route.id)&&(!I||I[w.route.id]===void 0);if(w.route.lazy||P){p=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((v,w,E)=>{let I,P=!1,z=null,F=null;t&&(I=c&&w.route.id?c[w.route.id]:void 0,z=w.route.errorElement||yT,p&&(m<0&&E===0?(v_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,F=null):m===E&&(P=!0,F=w.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,E+1)),H=()=>{let G;return I?G=z:P?G=F:w.route.Component?G=V.createElement(w.route.Component,null):w.route.element?G=w.route.element:G=v,V.createElement(_T,{match:w,routeContext:{outlet:v,matches:j,isDataRoute:t!=null},children:G})};return t&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?V.createElement(vT,{location:t.location,revalidation:t.revalidation,component:z,error:I,children:H(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:s}):H()},null)}function Hf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xT(n){let e=V.useContext(Jo);return tt(e,Hf(n)),e}function ET(n){let e=V.useContext(Qc);return tt(e,Hf(n)),e}function TT(n){let e=V.useContext(Ir);return tt(e,Hf(n)),e}function qf(n){let e=TT(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function IT(){return qf("useRouteId")}function ST(){let n=V.useContext($f),e=ET("useRouteError"),t=qf("useRouteError");return n!==void 0?n:e.errors?.[t]}function bT(){let{router:n}=xT("useNavigate"),e=qf("useNavigate"),t=V.useRef(!1);return g_(()=>{t.current=!0}),V.useCallback(async(o,l={})=>{Hn(t.current,m_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var _y={};function v_(n,e,t){!e&&!_y[n]&&(_y[n]=!0,Hn(!1,t))}V.memo(CT);function CT({routes:n,future:e,state:t,unstable_onError:s}){return y_(n,void 0,t,s,e)}function cf({to:n,replace:e,state:t,relative:s}){tt(Zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(Wn);Hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(Ir),{pathname:c}=Rn(),p=Sr(),m=zf(n,Bf(l),c,s==="path"),v=JSON.stringify(m);return V.useEffect(()=>{p(JSON.parse(v),{replace:e,state:t,relative:s})},[p,v,s,e,t]),null}function $t(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NT({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){tt(!Zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Xo(t));let{pathname:m="/",search:v="",hash:w="",state:E=null,key:I="default"}=t,P=V.useMemo(()=>{let z=Yr(m,c);return z==null?null:{location:{pathname:z,search:v,hash:w,state:E,key:I},navigationType:s}},[c,m,v,w,E,I,s]);return Hn(P!=null,`<Router basename="${c}"> is not able to match the URL "${m}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:V.createElement(Wn.Provider,{value:p},V.createElement(Al.Provider,{children:e,value:P}))}function kT({children:n,location:e}){return mT(hf(n),e)}function hf(n,e=[]){let t=[];return V.Children.forEach(n,(s,o)=>{if(!V.isValidElement(s))return;let l=[...e,o];if(s.type===V.Fragment){t.push.apply(t,hf(s.props.children,l));return}tt(s.type===$t,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=hf(s.props.children,l)),t.push(c)}),t}var vc="get",_c="application/x-www-form-urlencoded";function Yc(n){return n!=null&&typeof n.tagName=="string"}function RT(n){return Yc(n)&&n.tagName.toLowerCase()==="button"}function AT(n){return Yc(n)&&n.tagName.toLowerCase()==="form"}function PT(n){return Yc(n)&&n.tagName.toLowerCase()==="input"}function jT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function DT(n,e){return n.button===0&&(!e||e==="_self")&&!jT(n)}var lc=null;function OT(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var LT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gd(n){return n!=null&&!LT.has(n)?(Hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):n}function VT(n,e){let t,s,o,l,c;if(AT(n)){let p=n.getAttribute("action");s=p?Yr(p,e):null,t=n.getAttribute("method")||vc,o=Gd(n.getAttribute("enctype"))||_c,l=new FormData(n)}else if(RT(n)||PT(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||p.getAttribute("action");if(s=m?Yr(m,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||vc,o=Gd(n.getAttribute("formenctype"))||Gd(p.getAttribute("enctype"))||_c,l=new FormData(p,n),!OT()){let{name:v,type:w,value:E}=n;if(w==="image"){let I=v?`${v}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else v&&l.append(v,E)}}else{if(Yc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vc,s=null,o=_c,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function MT(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Yr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function FT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BT(n,e,t){let s=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await FT(l,t);return c.links?c.links():[]}return[]}));return qT(s.flat(1).filter(UT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wy(n,e,t,s,o,l){let c=(m,v)=>t[v]?m.route.id!==t[v].route.id:!0,p=(m,v)=>t[v].pathname!==m.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,v)=>c(m,v)||p(m,v)):l==="data"?e.filter((m,v)=>{let w=s.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(c(m,v)||p(m,v))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function zT(n,e,{includeHydrateFallback:t}={}){return $T(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function $T(n){return[...new Set(n)]}function HT(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function qT(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let l=JSON.stringify(HT(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function __(){let n=V.useContext(Jo);return Wf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function WT(){let n=V.useContext(Qc);return Wf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gf=V.createContext(void 0);Gf.displayName="FrameworkContext";function w_(){let n=V.useContext(Gf);return Wf(n,"You must render this element inside a <HydratedRouter> element"),n}function GT(n,e){let t=V.useContext(Gf),[s,o]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:v,onMouseLeave:w,onTouchStart:E}=e,I=V.useRef(null);V.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let F=H=>{H.forEach(G=>{c(G.isIntersecting)})},j=new IntersectionObserver(F,{threshold:.5});return I.current&&j.observe(I.current),()=>{j.disconnect()}}},[n]),V.useEffect(()=>{if(s){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[s]);let P=()=>{o(!0)},z=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,I,{}]:[l,I,{onFocus:nl(p,P),onBlur:nl(m,z),onMouseEnter:nl(v,P),onMouseLeave:nl(w,z),onTouchStart:nl(E,P)}]:[!1,I,{}]}function nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KT({page:n,...e}){let{router:t}=__(),s=V.useMemo(()=>c_(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?V.createElement(YT,{page:n,matches:s,...e}):null}function QT(n){let{manifest:e,routeModules:t}=w_(),[s,o]=V.useState([]);return V.useEffect(()=>{let l=!1;return BT(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),s}function YT({page:n,matches:e,...t}){let s=Rn(),{manifest:o,routeModules:l}=w_(),{basename:c}=__(),{loaderData:p,matches:m}=WT(),v=V.useMemo(()=>wy(n,e,m,o,s,"data"),[n,e,m,o,s]),w=V.useMemo(()=>wy(n,e,m,o,s,"assets"),[n,e,m,o,s]),E=V.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let z=new Set,F=!1;if(e.forEach(H=>{let G=o.routes[H.route.id];!G||!G.hasLoader||(!v.some(Q=>Q.route.id===H.route.id)&&H.route.id in p&&l[H.route.id]?.shouldRevalidate||G.hasClientLoader?F=!0:z.add(H.route.id))}),z.size===0)return[];let j=MT(n,c,"data");return F&&z.size>0&&j.searchParams.set("_routes",e.filter(H=>z.has(H.route.id)).map(H=>H.route.id).join(",")),[j.pathname+j.search]},[c,p,s,o,v,e,n,l]),I=V.useMemo(()=>zT(w,o),[w,o]),P=QT(w);return V.createElement(V.Fragment,null,E.map(z=>V.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),I.map(z=>V.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),P.map(({key:z,link:F})=>V.createElement("link",{key:z,nonce:t.nonce,...F})))}function XT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var x_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x_&&(window.__reactRouterVersion="7.9.2")}catch{}function JT({basename:n,children:e,window:t}){let s=V.useRef();s.current==null&&(s.current=UE({window:t,v5Compat:!0}));let o=s.current,[l,c]=V.useState({action:o.action,location:o.location}),p=V.useCallback(m=>{V.startTransition(()=>c(m))},[c]);return V.useLayoutEffect(()=>o.listen(p),[o,p]),V.createElement(NT,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var E_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=V.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:p,target:m,to:v,preventScrollReset:w,viewTransition:E,...I},P){let{basename:z}=V.useContext(Wn),F=typeof v=="string"&&E_.test(v),j,H=!1;if(typeof v=="string"&&F&&(j=v,x_))try{let b=new URL(window.location.href),k=v.startsWith("//")?new URL(b.protocol+v):new URL(v),R=Yr(k.pathname,z);k.origin===b.origin&&R!=null?v=R+k.search+k.hash:H=!0}catch{Hn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=fT(v,{relative:o}),[Q,ie,ve]=GT(s,I),te=n1(v,{replace:c,state:p,target:m,preventScrollReset:w,relative:o,viewTransition:E});function A(b){e&&e(b),b.defaultPrevented||te(b)}let S=V.createElement("a",{...I,...ve,href:j||G,onClick:H||l?e:A,ref:XT(P,ie),target:m,"data-discover":!F&&t==="render"?"true":void 0});return Q&&!F?V.createElement(V.Fragment,null,S,V.createElement(KT,{page:G})):S});Ct.displayName="Link";var ZT=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:p,children:m,...v},w){let E=Pl(c,{relative:v.relative}),I=Rn(),P=V.useContext(Qc),{navigator:z,basename:F}=V.useContext(Wn),j=P!=null&&a1(E)&&p===!0,H=z.encodeLocation?z.encodeLocation(E).pathname:E.pathname,G=I.pathname,Q=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(G=G.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&F&&(Q=Yr(Q,F)||Q);const ie=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ve=G===H||!o&&G.startsWith(H)&&G.charAt(ie)==="/",te=Q!=null&&(Q===H||!o&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),A={isActive:ve,isPending:te,isTransitioning:j},S=ve?e:void 0,b;typeof s=="function"?b=s(A):b=[s,ve?"active":null,te?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(A):l;return V.createElement(Ct,{...v,"aria-current":S,className:b,ref:w,style:k,to:c,viewTransition:p},typeof m=="function"?m(A):m)});ZT.displayName="NavLink";var e1=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=vc,action:p,onSubmit:m,relative:v,preventScrollReset:w,viewTransition:E,...I},P)=>{let z=i1(),F=o1(p,{relative:v}),j=c.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&E_.test(p),G=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let ie=Q.nativeEvent.submitter,ve=ie?.getAttribute("formmethod")||c;z(ie||Q.currentTarget,{fetcherKey:e,method:ve,navigate:t,replace:o,state:l,relative:v,preventScrollReset:w,viewTransition:E})};return V.createElement("form",{ref:P,method:j,action:F,onSubmit:s?m:G,...I,"data-discover":!H&&n==="render"?"true":void 0})});e1.displayName="Form";function t1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T_(n){let e=V.useContext(Jo);return tt(e,t1(n)),e}function n1(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let p=Sr(),m=Rn(),v=Pl(n,{relative:l});return V.useCallback(w=>{if(DT(w,e)){w.preventDefault();let E=t!==void 0?t:_l(m)===_l(v);p(n,{replace:E,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[m,p,v,t,s,e,n,o,l,c])}var r1=0,s1=()=>`__${String(++r1)}__`;function i1(){let{router:n}=T_("useSubmit"),{basename:e}=V.useContext(Wn),t=IT();return V.useCallback(async(s,o={})=>{let{action:l,method:c,encType:p,formData:m,body:v}=VT(s,e);if(o.navigate===!1){let w=o.fetcherKey||s1();await n.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||c,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||c,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function o1(n,{relative:e}={}){let{basename:t}=V.useContext(Wn),s=V.useContext(Ir);tt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Pl(n||".",{relative:e})},c=Rn();if(n==null){l.search=c.search;let p=new URLSearchParams(l.search),m=p.getAll("index");if(m.some(w=>w==="")){p.delete("index"),m.filter(E=>E).forEach(E=>p.append("index",E));let w=p.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Gr([t,l.pathname])),_l(l)}function a1(n,{relative:e}={}){let t=V.useContext(p_);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=T_("useViewTransitionState"),o=Pl(n,{relative:e});if(!t.isTransitioning)return!1;let l=Yr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Yr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Rc(o.pathname,c)!=null||Rc(o.pathname,l)!=null}const l1="/assets/fnd-B8xR8oYh.png",u1=({text:n,className:e="",animationDelayStep:t=.1})=>d.jsx("span",{className:`font-extrabold ${e}`,style:{display:"block"},children:n.split("").map((s,o)=>d.jsx("span",{className:"inline-block letter-wave",style:{animationDelay:`${o*t}s`,animationPlayState:"running"},children:s===" "?"":s},o))});function c1(){const[n,e]=V.useState(!0);return V.useEffect(()=>{const t=setTimeout(()=>e(!1),1e3);return()=>clearTimeout(t)},[]),d.jsxs("div",{children:[n&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pointer-events-none",children:vl.createElement("dotlottie-wc",{src:"https://lottie.host/81653027-58d6-47e3-9de5-491db6a527a5/TWNyD5vQVe.lottie",style:{width:"150px",height:"150px",opacity:.3},autoplay:!0,loop:!0})}),d.jsx("div",{className:"relative min-h-screen gradient-bg-warm",children:d.jsxs("div",{className:"relative z-20 pt-[80px]",children:[d.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:d.jsxs("div",{className:"text-center mb-16 px-6",children:[d.jsx("h2",{className:"text-5xl font-serif vibrant-text mb-8 font-bold",children:d.jsx(u1,{text:"Bee Bridge",animationDelayStep:.1})}),d.jsx("p",{className:"text-xl text-honeybee-dark max-w-2xl mx-auto mb-10 font-medium",children:"We're the bridge between the farmer's field, the beekeeper's hive, to the honey in your home."}),d.jsxs("div",{className:"flex justify-center gap-6",children:[d.jsx(Ct,{to:"/shop",className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Shop Now"}),d.jsx(Ct,{to:"/about",className:"glass-effect bright-border text-honeybee-dark hover:bg-honeybee-primary hover:text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Learn More"})]})]})}),d.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-10 text-center",children:"Connecting Farmers and Consumers"}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[d.jsx("img",{src:l1,alt:"Farmers and Consumers",className:"w-full md:w-1/2 h-64 md:h-80 object-cover rounded-lg shadow-lg"}),d.jsx("p",{className:"text-lg text-honeybee-dark-brown max-w-xl",children:"Our platform bridges the gap between farmers and consumers, ensuring fresh, organic produce reaches your table directly from the source or become a seller through our marketplace and sell/rent the bee colonies."})]})]})]})}),d.jsx("div",{className:"text-center mb-8",children:d.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-6 text-center",children:"Service"})}),d.jsx("section",{className:"py-20 bg-white",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-0",children:[d.jsx("video",{src:"/assets/cart-animated-icon-gif-download-10270594.mp4",autoPlay:!0,loop:!0,muted:!0,controls:!1,className:"w-24 h-24 md:w-48 md:h-48"}),d.jsx("div",{className:"mx-4 md:mx-8",children:d.jsx("svg",{className:"w-8 h-8 md:w-12 md:h-12 text-black transform md:rotate-0 rotate-90",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),d.jsx("video",{src:"/assets/payment-complete-animation-gif-download-4281059.mp4",autoPlay:!0,loop:!0,muted:!0,controls:!1,className:"w-24 h-24 md:w-48 md:h-48"}),d.jsx("div",{className:"mx-4 md:mx-8",children:d.jsx("svg",{className:"w-8 h-8 md:w-12 md:h-12 text-black transform md:rotate-0 rotate-90",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),d.jsx("video",{src:"/assets/delivery-animation-gif-download-3434735.mp4",autoPlay:!0,loop:!0,muted:!0,controls:!1,className:"w-24 h-24 md:w-48 md:h-48"}),d.jsx("div",{className:"mx-4 md:mx-8",children:d.jsx("svg",{className:"w-8 h-8 md:w-12 md:h-12 text-black transform md:rotate-0 rotate-90",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),d.jsx("video",{src:"/assets/2.mp4",autoPlay:!0,loop:!0,muted:!0,controls:!1,className:"w-24 h-24 md:w-48 md:h-48"})]})})}),d.jsx("section",{className:"py-20 bg-honeybee-light",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsx("div",{className:"text-center mb-16",children:d.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-6 text-center",children:"Our Story"})}),d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"At Bee Bridge, our journey began with a deep appreciation for the delicate balance of nature and the hardworking bees that produce nature's golden elixir. We source our honey from sustainable apiaries across the globe, partnering with passionate beekeepers who prioritize environmental stewardship and ethical practices. Each harvest is done with care and love, ensuring that our products not only delight the senses but also support biodiversity and local communities. From the sun-drenched meadows of Europe to the wild landscapes of North America, our commitment to purity and sustainability shines through in every jar. Join us in savoring the authentic taste of organic honey, harvested with respect for the earth and its pollinators."}),d.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"As you explore our collection, you'll feel the warmth of our dedication to quality and the joy of connecting with nature's bounty. We're more than just a marketplace; we're a community united by the love of honey and the bees that make it possible."})]})]})})]})}const h1=()=>d.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-24",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-honeybee-primary",children:"About Bee Bridge"}),d.jsx("p",{className:"mt-4 text-base md:text-lg max-w-2xl mx-auto",children:"Our passion for honey is rooted in a deep respect for nature and the incredible work of bees."})]}),d.jsxs("div",{className:"mt-12 md:mt-20 grid md:grid-cols-2 gap-8 md:gap-16 items-center",children:[d.jsx("div",{children:d.jsx("img",{src:"https://static.vecteezy.com/system/resources/thumbnails/004/454/157/small_2x/honey-can-realistic-composition-vector.jpg",alt:"Beekeeper",className:"rounded-lg shadow-lg w-full"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-bold mb-4",children:"Our Story"}),d.jsx("p",{className:"mb-4 text-sm md:text-base",children:"Bee Bridge was founded with a simple mission: to bring the purest, most delicious honey from our hives to your home. We believe in sustainable beekeeping practices that prioritize the health of our bees and the environment."}),d.jsx("p",{className:"text-sm md:text-base",children:"Our farms are dedicated to sustainable practices, and through our website, we connect consumers directly with the source, fostering transparency and trust in every jar of honey."})]})]}),d.jsxs("div",{className:"mt-12 md:mt-20 text-center",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-bold mb-8",children:"Our Values"}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-6 md:gap-12",children:[d.jsxs("div",{className:"p-4 md:p-6 border border-honeybee-light rounded-lg",children:[d.jsx("h3",{className:"text-lg md:text-xl font-serif font-bold mb-2",children:"Sustainability"}),d.jsx("p",{className:"text-sm md:text-base",children:"We are committed to protecting our planet and its precious pollinators."})]}),d.jsxs("div",{className:"p-4 md:p-6 border border-honeybee-light rounded-lg",children:[d.jsx("h3",{className:"text-lg md:text-xl font-serif font-bold mb-2",children:"Quality"}),d.jsx("p",{className:"text-sm md:text-base",children:"We deliver only the finest, 100% pure and raw honey."})]}),d.jsxs("div",{className:"p-4 md:p-6 border border-honeybee-light rounded-lg",children:[d.jsx("h3",{className:"text-lg md:text-xl font-serif font-bold mb-2",children:"Community"}),d.jsx("p",{className:"text-sm md:text-base",children:"We support local beekeepers and educate our community about the importance of bees."})]})]})]})]})}),d1={primary:"gradient-bg-primary hover:shadow-2xl text-black hover:text-black border-0 modern-shadow-hover transform hover:scale-105",secondary:"bg-honeybee-secondary hover:bg-honeybee-accent text-white modern-shadow-hover",accent:"gradient-bg-accent hover:shadow-xl text-white modern-shadow-hover transform hover:scale-105",ghost:"hover:bg-gray-100/10 text-honeybee-primary hover:text-honeybee-accent",light:"glass-effect text-honeybee-dark hover:bg-honeybee-primary hover:text-black modern-shadow-hover"},f1={default:"py-3 px-6",icon:"h-10 w-10"},Ot=({children:n,variant:e="primary",size:t="default",className:s="",onClick:o,...l})=>{const[c,p]=V.useState(!1),[m,v]=V.useState({}),w=E=>{const P=E.currentTarget.getBoundingClientRect(),z=Math.max(P.width,P.height),F=E.clientX-P.left-z/2,j=E.clientY-P.top-z/2;v({width:z,height:z,left:F,top:j}),p(!0),setTimeout(()=>p(!1),600),o&&o(E)};return d.jsxs("button",{className:`relative overflow-hidden rounded-lg shadow-lg transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1) focus:outline-none focus:ring-4 focus:ring-honeybee-accent ${d1[e]} ${f1[t]} ${s}`,onClick:w,...l,children:[n,c&&d.jsx("span",{className:"button-ripple absolute",style:m})]})},p1=()=>d.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-24",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-honeybee-primary",children:"Contact Us"}),d.jsx("p",{className:"mt-4 text-base md:text-lg max-w-2xl mx-auto",children:"We'd love to hear from you! Whether you have a question about our products, our practices, or anything else, our team is ready to answer all your questions."})]}),d.jsxs("div",{className:"mt-12 md:mt-20 grid md:grid-cols-2 gap-8 md:gap-16",children:[d.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-lg",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold mb-6",children:"Send us a message"}),d.jsxs("form",{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Name"}),d.jsx("input",{type:"text",id:"name",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-md focus:ring-2 focus:ring-honeybee-primary focus:border-honeybee-primary bg-white text-base"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),d.jsx("input",{type:"email",id:"email",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-md focus:ring-2 focus:ring-honeybee-primary focus:border-honeybee-primary bg-white text-base"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-1",children:"Message"}),d.jsx("textarea",{id:"message",rows:4,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-md focus:ring-2 focus:ring-honeybee-primary focus:border-honeybee-primary bg-white text-base"})]}),d.jsx(Ot,{type:"submit",variant:"primary",className:"w-full py-3 text-base",children:"Send Message"})]})]}),d.jsxs("div",{className:"space-y-6 md:space-y-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg md:text-xl font-serif font-bold mb-2",children:"Email Us"}),d.jsx("p",{className:"text-sm md:text-base",children:"beebridgeshop@gmail.com"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg md:text-xl font-serif font-bold mb-2",children:"Call Us"}),d.jsx("p",{className:"text-sm md:text-base",children:"(123) 456-7890"})]})]})]})]})}),I_=V.createContext(void 0),m1=({children:n})=>{const[e,t]=V.useState([]),s=m=>{const v=m.name.includes("Subscription Plan"),w=e.some(E=>E.name.includes("Subscription Plan"));if(v)t([{...m,quantity:1}]);else{if(w)return;t(E=>E.find(P=>P.id===m.id)?E.map(P=>P.id===m.id?{...P,quantity:P.quantity+1}:P):[...E,{...m,quantity:1}])}},o=m=>{t(v=>v.filter(w=>w.id!==m))},l=(m,v)=>{if(v<=0){o(m);return}t(w=>w.map(E=>E.id===m?{...E,quantity:v}:E))},c=()=>{t([])},p=()=>e.reduce((m,v)=>{const w=parseFloat(v.price.replace(/[$]/g,""));return m+w*v.quantity},0);return d.jsx(I_.Provider,{value:{cartItems:e,addToCart:s,removeFromCart:o,updateQuantity:l,clearCart:c,getTotal:p},children:n})},jl=()=>{const n=V.useContext(I_);if(!n)throw new Error("useCart must be used within a CartProvider");return n},g1=[{id:1,name:"Wildflower Honey",price:"399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Pure organic honey from wildflower meadows"},{id:2,name:"Acacia Honey",price:"499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Light and delicate honey with subtle floral notes"},{id:3,name:"Manuka Honey",price:"599",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Premium therapeutic honey from New Zealand"},{id:4,name:"Honeycomb",price:"799",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Raw honeycomb straight from our sustainable apiaries"},{id:5,name:"Clover Honey",price:"399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"A classic, mild honey perfect for everyday use."},{id:6,name:"Lavender Honey",price:"499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Infused with the calming aroma of lavender blossoms."}],y1=()=>{const{addToCart:n}=jl(),e=t=>{n(t)};return d.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"Our Honey Selection"}),d.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"Explore our collection of premium, all-natural honey. Each jar is a testament to the hard work of our bees and the richness of the land they forage."})]}),d.jsx("div",{className:"mt-16 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:g1.map(t=>d.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition duration-300",children:[d.jsx("div",{className:"h-56 overflow-hidden",children:d.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transform hover:scale-105 transition duration-500"})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-medium text-honeybee-secondary",children:t.name}),d.jsx("p",{className:"text-honeybee-dark-brown mt-2 text-sm",children:t.description}),d.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[d.jsx("span",{className:"text-black font-bold",children:t.price}),d.jsx("button",{onClick:()=>e(t),className:"bg-honeybee-primary hover:bg-honeybee-accent text-white rounded-full p-2 transition duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})]},t.id))})]})})},S_="/assets/congratulation-DMocTdUx.gif",v1=()=>{const{cartItems:n,getTotal:e,removeFromCart:t}=jl(),[s,o]=V.useState(1),[l,c]=V.useState(""),[p,m]=V.useState(0),[v,w]=V.useState(""),[E,I]=V.useState(!1),[P,z]=V.useState({email:"",signUp:!1}),[F,j]=V.useState({firstName:"",lastName:"",company:"",address:"",apartment:"",city:"",country:"",state:"",zip:"",phone:""}),H=n.every(Ce=>Ce.name.includes("Subscription Plan")),G=e(),Q=G-G*p,ie={HONEY10:.1,BEE20:.2,OFFER:.1},ve=()=>{const Ce=l.toUpperCase();ie[Ce]?(m(ie[Ce]),w(""),I(!0),setTimeout(()=>I(!1),3e3)):(m(0),w("Invalid coupon code"))},te=()=>{},A=()=>{H?s<3&&o(s+1):s<4&&o(s+1)},S=()=>{s>1&&o(s-1)},b=Ce=>{const{name:He,value:se,type:pe,checked:le}=Ce.target;z(M=>({...M,[He]:pe==="checkbox"?le:se}))},k=Ce=>{const{name:He,value:se}=Ce.target;j(pe=>({...pe,[He]:se}))},R=()=>null,L=()=>d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Contact information"}),d.jsx("input",{type:"email",name:"email",value:P.email,onChange:b,placeholder:"Email",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsxs("label",{className:"inline-flex items-center text-sm mb-4",children:[d.jsx("input",{type:"checkbox",name:"signUp",checked:P.signUp,onChange:b,className:"form-checkbox text-purple-700"}),d.jsx("span",{className:"ml-2",children:"Sign up for exclusive offers and news via text messages & email."})]}),d.jsx("div",{className:"flex justify-between",children:d.jsx("button",{onClick:A,className:"bg-black text-white py-2 px-4 rounded hover:bg-gray-800 transition",children:H?"Continue to payment":"Continue to shipping"})})]}),N=()=>d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Shipping address"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[d.jsx("input",{type:"text",name:"firstName",value:F.firstName,onChange:k,placeholder:"First name",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsx("input",{type:"text",name:"lastName",value:F.lastName,onChange:k,placeholder:"Last name",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"})]}),d.jsx("input",{type:"text",name:"company",value:F.company,onChange:k,placeholder:"Company (optional)",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsx("input",{type:"text",name:"address",value:F.address,onChange:k,placeholder:"Address",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsx("input",{type:"text",name:"apartment",value:F.apartment,onChange:k,placeholder:"Apartment, suite, etc. (optional)",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsx("input",{type:"text",name:"city",value:F.city,onChange:k,placeholder:"City",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-2",children:[d.jsxs("select",{name:"country",value:F.country,onChange:k,className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700",children:[d.jsx("option",{value:"",children:"Country/region"}),d.jsx("option",{value:"United States",children:"United States"}),d.jsx("option",{value:"Canada",children:"Canada"})]}),d.jsxs("select",{name:"state",value:F.state,onChange:k,className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700",children:[d.jsx("option",{value:"",children:"State"}),d.jsx("option",{value:"State",children:"State"})]}),d.jsx("input",{type:"text",name:"zip",value:F.zip,onChange:k,placeholder:"ZIP code",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"})]}),d.jsx("input",{type:"text",name:"phone",value:F.phone,onChange:k,placeholder:"Phone number for shipping updates and offers (optional)",className:"w-full border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("button",{onClick:S,className:"underline text-purple-700",children:"Return to cart"}),d.jsx("button",{onClick:A,className:"bg-black text-white py-2 px-4 rounded hover:bg-gray-800 transition",children:"Choose shipping method"})]})]}),ke=()=>d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Payment"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"coupon",className:"block font-semibold mb-1",children:"Gift card or discount code"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{id:"coupon",type:"text",value:l,onChange:Ce=>c(Ce.target.value),placeholder:"Enter coupon code",className:"flex-grow border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),d.jsx("button",{onClick:ve,className:"bg-gray-300 px-4 rounded hover:bg-gray-400 transition",children:"Apply"})]}),v&&d.jsx("p",{className:"text-red-600 mt-1",children:v})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"flex justify-between font-semibold",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["",G.toFixed(2)]})]}),d.jsxs("p",{className:"flex justify-between font-semibold",children:[d.jsx("span",{children:"Shipping"}),d.jsx("span",{children:"Calculated at next step"})]}),d.jsxs("p",{className:"flex justify-between font-bold text-lg",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["",Q.toFixed(2)]})]})]}),d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("button",{className:"bg-white border border-gray-300 rounded flex items-center justify-center py-3 px-6 hover:bg-gray-100 transition",children:d.jsx("img",{src:"https://5.imimg.com/data5/SELLER/Default/2023/9/348603242/KE/OR/XP/29083784/razorpay-software-250x250.png",alt:"Razorpay",className:"h-16 w-auto"})})}),d.jsx(Ot,{onClick:te,variant:"primary",className:"w-full",children:"Place Order"}),d.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[d.jsx("p",{children:"Refund policy"}),d.jsx("p",{children:"Shipping policy"}),d.jsx("p",{children:"I consent to receive recurring automated marketing by text message through an automatic telephone dialing system. Consent is not a condition to purchase. STOP to cancel. HELP for help. Message and Data rates may apply. View Privacy Policy & TOS"}),d.jsx("p",{children:"Terms of service"})]})]}),Ge=()=>d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Your cart"}),n.length===0?d.jsx("p",{children:"Your cart is empty"}):d.jsxs(d.Fragment,{children:[n.map(Ce=>d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[!Ce.name.includes("Subscription Plan")&&d.jsx("img",{src:Ce.image,alt:Ce.name,className:"w-8 h-8 object-cover rounded"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-semibold",children:Ce.name}),d.jsxs("p",{className:"text-xs text-gray-600",children:["Quantity: ",Ce.quantity]})]}),d.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[d.jsxs("p",{className:"font-semibold",children:["",(parseFloat(Ce.price.replace(/[$]/g,""))*Ce.quantity).toFixed(2)]}),d.jsx("button",{onClick:()=>t(Ce.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete item",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},Ce.id)),d.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-2",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["",G.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-2",children:[d.jsx("span",{children:"Shipping"}),d.jsx("span",{children:"Calculated at next step"})]}),d.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-gray-300 pt-2",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["",Q.toFixed(2)]})]})]})]});return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"max-w-6xl mx-auto p-6 grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"md:col-span-2 bg-white rounded-lg shadow-lg p-6",children:[d.jsx("nav",{className:"text-sm mb-6",children:d.jsxs("ol",{className:"list-reset flex text-gray-600 space-x-2",children:[d.jsxs("li",{children:["Cart ",">"]}),d.jsxs("li",{className:s===1?"font-bold":"",children:["Information ",">"]}),!H&&d.jsxs("li",{className:s===2?"font-bold":"",children:["Shipping ",">"]}),d.jsx("li",{className:s===(H?2:3)?"font-bold":"",children:"Payment"})]})}),s===1&&d.jsxs(d.Fragment,{children:[R(),d.jsx("hr",{className:"my-4"}),L()]}),s===2&&!H&&N(),s===2&&H&&ke(),s===3&&!H&&ke()]}),d.jsx("div",{className:"md:col-span-1",children:Ge()})]}),E&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:d.jsx("img",{src:S_,alt:"Congratulations",className:"w-96 h-96 object-cover rounded-lg shadow-2xl"})})]})},_1=()=>{};var xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},w1=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],p=n[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},C_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,p=c?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,w=l>>2,E=(l&3)<<4|p>>4;let I=(p&15)<<2|v>>6,P=v&63;m||(P=64,c||(I=64)),s.push(t[w],t[E],t[I],t[P])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(b_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):w1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||p==null||v==null||E==null)throw new x1;const I=l<<2|p>>4;if(s.push(I),v!==64){const P=p<<4&240|v>>2;if(s.push(P),E!==64){const z=v<<6&192|E;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class x1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E1=function(n){const e=b_(n);return C_.encodeByteArray(e,!0)},Ac=function(n){return E1(n).replace(/\./g,"")},N_=function(n){try{return C_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=()=>T1().__FIREBASE_DEFAULTS__,S1=()=>{if(typeof process>"u"||typeof xy>"u")return;const n=xy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},b1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&N_(n[1]);return e&&JSON.parse(e)},Xc=()=>{try{return _1()||I1()||S1()||b1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},k_=n=>Xc()?.emulatorHosts?.[n],R_=n=>{const e=k_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},A_=()=>Xc()?.config,P_=n=>Xc()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kf(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ac(JSON.stringify(t)),Ac(JSON.stringify(c)),""].join(".")}const hl={};function N1(){const n={prod:[],emulator:[]};for(const e of Object.keys(hl))hl[e]?n.emulator.push(e):n.prod.push(e);return n}function k1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ey=!1;function Qf(n,e){if(typeof window>"u"||typeof document>"u"||!Qs(window.location.host)||hl[n]===e||hl[n]||Ey)return;hl[n]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",l=N1().prod.length>0;function c(){const I=document.getElementById(s);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function m(I,P){I.setAttribute("width","24"),I.setAttribute("id",P),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Ey=!0,c()},I}function w(I,P){I.setAttribute("id",P),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=k1(s),P=t("text"),z=document.getElementById(P)||document.createElement("span"),F=t("learnmore"),j=document.getElementById(F)||document.createElement("a"),H=t("preprendIcon"),G=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const Q=I.element;p(Q),w(j,F);const ie=v();m(G,H),Q.append(G,z,j,ie),document.body.appendChild(Q)}l?(z.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function A1(){const n=Xc()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function D1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O1(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function L1(){return!A1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V1(){try{return typeof indexedDB=="object"}catch{return!1}}function M1(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="FirebaseError";class br extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=F1,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?U1(l,s):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new br(o,p,s)}}function U1(n,e){return n.replace(B1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const B1=/\{\$([^}]+)}/g;function z1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Oi(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],c=e[o];if(Ty(l)&&Ty(c)){if(!Oi(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Ty(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function il(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function ol(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function $1(n,e){const t=new H1(n,e);return t.subscribe.bind(t)}class H1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");q1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(n){return n&&n._delegate?n._delegate:n}class zs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new C1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K1(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:G1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G1(n){return n===ki?void 0:n}function K1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new W1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pe||(Pe={}));const Y1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},X1=Pe.INFO,J1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Z1=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=J1[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yf{constructor(e){this.name=e,this._logLevel=X1,this._logHandler=Z1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const eI=(n,e)=>e.some(t=>n instanceof t);let Iy,Sy;function tI(){return Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nI(){return Sy||(Sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,df=new WeakMap,O_=new WeakMap,Qd=new WeakMap,Xf=new WeakMap;function rI(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ms(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&D_.set(t,n)}).catch(()=>{}),Xf.set(e,n),e}function sI(n){if(df.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});df.set(n,e)}let ff={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return df.get(n);if(e==="objectStoreNames")return n.objectStoreNames||O_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function iI(n){ff=n(ff)}function oI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Yd(this),e,...t);return O_.set(s,e.sort?e.sort():[e]),Ms(s)}:nI().includes(n)?function(...e){return n.apply(Yd(this),e),Ms(D_.get(this))}:function(...e){return Ms(n.apply(Yd(this),e))}}function aI(n){return typeof n=="function"?oI(n):(n instanceof IDBTransaction&&sI(n),eI(n,tI())?new Proxy(n,ff):n)}function Ms(n){if(n instanceof IDBRequest)return rI(n);if(Qd.has(n))return Qd.get(n);const e=aI(n);return e!==n&&(Qd.set(n,e),Xf.set(e,n)),e}const Yd=n=>Xf.get(n);function lI(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),p=Ms(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Ms(c.result),m.oldVersion,m.newVersion,Ms(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const uI=["get","getKey","getAll","getAllKeys","count"],cI=["put","add","delete","clear"],Xd=new Map;function by(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=cI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||uI.includes(t)))return;const l=async function(c,...p){const m=this.transaction(c,o?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[t](...p),o&&m.done]))[0]};return Xd.set(e,l),l}iI(n=>({...n,get:(e,t,s)=>by(e,t)||n.get(e,t,s),has:(e,t)=>!!by(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function dI(n){return n.getComponent()?.type==="VERSION"}const pf="@firebase/app",Cy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Yf("@firebase/app"),fI="@firebase/app-compat",pI="@firebase/analytics-compat",mI="@firebase/analytics",gI="@firebase/app-check-compat",yI="@firebase/app-check",vI="@firebase/auth",_I="@firebase/auth-compat",wI="@firebase/database",xI="@firebase/data-connect",EI="@firebase/database-compat",TI="@firebase/functions",II="@firebase/functions-compat",SI="@firebase/installations",bI="@firebase/installations-compat",CI="@firebase/messaging",NI="@firebase/messaging-compat",kI="@firebase/performance",RI="@firebase/performance-compat",AI="@firebase/remote-config",PI="@firebase/remote-config-compat",jI="@firebase/storage",DI="@firebase/storage-compat",OI="@firebase/firestore",LI="@firebase/ai",VI="@firebase/firestore-compat",MI="firebase",FI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="[DEFAULT]",UI={[pf]:"fire-core",[fI]:"fire-core-compat",[mI]:"fire-analytics",[pI]:"fire-analytics-compat",[yI]:"fire-app-check",[gI]:"fire-app-check-compat",[vI]:"fire-auth",[_I]:"fire-auth-compat",[wI]:"fire-rtdb",[xI]:"fire-data-connect",[EI]:"fire-rtdb-compat",[TI]:"fire-fn",[II]:"fire-fn-compat",[SI]:"fire-iid",[bI]:"fire-iid-compat",[CI]:"fire-fcm",[NI]:"fire-fcm-compat",[kI]:"fire-perf",[RI]:"fire-perf-compat",[AI]:"fire-rc",[PI]:"fire-rc-compat",[jI]:"fire-gcs",[DI]:"fire-gcs-compat",[OI]:"fire-fst",[VI]:"fire-fst-compat",[LI]:"fire-vertex","fire-js":"fire-js",[MI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,BI=new Map,gf=new Map;function Ny(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Li(n){const e=n.name;if(gf.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;gf.set(e,n);for(const t of Pc.values())Ny(t,n);for(const t of BI.values())Ny(t,n);return!0}function Jc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Dl("app","Firebase",zI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=FI;function L_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:mf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Fs.create("bad-app-name",{appName:String(o)});if(t||(t=A_()),!t)throw Fs.create("no-options");const l=Pc.get(o);if(l){if(Oi(t,l.options)&&Oi(s,l.config))return l;throw Fs.create("duplicate-app",{appName:o})}const c=new Q1(o);for(const m of gf.values())c.addComponent(m);const p=new $I(t,s,c);return Pc.set(o,p),p}function Jf(n=mf){const e=Pc.get(n);if(!e&&n===mf&&A_())return L_();if(!e)throw Fs.create("no-app",{appName:n});return e}function gr(n,e,t){let s=UI[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(c.join(" "));return}Li(new zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="firebase-heartbeat-database",qI=1,wl="firebase-heartbeat-store";let Jd=null;function V_(){return Jd||(Jd=lI(HI,qI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fs.create("idb-open",{originalErrorMessage:n.message})})),Jd}async function WI(n){try{const t=(await V_()).transaction(wl),s=await t.objectStore(wl).get(M_(n));return await t.done,s}catch(e){if(e instanceof br)Xr.warn(e.message);else{const t=Fs.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(t.message)}}}async function ky(n,e){try{const s=(await V_()).transaction(wl,"readwrite");await s.objectStore(wl).put(e,M_(n)),await s.done}catch(t){if(t instanceof br)Xr.warn(t.message);else{const s=Fs.create("idb-set",{originalErrorMessage:t?.message});Xr.warn(s.message)}}}function M_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1024,KI=30;class QI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ry();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>KI){const o=JI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ry(),{heartbeatsToSend:t,unsentEntries:s}=YI(this._heartbeatsCache.heartbeats),o=Ac(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xr.warn(e),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function YI(n,e=GI){const t=[];let s=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Ay(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ay(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class XI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V1()?M1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ay(n){return Ac(JSON.stringify({version:2,heartbeats:n})).length}function JI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n){Li(new zs("platform-logger",e=>new hI(e),"PRIVATE")),Li(new zs("heartbeat",e=>new QI(e),"PRIVATE")),gr(pf,Cy,n),gr(pf,Cy,"esm2020"),gr("fire-js","")}ZI("");function F_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eS=F_,U_=new Dl("auth","Firebase",F_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Yf("@firebase/auth");function tS(n,...e){jc.logLevel<=Pe.WARN&&jc.warn(`Auth (${$i}): ${n}`,...e)}function wc(n,...e){jc.logLevel<=Pe.ERROR&&jc.error(`Auth (${$i}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n,...e){throw ep(n,...e)}function zn(n,...e){return ep(n,...e)}function Zf(n,e,t){const s={...eS(),[e]:t};return new Dl("auth","Firebase",s).create(e,{appName:n.name})}function Kr(n){return Zf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nS(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Nn(n,"argument-error"),Zf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ep(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return U_.create(n,...e)}function _e(n,e,...t){if(!n)throw ep(e,...t)}function qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wc(e),new Error(e)}function Jr(n,e){n||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){return typeof self<"u"&&self.location?.href||""}function rS(){return Py()==="http:"||Py()==="https:"}function Py(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rS()||j1()||"connection"in navigator)?navigator.onLine:!0}function iS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jr(t>e,"Short delay should be less than long delay!"),this.isMobile=R1()||D1()}get(){return sS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n,e){Jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lS=new Ll(3e4,6e4);function Ys(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Xs(n,e,t,s,o={}){return z_(n,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const p=Ol({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:m,...l};return P1()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Qs(n.emulatorConfig.host)&&(v.credentials="include"),B_.fetch()(await $_(n,n.config.apiHost,t,p),v)})}async function z_(n,e,t){n._canInitEmulator=!1;const s={...oS,...e};try{const o=new cS(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw uc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const p=l.ok?c.errorMessage:c.error.message,[m,v]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw uc(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw uc(n,"user-disabled",c);const w=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Zf(n,w,v);Nn(n,w)}}catch(o){if(o instanceof br)throw o;Nn(n,"network-request-failed",{message:String(o)})}}async function Vl(n,e,t,s,o={}){const l=await Xs(n,e,t,s,o);return"mfaPendingCredential"in l&&Nn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function $_(n,e,t,s){const o=`${e}${t}?${s}`,l=n,c=l.config.emulator?tp(n.config,o):`${n.config.apiScheme}://${o}`;return aS.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function uS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(zn(this.auth,"network-request-failed")),lS.get())})}}function uc(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=zn(n,e,s);return o.customData._tokenResponse=t,o}function jy(n){return n!==void 0&&n.enterprise!==void 0}class hS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dS(n,e){return Xs(n,"GET","/v2/recaptchaConfig",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(n,e){return Xs(n,"POST","/v1/accounts:delete",e)}async function Dc(n,e){return Xs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pS(n,e=!1){const t=st(n),s=await t.getIdToken(e),o=np(s);_e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:dl(Zd(o.auth_time)),issuedAtTime:dl(Zd(o.iat)),expirationTime:dl(Zd(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Zd(n){return Number(n)*1e3}function np(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=N_(t);return o?JSON.parse(o):(wc("Failed to decode base64 JWT payload"),null)}catch(o){return wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Dy(n){const e=np(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof br&&mS(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function mS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n){const e=n.auth,t=await n.getIdToken(),s=await xl(n,Dc(e,{idToken:t}));_e(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?H_(o.providerUserInfo):[],c=vS(n.providerData,l),p=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!c?.length,v=p?m:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vf(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function yS(n){const e=st(n);await El(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vS(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function H_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(n,e){const t=await z_(n,{},async()=>{const s=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await $_(n,o,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return n.emulatorConfig&&Qs(n.emulatorConfig.host)&&(m.credentials="include"),B_.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wS(n,e){return Xs(n,"POST","/v2/accounts:revokeToken",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=Dy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await _S(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new Uo;return s&&(_e(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(_e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Bn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new gS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await xl(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pS(this,e)}reload(){return yS(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await El(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await xl(this,fS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,p=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:E,emailVerified:I,isAnonymous:P,providerData:z,stsTokenManager:F}=t;_e(E&&F,e,"internal-error");const j=Uo.fromJSON(this.name,F);_e(typeof E=="string",e,"internal-error"),As(s,e.name),As(o,e.name),_e(typeof I=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),As(l,e.name),As(c,e.name),As(p,e.name),As(m,e.name),As(v,e.name),As(w,e.name);const H=new Bn({uid:E,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:P,photoURL:c,phoneNumber:l,tenantId:p,stsTokenManager:j,createdAt:v,lastLoginAt:w});return z&&Array.isArray(z)&&(H.providerData=z.map(G=>({...G}))),m&&(H._redirectEventId=m),H}static async _fromIdTokenResponse(e,t,s=!1){const o=new Uo;o.updateFromServerResponse(t);const l=new Bn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await El(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];_e(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?H_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,p=new Uo;p.updateFromIdToken(s);const m=new Bn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new vf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,v),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map;function Wr(n){Jr(n instanceof Function,"Expected a class definition");let e=Oy.get(n);return e?(Jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Oy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}q_.type="NONE";const Ly=q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n,e,t){return`firebase:${n}:${e}:${t}`}class Bo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=xc(this.userKey,o.apiKey,l),this.fullPersistenceKey=xc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Dc(this.auth,{idToken:e}).catch(()=>{});return t?Bn._fromGetAccountInfoResponse(this.auth,t,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Bo(Wr(Ly),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Wr(Ly);const c=xc(s,e.config.apiKey,e.name);let p=null;for(const v of t)try{const w=await v._get(c);if(w){let E;if(typeof w=="string"){const I=await Dc(e,{idToken:w}).catch(()=>{});if(!I)break;E=await Bn._fromGetAccountInfoResponse(e,I,w)}else E=Bn._fromJSON(e,w);v!==l&&(p=E),l=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Bo(l,e,s):(l=m[0],p&&await l._set(c,p.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(c)}catch{}})),new Bo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X_(e))return"Blackberry";if(J_(e))return"Webos";if(G_(e))return"Safari";if((e.includes("chrome/")||K_(e))&&!e.includes("edge/"))return"Chrome";if(Y_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function W_(n=Wt()){return/firefox\//i.test(n)}function G_(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K_(n=Wt()){return/crios\//i.test(n)}function Q_(n=Wt()){return/iemobile/i.test(n)}function Y_(n=Wt()){return/android/i.test(n)}function X_(n=Wt()){return/blackberry/i.test(n)}function J_(n=Wt()){return/webos/i.test(n)}function rp(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xS(n=Wt()){return rp(n)&&!!window.navigator?.standalone}function ES(){return O1()&&document.documentMode===10}function Z_(n=Wt()){return rp(n)||Y_(n)||J_(n)||X_(n)||/windows phone/i.test(n)||Q_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n,e=[]){let t;switch(n){case"Browser":t=Vy(Wt());break;case"Worker":t=`${Vy(Wt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$i}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,p)=>{try{const m=e(l);c(m)}catch(m){p(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(n,e={}){return Xs(n,"GET","/v2/passwordPolicy",Ys(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=6;class bS{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??SS,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new My(this),this.idTokenSubscription=new My(this),this.beforeStateQueue=new TS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Dc(this,{idToken:e}),s=await Bn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(sn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===c)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await El(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(Kr(this));const t=e?st(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IS(this),t=new bS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await wS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wr(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(p,this,"internal-error"),p.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Js(n){return st(n)}let My=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=$1(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NS(n){Zc=n}function t0(n){return Zc.loadJS(n)}function kS(){return Zc.recaptchaEnterpriseScript}function RS(){return Zc.gapiScript}function AS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class PS{constructor(){this.enterprise=new jS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class jS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const DS="recaptcha-enterprise",n0="NO_RECAPTCHA";class OS{constructor(e){this.type=DS,this.auth=Js(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,p)=>{dS(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new hS(m);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,c(v.siteKey)}}).catch(m=>{p(m)})})}function o(l,c,p){const m=window.grecaptcha;jy(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(v=>{c(v)}).catch(()=>{c(n0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PS().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(p=>{if(!t&&jy(window.grecaptcha))o(p,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=kS();m.length!==0&&(m+=p),t0(m).then(()=>{o(p,l,c)}).catch(v=>{c(v)})}}).catch(p=>{c(p)})})}}async function Fy(n,e,t,s=!1,o=!1){const l=new OS(n);let c;if(o)c=n0;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:c}):Object.assign(p,{captchaResponse:c}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function _f(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Fy(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Fy(n,e,t,t==="getOobCode");return s(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n,e){const t=Jc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Oi(l,e??{}))return o;Nn(o,"already-initialized")}return t.initialize({options:e})}function VS(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Wr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function MS(n,e,t){const s=Js(n);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=r0(e),{host:c,port:p}=FS(e),m=p===null?"":`:${p}`,v={url:`${l}//${c}${m}/`},w=Object.freeze({host:c,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Oi(v,s.config.emulator)&&Oi(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Qs(c)?(Kf(`${l}//${c}${m}`),Qf("Auth",!0)):US()}function r0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FS(n){const e=r0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Uy(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Uy(c)}}}function Uy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function US(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,t){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function BS(n,e){return Xs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(n,e){return Vl(n,"POST","/v1/accounts:signInWithPassword",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(n,e){return Vl(n,"POST","/v1/accounts:signInWithEmailLink",Ys(n,e))}async function HS(n,e){return Vl(n,"POST","/v1/accounts:signInWithEmailLink",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends sp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Tl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Tl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _f(e,t,"signInWithPassword",zS);case"emailLink":return $S(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _f(e,s,"signUpPassword",BS);case"emailLink":return HS(e,{idToken:t,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(n,e){return Vl(n,"POST","/v1/accounts:signInWithIdp",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="http://localhost";class Vi extends sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const c=new Vi(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return zo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,zo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zo(e,t)}buildRequest(){const e={requestUri:qS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ol(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GS(n){const e=il(ol(n)).link,t=e?il(ol(e)).deep_link_id:null,s=il(ol(n)).deep_link_id;return(s?il(ol(s)).link:null)||s||t||e||n}class ip{constructor(e){const t=il(ol(e)),s=t.apiKey??null,o=t.oobCode??null,l=WS(t.mode??null);_e(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=GS(e);try{return new ip(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,t){return Tl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ip.parseLink(t);return _e(s,"argument-error"),Tl._fromEmailAndCode(e,s.code,s.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Ml{constructor(){super("facebook.com")}static credential(e){return Vi._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vi._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return pr.credential(t,s)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Ml{constructor(){super("github.com")}static credential(e){return Vi._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Ml{constructor(){super("twitter.com")}static credential(e,t){return Vi._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Os.credential(t,s)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(n,e){return Vl(n,"POST","/v1/accounts:signUp",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Bn._fromIdTokenResponse(e,s,o),c=By(s);return new Mi({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=By(s);return new Mi({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function By(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends br{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Oc(e,t,s,o)}}function s0(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(n,l,e,s):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function i0(n,e,t=!1){const s=await xl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Mi._forOperation(n,"link",s)}async function YS(n,e,t){await El(e);const s=QS(e.providerData);_e(s.has(t)===n,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(n,e,t=!1){const{auth:s}=n;if(sn(s.app))return Promise.reject(Kr(s));const o="reauthenticate";try{const l=await xl(n,s0(s,o,e,n),t);_e(l.idToken,s,"internal-error");const c=np(l.idToken);_e(c,s,"internal-error");const{sub:p}=c;return _e(n.uid===p,s,"user-mismatch"),Mi._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Nn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(n,e,t=!1){if(sn(n.app))return Promise.reject(Kr(n));const s="signIn",o=await s0(n,s,e),l=await Mi._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function JS(n,e){return o0(Js(n),e)}async function ZS(n,e){const t=st(n);return await YS(!1,t,e.providerId),i0(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(n){const e=Js(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eb(n,e,t){if(sn(n.app))return Promise.reject(Kr(n));const s=Js(n),c=await _f(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KS).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&a0(n),m}),p=await Mi._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(p.user),p}function l0(n,e,t){return sn(n.app)?Promise.reject(Kr(n)):JS(st(n),ea.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&a0(n),s})}function tb(n,e,t,s){return st(n).onIdTokenChanged(e,t,s)}function nb(n,e,t){return st(n).beforeAuthStateChanged(e,t)}function rb(n,e,t,s){return st(n).onAuthStateChanged(e,t,s)}function sb(n){return st(n).signOut()}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=1e3,ob=10;class c0 extends u0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,p,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);ES()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ob):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},ib)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}c0.type="LOCAL";const ab=c0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends u0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}h0.type="SESSION";const d0=h0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new eh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(c).map(async v=>v(t.origin,l)),m=await lb(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((p,m)=>{const v=ap("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(I.data.response);break;default:clearTimeout(w),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function cb(n){yr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function hb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function db(){return navigator?.serviceWorker?.controller||null}function fb(){return f0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="firebaseLocalStorageDb",pb=1,Vc="firebaseLocalStorage",m0="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function th(n,e){return n.transaction([Vc],e?"readwrite":"readonly").objectStore(Vc)}function mb(){const n=indexedDB.deleteDatabase(p0);return new Fl(n).toPromise()}function wf(){const n=indexedDB.open(p0,pb);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Vc,{keyPath:m0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Vc)?e(s):(s.close(),await mb(),e(await wf()))})})}async function zy(n,e,t){const s=th(n,!0).put({[m0]:e,value:t});return new Fl(s).toPromise()}async function gb(n,e){const t=th(n,!1).get(e),s=await new Fl(t).toPromise();return s===void 0?null:s.value}function $y(n,e){const t=th(n,!0).delete(e);return new Fl(t).toPromise()}const yb=800,vb=3;class g0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>vb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(fb()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hb(),!this.activeServiceWorker)return;this.sender=new ub(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||db()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wf();return await zy(e,Lc,"1"),await $y(e,Lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>zy(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>gb(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$y(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=th(o,!1).getAll();return new Fl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g0.type="LOCAL";const _b=g0;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n,e){return e?Wr(e):(_e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wb(n){return o0(n.auth,new lp(n),n.bypassAuthState)}function xb(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),XS(t,new lp(n),n.bypassAuthState)}async function Eb(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),i0(t,new lp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:p}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wb;case"linkViaPopup":case"linkViaRedirect":return Eb;case"reauthViaPopup":case"reauthViaRedirect":return xb;default:Nn(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new Ll(2e3,1e4);async function Hy(n,e,t){if(sn(n.app))return Promise.reject(zn(n,"operation-not-supported-in-this-environment"));const s=Js(n);nS(n,e,op);const o=y0(s,t);return new Ai(s,"signInViaPopup",e,o).executeNotNull()}class Ai extends v0{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Ai.currentPopupAction&&Ai.currentPopupAction.cancel(),Ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tb.get())};e()}}Ai.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="pendingRedirect",Ec=new Map;class Sb extends v0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ec.get(this.auth._key());if(!e){try{const s=await bb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ec.set(this.auth._key(),e)}return this.bypassAuthState||Ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bb(n,e){const t=kb(e),s=Nb(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function Cb(n,e){Ec.set(n._key(),e)}function Nb(n){return Wr(n._redirectPersistence)}function kb(n){return xc(Ib,n.config.apiKey,n.name)}async function Rb(n,e,t=!1){if(sn(n.app))return Promise.reject(Kr(n));const s=Js(n),o=y0(s,e),c=await new Sb(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=600*1e3;class Pb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jb(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(zn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ab&&this.cachedEventUids.clear(),this.cachedEventUids.has(qy(e))}saveEventToCache(e){this.cachedEventUids.add(qy(e)),this.lastProcessedEventTime=Date.now()}}function qy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function jb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(n,e={}){return Xs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lb=/^https?/;async function Vb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Db(n);for(const t of e)try{if(Mb(t))return}catch{}Nn(n,"unauthorized-domain")}function Mb(n){const e=yf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!Lb.test(t))return!1;if(Ob.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Ll(3e4,6e4);function Wy(){const n=yr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ub(n){return new Promise((e,t)=>{function s(){Wy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wy(),t(zn(n,"network-request-failed"))},timeout:Fb.get()})}if(yr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(yr().gapi?.load)s();else{const o=AS("iframefcb");return yr()[o]=()=>{gapi.load?s():t(zn(n,"network-request-failed"))},t0(`${RS()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Tc=null,e})}let Tc=null;function Bb(n){return Tc=Tc||Ub(n),Tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Ll(5e3,15e3),$b="__/auth/iframe",Hb="emulator/auth/iframe",qb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gb(n){const e=n.config;_e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tp(e,Hb):`https://${n.config.authDomain}/${$b}`,s={apiKey:e.apiKey,appName:n.name,v:$i},o=Wb.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Ol(s).slice(1)}`}async function Kb(n){const e=await Bb(n),t=yr().gapi;return _e(t,n,"internal-error"),e.open({where:document.body,url:Gb(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qb,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=zn(n,"network-request-failed"),p=yr().setTimeout(()=>{l(c)},zb.get());function m(){yr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yb=500,Xb=600,Jb="_blank",Zb="http://localhost";class Gy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eC(n,e,t,s=Yb,o=Xb){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...Qb,width:s.toString(),height:o.toString(),top:l,left:c},v=Wt().toLowerCase();t&&(p=K_(v)?Jb:t),W_(v)&&(e=e||Zb,m.scrollbars="yes");const w=Object.entries(m).reduce((I,[P,z])=>`${I}${P}=${z},`,"");if(xS(v)&&p!=="_self")return tC(e||"",p),new Gy(null);const E=window.open(e||"",p,w);_e(E,n,"popup-blocked");try{E.focus()}catch{}return new Gy(E)}function tC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="__/auth/handler",rC="emulator/auth/handler",sC=encodeURIComponent("fac");async function Ky(n,e,t,s,o,l){_e(n.config.authDomain,n,"auth-domain-config-required"),_e(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:$i,eventId:o};if(e instanceof op){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",z1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))c[w]=E}if(e instanceof Ml){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const p=c;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const m=await n._getAppCheckToken(),v=m?`#${sC}=${encodeURIComponent(m)}`:"";return`${iC(n)}?${Ol(p).slice(1)}${v}`}function iC({config:n}){return n.emulator?tp(n,rC):`https://${n.authDomain}/${nC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="webStorageSupport";class oC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d0,this._completeRedirectFn=Rb,this._overrideRedirectResult=Cb}async _openPopup(e,t,s,o){Jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Ky(e,t,s,yf(),o);return eC(e,l,ap())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Ky(e,t,s,yf(),o);return cb(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Jr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Kb(e),s=new Pb(e);return t.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ef,{type:ef},o=>{const l=o?.[0]?.[ef];l!==void 0&&t(!!l),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Z_()||G_()||rp()}}const aC=oC;var Qy="@firebase/auth",Yy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cC(n){Li(new zs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:p}=s.options;_e(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e0(n)},v=new CS(s,o,l,m);return VS(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Li(new zs("auth-internal",e=>{const t=Js(e.getProvider("auth").getImmediate());return(s=>new lC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(Qy,Yy,uC(n)),gr(Qy,Yy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=300,dC=P_("authIdTokenMaxAge")||hC;let Xy=null;const fC=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>dC)return;const o=t?.token;Xy!==o&&(Xy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pC(n=Jf()){const e=Jc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=LS(n,{popupRedirectResolver:aC,persistence:[_b,ab,d0]}),s=P_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=fC(l.toString());nb(t,c,()=>c(t.currentUser)),tb(t,p=>c(p))}}const o=k_("auth");return o&&MS(t,`http://${o}`),t}function mC(){return document.getElementsByTagName("head")?.[0]??document}NS({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=zn("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",mC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cC("Browser");var gC="firebase",yC="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(gC,yC,"app");var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,w0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function b(){}b.prototype=S.prototype,A.F=S.prototype,A.prototype=new b,A.prototype.constructor=A,A.D=function(k,R,L){for(var N=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)N[ke-2]=arguments[ke];return S.prototype[R].apply(k,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,S,b){b||(b=0);const k=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)k[R]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(R=0;R<16;++R)k[R]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=A.g[0],b=A.g[1],R=A.g[2];let L=A.g[3],N;N=S+(L^b&(R^L))+k[0]+3614090360&4294967295,S=b+(N<<7&4294967295|N>>>25),N=L+(R^S&(b^R))+k[1]+3905402710&4294967295,L=S+(N<<12&4294967295|N>>>20),N=R+(b^L&(S^b))+k[2]+606105819&4294967295,R=L+(N<<17&4294967295|N>>>15),N=b+(S^R&(L^S))+k[3]+3250441966&4294967295,b=R+(N<<22&4294967295|N>>>10),N=S+(L^b&(R^L))+k[4]+4118548399&4294967295,S=b+(N<<7&4294967295|N>>>25),N=L+(R^S&(b^R))+k[5]+1200080426&4294967295,L=S+(N<<12&4294967295|N>>>20),N=R+(b^L&(S^b))+k[6]+2821735955&4294967295,R=L+(N<<17&4294967295|N>>>15),N=b+(S^R&(L^S))+k[7]+4249261313&4294967295,b=R+(N<<22&4294967295|N>>>10),N=S+(L^b&(R^L))+k[8]+1770035416&4294967295,S=b+(N<<7&4294967295|N>>>25),N=L+(R^S&(b^R))+k[9]+2336552879&4294967295,L=S+(N<<12&4294967295|N>>>20),N=R+(b^L&(S^b))+k[10]+4294925233&4294967295,R=L+(N<<17&4294967295|N>>>15),N=b+(S^R&(L^S))+k[11]+2304563134&4294967295,b=R+(N<<22&4294967295|N>>>10),N=S+(L^b&(R^L))+k[12]+1804603682&4294967295,S=b+(N<<7&4294967295|N>>>25),N=L+(R^S&(b^R))+k[13]+4254626195&4294967295,L=S+(N<<12&4294967295|N>>>20),N=R+(b^L&(S^b))+k[14]+2792965006&4294967295,R=L+(N<<17&4294967295|N>>>15),N=b+(S^R&(L^S))+k[15]+1236535329&4294967295,b=R+(N<<22&4294967295|N>>>10),N=S+(R^L&(b^R))+k[1]+4129170786&4294967295,S=b+(N<<5&4294967295|N>>>27),N=L+(b^R&(S^b))+k[6]+3225465664&4294967295,L=S+(N<<9&4294967295|N>>>23),N=R+(S^b&(L^S))+k[11]+643717713&4294967295,R=L+(N<<14&4294967295|N>>>18),N=b+(L^S&(R^L))+k[0]+3921069994&4294967295,b=R+(N<<20&4294967295|N>>>12),N=S+(R^L&(b^R))+k[5]+3593408605&4294967295,S=b+(N<<5&4294967295|N>>>27),N=L+(b^R&(S^b))+k[10]+38016083&4294967295,L=S+(N<<9&4294967295|N>>>23),N=R+(S^b&(L^S))+k[15]+3634488961&4294967295,R=L+(N<<14&4294967295|N>>>18),N=b+(L^S&(R^L))+k[4]+3889429448&4294967295,b=R+(N<<20&4294967295|N>>>12),N=S+(R^L&(b^R))+k[9]+568446438&4294967295,S=b+(N<<5&4294967295|N>>>27),N=L+(b^R&(S^b))+k[14]+3275163606&4294967295,L=S+(N<<9&4294967295|N>>>23),N=R+(S^b&(L^S))+k[3]+4107603335&4294967295,R=L+(N<<14&4294967295|N>>>18),N=b+(L^S&(R^L))+k[8]+1163531501&4294967295,b=R+(N<<20&4294967295|N>>>12),N=S+(R^L&(b^R))+k[13]+2850285829&4294967295,S=b+(N<<5&4294967295|N>>>27),N=L+(b^R&(S^b))+k[2]+4243563512&4294967295,L=S+(N<<9&4294967295|N>>>23),N=R+(S^b&(L^S))+k[7]+1735328473&4294967295,R=L+(N<<14&4294967295|N>>>18),N=b+(L^S&(R^L))+k[12]+2368359562&4294967295,b=R+(N<<20&4294967295|N>>>12),N=S+(b^R^L)+k[5]+4294588738&4294967295,S=b+(N<<4&4294967295|N>>>28),N=L+(S^b^R)+k[8]+2272392833&4294967295,L=S+(N<<11&4294967295|N>>>21),N=R+(L^S^b)+k[11]+1839030562&4294967295,R=L+(N<<16&4294967295|N>>>16),N=b+(R^L^S)+k[14]+4259657740&4294967295,b=R+(N<<23&4294967295|N>>>9),N=S+(b^R^L)+k[1]+2763975236&4294967295,S=b+(N<<4&4294967295|N>>>28),N=L+(S^b^R)+k[4]+1272893353&4294967295,L=S+(N<<11&4294967295|N>>>21),N=R+(L^S^b)+k[7]+4139469664&4294967295,R=L+(N<<16&4294967295|N>>>16),N=b+(R^L^S)+k[10]+3200236656&4294967295,b=R+(N<<23&4294967295|N>>>9),N=S+(b^R^L)+k[13]+681279174&4294967295,S=b+(N<<4&4294967295|N>>>28),N=L+(S^b^R)+k[0]+3936430074&4294967295,L=S+(N<<11&4294967295|N>>>21),N=R+(L^S^b)+k[3]+3572445317&4294967295,R=L+(N<<16&4294967295|N>>>16),N=b+(R^L^S)+k[6]+76029189&4294967295,b=R+(N<<23&4294967295|N>>>9),N=S+(b^R^L)+k[9]+3654602809&4294967295,S=b+(N<<4&4294967295|N>>>28),N=L+(S^b^R)+k[12]+3873151461&4294967295,L=S+(N<<11&4294967295|N>>>21),N=R+(L^S^b)+k[15]+530742520&4294967295,R=L+(N<<16&4294967295|N>>>16),N=b+(R^L^S)+k[2]+3299628645&4294967295,b=R+(N<<23&4294967295|N>>>9),N=S+(R^(b|~L))+k[0]+4096336452&4294967295,S=b+(N<<6&4294967295|N>>>26),N=L+(b^(S|~R))+k[7]+1126891415&4294967295,L=S+(N<<10&4294967295|N>>>22),N=R+(S^(L|~b))+k[14]+2878612391&4294967295,R=L+(N<<15&4294967295|N>>>17),N=b+(L^(R|~S))+k[5]+4237533241&4294967295,b=R+(N<<21&4294967295|N>>>11),N=S+(R^(b|~L))+k[12]+1700485571&4294967295,S=b+(N<<6&4294967295|N>>>26),N=L+(b^(S|~R))+k[3]+2399980690&4294967295,L=S+(N<<10&4294967295|N>>>22),N=R+(S^(L|~b))+k[10]+4293915773&4294967295,R=L+(N<<15&4294967295|N>>>17),N=b+(L^(R|~S))+k[1]+2240044497&4294967295,b=R+(N<<21&4294967295|N>>>11),N=S+(R^(b|~L))+k[8]+1873313359&4294967295,S=b+(N<<6&4294967295|N>>>26),N=L+(b^(S|~R))+k[15]+4264355552&4294967295,L=S+(N<<10&4294967295|N>>>22),N=R+(S^(L|~b))+k[6]+2734768916&4294967295,R=L+(N<<15&4294967295|N>>>17),N=b+(L^(R|~S))+k[13]+1309151649&4294967295,b=R+(N<<21&4294967295|N>>>11),N=S+(R^(b|~L))+k[4]+4149444226&4294967295,S=b+(N<<6&4294967295|N>>>26),N=L+(b^(S|~R))+k[11]+3174756917&4294967295,L=S+(N<<10&4294967295|N>>>22),N=R+(S^(L|~b))+k[2]+718787259&4294967295,R=L+(N<<15&4294967295|N>>>17),N=b+(L^(R|~S))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+L&4294967295}s.prototype.v=function(A,S){S===void 0&&(S=A.length);const b=S-this.blockSize,k=this.C;let R=this.h,L=0;for(;L<S;){if(R==0)for(;L<=b;)o(this,A,L),L+=this.blockSize;if(typeof A=="string"){for(;L<S;)if(k[R++]=A.charCodeAt(L++),R==this.blockSize){o(this,k),R=0;break}}else for(;L<S;)if(k[R++]=A[L++],R==this.blockSize){o(this,k),R=0;break}}this.h=R,this.o+=S},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var b=A.length-8;b<A.length;++b)A[b]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,b=0;b<4;++b)for(let k=0;k<32;k+=8)A[S++]=this.g[b]>>>k&255;return A};function l(A,S){var b=p;return Object.prototype.hasOwnProperty.call(b,A)?b[A]:b[A]=S(A)}function c(A,S){this.h=S;const b=[];let k=!0;for(let R=A.length-1;R>=0;R--){const L=A[R]|0;k&&L==S||(b[R]=L,k=!1)}this.g=b}var p={};function m(A){return-128<=A&&A<128?l(A,function(S){return new c([S|0],S<0?-1:0)}):new c([A|0],A<0?-1:0)}function v(A){if(isNaN(A)||!isFinite(A))return E;if(A<0)return j(v(-A));const S=[];let b=1;for(let k=0;A>=b;k++)S[k]=A/b|0,b*=4294967296;return new c(S,0)}function w(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return j(w(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=v(Math.pow(S,8));let k=E;for(let L=0;L<A.length;L+=8){var R=Math.min(8,A.length-L);const N=parseInt(A.substring(L,L+R),S);R<8?(R=v(Math.pow(S,R)),k=k.j(R).add(v(N))):(k=k.j(b),k=k.add(v(N)))}return k}var E=m(0),I=m(1),P=m(16777216);n=c.prototype,n.m=function(){if(F(this))return-j(this).m();let A=0,S=1;for(let b=0;b<this.g.length;b++){const k=this.i(b);A+=(k>=0?k:4294967296+k)*S,S*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(z(this))return"0";if(F(this))return"-"+j(this).toString(A);const S=v(Math.pow(A,6));var b=this;let k="";for(;;){const R=ie(b,S).g;b=H(b,R.j(S));let L=((b.g.length>0?b.g[0]:b.h)>>>0).toString(A);if(b=R,z(b))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function z(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function F(A){return A.h==-1}n.l=function(A){return A=H(this,A),F(A)?-1:z(A)?0:1};function j(A){const S=A.g.length,b=[];for(let k=0;k<S;k++)b[k]=~A.g[k];return new c(b,~A.h).add(I)}n.abs=function(){return F(this)?j(this):this},n.add=function(A){const S=Math.max(this.g.length,A.g.length),b=[];let k=0;for(let R=0;R<=S;R++){let L=k+(this.i(R)&65535)+(A.i(R)&65535),N=(L>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);k=N>>>16,L&=65535,N&=65535,b[R]=N<<16|L}return new c(b,b[b.length-1]&-2147483648?-1:0)};function H(A,S){return A.add(j(S))}n.j=function(A){if(z(this)||z(A))return E;if(F(this))return F(A)?j(this).j(j(A)):j(j(this).j(A));if(F(A))return j(this.j(j(A)));if(this.l(P)<0&&A.l(P)<0)return v(this.m()*A.m());const S=this.g.length+A.g.length,b=[];for(var k=0;k<2*S;k++)b[k]=0;for(k=0;k<this.g.length;k++)for(let R=0;R<A.g.length;R++){const L=this.i(k)>>>16,N=this.i(k)&65535,ke=A.i(R)>>>16,Ge=A.i(R)&65535;b[2*k+2*R]+=N*Ge,G(b,2*k+2*R),b[2*k+2*R+1]+=L*Ge,G(b,2*k+2*R+1),b[2*k+2*R+1]+=N*ke,G(b,2*k+2*R+1),b[2*k+2*R+2]+=L*ke,G(b,2*k+2*R+2)}for(A=0;A<S;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=S;A<2*S;A++)b[A]=0;return new c(b,0)};function G(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function Q(A,S){this.g=A,this.h=S}function ie(A,S){if(z(S))throw Error("division by zero");if(z(A))return new Q(E,E);if(F(A))return S=ie(j(A),S),new Q(j(S.g),j(S.h));if(F(S))return S=ie(A,j(S)),new Q(j(S.g),S.h);if(A.g.length>30){if(F(A)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var b=I,k=S;k.l(A)<=0;)b=ve(b),k=ve(k);var R=te(b,1),L=te(k,1);for(k=te(k,2),b=te(b,2);!z(k);){var N=L.add(k);N.l(A)<=0&&(R=R.add(b),L=N),k=te(k,1),b=te(b,1)}return S=H(A,R.j(S)),new Q(R,S)}for(R=E;A.l(S)>=0;){for(b=Math.max(1,Math.floor(A.m()/S.m())),k=Math.ceil(Math.log(b)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=v(b),N=L.j(S);F(N)||N.l(A)>0;)b-=k,L=v(b),N=L.j(S);z(L)&&(L=I),R=R.add(L),A=H(A,N)}return new Q(R,A)}n.B=function(A){return ie(this,A).h},n.and=function(A){const S=Math.max(this.g.length,A.g.length),b=[];for(let k=0;k<S;k++)b[k]=this.i(k)&A.i(k);return new c(b,this.h&A.h)},n.or=function(A){const S=Math.max(this.g.length,A.g.length),b=[];for(let k=0;k<S;k++)b[k]=this.i(k)|A.i(k);return new c(b,this.h|A.h)},n.xor=function(A){const S=Math.max(this.g.length,A.g.length),b=[];for(let k=0;k<S;k++)b[k]=this.i(k)^A.i(k);return new c(b,this.h^A.h)};function ve(A){const S=A.g.length+1,b=[];for(let k=0;k<S;k++)b[k]=A.i(k)<<1|A.i(k-1)>>>31;return new c(b,A.h)}function te(A,S){const b=S>>5;S%=32;const k=A.g.length-b,R=[];for(let L=0;L<k;L++)R[L]=S>0?A.i(L+b)>>>S|A.i(L+b+1)<<32-S:A.i(L+b);return new c(R,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,w0=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=w,Us=c}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x0,al,E0,Ic,xf,T0,I0,S0;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var y=0;y<u.length;++y){var _=u[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,y){if(y)e:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var B=u[T];if(!(B in _))break e;_=_[B]}u=u[u.length-1],T=_[u],y=y(T),y!=T&&y!=null&&e(_,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var _=[],T;for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&_.push([T,y[T]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function p(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function m(u,y,_){return u.call.apply(u.bind,arguments)}function v(u,y,_){return v=m,v.apply(null,arguments)}function w(u,y){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,y){function _(){}_.prototype=y.prototype,u.Z=y.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,B,W){for(var re=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)re[Te-2]=arguments[Te];return y.prototype[B].apply(T,re)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const y=u.length;if(y>0){const _=Array(y);for(let T=0;T<y;T++)_[T]=u[T];return _}return[]}function z(u,y){for(let T=1;T<arguments.length;T++){const B=arguments[T];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=u.length||0;const W=B.length||0;u.length=_+W;for(let re=0;re<W;re++)u[_+re]=B[re]}else u.push(B)}}class F{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(u){c.setTimeout(()=>{throw u},0)}function H(){var u=A;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class G{constructor(){this.h=this.g=null}add(y,_){const T=Q.get();T.set(y,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Q=new F(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,te=!1,A=new G,S=()=>{const u=Promise.resolve(void 0);ve=()=>{u.then(b)}};function b(){for(var u;u=H();){try{u.h.call(u.g)}catch(_){j(_)}var y=Q;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}te=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};c.addEventListener("test",_,y),c.removeEventListener("test",_,y)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ke(u,y){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}E(ke,R),ke.prototype.init=function(u,y){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(_=="mouseover"?y=u.fromElement:_=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),Ce=0;function He(u,y,_,T,B){this.listener=u,this.proxy=null,this.src=y,this.type=_,this.capture=!!T,this.ha=B,this.key=++Ce,this.da=this.fa=!1}function se(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u,y,_){for(const T in u)y.call(_,u[T],T,u)}function le(u,y){for(const _ in u)y.call(void 0,u[_],_,u)}function M(u){const y={};for(const _ in u)y[_]=u[_];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(u,y){let _,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(_ in T)u[_]=T[_];for(let W=0;W<X.length;W++)_=X[W],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function be(u){this.src=u,this.g={},this.h=0}be.prototype.add=function(u,y,_,T,B){const W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);const re=Ae(u,y,T,B);return re>-1?(y=u[re],_||(y.fa=!1)):(y=new He(y,this.src,W,!!T,B),y.fa=_,u.push(y)),y};function Re(u,y){const _=y.type;if(_ in u.g){var T=u.g[_],B=Array.prototype.indexOf.call(T,y,void 0),W;(W=B>=0)&&Array.prototype.splice.call(T,B,1),W&&(se(y),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ae(u,y,_,T){for(let B=0;B<u.length;++B){const W=u[B];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==T)return B}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ve={};function qe(u,y,_,T,B){if(Array.isArray(y)){for(let W=0;W<y.length;W++)qe(u,y[W],_,T,B);return null}return _=la(_),u&&u[Ge]?u.J(y,_,p(T)?!!T.capture:!1,B):Gt(u,y,_,!1,T,B)}function Gt(u,y,_,T,B,W){if(!y)throw Error("Invalid event type");const re=p(B)?!!B.capture:!!B;let Te=Qi(u);if(Te||(u[Be]=Te=new be(u)),_=Te.add(y,_,T,re,W),_.proxy)return _;if(T=Gi(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)L||(B=re),B===void 0&&(B=!1),u.addEventListener(y.toString(),T,B);else if(u.attachEvent)u.attachEvent(Ki(y.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gi(){function u(_){return y.call(u.src,u.listener,_)}const y=Wl;return u}function aa(u,y,_,T,B){if(Array.isArray(y))for(var W=0;W<y.length;W++)aa(u,y[W],_,T,B);else T=p(T)?!!T.capture:!!T,_=la(_),u&&u[Ge]?(u=u.i,W=String(y).toString(),W in u.g&&(y=u.g[W],_=Ae(y,_,T,B),_>-1&&(se(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete u.g[W],u.h--)))):u&&(u=Qi(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Ae(y,_,T,B)),(_=u>-1?y[u]:null)&&ts(_))}function ts(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Ge])Re(y.i,u);else{var _=u.type,T=u.proxy;y.removeEventListener?y.removeEventListener(_,T,u.capture):y.detachEvent?y.detachEvent(Ki(_),T):y.addListener&&y.removeListener&&y.removeListener(T),(_=Qi(y))?(Re(_,u),_.h==0&&(_.src=null,y[Be]=null)):se(u)}}}function Ki(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function Wl(u,y){if(u.da)u=!0;else{y=new ke(y,this);const _=u.listener,T=u.ha||u.src;u.fa&&ts(u),u=_.call(T,y)}return u}function Qi(u){return u=u[Be],u instanceof be?u:null}var ni="__closure_events_fn_"+(Math.random()*1e9>>>0);function la(u){return typeof u=="function"?u:(u[ni]||(u[ni]=function(y){return u.handleEvent(y)}),u[ni])}function mt(){k.call(this),this.i=new be(this),this.M=this,this.G=null}E(mt,k),mt.prototype[Ge]=!0,mt.prototype.removeEventListener=function(u,y,_,T){aa(this,u,y,_,T)};function ct(u,y){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=y.type||y,typeof y=="string")y=new R(y,u);else if(y instanceof R)y.target=y.target||u;else{var B=y;y=new R(T,u),Se(y,B)}B=!0;let W,re;if(_)for(re=_.length-1;re>=0;re--)W=y.g=_[re],B=An(W,T,!0,y)&&B;if(W=y.g=u,B=An(W,T,!0,y)&&B,B=An(W,T,!1,y)&&B,_)for(re=0;re<_.length;re++)W=y.g=_[re],B=An(W,T,!1,y)&&B}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const _=u.g[y];for(let T=0;T<_.length;T++)se(_[T]);delete u.g[y],u.h--}}this.G=null},mt.prototype.J=function(u,y,_,T){return this.i.add(String(u),y,!1,_,T)},mt.prototype.K=function(u,y,_,T){return this.i.add(String(u),y,!0,_,T)};function An(u,y,_,T){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let W=0;W<y.length;++W){const re=y[W];if(re&&!re.da&&re.capture==_){const Te=re.listener,ht=re.ha||re.src;re.fa&&Re(u.i,re),B=Te.call(ht,T)!==!1&&B}}return B&&!T.defaultPrevented}function ua(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(u,y||0)}function ca(u){u.g=ua(()=>{u.g=null,u.i&&(u.i=!1,ca(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Gl extends k{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ca(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){k.call(this),this.h=u,this.g={}}E(ns,k);var ha=[];function Yi(u){pe(u.g,function(y,_){this.g.hasOwnProperty(_)&&ts(y)},u),u.g={}}ns.prototype.N=function(){ns.Z.N.call(this),Yi(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=c.JSON.stringify,Kl=c.JSON.parse,ri=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function ss(){}function Ql(){}var is={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xi(){R.call(this,"d")}E(Xi,R);function da(){R.call(this,"c")}E(da,R);var Pn={},Ji=null;function os(){return Ji=Ji||new mt}Pn.Ia="serverreachability";function Zi(u){R.call(this,Pn.Ia,u)}E(Zi,R);function Cr(u){const y=os();ct(y,new Zi(y))}Pn.STAT_EVENT="statevent";function Nr(u,y){R.call(this,Pn.STAT_EVENT,u),this.stat=y}E(Nr,R);function ot(u){const y=os();ct(y,new Nr(y,u))}Pn.Ja="timingevent";function fa(u,y){R.call(this,Pn.Ja,u),this.size=y}E(fa,R);function as(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},y)}function ls(){this.g=!0}ls.prototype.ua=function(){this.g=!1};function Yl(u,y,_,T,B,W){u.info(function(){if(u.g)if(W){var re="",Te=W.split("&");for(let $e=0;$e<Te.length;$e++){var ht=Te[$e].split("=");if(ht.length>1){const gt=ht[0];ht=ht[1];const fn=gt.split("_");re=fn.length>=2&&fn[1]=="type"?re+(gt+"="+ht+"&"):re+(gt+"=redacted&")}}}else re=null;else re=W;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+y+`
`+_+`
`+re})}function Xl(u,y,_,T,B,W,re){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+y+`
`+_+`
`+W+" "+re})}function Kn(u,y,_,T){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+si(u,_)+(T?" "+T:"")})}function Jl(u,y){u.info(function(){return"TIMEOUT: "+y})}ls.prototype.info=function(){};function si(u,y){if(!u.g)return y;if(!y)return null;try{const W=JSON.parse(y);if(W){for(u=0;u<W.length;u++)if(Array.isArray(W[u])){var _=W[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var B=T[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<T.length;re++)T[re]=""}}}}return rs(W)}catch{return y}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zl;function kr(){}E(kr,ss),kr.prototype.g=function(){return new XMLHttpRequest},Zl=new kr;function Qn(u){return encodeURIComponent(String(u))}function eo(u){var y=1;u=u.split(":");const _=[];for(;y>0&&u.length;)_.push(u.shift()),y--;return u.length&&_.push(u.join(":")),_}function _n(u,y,_,T){this.j=u,this.i=y,this.l=_,this.S=T||1,this.V=new ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new eu}function eu(){this.i=null,this.g="",this.h=!1}var tu={},pa={};function jn(u,y,_){u.M=1,u.A=Ar(wn(y)),u.u=_,u.R=!0,ma(u,null)}function ma(u,y){u.F=Date.now(),ii(u),u.B=wn(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Sa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new eu,u.g=hu(u.j,_?y:null,!u.u),u.P>0&&(u.O=new Gl(v(u.Y,u,u.g),u.P)),y=u.V,_=u.g,T=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(ha[0]=B.toString()),B=ha);for(let W=0;W<B.length;W++){const re=qe(_,B[W],T||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Cr(),Yl(u.i,u.v,u.B,u.l,u.S,u.u)}_n.prototype.ba=function(u){u=u.target;const y=this.O;y&&nr(u)==3?y.j():this.Y(u)},_n.prototype.Y=function(u){try{if(u==this.g)e:{const Te=nr(this.g),ht=this.g.ya(),$e=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||uu(this.g)))){this.K||Te!=4||ht==7||(ht==8||$e<=0?Cr(3):Cr(2)),to(this);var y=this.g.ca();this.X=y;var _=nu(this);if(this.o=y==200,Xl(this.i,this.v,this.B,this.l,this.S,Te,y),this.o){if(this.U&&!this.L){t:{if(this.g){var T,B=this.g;if((T=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var W=T;break t}}W=null}if(u=W)Kn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ye(this,u);else{this.o=!1,this.m=3,ot(12),Rr(this),oi(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<_.length;)if(gt=su(this,_),gt==pa){Te==4&&(this.m=4,ot(14),u=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==tu){this.m=4,ot(15),Kn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Kn(this.i,this.l,gt,null),Ye(this,gt);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||_.length!=0||this.h.h||(this.m=1,ot(16),u=!1),this.o=this.o&&u,!u)Kn(this.i,this.l,_,"[Invalid Chunked Response]"),Rr(this),oi(this);else if(_.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),mi(re),re.P=!0,ot(11))}}else Kn(this.i,this.l,_,null),Ye(this,_);Te==4&&Rr(this),this.o&&!this.K&&(Te==4?ho(this.j,this):(this.o=!1,ii(this)))}else Ca(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,ot(12)):(this.m=0,ot(13)),Rr(this),oi(this)}}}catch{}finally{}};function nu(u){if(!ru(u))return u.g.la();const y=uu(u.g);if(y==="")return"";let _="";const T=y.length,B=nr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rr(u),oi(u),"";u.h.i=new c.TextDecoder}for(let W=0;W<T;W++)u.h.h=!0,_+=u.h.i.decode(y[W],{stream:!(B&&W==T-1)});return y.length=0,u.h.g+=_,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,y){var _=u.C,T=y.indexOf(`
`,_);return T==-1?pa:(_=Number(y.substring(_,T)),isNaN(_)?tu:(T+=1,T+_>y.length?pa:(y=y.slice(T,T+_),u.C=T+_,y)))}_n.prototype.cancel=function(){this.K=!0,Rr(this)};function ii(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=as(v(u.aa,u),y)}function to(u){u.D&&(c.clearTimeout(u.D),u.D=null)}_n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Jl(this.i,this.B),this.M!=2&&(Cr(),ot(17)),Rr(this),this.m=2,oi(this)):ga(this,this.T-u)};function oi(u){u.j.I==0||u.K||ho(u.j,u)}function Rr(u){to(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Yi(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Ye(u,y){try{var _=u.j;if(_.I!=0&&(_.g==u||va(_.h,u))){if(!u.L&&va(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)co(_),hn(_);else break e;ir(_),ot(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=as(v(_.Va,_),6e3));ai(_.h)<=1&&_.ta&&(_.ta=void 0)}else dn(_,11)}else if((u.L||_.g==u)&&co(_),!N(y))for(B=_.Ba.g.parse(y),y=0;y<B.length;y++){let $e=B[y];const gt=$e[0];if(!(gt<=_.K))if(_.K=gt,$e=$e[1],_.I==2)if($e[0]=="c"){_.M=$e[1],_.ba=$e[2];const fn=$e[3];fn!=null&&(_.ka=fn,_.j.info("VER="+_.ka));const Lr=$e[4];Lr!=null&&(_.za=Lr,_.j.info("SVER="+_.za));const or=$e[5];or!=null&&typeof or=="number"&&or>0&&(T=1.5*or,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ar=u.g;if(ar){const mo=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var W=T.h;W.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ro(W,W.h),W.h=null))}if(T.G){const Ra=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(T.wa=Ra,Ue(T.J,T.G,Ra))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var re=u;if(T.na=ka(T,T.L?T.ba:null,T.W),re.L){li(T.h,re);var Te=re,ht=T.O;ht&&(Te.H=ht),Te.D&&(to(Te),ii(Te)),T.g=re}else Vt(T);_.i.length>0&&Or(_)}else $e[0]!="stop"&&$e[0]!="close"||dn(_,7);else _.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?dn(_,7):lo(_):$e[0]!="noop"&&_.l&&_.l.qa($e),_.A=0)}}Cr(4)}catch{}}var vh=class{constructor(u,y){this.g=u,this.map=y}};function no(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ya(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function va(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function ro(u,y){u.g?u.g.add(y):u.h=y}function li(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}no.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ln(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const _ of u.g.values())y=y.concat(_.G);return y}return P(u.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function un(u,y){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let B,W=null;T>=0?(B=u[_].substring(0,T),W=u[_].substring(T+1)):B=u[_],y(B,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Yn?(this.l=u.l,ui(this,u.j),this.o=u.o,this.g=u.g,Xn(this,u.u),this.h=u.h,hs(this,ba(u.i)),this.m=u.m):u&&(y=String(u).match(iu))?(this.l=!1,ui(this,y[1]||"",!0),this.o=ci(y[2]||""),this.g=ci(y[3]||"",!0),Xn(this,y[4]),this.h=ci(y[5]||"",!0),hs(this,y[6]||"",!0),this.m=ci(y[7]||"")):(this.l=!1,this.i=new Oe(null,this.l))}Yn.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(hi(y,wa,!0),":");var _=this.g;return(_||y=="file")&&(u.push("//"),(y=this.o)&&u.push(hi(y,wa,!0),"@"),u.push(Qn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(hi(_,_.charAt(0)=="/"?di:xa,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",hi(_,Ea)),u.join("")},Yn.prototype.resolve=function(u){const y=wn(this);let _=!!u.j;_?ui(y,u.j):_=!!u.o,_?y.o=u.o:_=!!u.g,_?y.g=u.g:_=u.u!=null;var T=u.h;if(_)Xn(y,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var B=y.h.lastIndexOf("/");B!=-1&&(T=y.h.slice(0,B+1)+T)}if(B=T,B==".."||B==".")T="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){T=B.lastIndexOf("/",0)==0,B=B.split("/");const W=[];for(let re=0;re<B.length;){const Te=B[re++];Te=="."?T&&re==B.length&&W.push(""):Te==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),T&&re==B.length&&W.push("")):(W.push(Te),T=!0)}T=W.join("/")}else T=B}return _?y.h=T:_=u.i.toString()!=="",_?hs(y,ba(u.i)):_=!!u.m,_&&(y.m=u.m),y};function wn(u){return new Yn(u)}function ui(u,y,_){u.j=_?ci(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Xn(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function hs(u,y,_){y instanceof Oe?(u.i=y,io(u.i,u.l)):(_||(y=hi(y,_h)),u.i=new Oe(y,u.l))}function Ue(u,y,_){u.i.set(y,_)}function Ar(u){return Ue(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hi(u,y,_){return typeof u=="string"?(u=encodeURI(u).replace(y,_a),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _a(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var wa=/[#\/\?@]/g,xa=/[#\?:]/g,di=/[#\?]/g,_h=/[#\?@]/g,Ea=/#/g;function Oe(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Jn(u){u.g||(u.g=new Map,u.h=0,u.i&&un(u.i,function(y,_){u.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Oe.prototype,n.add=function(u,y){Jn(this),this.i=null,u=Zn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(y),this.h+=1,this};function Ta(u,y){Jn(u),y=Zn(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function so(u,y){return Jn(u),y=Zn(u,y),u.g.has(y)}n.forEach=function(u,y){Jn(this),this.g.forEach(function(_,T){_.forEach(function(B){u.call(y,B,T,this)},this)},this)};function Ia(u,y){Jn(u);let _=[];if(typeof y=="string")so(u,y)&&(_=_.concat(u.g.get(Zn(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)_=_.concat(u[y]);return _}n.set=function(u,y){return Jn(this),this.i=null,u=Zn(this,u),so(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},n.get=function(u,y){return u?(u=Ia(this,u),u.length>0?String(u[0]):y):y};function Sa(u,y,_){Ta(u,y),_.length>0&&(u.i=null,u.g.set(Zn(u,y),P(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let T=0;T<y.length;T++){var _=y[T];const B=Qn(_);_=Ia(this,_);for(let W=0;W<_.length;W++){let re=B;_[W]!==""&&(re+="="+Qn(_[W])),u.push(re)}}return this.i=u.join("&")};function ba(u){const y=new Oe;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Zn(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function io(u,y){y&&!u.j&&(Jn(u),u.i=null,u.g.forEach(function(_,T){const B=T.toLowerCase();T!=B&&(Ta(this,T),Sa(this,B,_))},u)),u.j=y}function er(u,y){const _=new ls;if(c.Image){const T=new Image;T.onload=w(kt,_,"TestLoadImage: loaded",!0,y,T),T.onerror=w(kt,_,"TestLoadImage: error",!1,y,T),T.onabort=w(kt,_,"TestLoadImage: abort",!1,y,T),T.ontimeout=w(kt,_,"TestLoadImage: timeout",!1,y,T),c.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else y(!1)}function tr(u,y){const _=new ls,T=new AbortController,B=setTimeout(()=>{T.abort(),kt(_,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:T.signal}).then(W=>{clearTimeout(B),W.ok?kt(_,"TestPingServer: ok",!0,y):kt(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),kt(_,"TestPingServer: error",!1,y)})}function kt(u,y,_,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(_)}catch{}}function fi(){this.g=new ri}function Pr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Pr,ss),Pr.prototype.g=function(){return new cn(this.i,this.h)};function cn(u,y){mt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(cn,mt),n=cn.prototype,n.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Dn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ou(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ou(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?ds(this):Dn(this),this.readyState==3&&ou(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},n.Na=function(u){this.g&&(this.response=u,ds(this))},n.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Dn(u)}n.setRequestHeader=function(u,y){this.A.append(u,y)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=y.next();return u.join(`\r
`)};function Dn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function au(u){let y="";return pe(u,function(_,T){y+=T,y+=":",y+=_,y+=`\r
`}),y}function oo(u,y,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=au(_),typeof u=="string"?_!=null&&Qn(_):Ue(u,y,_))}function We(u){mt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(We,mt);var lu=/^https?$/i,wh=["POST","PUT"];n=We.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,y,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zl.g(),this.g.onreadystatechange=I(v(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(W){fs(this,W);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)_.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const W of T.keys())_.set(W,T.get(W));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),B=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(wh,y,void 0)>=0)||T||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,re]of _)this.g.setRequestHeader(W,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(W){fs(this,W)}};function fs(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,ps(u),Dr(u)}function ps(u){u.A||(u.A=!0,ct(u,"complete"),ct(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ct(this,"complete"),ct(this,"abort"),Dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),We.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},n.Xa=function(){jr(this)};function jr(u){if(u.h&&typeof l<"u"){if(u.v&&nr(u)==4)setTimeout(u.Ca.bind(u),0);else if(ct(u,"readystatechange"),nr(u)==4){u.h=!1;try{const W=u.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var T;if(T=W===0){let re=String(u.D).match(iu)[1]||null;!re&&c.self&&c.self.location&&(re=c.self.location.protocol.slice(0,-1)),T=!lu.test(re?re.toLowerCase():"")}_=T}if(_)ct(u,"complete"),ct(u,"success");else{u.o=6;try{var B=nr(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",ps(u)}}finally{Dr(u)}}}}function Dr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,y||ct(u,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function nr(u){return u.g?u.g.readyState:0}n.ca=function(){try{return nr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Kl(y)}};function uu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ca(u){const y={};u=(u.g&&nr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(N(u[T]))continue;var _=eo(u[T]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[B]||[];y[B]=W,W.push(_)}le(y,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(u,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||y}function ao(u){this.za=0,this.i=[],this.j=new ls,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rr("baseRetryDelayMs",5e3,u),this.Za=rr("retryDelaySeedMs",1e4,u),this.Ta=rr("forwardChannelMaxRetries",2,u),this.va=rr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new no(u&&u.concurrentRequestLimit),this.Ba=new fi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ao.prototype,n.ka=8,n.I=1,n.connect=function(u,y,_,T){ot(0),this.W=u,this.H=y||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=ka(this,null,this.W),Or(this)};function lo(u){if(uo(u),u.I==3){var y=u.V++,_=wn(u.J);if(Ue(_,"SID",u.M),Ue(_,"RID",y),Ue(_,"TYPE","terminate"),sr(u,_),y=new _n(u,u.j,y),y.M=2,y.A=Ar(wn(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=y.A,_=!0),_||(y.g=hu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ii(y)}gi(u)}function hn(u){u.g&&(mi(u),u.g.cancel(),u.g=null)}function uo(u){hn(u),u.v&&(c.clearTimeout(u.v),u.v=null),co(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function Or(u){if(!ya(u.h)&&!u.m){u.m=!0;var y=u.Ea;ve||S(),te||(ve(),te=!0),A.add(y,u),u.D=0}}function cu(u,y){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=as(v(u.Ea,u,y),fo(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new _n(this,this.j,u);let W=this.o;if(this.U&&(W?(W=M(W),Se(W,this.U)):W=this.U),this.u!==null||this.R||(B.J=W,W=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Na(this,B,y),_=wn(this.J),Ue(_,"RID",u),Ue(_,"CVER",22),this.G&&Ue(_,"X-HTTP-Session-Id",this.G),sr(this,_),W&&(this.R?y="headers="+Qn(au(W))+"&"+y:this.u&&oo(_,this.u,W)),ro(this.h,B),this.Ra&&Ue(_,"TYPE","init"),this.S?(Ue(_,"$req",y),Ue(_,"SID","null"),B.U=!0,jn(B,_,null)):jn(B,_,y),this.I=2}}else this.I==3&&(u?pi(this,u):this.i.length==0||ya(this.h)||pi(this))};function pi(u,y){var _;y?_=y.l:_=u.V++;const T=wn(u.J);Ue(T,"SID",u.M),Ue(T,"RID",_),Ue(T,"AID",u.K),sr(u,T),u.u&&u.o&&oo(T,u.u,u.o),_=new _n(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Na(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ro(u.h,_),jn(_,T,y)}function sr(u,y){u.H&&pe(u.H,function(_,T){Ue(y,T,_)}),u.l&&pe({},function(_,T){Ue(y,T,_)})}function Na(u,y,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;e:{var B=u.i;let Te=-1;for(;;){const ht=["count="+_];Te==-1?_>0?(Te=B[0].g,ht.push("ofs="+Te)):Te=0:ht.push("ofs="+Te);let $e=!0;for(let gt=0;gt<_;gt++){var W=B[gt].g;const fn=B[gt].map;if(W-=Te,W<0)Te=Math.max(0,B[gt].g-100),$e=!1;else try{W="req"+W+"_"||"";try{var re=fn instanceof Map?fn:Object.entries(fn);for(const[Lr,or]of re){let ar=or;p(or)&&(ar=rs(or)),ht.push(W+Lr+"="+encodeURIComponent(ar))}}catch(Lr){throw ht.push(W+"type="+encodeURIComponent("_badmap")),Lr}}catch{T&&T(fn)}}if($e){re=ht.join("&");break e}}re=void 0}return u=u.i.splice(0,_),y.G=u,re}function Vt(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ve||S(),te||(ve(),te=!0),A.add(y,u),u.A=0}}function ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=as(v(u.Da,u),fo(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,ms(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=as(v(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ot(10),hn(this),ms(this))};function mi(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function ms(u){u.g=new _n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=wn(u.na);Ue(y,"RID","rpc"),Ue(y,"SID",u.M),Ue(y,"AID",u.K),Ue(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ue(y,"TO",u.ia),Ue(y,"TYPE","xmlhttp"),sr(u,y),u.u&&u.o&&oo(y,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ar(wn(y)),_.u=null,_.R=!0,ma(_,u)}n.Va=function(){this.C!=null&&(this.C=null,hn(this),ir(this),ot(19))};function co(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function ho(u,y){var _=null;if(u.g==y){co(u),mi(u),u.g=null;var T=2}else if(va(u.h,y))_=y.G,li(u.h,y),T=1;else return;if(u.I!=0){if(y.o)if(T==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var B=u.D;T=os(),ct(T,new fa(T,_)),Or(u)}else Vt(u);else if(B=y.m,B==3||B==0&&y.X>0||!(T==1&&cu(u,y)||T==2&&ir(u)))switch(_&&_.length>0&&(y=u.h,y.i=y.i.concat(_)),B){case 1:dn(u,5);break;case 4:dn(u,10);break;case 3:dn(u,6);break;default:dn(u,2)}}}function fo(u,y){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*y}function dn(u,y){if(u.j.info("Error code "+y),y==2){var _=v(u.bb,u),T=u.Ua;const B=!T;T=new Yn(T||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ui(T,"https"),Ar(T),B?er(T.toString(),_):tr(T.toString(),_)}else ot(2);u.I=0,u.l&&u.l.pa(y),gi(u),uo(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function gi(u){if(u.I=0,u.ja=[],u.l){const y=ln(u.h);(y.length!=0||u.i.length!=0)&&(z(u.ja,y),z(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function ka(u,y,_){var T=_ instanceof Yn?wn(_):new Yn(_);if(T.g!="")y&&(T.g=y+"."+T.g),Xn(T,T.u);else{var B=c.location;T=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const W=new Yn(null);T&&ui(W,T),y&&(W.g=y),B&&Xn(W,B),_&&(W.h=_),T=W}return _=u.G,y=u.wa,_&&y&&Ue(T,_,y),Ue(T,"VER",u.ka),sr(u,T),T}function hu(u,y,_){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new We(new Pr({ab:_})):new We(u.ma),y.Fa(u.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}n=du.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function po(){}po.prototype.g=function(u,y){return new Rt(u,y)};function Rt(u,y){mt.call(this),this.g=new ao(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!N(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new gs(this)}E(Rt,mt),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){lo(this.g)},Rt.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=rs(u),u=_);y.i.push(new vh(y.Ya++,u)),y.I==3&&Or(y)},Rt.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,Rt.Z.N.call(this)};function fu(u){Xi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const _ in y){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}E(fu,Xi);function pu(){da.call(this),this.status=1}E(pu,da);function gs(u){this.g=u}E(gs,du),gs.prototype.ra=function(){ct(this.g,"a")},gs.prototype.qa=function(u){ct(this.g,new fu(u))},gs.prototype.pa=function(u){ct(this.g,new pu)},gs.prototype.oa=function(){ct(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,S0=function(){return new po},I0=function(){return os()},T0=Pn,xf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Ic=us,cs.COMPLETE="complete",E0=cs,Ql.EventType=is,is.OPEN="a",is.CLOSE="b",is.ERROR="c",is.MESSAGE="d",mt.prototype.listen=mt.prototype.J,al=Ql,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,x0=We}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const Zy="@firebase/firestore",ev="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Yf("@firebase/firestore");function Lo(){return Fi.logLevel}function ue(n,...e){if(Fi.logLevel<=Pe.DEBUG){const t=e.map(up);Fi.debug(`Firestore (${ta}): ${n}`,...t)}}function Zr(n,...e){if(Fi.logLevel<=Pe.ERROR){const t=e.map(up);Fi.error(`Firestore (${ta}): ${n}`,...t)}}function qo(n,...e){if(Fi.logLevel<=Pe.WARN){const t=e.map(up);Fi.warn(`Firestore (${ta}): ${n}`,...t)}}function up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,b0(n,s,t)}function b0(n,e,t){let s=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Zr(s),new Error(s)}function ze(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||b0(e,o,s)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ht.UNAUTHENTICATED)))}shutdown(){}}class _C{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wC{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string",31837,{l:s}),new C0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class xC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new xC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ht.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const s=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new tv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=IC(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function je(n,e){return n<e?-1:n>e?1:0}function Ef(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),l=e.charAt(s);if(o!==l)return tf(o)===tf(l)?je(o,l):tf(o)?1:-1}return je(n.length,e.length)}const SC=55296,bC=57343;function tf(n){const e=n.charCodeAt(0);return e>=SC&&e<=bC}function Wo(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="__name__";class fr{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&we(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=fr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const s=fr.isNumericId(e),o=fr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?fr.extractNumericId(e).compare(fr.extractNumericId(t)):Ef(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class Qe extends fr{construct(e,t,s){return new Qe(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Qe(t)}static emptyPath(){return new Qe([])}}const CC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends fr{construct(e,t,s){return new Dt(e,t,s)}static isValidIdentifier(e){return CC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new Dt([nv])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new oe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(s+=p,o++):(l(),o++)}if(l(),c)throw new oe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Qe.fromString(e))}static fromName(e){return new me(Qe.fromString(e).popFirst(5))}static empty(){return new me(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n,e,t){if(!t)throw new oe(K.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NC(n,e,t,s){if(e===!0&&s===!0)throw new oe(K.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rv(n){if(!me.isDocumentKey(n))throw new oe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sv(n){if(me.isDocumentKey(n))throw new oe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function k0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function nh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Er(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nh(n);throw new oe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ul(n,e){if(!k0(n))throw new oe(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new oe(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=-62135596800,ov=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*ov);return new Ze(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<iv)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ov}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ul(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:wt("string",Ze._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ze(0,0))}static max(){return new Ee(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function kC(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new Ze(t+1,0):new Ze(t,s));return new $s(o,me.empty(),e)}function RC(n){return new $s(n.readTime,n.key,Il)}class $s{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new $s(Ee.min(),me.empty(),Il)}static max(){return new $s(Ee.max(),me.empty(),Il)}}function AC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n){if(n.code!==K.FAILED_PRECONDITION||n.message!==PC)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,s)=>{t(e)}))}static reject(e){return new Y(((t,s)=>{s(e)}))}static waitFor(e){return new Y(((t,s)=>{let o=0,l=0,c=!1;e.forEach((p=>{++o,p.next((()=>{++l,c&&l===o&&t()}),(m=>s(m)))})),c=!0,l===o&&t()}))}static or(e){let t=Y.resolve(!1);for(const s of e)t=t.next((o=>o?Y.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new Y(((s,o)=>{const l=e.length,c=new Array(l);let p=0;for(let m=0;m<l;m++){const v=m;t(e[v]).next((w=>{c[v]=w,++p,p===l&&s(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new Y(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function DC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ra(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=-1;function sh(n){return n==null}function Mc(n){return n===0&&1/n==-1/0}function OC(n){return typeof n=="number"&&Number.isInteger(n)&&!Mc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="";function LC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=av(e)),e=VC(n.get(t),e);return av(e)}function VC(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case R0:t+="";break;default:t+=l}}return t}function av(n){return n+R0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function A0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??jt.RED,this.left=o??jt.EMPTY,this.right=l??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new jt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(e){return new uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new yn([])}unionWith(e){let t=new Tt(Dt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new P0("Invalid base64 string: "+l):l}})(e);return new Lt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const MC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=MC.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="server_timestamp",D0="__type__",O0="__previous_value__",L0="__local_write_time__";function dp(n){return(n?.mapValue?.fields||{})[D0]?.stringValue===j0}function ih(n){const e=n.mapValue.fields[O0];return dp(e)?ih(e):e}function Sl(n){const e=Hs(n.mapValue.fields[L0].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t,s,o,l,c,p,m,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=w}}const Fc="(default)";class bl{constructor(e,t){this.projectId=e,this.database=t||Fc}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="__type__",UC="__max__",dc={mapValue:{}},M0="__vector__",Uc="value";function Ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dp(n)?4:zC(n)?9007199254740991:BC(n)?10:11:we(28295,{value:n})}function Tr(n,e){if(n===e)return!0;const t=Ws(n);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sl(n).isEqual(Sl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Hs(o.timestampValue),p=Hs(l.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return qs(o.bytesValue).isEqual(qs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return ft(o.geoPointValue.latitude)===ft(l.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ft(o.integerValue)===ft(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ft(o.doubleValue),p=ft(l.doubleValue);return c===p?Mc(c)===Mc(p):isNaN(c)&&isNaN(p)}return!1})(n,e);case 9:return Wo(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},p=l.mapValue.fields||{};if(lv(c)!==lv(p))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(p[m]===void 0||!Tr(c[m],p[m])))return!1;return!0})(n,e);default:return we(52216,{left:n})}}function Cl(n,e){return(n.values||[]).find((t=>Tr(t,e)))!==void 0}function Go(n,e){if(n===e)return 0;const t=Ws(n),s=Ws(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const p=ft(l.integerValue||l.doubleValue),m=ft(c.integerValue||c.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(n,e);case 3:return cv(n.timestampValue,e.timestampValue);case 4:return cv(Sl(n),Sl(e));case 5:return Ef(n.stringValue,e.stringValue);case 6:return(function(l,c){const p=qs(l),m=qs(c);return p.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const p=l.split("/"),m=c.split("/");for(let v=0;v<p.length&&v<m.length;v++){const w=je(p[v],m[v]);if(w!==0)return w}return je(p.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const p=je(ft(l.latitude),ft(c.latitude));return p!==0?p:je(ft(l.longitude),ft(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return hv(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const p=l.fields||{},m=c.fields||{},v=p[Uc]?.arrayValue,w=m[Uc]?.arrayValue,E=je(v?.values?.length||0,w?.values?.length||0);return E!==0?E:hv(v,w)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===dc.mapValue&&c===dc.mapValue)return 0;if(l===dc.mapValue)return 1;if(c===dc.mapValue)return-1;const p=l.fields||{},m=Object.keys(p),v=c.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let E=0;E<m.length&&E<w.length;++E){const I=Ef(m[E],w[E]);if(I!==0)return I;const P=Go(p[m[E]],v[w[E]]);if(P!==0)return P}return je(m.length,w.length)})(n.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function cv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=Hs(n),s=Hs(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function hv(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Go(t[o],s[o]);if(l)return l}return je(t.length,s.length)}function Ko(n){return Tf(n)}function Tf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Hs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return qs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return me.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Tf(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${Tf(t.fields[c])}`;return o+"}"})(n.mapValue):we(61005,{value:n})}function Sc(n){switch(Ws(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ih(n);return e?16+Sc(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Sc(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Zs(s.fields,((l,c)=>{o+=l.length+Sc(c)})),o})(n.mapValue);default:throw we(13486,{value:n})}}function dv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function If(n){return!!n&&"integerValue"in n}function fp(n){return!!n&&"arrayValue"in n}function fv(n){return!!n&&"nullValue"in n}function pv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bc(n){return!!n&&"mapValue"in n}function BC(n){return(n?.mapValue?.fields||{})[V0]?.stringValue===M0}function fl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Zs(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=fl(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fl(n.arrayValue.values[t]);return e}return{...n}}function zC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!bc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fl(t)}setAll(e){let t=Dt.emptyPath(),s={},o=[];e.forEach(((c,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=p.popLast()}c?s[p.lastSegment()]=fl(c):o.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());bc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Zs(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new on(fl(this.value))}}function F0(n){const e=[];return Zs(n.fields,((t,s)=>{const o=new Dt([t]);if(bc(s)){const l=F0(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,s,o,l,c,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=p}static newInvalidDocument(e){return new qt(e,0,Ee.min(),Ee.min(),Ee.min(),on.empty(),0)}static newFoundDocument(e,t,s,o){return new qt(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Ee.min(),Ee.min(),on.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ee.min(),Ee.min(),on.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t){this.position=e,this.inclusive=t}}function mv(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?s=me.comparator(me.fromName(c.referenceValue),t.key):s=Go(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function gv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t="asc"){this.field=e,this.dir=t}}function $C(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{}class _t extends U0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new qC(e,t,s):t==="array-contains"?new KC(e,s):t==="in"?new QC(e,s):t==="not-in"?new YC(e,s):t==="array-contains-any"?new XC(e,s):new _t(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new WC(e,s):new GC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Go(t,this.value)):t!==null&&Ws(this.value)===Ws(t)&&this.matchesComparison(Go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends U0{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new qn(e,t)}matches(e){return B0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B0(n){return n.op==="and"}function z0(n){return HC(n)&&B0(n)}function HC(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function Sf(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(z0(n))return n.filters.map((e=>Sf(e))).join(",");{const e=n.filters.map((t=>Sf(t))).join(",");return`${n.op}(${e})`}}function $0(n,e){return n instanceof _t?(function(s,o){return o instanceof _t&&s.op===o.op&&s.field.isEqual(o.field)&&Tr(s.value,o.value)})(n,e):n instanceof qn?(function(s,o){return o instanceof qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,p)=>l&&$0(c,o.filters[p])),!0):!1})(n,e):void we(19439)}function H0(n){return n instanceof _t?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`})(n):n instanceof qn?(function(t){return t.op.toString()+" {"+t.getFilters().map(H0).join(" ,")+"}"})(n):"Filter"}class qC extends _t{constructor(e,t,s){super(e,t,s),this.key=me.fromName(s.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class WC extends _t{constructor(e,t){super(e,"in",t),this.keys=q0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class GC extends _t{constructor(e,t){super(e,"not-in",t),this.keys=q0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function q0(n,e){return(e.arrayValue?.values||[]).map((t=>me.fromName(t.referenceValue)))}class KC extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fp(t)&&Cl(t.arrayValue,this.value)}}class QC extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cl(this.value.arrayValue,t)}}class YC extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cl(this.value.arrayValue,t)}}class XC extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Cl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,t=null,s=[],o=[],l=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=p,this.Te=null}}function yv(n,e=null,t=[],s=[],o=null,l=null,c=null){return new JC(n,e,t,s,o,l,c)}function pp(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Sf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Ko(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Ko(s))).join(",")),e.Te=t}return e.Te}function mp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$C(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gv(n.startAt,e.startAt)&&gv(n.endAt,e.endAt)}function bf(n){return me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t=null,s=[],o=[],l=null,c="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZC(n,e,t,s,o,l,c,p){return new sa(n,e,t,s,o,l,c,p)}function gp(n){return new sa(n)}function vv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function W0(n){return n.collectionGroup!==null}function pl(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new Tt(Dt.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Nl(l,s))})),t.has(Dt.keyField().canonicalString())||e.Ie.push(new Nl(Dt.keyField(),s))}return e.Ie}function vr(n){const e=Ie(n);return e.Ee||(e.Ee=eN(e,pl(n))),e.Ee}function eN(n,e){if(n.limitType==="F")return yv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Nl(o.field,l)}));const t=n.endAt?new Bc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Bc(n.startAt.position,n.startAt.inclusive):null;return yv(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Cf(n,e){const t=n.filters.concat([e]);return new sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Nf(n,e,t){return new sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function oh(n,e){return mp(vr(n),vr(e))&&n.limitType===e.limitType}function G0(n){return`${pp(vr(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>H0(o))).join(", ")}]`),sh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Ko(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Ko(o))).join(",")),`Target(${s})`})(vr(n))}; limitType=${n.limitType})`}function ah(n,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,o){for(const l of pl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(c,p,m){const v=mv(c,p,m);return c.inclusive?v<=0:v<0})(s.startAt,pl(s),o)||s.endAt&&!(function(c,p,m){const v=mv(c,p,m);return c.inclusive?v>=0:v>0})(s.endAt,pl(s),o))})(n,e)}function tN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function K0(n){return(e,t)=>{let s=!1;for(const o of pl(n)){const l=nN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function nN(n,e,t){const s=n.field.isKeyField()?me.comparator(e.key,t.key):(function(l,c,p){const m=c.data.field(l),v=p.data.field(l);return m!==null&&v!==null?Go(m,v):we(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return A0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new it(me.comparator);function es(){return rN}const Q0=new it(me.comparator);function ll(...n){let e=Q0;for(const t of n)e=e.insert(t.key,t);return e}function Y0(n){let e=Q0;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Pi(){return ml()}function X0(){return ml()}function ml(){return new Hi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const sN=new it(me.comparator),iN=new Tt(me.comparator);function De(...n){let e=iN;for(const t of n)e=e.add(t);return e}const oN=new Tt(je);function aN(){return oN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(e)?"-0":e}}function J0(n){return{integerValue:""+n}}function lN(n,e){return OC(e)?J0(e):yp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function uN(n,e,t){return n instanceof zc?(function(o,l){const c={fields:{[D0]:{stringValue:j0},[L0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&dp(l)&&(l=ih(l)),l&&(c.fields[O0]=l),{mapValue:c}})(t,e):n instanceof kl?ew(n,e):n instanceof Rl?tw(n,e):(function(o,l){const c=Z0(o,l),p=_v(c)+_v(o.Ae);return If(c)&&If(o.Ae)?J0(p):yp(o.serializer,p)})(n,e)}function cN(n,e,t){return n instanceof kl?ew(n,e):n instanceof Rl?tw(n,e):t}function Z0(n,e){return n instanceof $c?(function(s){return If(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class zc extends lh{}class kl extends lh{constructor(e){super(),this.elements=e}}function ew(n,e){const t=nw(e);for(const s of n.elements)t.some((o=>Tr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Rl extends lh{constructor(e){super(),this.elements=e}}function tw(n,e){let t=nw(e);for(const s of n.elements)t=t.filter((o=>!Tr(o,s)));return{arrayValue:{values:t}}}class $c extends lh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function _v(n){return ft(n.integerValue||n.doubleValue)}function nw(n){return fp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function hN(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof kl&&o instanceof kl||s instanceof Rl&&o instanceof Rl?Wo(s.elements,o.elements,Tr):s instanceof $c&&o instanceof $c?Tr(s.Ae,o.Ae):s instanceof zc&&o instanceof zc})(n.transform,e.transform)}class dN{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class uh{}function rw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new iw(n.key,$n.none()):new Bl(n.key,n.data,$n.none());{const t=n.data,s=on.empty();let o=new Tt(Dt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new ei(n.key,s,new yn(o.toArray()),$n.none())}}function fN(n,e,t){n instanceof Bl?(function(o,l,c){const p=o.value.clone(),m=xv(o.fieldTransforms,l,c.transformResults);p.setAll(m),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):n instanceof ei?(function(o,l,c){if(!Cc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const p=xv(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(sw(o)),m.setAll(p),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function gl(n,e,t,s){return n instanceof Bl?(function(l,c,p,m){if(!Cc(l.precondition,c))return p;const v=l.value.clone(),w=Ev(l.fieldTransforms,m,c);return v.setAll(w),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof ei?(function(l,c,p,m){if(!Cc(l.precondition,c))return p;const v=Ev(l.fieldTransforms,m,c),w=c.data;return w.setAll(sw(l)),w.setAll(v),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(l,c,p){return Cc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p})(n,e,t)}function pN(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=Z0(s.transform,o||null);l!=null&&(t===null&&(t=on.empty()),t.set(s.field,l))}return t||null}function wv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Wo(s,o,((l,c)=>hN(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bl extends uh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ei extends uh{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function sw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function xv(n,e,t){const s=new Map;ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,p=e.data.field(l.field);s.set(l.field,cN(c,p,t[o]))}return s}function Ev(n,e,t){const s=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);s.set(o.field,uN(l,c,e))}return s}class iw extends uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mN extends uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&fN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=gl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=gl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=X0();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let p=this.applyToLocalView(c,l.mutatedFields);p=t.has(o.key)?null:p;const m=rw(c,p);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((t,s)=>wv(t,s)))&&Wo(this.baseMutations,e.baseMutations,((t,s)=>wv(t,s)))}}class vp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return sN})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new vp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Le;function _N(n){switch(n){case K.OK:return we(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function ow(n){if(n===void 0)return Zr("GRPC error has no .code"),K.UNKNOWN;switch(n){case vt.OK:return K.OK;case vt.CANCELLED:return K.CANCELLED;case vt.UNKNOWN:return K.UNKNOWN;case vt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case vt.INTERNAL:return K.INTERNAL;case vt.UNAVAILABLE:return K.UNAVAILABLE;case vt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case vt.NOT_FOUND:return K.NOT_FOUND;case vt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case vt.ABORTED:return K.ABORTED;case vt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case vt.DATA_LOSS:return K.DATA_LOSS;default:return we(39323,{code:n})}}(Le=vt||(vt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new Us([4294967295,4294967295],0);function Tv(n){const e=wN().encode(n),t=new w0;return t.update(e),new Uint8Array(t.digest())}function Iv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Us([t,s],0),new Us([o,l],0)]}class _p{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ul(`Invalid padding: ${t}`);if(s<0)throw new ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ul(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Us.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Us.fromNumber(s)));return o.compare(xN)===1&&(o=new Us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Tv(e),[s,o]=Iv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new _p(l,o,t);return s.forEach((p=>c.insert(p))),c}insert(e){if(this.ge===0)return;const t=Tv(e),[s,o]=Iv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,zl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ch(Ee.min(),o,new it(je),es(),De())}}class zl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new zl(s,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class aw{constructor(e,t){this.targetId=e,this.Ce=t}}class lw{constructor(e,t,s=Lt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Sv{constructor(){this.ve=0,this.Fe=bv(),this.Me=Lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),t=De(),s=De();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:l})}})),new zl(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=bv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EN{constructor(e){this.Ge=e,this.ze=new Map,this.je=es(),this.Je=fc(),this.He=fc(),this.Ye=new it(je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(bf(l))if(s===0){const c=new me(l.path);this.et(t,c,qt.newNoDocument(c,Ee.min()))}else ze(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const p=this.ut(e),m=p?this.ct(p,e,c):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,p;try{c=qs(s).toUint8Array()}catch(m){if(m instanceof P0)return qo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new _p(c,o,l)}catch(m){return qo(m instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),p=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const p=this.ot(c);if(p){if(l.current&&bf(p.target)){const m=new me(p.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,qt.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=De();this.He.forEach(((l,c)=>{let p=!0;c.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new ch(e,t,this.Ye,this.je,s);return this.je=es(),this.Je=fc(),this.He=fc(),this.Ye=new it(je),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Sv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Tt(je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Tt(je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Sv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function fc(){return new it(me.comparator)}function bv(){return new it(me.comparator)}const TN={asc:"ASCENDING",desc:"DESCENDING"},IN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SN={and:"AND",or:"OR"};class bN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kf(n,e){return n.useProto3Json||sh(e)?e:{value:e}}function Hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function CN(n,e){return Hc(n,e.toTimestamp())}function _r(n){return ze(!!n,49232),Ee.fromTimestamp((function(t){const s=Hs(t);return new Ze(s.seconds,s.nanos)})(n))}function wp(n,e){return Rf(n,e).canonicalString()}function Rf(n,e){const t=(function(o){return new Qe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function cw(n){const e=Qe.fromString(n);return ze(mw(e),10190,{key:e.toString()}),e}function Af(n,e){return wp(n.databaseId,e.path)}function nf(n,e){const t=cw(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(dw(t))}function hw(n,e){return wp(n.databaseId,e)}function NN(n){const e=cw(n);return e.length===4?Qe.emptyPath():dw(e)}function Pf(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dw(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Cv(n,e,t){return{name:Af(n,e),fields:t.value.mapValue.fields}}function kN(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:we(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,w){return v.useProto3Json?(ze(w===void 0||typeof w=="string",58123),Lt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Lt.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&(function(v){const w=v.code===void 0?K.UNKNOWN:ow(v.code);return new oe(w,v.message||"")})(c);t=new lw(s,o,l,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=nf(n,s.document.name),l=_r(s.document.updateTime),c=s.document.createTime?_r(s.document.createTime):Ee.min(),p=new on({mapValue:{fields:s.document.fields}}),m=qt.newFoundDocument(o,l,c,p),v=s.targetIds||[],w=s.removedTargetIds||[];t=new Nc(v,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=nf(n,s.document),l=s.readTime?_r(s.readTime):Ee.min(),c=qt.newNoDocument(o,l),p=s.removedTargetIds||[];t=new Nc([],p,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=nf(n,s.document),l=s.removedTargetIds||[];t=new Nc([],l,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new vN(o,l),p=s.targetId;t=new aw(p,c)}}return t}function RN(n,e){let t;if(e instanceof Bl)t={update:Cv(n,e.key,e.value)};else if(e instanceof iw)t={delete:Af(n,e.key)};else if(e instanceof ei)t={update:Cv(n,e.key,e.data),updateMask:FN(e.fieldMask)};else{if(!(e instanceof mN))return we(16599,{Vt:e.type});t={verify:Af(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const p=c.transform;if(p instanceof zc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Rl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $c)return{fieldPath:c.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:CN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(n,e.precondition)),t}function AN(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?_r(o.updateTime):_r(l);return c.isEqual(Ee.min())&&(c=_r(l)),new dN(c,o.transformResults||[])})(t,e)))):[]}function PN(n,e){return{documents:[hw(n,e.path)]}}function jN(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=hw(n,o);const l=(function(v){if(v.length!==0)return pw(qn.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(v){if(v.length!==0)return v.map((w=>(function(I){return{field:Mo(I.field),direction:LN(I.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=kf(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function DN(n){let e=NN(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ze(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(E){const I=fw(E);return I instanceof qn&&z0(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((I=>(function(z){return new Nl(Fo(z.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(I)))})(t.orderBy));let p=null;t.limit&&(p=(function(E){let I;return I=typeof E=="object"?E.value:E,sh(I)?null:I})(t.limit));let m=null;t.startAt&&(m=(function(E){const I=!!E.before,P=E.values||[];return new Bc(P,I)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const I=!E.before,P=E.values||[];return new Bc(P,I)})(t.endAt)),ZC(e,o,c,l,p,"F",m,v)}function ON(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Fo(t.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fo(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Fo(t.unaryFilter.field);return _t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Fo(t.unaryFilter.field);return _t.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(n):n.fieldFilter!==void 0?(function(t){return _t.create(Fo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return qn.create(t.compositeFilter.filters.map((s=>fw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(n):we(30097,{filter:n})}function LN(n){return TN[n]}function VN(n){return IN[n]}function MN(n){return SN[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function Fo(n){return Dt.fromServerFormat(n.fieldPath)}function pw(n){return n instanceof _t?(function(t){if(t.op==="=="){if(pv(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(fv(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pv(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(fv(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:VN(t.op),value:t.value}}})(n):n instanceof qn?(function(t){const s=t.getFilters().map((o=>pw(o)));return s.length===1?s[0]:{compositeFilter:{op:MN(t.op),filters:s}}})(n):we(54877,{filter:n})}function FN(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function mw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,s,o,l=Ee.min(),c=Ee.min(),p=Lt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.yt=e}}function BN(n){const e=DN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Cn=new $N}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve($s.min())}updateCollectionGroup(e,t,s){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class $N{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Tt(Qe.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Tt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gw=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(gw,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qo(0)}static cr(){return new Qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="LruGarbageCollector",HN=1048576;function Rv([n,e],[t,s]){const o=je(n,t);return o===0?je(e,s):o}class qN{constructor(e){this.Ir=e,this.buffer=new Tt(Rv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Rv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(kv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ra(t)?ue(kv,"Ignoring IndexedDB error during garbage collection: ",t):await na(t)}await this.Vr(3e5)}))}}class GN{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(rh.ce);const s=new qN(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Nv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,c,p,m,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),Lo()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${l} targets in `+(m-p)+`ms
	Removed ${E} documents in `+(v-m)+`ms
Total Duration: ${v-w}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function KN(n,e){return new GN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.changes=new Hi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Y.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&gl(s.mutation,o,yn.empty(),Ze.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,De()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=De()){const o=Pi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let c=ll();return l.forEach(((p,m)=>{c=c.insert(p,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Pi();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,De())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,p)=>{t.set(c,p)}))}))}computeViews(e,t,s,o){let l=es();const c=ml(),p=(function(){return ml()})();return t.forEach(((m,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof ei)?l=l.insert(v.key,v):w!==void 0?(c.set(v.key,w.mutation.getFieldMask()),gl(w.mutation,v,w.mutation.getFieldMask(),Ze.now())):c.set(v.key,yn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((v,w)=>c.set(v,w))),t.forEach(((v,w)=>p.set(v,new YN(w,c.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=ml();let o=new it(((c,p)=>c-p)),l=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const p of c)p.keys().forEach((m=>{const v=t.get(m);if(v===null)return;let w=s.get(m)||yn.empty();w=p.applyToLocalView(v,w),s.set(m,w);const E=(o.get(p.batchId)||De()).add(m);o=o.insert(p.batchId,E)}))})).next((()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),v=m.key,w=m.value,E=X0();w.forEach((I=>{if(!l.has(I)){const P=rw(t.get(I),s.get(I));P!==null&&E.set(I,P),l=l.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,E))}return Y.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):W0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Y.resolve(Pi());let p=Il,m=l;return c.next((v=>Y.forEach(v,((w,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),l.get(w)?Y.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{m=m.insert(w,I)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,m,v,De()))).next((w=>({batchId:p,changes:Y0(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((s=>{let o=ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=ll();return this.indexManager.getCollectionParents(e,l).next((p=>Y.forEach(p,(m=>{const v=(function(E,I){return new sa(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((E,I)=>{c=c.insert(E,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((c=>{l.forEach(((m,v)=>{const w=v.getKey();c.get(w)===null&&(c=c.insert(w,qt.newInvalidDocument(w)))}));let p=ll();return c.forEach(((m,v)=>{const w=l.get(m);w!==void 0&&gl(w.mutation,v,yn.empty(),Ze.now()),ah(t,v)&&(p=p.insert(m,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:BN(o.bundledQuery),readTime:_r(o.readTime)}})(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.overlays=new it(me.comparator),this.qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Pi();return Y.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),Y.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(e,t,s){const o=Pi(),l=t.length+1,c=new me(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const m=p.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new it(((v,w)=>v-w));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=l.get(v.largestBatchId);w===null&&(w=Pi(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const p=Pi(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,w)=>p.set(v,w))),!(p.size()>=o)););return Y.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new yN(t,s));let l=this.qr.get(t);l===void 0&&(l=De(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.Qr=new Tt(Nt.$r),this.Ur=new Tt(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Nt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Nt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new me(new Qe([])),s=new Nt(t,e),o=new Nt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new me(new Qe([])),s=new Nt(t,e),o=new Nt(t,e+1);let l=De();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Nt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Nt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return me.comparator(e.key,t.key)||je(e.Yr,t.Yr)}static Kr(e,t){return je(e.Yr,t.Yr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(Nt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new gN(l,t,s,o);this.mutationQueue.push(c);for(const p of o)this.Zr=this.Zr.add(new Nt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Y.resolve(c)}lookupMutationBatch(e,t){return Y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?hp:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Nt(t,0),o=new Nt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const p=this.Xr(c.Yr);l.push(p)})),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Tt(je);return t.forEach((o=>{const l=new Nt(o,0),c=new Nt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(p=>{s=s.add(p.Yr)}))})),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;me.isDocumentKey(l)||(l=l.child(""));const c=new Nt(new me(l),0);let p=new Tt(je);return this.Zr.forEachWhile((m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(p=p.add(m.Yr)),!0)}),c),Y.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(t.mutations,(o=>{const l=new Nt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Nt(t,0),o=this.Zr.firstAfterOrEqual(s);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.ri=e,this.docs=(function(){return new it(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Y.resolve(s?s.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let s=es();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():qt.newInvalidDocument(o))})),Y.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=es();const c=t.path,p=new me(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||AC(RC(w),s)<=0||(o.has(w.key)||ah(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,t,s,o){we(9500)}ii(e,t){return Y.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new rk(this)}getSize(e){return Y.resolve(this.size)}}class rk extends QN{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.persistence=e,this.si=new Hi((t=>pp(t)),mp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new xp,this.targetCount=0,this.ai=Qo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),Y.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Qo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Pr(t),Y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((c,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Y.waitFor(l).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return Y.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),Y.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Y.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return Y.resolve(s)}containsKey(e,t){return Y.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new ek,this.referenceDelegate=e(this),this.Pi=new sk(this),this.indexManager=new zN,this.remoteDocumentCache=(function(o){return new nk(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new UN(t),this.Ii=new JN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new tk(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new ik(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return Y.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class ik extends jC{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.Ri=new xp,this.Vi=null}static mi(e){return new Ep(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),Y.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class qc{constructor(e,t){this.persistence=e,this.pi=new Hi((s=>LC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=KN(this,t)}static mi(e,t){return new qc(e,t)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return Y.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?Y.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((p=>{p||(s++,l.removeEntry(c,Ee.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sc(e.data.value)),t}br(e,t,s){return Y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=De(),o=De();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Tp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return L1()?8:DC(Wt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new ok;return this.Ss(e,t,c).next((p=>{if(l.result=p,this.Vs)return this.bs(e,t,c,p.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Lo()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Lo()<=Pe.DEBUG&&ue("QueryEngine","Query:",Vo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Lo()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):Y.resolve())}ys(e,t){if(vv(t))return Y.resolve(null);let s=vr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Nf(t,null,"F"),s=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=De(...l);return this.ps.getDocuments(e,c).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const v=this.Ds(t,p);return this.Cs(t,v,c,m.readTime)?this.ys(e,Nf(t,null,"F")):this.vs(e,v,t,m)}))))})))))}ws(e,t,s,o){return vv(t)||o.isEqual(Ee.min())?Y.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,o)?Y.resolve(null):(Lo()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vo(t)),this.vs(e,c,t,kC(o,Il)).next((p=>p)))}))}Ds(e,t){let s=new Tt(K0(e));return t.forEach(((o,l)=>{ah(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return Lo()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ps.getDocumentsMatchingQuery(e,t,$s.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="LocalStore",lk=3e8;class uk{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new it(je),this.xs=new Hi((l=>pp(l)),mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function ck(n,e,t,s){return new uk(n,e,t,s)}async function vw(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],p=[];let m=De();for(const v of o){c.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of l){p.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(s,m).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:p})))}))}))}function hk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,m,v,w){const E=v.batch,I=E.keys();let P=Y.resolve();return I.forEach((z=>{P=P.next((()=>w.getEntry(m,z))).next((F=>{const j=v.docVersions.get(z);ze(j!==null,48541),F.version.compareTo(j)<0&&(E.applyToRemoteDocument(F,v),F.isValidDocument()&&(F.setReadTime(v.commitVersion),w.addEntry(F)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(m,E)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=De();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(m=m.add(p.batch.mutations[v].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function _w(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function dk(n,e){const t=Ie(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((w,E)=>{const I=o.get(E);if(!I)return;p.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,w.addedDocuments,E))));let P=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?P=P.withResumeToken(Lt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(w.resumeToken,s)),o=o.insert(E,P),(function(F,j,H){return F.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=lk?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(I,P,w)&&p.push(t.Pi.updateTargetData(l,P))}));let m=es(),v=De();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),p.push(fk(l,c,e.documentUpdates).next((w=>{m=w.ks,v=w.qs}))),!s.isEqual(Ee.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));p.push(w)}return Y.waitFor(p).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,v))).next((()=>m))})).then((l=>(t.Ms=o,l)))}function fk(n,e,t){let s=De(),o=De();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let c=es();return t.forEach(((p,m)=>{const v=l.get(p);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(p,m.readTime),c=c.insert(p,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(p,m)):ue(Ip,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function pk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=hp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function mk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,Y.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new Vs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function jf(n,e,t){const s=Ie(n),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!ra(c))throw c;ue(Ip,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Av(n,e,t){const s=Ie(n);let o=Ee.min(),l=De();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,v,w){const E=Ie(m),I=E.xs.get(w);return I!==void 0?Y.resolve(E.Ms.get(I)):E.Pi.getTargetData(v,w)})(s,c,vr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,p.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:Ee.min(),t?l:De()))).next((p=>(gk(s,tN(e),p),{documents:p,Qs:l})))))}function gk(n,e,t){let s=n.Os.get(e)||Ee.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(e,s)}class Pv{constructor(){this.activeTargetIds=aN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yk{constructor(){this.Mo=new Pv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Pv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="ConnectivityMonitor";class Dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(jv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(jv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function Df(){return pc===null?pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="RestConnection",_k={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const c=Df(),p=this.zo(e,t.toUriEncodedString());ue(rf,`Sending RPC '${e}' ${c}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:v}=new URL(p),w=Qs(v);return this.Jo(e,p,m,s,w).then((E=>(ue(rf,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw qo(rf,`RPC '${e}' ${c} failed with error: `,E,"url: ",p,"request:",s),E}))}Ho(e,t,s,o,l,c){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ta})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=_k[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class Ek extends wk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const c=Df();return new Promise(((p,m)=>{const v=new x0;v.setWithCredentials(!0),v.listenOnce(E0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Ic.NO_ERROR:const E=v.getResponseJson();ue(zt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),p(E);break;case Ic.TIMEOUT:ue(zt,`RPC '${e}' ${c} timed out`),m(new oe(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const I=v.getStatus();if(ue(zt,`RPC '${e}' ${c} failed with status:`,I,"response text:",v.getResponseText()),I>0){let P=v.getResponseJson();Array.isArray(P)&&(P=P[0]);const z=P?.error;if(z&&z.status&&z.message){const F=(function(H){const G=H.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(G)>=0?G:K.UNKNOWN})(z.status);m(new oe(F,z.message))}else m(new oe(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new oe(K.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ue(zt,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);ue(zt,`RPC '${e}' ${c} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=Df(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=S0(),p=I0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const w=l.join("");ue(zt,`Creating RPC '${e}' stream ${o}: ${w}`,m);const E=c.createWebChannel(w,m);this.I_(E);let I=!1,P=!1;const z=new xk({Yo:j=>{P?ue(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(I||(ue(zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),ue(zt,`RPC '${e}' stream ${o} sending:`,j),E.send(j))},Zo:()=>E.close()}),F=(j,H,G)=>{j.listen(H,(Q=>{try{G(Q)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return F(E,al.EventType.OPEN,(()=>{P||(ue(zt,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),F(E,al.EventType.CLOSE,(()=>{P||(P=!0,ue(zt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(E))})),F(E,al.EventType.ERROR,(j=>{P||(P=!0,qo(zt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),z.a_(new oe(K.UNAVAILABLE,"The operation could not be completed")))})),F(E,al.EventType.MESSAGE,(j=>{if(!P){const H=j.data[0];ze(!!H,16349);const G=H,Q=G?.error||G[0]?.error;if(Q){ue(zt,`RPC '${e}' stream ${o} received error:`,Q);const ie=Q.status;let ve=(function(S){const b=vt[S];if(b!==void 0)return ow(b)})(ie),te=Q.message;ve===void 0&&(ve=K.INTERNAL,te="Unknown error status: "+ie+" with message "+Q.message),P=!0,z.a_(new oe(ve,te)),E.close()}else ue(zt,`RPC '${e}' stream ${o} received:`,H),z.u_(H)}})),F(p,T0.STAT_EVENT,(j=>{j.stat===xf.PROXY?ue(zt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===xf.NOPROXY&&ue(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(n){return new bN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="PersistentStream";class xw{constructor(e,t,s,o,l,c,p,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ww(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(Ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Tk extends xw{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=kN(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ee.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ee.min():c.readTime?_r(c.readTime):Ee.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Pf(this.serializer),t.addTarget=(function(l,c){let p;const m=c.target;if(p=bf(m)?{documents:PN(l,m)}:{query:jN(l,m).ft},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=uw(l,c.resumeToken);const v=kf(l,c.expectedCount);v!==null&&(p.expectedCount=v)}else if(c.snapshotVersion.compareTo(Ee.min())>0){p.readTime=Hc(l,c.snapshotVersion.toTimestamp());const v=kf(l,c.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const s=ON(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Pf(this.serializer),t.removeTarget=e,this.q_(t)}}class Ik extends xw{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=AN(e.writeResults,e.commitTime),s=_r(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Pf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>RN(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{}class bk extends Sk{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Rf(t,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(K.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Ho(e,Rf(t,s),o,c,p,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(K.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ck{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="RemoteStore";class Nk{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{qi(this)&&(ue(Ui,"Restarting streams for network reachability change."),await(async function(m){const v=Ie(m);v.Ea.add(4),await $l(v),v.Ra.set("Unknown"),v.Ea.delete(4),await dh(v)})(this))}))})),this.Ra=new Ck(s,o)}}async function dh(n){if(qi(n))for(const e of n.da)await e(!0)}async function $l(n){for(const e of n.da)await e(!1)}function Ew(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Np(t)?Cp(t):ia(t).O_()&&bp(t,e))}function Sp(n,e){const t=Ie(n),s=ia(t);t.Ia.delete(e),s.O_()&&Tw(t,e),t.Ia.size===0&&(s.O_()?s.L_():qi(t)&&t.Ra.set("Unknown"))}function bp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).Y_(e)}function Tw(n,e){n.Va.Ue(e),ia(n).Z_(e)}function Cp(n){n.Va=new EN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.Ra.ua()}function Np(n){return qi(n)&&!ia(n).x_()&&n.Ia.size>0}function qi(n){return Ie(n).Ea.size===0}function Iw(n){n.Va=void 0}async function kk(n){n.Ra.set("Online")}async function Rk(n){n.Ia.forEach(((e,t)=>{bp(n,e)}))}async function Ak(n,e){Iw(n),Np(n)?(n.Ra.ha(e),Cp(n)):n.Ra.set("Unknown")}async function Pk(n,e,t){if(n.Ra.set("Online"),e instanceof lw&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const p of l.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(s){ue(Ui,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wc(n,s)}else if(e instanceof Nc?n.Va.Ze(e):e instanceof aw?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ee.min()))try{const s=await _w(n.localStore);t.compareTo(s)>=0&&await(function(l,c){const p=l.Va.Tt(c);return p.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=l.Ia.get(v);w&&l.Ia.set(v,w.withResumeToken(m.resumeToken,c))}})),p.targetMismatches.forEach(((m,v)=>{const w=l.Ia.get(m);if(!w)return;l.Ia.set(m,w.withResumeToken(Lt.EMPTY_BYTE_STRING,w.snapshotVersion)),Tw(l,m);const E=new Vs(w.target,m,v,w.sequenceNumber);bp(l,E)})),l.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(s){ue(Ui,"Failed to raise snapshot:",s),await Wc(n,s)}}async function Wc(n,e,t){if(!ra(e))throw e;n.Ea.add(1),await $l(n),n.Ra.set("Offline"),t||(t=()=>_w(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(Ui,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await dh(n)}))}function Sw(n,e){return e().catch((t=>Wc(n,t,e)))}async function fh(n){const e=Ie(n),t=Gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hp;for(;jk(e);)try{const o=await pk(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,Dk(e,o)}catch(o){await Wc(e,o)}bw(e)&&Cw(e)}function jk(n){return qi(n)&&n.Ta.length<10}function Dk(n,e){n.Ta.push(e);const t=Gs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function bw(n){return qi(n)&&!Gs(n).x_()&&n.Ta.length>0}function Cw(n){Gs(n).start()}async function Ok(n){Gs(n).ra()}async function Lk(n){const e=Gs(n);for(const t of n.Ta)e.ea(t.mutations)}async function Vk(n,e,t){const s=n.Ta.shift(),o=vp.from(s,e,t);await Sw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await fh(n)}async function Mk(n,e){e&&Gs(n).X_&&await(async function(s,o){if((function(c){return _N(c)&&c!==K.ABORTED})(o.code)){const l=s.Ta.shift();Gs(s).B_(),await Sw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await fh(s)}})(n,e),bw(n)&&Cw(n)}async function Lv(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ue(Ui,"RemoteStore received new credentials");const s=qi(t);t.Ea.add(3),await $l(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await dh(t)}async function Fk(n,e){const t=Ie(n);e?(t.Ea.delete(2),await dh(t)):e||(t.Ea.add(2),await $l(t),t.Ra.set("Unknown"))}function ia(n){return n.ma||(n.ma=(function(t,s,o){const l=Ie(t);return l.sa(),new Tk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:kk.bind(null,n),t_:Rk.bind(null,n),r_:Ak.bind(null,n),H_:Pk.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Np(n)?Cp(n):n.Ra.set("Unknown")):(await n.ma.stop(),Iw(n))}))),n.ma}function Gs(n){return n.fa||(n.fa=(function(t,s,o){const l=Ie(t);return l.sa(),new Ik(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ok.bind(null,n),r_:Mk.bind(null,n),ta:Lk.bind(null,n),na:Vk.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await fh(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(Ui,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,p=new kp(e,t,c,o,l);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rp(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),ra(n))return new oe(K.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{static emptySet(e){return new $o(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||me.comparator(t.key,s.key):(t,s)=>me.comparator(t.key,s.key),this.keyedMap=ll(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new $o;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.ga=new it(me.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Yo{constructor(e,t,s,o,l,c,p,m,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach((p=>{c.push({type:0,doc:p})})),new Yo(e,t,$o.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Bk{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ie(t),l=o.queries;o.queries=Mv(),l.forEach(((c,p)=>{for(const m of p.Sa)m.onError(s)}))})(this,new oe(K.ABORTED,"Firestore shutting down"))}}function Mv(){return new Hi((n=>G0(n)),oh)}async function Nw(n,e){const t=Ie(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new Uk,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const p=Rp(c,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ap(t)}async function kw(n,e){const t=Ie(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function zk(n,e){const t=Ie(n);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const p of c.Sa)p.Fa(o)&&(s=!0);c.wa=o}}s&&Ap(t)}function $k(n,e,t){const s=Ie(n),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Ap(n){n.Ca.forEach((e=>{e.next()}))}var Of,Fv;(Fv=Of||(Of={})).Ma="default",Fv.Cache="cache";class Rw{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.key=e}}class Pw{constructor(e){this.key=e}}class Hk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=K0(e),this.tu=new $o(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Vv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const I=o.get(w),P=ah(this.query,E)?E:null,z=!!I&&this.mutatedKeys.has(I.key),F=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let j=!1;I&&P?I.data.isEqual(P.data)?z!==F&&(s.track({type:3,doc:P}),j=!0):this.su(I,P)||(s.track({type:2,doc:P}),j=!0,(m&&this.eu(P,m)>0||v&&this.eu(P,v)<0)&&(p=!0)):!I&&P?(s.track({type:0,doc:P}),j=!0):I&&!P&&(s.track({type:1,doc:I}),j=!0,(m||v)&&(p=!0)),j&&(P?(c=c.add(P),l=F?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{tu:c,iu:s,Cs:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,E)=>(function(P,z){const F=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:j})}};return F(P)-F(z)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,v=m!==this.Za;return this.Za=m,c.length!==0||v?{snapshot:new Yo(this.query,e.tu,l,c,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Pw(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new Aw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=De();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pp="SyncEngine";class qk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Wk{constructor(e){this.key=e,this.hu=!1}}class Gk{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Hi((p=>G0(p)),oh),this.Iu=new Map,this.Eu=new Set,this.du=new it(me.comparator),this.Au=new Map,this.Ru=new xp,this.Vu={},this.mu=new Map,this.fu=Qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kk(n,e,t=!0){const s=Mw(n);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await jw(s,e,t,!0),o}async function Qk(n,e){const t=Mw(n);await jw(t,e,!0,!1)}async function jw(n,e,t,s){const o=await mk(n.localStore,vr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let p;return s&&(p=await Yk(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Ew(n.remoteStore,o),p}async function Yk(n,e,t,s,o){n.pu=(E,I,P)=>(async function(F,j,H,G){let Q=j.view.ru(H);Q.Cs&&(Q=await Av(F.localStore,j.query,!1).then((({documents:A})=>j.view.ru(A,Q))));const ie=G&&G.targetChanges.get(j.targetId),ve=G&&G.targetMismatches.get(j.targetId)!=null,te=j.view.applyChanges(Q,F.isPrimaryClient,ie,ve);return Bv(F,j.targetId,te.au),te.snapshot})(n,E,I,P);const l=await Av(n.localStore,e,!0),c=new Hk(e,l.Qs),p=c.ru(l.documents),m=zl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=c.applyChanges(p,n.isPrimaryClient,m);Bv(n,t,v.au);const w=new qk(e,t,c);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function Xk(n,e,t){const s=Ie(n),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!oh(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jf(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Sp(s.remoteStore,o.targetId),Lf(s,o.targetId)})).catch(na)):(Lf(s,o.targetId),await jf(s.localStore,o.targetId,!0))}async function Jk(n,e){const t=Ie(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Sp(t.remoteStore,s.targetId))}async function Zk(n,e,t){const s=oR(n);try{const o=await(function(c,p){const m=Ie(c),v=Ze.now(),w=p.reduce(((P,z)=>P.add(z.key)),De());let E,I;return m.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let z=es(),F=De();return m.Ns.getEntries(P,w).next((j=>{z=j,z.forEach(((H,G)=>{G.isValidDocument()||(F=F.add(H))}))})).next((()=>m.localDocuments.getOverlayedDocuments(P,z))).next((j=>{E=j;const H=[];for(const G of p){const Q=pN(G,E.get(G.key).overlayedDocument);Q!=null&&H.push(new ei(G.key,Q,F0(Q.value.mapValue),$n.exists(!0)))}return m.mutationQueue.addMutationBatch(P,v,H,p)})).next((j=>{I=j;const H=j.applyToLocalDocumentSet(E,F);return m.documentOverlayCache.saveOverlays(P,j.batchId,H)}))})).then((()=>({batchId:I.batchId,changes:Y0(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,p,m){let v=c.Vu[c.currentUser.toKey()];v||(v=new it(je)),v=v.insert(p,m),c.Vu[c.currentUser.toKey()]=v})(s,o.batchId,t),await Hl(s,o.changes),await fh(s.remoteStore)}catch(o){const l=Rp(o,"Failed to persist write");t.reject(l)}}async function Dw(n,e){const t=Ie(n);try{const s=await dk(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ze(c.hu,14607):o.removedDocuments.size>0&&(ze(c.hu,42227),c.hu=!1))})),await Hl(t,s,e)}catch(s){await na(s)}}function Uv(n,e,t){const s=Ie(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,c)=>{const p=c.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(c,p){const m=Ie(c);m.onlineState=p;let v=!1;m.queries.forEach(((w,E)=>{for(const I of E.Sa)I.va(p)&&(v=!0)})),v&&Ap(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function eR(n,e,t){const s=Ie(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new it(me.comparator);c=c.insert(l,qt.newNoDocument(l,Ee.min()));const p=De().add(l),m=new ch(Ee.min(),new Map,new it(je),c,p);await Dw(s,m),s.du=s.du.remove(l),s.Au.delete(e),jp(s)}else await jf(s.localStore,e,!1).then((()=>Lf(s,e,t))).catch(na)}async function tR(n,e){const t=Ie(n),s=e.batch.batchId;try{const o=await hk(t.localStore,e);Lw(t,s,null),Ow(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Hl(t,o)}catch(o){await na(o)}}async function nR(n,e,t){const s=Ie(n);try{const o=await(function(c,p){const m=Ie(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return m.mutationQueue.lookupMutationBatch(v,p).next((E=>(ze(E!==null,37113),w=E.keys(),m.mutationQueue.removeMutationBatch(v,E)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,w,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>m.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);Lw(s,e,t),Ow(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Hl(s,o)}catch(o){await na(o)}}function Ow(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Lw(n,e,t){const s=Ie(n);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Lf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||Vw(n,s)}))}function Vw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Sp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),jp(n))}function Bv(n,e,t){for(const s of t)s instanceof Aw?(n.Ru.addReference(s.key,e),rR(n,s)):s instanceof Pw?(ue(Pp,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||Vw(n,s.key)):we(19791,{wu:s})}function rR(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ue(Pp,"New document in limbo: "+t),n.Eu.add(s),jp(n))}function jp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new me(Qe.fromString(e)),s=n.fu.next();n.Au.set(s,new Wk(t)),n.du=n.du.insert(t,s),Ew(n.remoteStore,new Vs(vr(gp(t.path)),s,"TargetPurposeLimboResolution",rh.ce))}}async function Hl(n,e,t){const s=Ie(n),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{c.push(s.pu(m,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(v){o.push(v);const w=Tp.As(m.targetId,v);l.push(w)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(m,v){const w=Ie(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Y.forEach(v,(I=>Y.forEach(I.Es,(P=>w.persistence.referenceDelegate.addReference(E,I.targetId,P))).next((()=>Y.forEach(I.ds,(P=>w.persistence.referenceDelegate.removeReference(E,I.targetId,P)))))))))}catch(E){if(!ra(E))throw E;ue(Ip,"Failed to update sequence numbers: "+E)}for(const E of v){const I=E.targetId;if(!E.fromCache){const P=w.Ms.get(I),z=P.snapshotVersion,F=P.withLastLimboFreeSnapshotVersion(z);w.Ms=w.Ms.insert(I,F)}}})(s.localStore,l))}async function sR(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ue(Pp,"User change. New user:",e.toKey());const s=await vw(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((p=>{p.forEach((m=>{m.reject(new oe(K.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hl(t,s.Ls)}}function iR(n,e){const t=Ie(n),s=t.Au.get(e);if(s&&s.hu)return De().add(s.key);{let o=De();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const p=t.Tu.get(c);o=o.unionWith(p.view.nu)}return o}}function Mw(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eR.bind(null,e),e.Pu.H_=zk.bind(null,e.eventManager),e.Pu.yu=$k.bind(null,e.eventManager),e}function oR(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nR.bind(null,e),e}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ck(this.persistence,new ak,e.initialUser,this.serializer)}Cu(e){return new yw(Ep.mi,this.serializer)}Du(e){return new yk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class aR extends Gc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof qc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new WN(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new yw((s=>qc.mi(s,t)),this.serializer)}}class Vf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Uv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sR.bind(null,this.syncEngine),await Fk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Bk})()}createDatastore(e){const t=hh(e.databaseInfo.databaseId),s=(function(l){return new Ek(l)})(e.databaseInfo);return(function(l,c,p,m){return new bk(l,c,p,m)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,c,p){return new Nk(s,o,l,c,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>Uv(this.syncEngine,t,0)),(function(){return Dv.v()?new Dv:new vk})())}createSyncEngine(e,t){return(function(o,l,c,p,m,v,w){const E=new Gk(o,l,c,p,m,v);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ie(t);ue(Ui,"RemoteStore shutting down."),s.Ea.add(5),await $l(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vf.provider={build:()=>new Vf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class lR{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ht.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ue(Ks,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ue(Ks,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Rp(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function of(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Ks,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await vw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function zv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await uR(n);ue(Ks,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Lv(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Lv(e.remoteStore,o))),n._onlineComponents=e}async function uR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Ks,"Using user provided OfflineComponentProvider");try{await of(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),await of(n,new Gc)}}else ue(Ks,"Using default OfflineComponentProvider"),await of(n,new aR(void 0));return n._offlineComponents}async function Uw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Ks,"Using user provided OnlineComponentProvider"),await zv(n,n._uninitializedComponentsProvider._online)):(ue(Ks,"Using default OnlineComponentProvider"),await zv(n,new Vf))),n._onlineComponents}function cR(n){return Uw(n).then((e=>e.syncEngine))}async function Bw(n){const e=await Uw(n),t=e.eventManager;return t.onListen=Kk.bind(null,e.syncEngine),t.onUnlisten=Xk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Qk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Jk.bind(null,e.syncEngine),t}function hR(n,e,t={}){const s=new Qr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,p,m,v){const w=new Fw({next:I=>{w.Nu(),c.enqueueAndForget((()=>kw(l,E)));const P=I.docs.has(p);!P&&I.fromCache?v.reject(new oe(K.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&I.fromCache&&m&&m.source==="server"?v.reject(new oe(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),E=new Rw(gp(p.path),w,{includeMetadataChanges:!0,qa:!0});return Nw(l,E)})(await Bw(n),n.asyncQueue,e,t,s))),s.promise}function dR(n,e,t={}){const s=new Qr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,p,m,v){const w=new Fw({next:I=>{w.Nu(),c.enqueueAndForget((()=>kw(l,E))),I.fromCache&&m.source==="server"?v.reject(new oe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),E=new Rw(p,w,{includeMetadataChanges:!0,qa:!0});return Nw(l,E)})(await Bw(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firestore.googleapis.com",Hv=!0;class qv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$w,this.ssl=Hv}else this.host=e.host,this.ssl=e.ssl??Hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HN)throw new oe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vC;switch(s.type){case"firstParty":return new EC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=$v.get(t);s&&(ue("ComponentProvider","Removing Datastore"),$v.delete(t),s.terminate())})(this),Promise.resolve()}}function fR(n,e,t,s={}){n=Er(n,ph);const o=Qs(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(Kf(`https://${p}`),Qf("Firestore",!0)),l.host!==$w&&l.host!==p&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:p,ssl:o,emulatorOptions:s};if(!Oi(m,c)&&(n._setSettings(m),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=Ht.MOCK_USER;else{v=j_(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new oe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ht(E)}n._authCredentials=new _C(new C0(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class pt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ul(t,pt._jsonSchema))return new pt(e,s||null,new me(Qe.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:wt("string",pt._jsonSchemaVersion),referencePath:wt("string")};class Bs extends Wi{constructor(e,t,s){super(e,t,gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new me(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function Dp(n,e,...t){if(n=st(n),N0("collection","path",e),n instanceof ph){const s=Qe.fromString(e,...t);return sv(s),new Bs(n,null,s)}{if(!(n instanceof pt||n instanceof Bs))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Qe.fromString(e,...t));return sv(s),new Bs(n.firestore,null,s)}}function kn(n,e,...t){if(n=st(n),arguments.length===1&&(e=cp.newId()),N0("doc","path",e),n instanceof ph){const s=Qe.fromString(e,...t);return rv(s),new pt(n,null,new me(s))}{if(!(n instanceof pt||n instanceof Bs))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Qe.fromString(e,...t));return rv(s),new pt(n.firestore,n instanceof Bs?n.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="AsyncQueue";class Gv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ww(this,"async_queue_retry"),this._c=()=>{const s=sf();s&&ue(Wv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=sf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=sf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ra(e))throw e;ue(Wv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",Kv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=kp.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:Kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Kv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class oa extends ph{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Gv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gv(e),this._firestoreClient=void 0,await e}}}function pR(n,e){const t=typeof n=="object"?n:Jf(),s=typeof n=="string"?n:Fc,o=Jc(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=R_("firestore");l&&fR(o,...l)}return o}function Op(n){if(n._terminated)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mR(n),n._firestoreClient}function mR(n){const e=n._freezeSettings(),t=(function(o,l,c,p){return new FC(o,l,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,zw(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new lR(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(Lt.fromBase64String(e))}catch(t){throw new oe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cn(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ul(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:wt("string",Cn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(Ul(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:wt("string",wr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ul(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new xr(e.vectorValues);throw new oe(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:wt("string",xr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=/^__.*__$/;class yR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ei(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bl(e,this.data,t,this.fieldTransforms)}}class Hw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ei(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:n})}}class Vp{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qw(this.Ac)&&gR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||hh(e)}Cc(e,t,s,o=!1){return new Vp({Ac:e,methodName:t,Dc:s,path:Dt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gh(n){const e=n._freezeSettings(),t=hh(n._databaseId);return new vR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ww(n,e,t,s,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);Mp("Data must be an object, but it was:",c,s);const p=Gw(s,c);let m,v;if(l.merge)m=new yn(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const E of l.mergeFields){const I=Mf(e,E,t);if(!c.contains(I))throw new oe(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Qw(w,I)||w.push(I)}m=new yn(w),v=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,v=c.fieldTransforms;return new yR(new on(p),m,v)}class yh extends Lp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}function _R(n,e,t,s){const o=n.Cc(1,e,t);Mp("Data must be an object, but it was:",o,s);const l=[],c=on.empty();Zs(s,((m,v)=>{const w=Fp(e,m,t);v=st(v);const E=o.yc(w);if(v instanceof yh)l.push(w);else{const I=ql(v,E);I!=null&&(l.push(w),c.set(w,I))}}));const p=new yn(l);return new Hw(c,p,o.fieldTransforms)}function wR(n,e,t,s,o,l){const c=n.Cc(1,e,t),p=[Mf(e,s,t)],m=[o];if(l.length%2!=0)throw new oe(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)p.push(Mf(e,l[I])),m.push(l[I+1]);const v=[],w=on.empty();for(let I=p.length-1;I>=0;--I)if(!Qw(v,p[I])){const P=p[I];let z=m[I];z=st(z);const F=c.yc(P);if(z instanceof yh)v.push(P);else{const j=ql(z,F);j!=null&&(v.push(P),w.set(P,j))}}const E=new yn(v);return new Hw(w,E,c.fieldTransforms)}function xR(n,e,t,s=!1){return ql(t,n.Cc(s?4:3,e))}function ql(n,e){if(Kw(n=st(n)))return Mp("Unsupported field value:",e,n),Gw(n,e);if(n instanceof Lp)return(function(s,o){if(!qw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const p of s){let m=ql(p,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(n,e)}return(function(s,o){if((s=st(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ze.fromDate(s);return{timestampValue:Hc(o.serializer,l)}}if(s instanceof Ze){const l=new Ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hc(o.serializer,l)}}if(s instanceof wr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:uw(o.serializer,s._byteString)};if(s instanceof pt){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xr)return(function(c,p){return{mapValue:{fields:{[V0]:{stringValue:M0},[Uc]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return yp(p.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${nh(s)}`)})(n,e)}function Gw(n,e){const t={};return A0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(n,((s,o)=>{const l=ql(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function Kw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof wr||n instanceof Cn||n instanceof pt||n instanceof Lp||n instanceof xr)}function Mp(n,e,t){if(!Kw(t)||!k0(t)){const s=nh(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function Mf(n,e,t){if((e=st(e))instanceof mh)return e._internalPath;if(typeof e=="string")return Fp(n,e);throw Kc("Field path arguments must be of type string or ",n,!1,void 0,t)}const ER=new RegExp("[~\\*/\\[\\]]");function Fp(n,e,t){if(e.search(ER)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mh(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kc(n,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new oe(K.INVALID_ARGUMENT,p+n+m)}function Qw(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Up("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class TR extends Yw{data(){return super.data()}}function Up(n,e){return typeof e=="string"?Fp(n,e):e instanceof mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bp{}class Xw extends Bp{}function Jw(n,e,...t){let s=[];e instanceof Bp&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((m=>m instanceof $p)).length,p=l.filter((m=>m instanceof zp)).length;if(c>1||c>0&&p>0)throw new oe(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class zp extends Xw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new zp(e,t,s)}_apply(e){const t=this._parse(e);return ex(e._query,t),new Wi(e.firestore,e.converter,Cf(e._query,t))}_parse(e){const t=gh(e.firestore);return(function(l,c,p,m,v,w,E){let I;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new oe(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Yv(E,w);const z=[];for(const F of E)z.push(Qv(m,l,F));I={arrayValue:{values:z}}}else I=Qv(m,l,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Yv(E,w),I=xR(p,c,E,w==="in"||w==="not-in");return _t.create(v,w,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class $p extends Bp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $p(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const p=l.getFlattenedFilters();for(const m of p)ex(c,m),c=Cf(c,m)})(e._query,t),new Wi(e.firestore,e.converter,Cf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hp extends Xw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hp(e,t)}_apply(e){const t=(function(o,l,c){if(o.startAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nl(l,c)})(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new sa(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Zw(n,e="asc"){const t=e,s=Up("orderBy",n);return Hp._create(s,t)}function Qv(n,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new oe(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W0(e)&&t.indexOf("/")!==-1)throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Qe.fromString(t));if(!me.isDocumentKey(s))throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dv(n,new me(s))}if(t instanceof pt)return dv(n,t._key);throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(t)}.`)}function Yv(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ex(n,e){const t=(function(o,l){for(const c of o)for(const p of c.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class SR{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Zs(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Uc].arrayValue?.values?.map((s=>ft(s.doubleValue)));return new xr(t)}convertGeoPoint(e){return new wr(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ih(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const t=Hs(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Qe.fromString(e);ze(mw(s),9688,{name:e});const o=new bl(s.get(1),s.get(3)),l=new me(s.popFirst(5));return o.isEqual(t)||Zr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class cl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ji extends Yw{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Up("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ji._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ji._jsonSchemaVersion="firestore/documentSnapshot/1.0",ji._jsonSchema={type:wt("string",ji._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class kc extends ji{data(e={}){return super.data(e)}}class Ho{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new cl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new kc(this._firestore,this._userDataWriter,s.key,s,new cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((p=>{const m=new kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new cl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const m=new kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new cl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return p.type!==0&&(v=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),w=c.indexOf(p.doc.key)),{type:bR(p.type),doc:m,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n){n=Er(n,pt);const e=Er(n.firestore,oa);return hR(Op(e),n._key).then((t=>kR(e,n,t)))}Ho._jsonSchemaVersion="firestore/querySnapshot/1.0",Ho._jsonSchema={type:wt("string",Ho._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class nx extends SR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function rx(n){n=Er(n,Wi);const e=Er(n.firestore,oa),t=Op(e),s=new nx(e);return IR(n._query),dR(t,n._query).then((o=>new Ho(e,s,n,o)))}function Bi(n,e,t){n=Er(n,pt);const s=Er(n.firestore,oa),o=tx(n.converter,e,t);return Wp(s,[Ww(gh(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,$n.none())])}function CR(n,e,t,...s){n=Er(n,pt);const o=Er(n.firestore,oa),l=gh(o);let c;return c=typeof(e=st(e))=="string"||e instanceof mh?wR(l,"updateDoc",n._key,e,t,s):_R(l,"updateDoc",n._key,e),Wp(o,[c.toMutation(n._key,$n.exists(!0))])}function NR(n,e){const t=Er(n.firestore,oa),s=kn(n),o=tx(n.converter,e);return Wp(t,[Ww(gh(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then((()=>s))}function Wp(n,e){return(function(s,o){const l=new Qr;return s.asyncQueue.enqueueAndForget((async()=>Zk(await cR(s),o,l))),l.promise})(Op(n),e)}function kR(n,e,t){const s=t.docs.get(e._key),o=new nx(n);return new ji(n,o,e._key,s,new cl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ta=o})($i),Li(new zs("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),p=new oa(new wC(s.getProvider("auth-internal")),new TC(c,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new oe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(v.options.projectId,w)})(c,o),c);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),gr(Zy,ev,e),gr(Zy,ev,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firebasestorage.googleapis.com",ix="storageBucket",RR=120*1e3,AR=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends br{constructor(e,t,s=0){super(af(e),`Firebase Storage: ${t} (${af(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return af(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function af(n){return"storage/"+n}function Gp(){const n="An unknown error occurred, please check the error payload for server response.";return new ut(lt.UNKNOWN,n)}function PR(n){return new ut(lt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function jR(n){return new ut(lt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function DR(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(lt.UNAUTHENTICATED,n)}function OR(){return new ut(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LR(n){return new ut(lt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function VR(){return new ut(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MR(){return new ut(lt.CANCELED,"User canceled the upload/download.")}function FR(n){return new ut(lt.INVALID_URL,"Invalid URL '"+n+"'.")}function UR(n){return new ut(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function BR(){return new ut(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ix+"' property when initializing the app?")}function zR(){return new ut(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $R(){return new ut(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HR(n){return new ut(lt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ff(n){return new ut(lt.INVALID_ARGUMENT,n)}function ox(){return new ut(lt.APP_DELETED,"The Firebase app was deleted.")}function qR(n){return new ut(lt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yl(n,e){return new ut(lt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function rl(n){throw new ut(lt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=vn.makeFromUrl(e,t)}catch{return new vn(e,"")}if(s.path==="")return s;throw UR(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const c="(/(.*))?$",p=new RegExp("^gs://"+o+c,"i"),m={bucket:1,path:3};function v(ie){ie.path_=decodeURIComponent(ie.path)}const w="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",P=new RegExp(`^https?://${E}/${w}/b/${o}/o${I}`,"i"),z={bucket:1,path:3},F=t===sx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",H=new RegExp(`^https?://${F}/${o}/${j}`,"i"),Q=[{regex:p,indices:m,postModify:l},{regex:P,indices:z,postModify:v},{regex:H,indices:{bucket:1,path:2},postModify:v}];for(let ie=0;ie<Q.length;ie++){const ve=Q[ie],te=ve.regex.exec(e);if(te){const A=te[ve.indices.bucket];let S=te[ve.indices.path];S||(S=""),s=new vn(A,S),ve.postModify(s);break}}if(s==null)throw FR(e);return s}}class WR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n,e,t){let s=1,o=null,l=null,c=!1,p=0;function m(){return p===2}let v=!1;function w(...j){v||(v=!0,e.apply(null,j))}function E(j){o=setTimeout(()=>{o=null,n(P,m())},j)}function I(){l&&clearTimeout(l)}function P(j,...H){if(v){I();return}if(j){I(),w.call(null,j,...H);return}if(m()||c){I(),w.call(null,j,...H);return}s<64&&(s*=2);let Q;p===1?(p=2,Q=0):Q=(s+Math.random())*1e3,E(Q)}let z=!1;function F(j){z||(z=!0,I(),!v&&(o!==null?(j||(p=2),clearTimeout(o),E(0)):j||(p=1)))}return E(0),l=setTimeout(()=>{c=!0,F(!0)},t),F}function KR(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n){return n!==void 0}function YR(n){return typeof n=="object"&&!Array.isArray(n)}function Kp(n){return typeof n=="string"||n instanceof String}function Xv(n){return Qp()&&n instanceof Blob}function Qp(){return typeof Blob<"u"}function Jv(n,e,t,s){if(s<e)throw Ff(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Ff(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function ax(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Di;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Di||(Di={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,s,o,l,c,p,m,v,w,E,I=!0,P=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=p,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=E,this.retry=I,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,F)=>{this.resolve_=z,this.reject_=F,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new mc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=p=>{const m=p.loaded,v=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const p=l.getErrorCode()===Di.NO_ERROR,m=l.getStatus();if(!p||XR(m,this.additionalRetryCodes_)&&this.retry){const w=l.getErrorCode()===Di.ABORT;s(!1,new mc(!1,null,w));return}const v=this.successCodes_.indexOf(m)!==-1;s(!0,new mc(v,l))})},t=(s,o)=>{const l=this.resolve_,c=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());QR(m)?l(m):l()}catch(m){c(m)}else if(p!==null){const m=Gp();m.serverResponse=p.getErrorText(),this.errorCallback_?c(this.errorCallback_(p,m)):c(m)}else if(o.canceled){const m=this.appDelete_?ox():MR();c(m)}else{const m=VR();c(m)}};this.canceled_?t(!1,new mc(!1,null,!0)):this.backoffId_=GR(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mc{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function ZR(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function eA(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tA(n,e){e&&(n["X-Firebase-GMPID"]=e)}function nA(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function rA(n,e,t,s,o,l,c=!0,p=!1){const m=ax(n.urlParams),v=n.url+m,w=Object.assign({},n.headers);return tA(w,e),ZR(w,t),eA(w,l),nA(w,s),new JR(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iA(...n){const e=sA();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(Qp())return new Blob(n);throw new ut(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oA(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n){if(typeof atob>"u")throw HR("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lf{constructor(e,t){this.data=e,this.contentType=t||null}}function lA(n,e){switch(n){case mr.RAW:return new lf(lx(e));case mr.BASE64:case mr.BASE64URL:return new lf(ux(n,e));case mr.DATA_URL:return new lf(cA(e),hA(e))}throw Gp()}function lx(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=n.charCodeAt(++t);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function uA(n){let e;try{e=decodeURIComponent(n)}catch{throw yl(mr.DATA_URL,"Malformed data URL.")}return lx(e)}function ux(n,e){switch(n){case mr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw yl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case mr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw yl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=aA(e)}catch(o){throw o.message.includes("polyfill")?o:yl(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class cx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw yl(mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=dA(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function cA(n){const e=new cx(n);return e.base64?ux(mr.BASE64,e.rest):uA(e.rest)}function hA(n){return new cx(n).contentType}function dA(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){let s=0,o="";Xv(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Xv(this.data_)){const s=this.data_,o=oA(s,e,t);return o===null?null:new Ls(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Ls(s,!0)}}static getBlob(...e){if(Qp()){const t=e.map(s=>s instanceof Ls?s.data_:s);return new Ls(iA.apply(null,t))}else{const t=e.map(c=>Kp(c)?lA(mr.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(c=>{for(let p=0;p<c.length;p++)o[l++]=c[p]}),new Ls(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(n){let e;try{e=JSON.parse(n)}catch{return null}return YR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function pA(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function dx(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(n,e){return e}class Yt{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||mA}}let gc=null;function gA(n){return!Kp(n)||n.length<2?n:dx(n)}function fx(){if(gc)return gc;const n=[];n.push(new Yt("bucket")),n.push(new Yt("generation")),n.push(new Yt("metageneration")),n.push(new Yt("name","fullPath",!0));function e(l,c){return gA(c)}const t=new Yt("name");t.xform=e,n.push(t);function s(l,c){return c!==void 0?Number(c):c}const o=new Yt("size");return o.xform=s,n.push(o),n.push(new Yt("timeCreated")),n.push(new Yt("updated")),n.push(new Yt("md5Hash",null,!0)),n.push(new Yt("cacheControl",null,!0)),n.push(new Yt("contentDisposition",null,!0)),n.push(new Yt("contentEncoding",null,!0)),n.push(new Yt("contentLanguage",null,!0)),n.push(new Yt("contentType",null,!0)),n.push(new Yt("metadata","customMetadata",!0)),gc=n,gc}function yA(n,e){function t(){const s=n.bucket,o=n.fullPath,l=new vn(s,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function vA(n,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];s[c.local]=c.xform(s,e[c.server])}return yA(s,n),s}function px(n,e,t){const s=hx(e);return s===null?null:vA(n,s,t)}function _A(n,e,t,s){const o=hx(e);if(o===null||!Kp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(v=>{const w=n.bucket,E=n.fullPath,I="/b/"+c(w)+"/o/"+c(E),P=Yp(I,t,s),z=ax({alt:"media",token:v});return P+z})[0]}function wA(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class mx{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n){if(!n)throw Gp()}function xA(n,e){function t(s,o){const l=px(n,o,e);return gx(l!==null),l}return t}function EA(n,e){function t(s,o){const l=px(n,o,e);return gx(l!==null),_A(l,o,n.host,n._protocol)}return t}function yx(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=OR():o=DR():t.getStatus()===402?o=jR(n.bucket):t.getStatus()===403?o=LR(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function TA(n){const e=yx(n);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=PR(n.path)),l.serverResponse=o.serverResponse,l}return t}function IA(n,e,t){const s=e.fullServerUrl(),o=Yp(s,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,p=new mx(o,l,EA(n,t),c);return p.errorHandler=TA(e),p}function SA(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function bA(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=SA(null,e)),s}function CA(n,e,t,s,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function p(){let Q="";for(let ie=0;ie<2;ie++)Q=Q+Math.random().toString().slice(2);return Q}const m=p();c["Content-Type"]="multipart/related; boundary="+m;const v=bA(e,s,o),w=wA(v,t),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+v.contentType+`\r
\r
`,I=`\r
--`+m+"--",P=Ls.getBlob(E,s,I);if(P===null)throw zR();const z={name:v.fullPath},F=Yp(l,n.host,n._protocol),j="POST",H=n.maxUploadRetryTime,G=new mx(F,j,xA(n,t),H);return G.urlParams=z,G.headers=c,G.body=P.uploadData(),G.errorHandler=yx(e),G}class NA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Di.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Di.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Di.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,l){if(this.sent_)throw rl("cannot .send() more than once");if(Qs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kA extends NA{initXhr(){this.xhr_.responseType="text"}}function vx(){return new kA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t){this._service=e,t instanceof vn?this._location=t:this._location=vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zi(e,t)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dx(this._location.path)}get storage(){return this._service}get parent(){const e=fA(this._location.path);if(e===null)return null;const t=new vn(this._location.bucket,e);return new zi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw qR(e)}}function RA(n,e,t){n._throwIfRoot("uploadBytes");const s=CA(n.storage,n._location,fx(),new Ls(e,!0),t);return n.storage.makeRequestWithTokens(s,vx).then(o=>({metadata:o,ref:n}))}function AA(n){n._throwIfRoot("getDownloadURL");const e=IA(n.storage,n._location,fx());return n.storage.makeRequestWithTokens(e,vx).then(t=>{if(t===null)throw $R();return t})}function PA(n,e){const t=pA(n._location.path,e),s=new vn(n._location.bucket,t);return new zi(n.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(n){return/^[A-Za-z]+:\/\//.test(n)}function DA(n,e){return new zi(n,e)}function _x(n,e){if(n instanceof Xp){const t=n;if(t._bucket==null)throw BR();const s=new zi(t,t._bucket);return e!=null?_x(s,e):s}else return e!==void 0?PA(n,e):n}function OA(n,e){if(e&&jA(e)){if(n instanceof Xp)return DA(n,e);throw Ff("To use ref(service, url), the first argument must be a Storage instance.")}else return _x(n,e)}function Zv(n,e){const t=e?.[ix];return t==null?null:vn.makeFromBucketSpec(t,n)}function LA(n,e,t,s={}){n.host=`${e}:${t}`;const o=Qs(e);o&&(Kf(`https://${n.host}/b`),Qf("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:j_(l,n.app.options.projectId))}class Xp{constructor(e,t,s,o,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=sx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RR,this._maxUploadRetryTime=AR,this._requests=new Set,o!=null?this._bucket=vn.makeFromBucketSpec(o,this._host):this._bucket=Zv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=Zv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zi(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new WR(ox());{const c=rA(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const e_="@firebase/storage",t_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="storage";function n_(n,e,t){return n=st(n),RA(n,e,t)}function r_(n){return n=st(n),AA(n)}function s_(n,e){return n=st(n),OA(n,e)}function VA(n=Jf(),e){n=st(n);const s=Jc(n,wx).getImmediate({identifier:e}),o=R_("storage");return o&&MA(s,...o),s}function MA(n,e,t,s={}){LA(n,e,t,s)}function FA(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Xp(t,s,o,e,$i)}function UA(){Li(new zs(wx,FA,"PUBLIC").setMultipleInstances(!0)),gr(e_,t_,""),gr(e_,t_,"esm2020")}UA();const BA={apiKey:"AIzaSyCvZx_FU_BtRFTVNr9aotQKU_siKGP1v1I",authDomain:"beebridge.firebaseapp.com",projectId:"beebridge",storageBucket:"beebridge.firebasestorage.app",messagingSenderId:"378321462417",appId:"1:378321462417:web:d69bada8dffabedb318b30",measurementId:"G-C0CPML4GKE"},Jp=L_(BA),Ri=pC(Jp),sl=new pr,an=pR(Jp),i_=VA(Jp),Gn=()=>{const[n,e]=V.useState(null),[t,s]=V.useState(!0),[o,l]=V.useState(!1),c=Sr();return V.useEffect(()=>rb(Ri,I=>{e(I),s(!1)}),[]),{user:n,loading:t,isTestingMode:o,signInWithGoogle:async()=>{try{sl.setCustomParameters({client_id:"378321462417-i479i9akc5vndsp3a9na8p29vku1etjl.apps.googleusercontent.com",prompt:"select_account"}),sl.addScope("profile"),sl.addScope("email");const I=(await Hy(Ri,sl)).user;await Bi(kn(an,"users",I.uid),{name:I.displayName,email:I.email,uid:I.uid,loginMethod:"google",photoURL:I.photoURL,emailVerified:I.emailVerified,providerId:I.providerId,lastLogin:new Date,googleProfile:{displayName:I.displayName,email:I.email,photoURL:I.photoURL,providerId:I.providerId}},{merge:!0}),await new Promise(P=>setTimeout(P,100)),c("/home")}catch(E){throw console.error("Error signing in with Google:",E),E&&typeof E=="object"&&"code"in E&&E.code==="auth/popup-blocked"?new Error("Popup blocked. Please allow popups for this site and try again."):E&&typeof E=="object"&&"code"in E&&E.code==="auth/account-exists-with-different-credential"?new Error("ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL"):E&&typeof E=="object"&&"code"in E&&E.code==="auth/popup-closed-by-user"?new Error("Google sign-in was cancelled."):E&&typeof E=="object"&&"code"in E&&"code"in E&&E.code==="auth/network-request-failed"?new Error("Network error. Please check your internet connection."):E}},linkGoogleAccount:async(E,I)=>{try{const z=(await l0(Ri,E,I)).user,F=await Hy(Ri,sl),j=pr.credentialFromResult(F);return j&&(await ZS(z,j),await Bi(kn(an,"users",z.uid),{name:z.displayName||F.user.displayName,email:z.email,uid:z.uid,loginMethod:"linked",lastLogin:new Date},{merge:!0})),z}catch(P){throw console.error("Error linking Google account:",P),P}},logout:async()=>{try{await sb(Ri)}catch(E){throw console.error("Error signing out:",E),E}},enableTestingMode:()=>{l(!0),e({uid:"test-user-123",email:"test@example.com",displayName:"Test User",providerData:[{providerId:"google.com"}]}),s(!1)}}},o_="/assets/success%20confetti-DC1AmzHE.gif",a_={HONEY10:.1,BEE20:.2,OFFER:.1},zA=()=>{const{cartItems:n,getTotal:e,clearCart:t}=jl(),{user:s}=Gn(),[o,l]=V.useState(""),[c,p]=V.useState(0),[m,v]=V.useState(""),[w,E]=V.useState(!1),[I,P]=V.useState(!1),[z,F]=V.useState(!1),[j,H]=V.useState(""),G=e(),Q=G-G*c;V.useEffect(()=>{if(z){const te=setTimeout(()=>{F(!1)},2e3);return()=>clearTimeout(te)}},[z]);const ie=()=>{const te=o.toUpperCase();a_[te]?(p(a_[te]),v(""),E(!0),setTimeout(()=>E(!1),3e3)):(p(0),v("Invalid coupon code"))},ve=async()=>{if(!s){alert("Please sign in to place an order.");return}try{const te=n.map(R=>({id:R.id,name:R.name,price:R.price,quantity:R.quantity})),A={userId:s.uid,items:te,total:G,discountedTotal:c>0?Q:void 0,coupon:c>0?o.toUpperCase():void 0,discount:c>0?c:void 0,status:"completed",createdAt:new Date,customerEmail:s.email||void 0,customerName:s.displayName||void 0},b=(await NR(Dp(an,"orders"),A)).id;if(H(b),n.some(R=>R.name.includes("Subscription Plan"))){const R=kn(an,"users",s.uid);await Bi(R,{goldenBatch:!0},{merge:!0})}F(!0),P(!0),t()}catch(te){console.error("Error placing order:",te),alert("Failed to place order. Please try again.")}};return I?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"max-w-4xl mx-auto p-6 text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Thank you for your order!"}),d.jsx("p",{children:"Your order has been placed successfully."}),j&&d.jsxs("p",{className:"text-lg mt-4",children:["Order ID: ",d.jsx("span",{className:"font-bold",children:j})]})]}),z&&d.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50",children:d.jsx("img",{src:o_,alt:"Success",className:"w-64 h-64 object-cover"})}),w&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:d.jsx("img",{src:S_,alt:"Congratulations",className:"w-96 h-96 object-cover rounded-lg shadow-2xl"})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 bg-honeybee-background text-honeybee-secondary rounded-lg shadow-lg",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-honeybee-primary mb-6",children:"Checkout"}),d.jsxs("div",{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Order Summary"}),n.map(te=>d.jsxs("div",{className:"flex justify-between mb-2 text-sm md:text-base",children:[d.jsxs("span",{children:[te.name," x ",te.quantity]}),d.jsxs("span",{children:["",(parseFloat(te.price.replace(/[$]/g,""))*te.quantity).toFixed(2)]})]},te.id)),d.jsxs("div",{className:"flex justify-between font-bold border-t border-gray-300 pt-2 text-sm md:text-base",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["",G.toFixed(2)]})]}),c>0&&d.jsxs("div",{className:"flex justify-between font-bold text-green-600 pt-2 text-sm md:text-base",children:[d.jsx("span",{children:"Discount:"}),d.jsxs("span",{children:["-",(G*c).toFixed(2)]})]}),c>0&&d.jsxs("div",{className:"flex justify-between font-bold border-t border-gray-300 pt-2 text-sm md:text-base",children:[d.jsx("span",{children:"Amount to Pay:"}),d.jsxs("span",{children:["",Q.toFixed(2)]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"coupon",className:"block font-semibold mb-1",children:"Have a coupon?"}),d.jsx("input",{id:"coupon",type:"text",value:o,onChange:te=>l(te.target.value),className:"border border-gray-300 rounded px-3 py-3 w-full text-base",placeholder:"Enter coupon code"}),m&&d.jsx("p",{className:"text-red-600 mt-1",children:m}),d.jsx(Ot,{onClick:ie,variant:"accent",className:"mt-2 w-full md:w-auto",children:"Apply Coupon"})]}),d.jsx("div",{children:d.jsx(Ot,{onClick:ve,variant:"primary",className:"w-full py-3 text-base",children:"Place Order"})})]})]}),z&&d.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50",children:d.jsx("img",{src:o_,alt:"Success",className:"w-64 h-64 object-cover"})})]})},$A=()=>{const{user:n}=Gn(),e=Rn(),[t,s]=V.useState({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),[o,l]=V.useState(!0),[c,p]=V.useState(!0),[m,v]=V.useState(t);V.useEffect(()=>{(async()=>{if(n){const H=kn(an,"profile","oKBVdiB6yR4iiwacSWah"),G=await qp(H);if(G.exists()){const Q=G.data();s(Q),v(Q),p(!1)}else s({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),v({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),p(!0)}l(!1)})()},[n]);const w=j=>{const{name:H,value:G}=j.target;v(Q=>({...Q,[H]:G}))},E=async()=>{if(!n){alert("User not authenticated");return}if(!n.providerData.some(H=>H.providerId==="google.com")){alert("Profile saving is only available for Google users");return}try{const H=kn(an,"profile","oKBVdiB6yR4iiwacSWah");console.log("Saving profile data:",m),await Bi(H,m,{merge:!0}),s(m),p(!1),alert("Profile saved successfully!")}catch(H){console.error("Error saving profile:",H),H instanceof Error&&"code"in H&&H.code==="permission-denied"?alert("Missing or insufficient permissions. Please ensure you are signed in and try again."):alert("Failed to save profile. Please try again.")}},I=()=>{v(t),p(!0)},P=()=>{v(t),p(!1)};if(o)return d.jsx("div",{children:"Loading profile..."});const z=n&&n.providerData.some(j=>j.providerId==="google.com"),F=localStorage.getItem("testingMode")==="true";return d.jsxs("div",{className:"max-w-2xl mx-auto p-4 md:p-6",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:"Profile"}),!n&&!F?d.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:d.jsx("p",{className:"text-center text-gray-600",children:e.state?.message||"Please sign in with Google to access your profile."})}):!z&&!F?d.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:d.jsx("p",{className:"text-center text-gray-600",children:e.state?.message||"Profile access is only available for Google users."})}):c?d.jsx("div",{className:"group",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),d.jsx("input",{type:"text",name:"name",value:m.name,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age"}),d.jsx("input",{type:"number",name:"age",value:m.age,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your age"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),d.jsx("input",{type:"text",name:"location",value:m.location,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your location"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),d.jsx("input",{type:"text",name:"pincode",value:m.pincode,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your pincode"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:m.email,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your email"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),d.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your phone number"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),d.jsx("textarea",{name:"address",value:m.address,onChange:w,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your full address"})]})]}),d.jsxs("div",{className:"group",children:[d.jsx(Ot,{onClick:E,className:"w-full",variant:"primary",children:"Save Profile"}),d.jsx("button",{onClick:P,className:"w-full mt-2 py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100",children:"Cancel"})]})]})}):d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Name"}),d.jsx("p",{className:"text-gray-900",children:t.name})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Age"}),d.jsx("p",{className:"text-gray-900",children:t.age})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Location"}),d.jsx("p",{className:"text-gray-900",children:t.location})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Pincode"}),d.jsx("p",{className:"text-gray-900",children:t.pincode})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Email"}),d.jsx("p",{className:"text-gray-900",children:t.email})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Phone"}),d.jsx("p",{className:"text-gray-900",children:t.phone})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Address"}),d.jsx("p",{className:"text-gray-900",children:t.address})]})]}),d.jsx("button",{onClick:I,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none","aria-label":"Edit Profile",children:"Edit Profile"})]})]})},l_="/assets/last-BU7c_pAB.mp4",HA={email:"",name:"",password:"",confirmPassword:"",country:"",profilePic:null,acceptTerms:!1,city:"",state:"",zip:"",countryCode:"",phone:"",idProof:null,sellerType:""},qA=()=>{const[n,e]=V.useState(0),[t,s]=V.useState(HA),[o,l]=V.useState(""),[c,p]=V.useState(!1),[m,v]=V.useState(null),{user:w,loading:E}=Gn(),I=Sr();V.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("testing")==="true",k=localStorage.getItem("testingMode")==="true";!E&&(!w||!w.providerData.some(R=>R.providerId==="google.com")&&!b&&!k)&&I("/login")},[w,E,I]),V.useEffect(()=>{(async()=>{const k=new URLSearchParams(window.location.search).get("testing")==="true",R=localStorage.getItem("testingMode")==="true";if(w&&(w.providerData.some(L=>L.providerId==="google.com")||k||R))try{const L=kn(an,"sellerApplications",w.uid);(await qp(L)).exists()?v(!0):v(!1)}catch(L){console.error("Error checking application:",L),v(!1)}else v(!1)})()},[w]);const P=S=>{const{name:b,value:k,type:R,checked:L}=S.target;s(N=>({...N,[b]:R==="checkbox"?L:k}))},z=S=>{const{name:b,files:k}=S.target;k&&k[0]&&s(R=>({...R,[b]:k[0]}))},F=()=>{n<4&&e(n+1)},j=()=>{n>1&&e(n-1)},H=async S=>{if(S.preventDefault(),n===3){if(!w){alert("Please sign in to submit the application."),I("/login");return}if(!o){alert("Please select a seller type (Honey or Bee Hive).");return}if(!t.email||!t.name||!t.acceptTerms){alert("Please fill all required fields and accept terms.");return}try{const{profilePic:b,idProof:k,password:R,confirmPassword:L,...N}=t,ke={...N,sellerType:o,submittedAt:new Date,kycVerified:!1};console.log("Submitting data:",ke),console.log("User UID:",w.uid),await Bi(kn(an,"sellerApplications",w.uid),ke,{merge:!0}),alert("Application submitted successfully!"),I("/applications")}catch(b){console.error("Error submitting application:",b);let k="Unknown error";b&&typeof b=="object"&&"code"in b&&b.code==="permission-denied"?k="Missing or insufficient permissions. Please ensure you are signed in and try again.":b instanceof Error&&(k=b.message),alert(`Failed to submit application: ${k}. Please try again.`)}return}F()},G=()=>{const S=["Personal Information","Address","Contact","Finish"];return d.jsx("div",{className:"flex justify-center space-x-8 mb-8",children:S.map((b,k)=>{const R=k+1,L=R===n,N=R<n;return d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${L||N?"border-purple-700":"border-gray-300"}`,children:N?d.jsx("svg",{className:"w-4 h-4 text-purple-700",fill:"none",stroke:"currentColor",strokeWidth:"3",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):d.jsx("div",{className:`w-3 h-3 rounded-full ${L?"bg-purple-700":"bg-gray-300"}`})}),d.jsx("span",{className:`mt-1 text-xs font-semibold ${L||N?"text-purple-700":"text-gray-400"}`,children:b.split(" ").map((ke,Ge)=>d.jsxs(vl.Fragment,{children:[ke,d.jsx("br",{})]},Ge))})]},b)})})},Q=()=>d.jsx("div",{className:"max-w-4xl mx-auto p-6 text-center",children:d.jsxs("div",{className:"flex justify-center gap-8",children:[d.jsx("button",{onClick:()=>{const b=new URLSearchParams(window.location.search).get("testing")==="true";if(!w&&!b){alert("Please sign in with Google to become a seller."),I("/login");return}l("honey"),p(!0)},className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Sell Honey"}),d.jsx("button",{onClick:()=>{const b=new URLSearchParams(window.location.search).get("testing")==="true";if(!w&&!b){alert("Please sign in with Google to become a seller."),I("/login");return}l("beehive"),p(!0)},className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Sell Bee Hive"})]})}),ie=()=>d.jsxs("form",{onSubmit:H,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[d.jsx("h2",{className:"text-xl font-bold mb-6",children:"Personal Information"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Email"}),d.jsx("input",{type:"email",name:"email",value:t.email,onChange:P,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Name"}),d.jsx("input",{type:"text",name:"name",placeholder:"e.g. John Doe",value:t.name,onChange:P,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Password"}),d.jsx("input",{type:"password",name:"password",value:t.password,onChange:P,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Confirm Password"}),d.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:P,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Country"}),d.jsx("input",{type:"text",name:"country",placeholder:"Country...",value:t.country,onChange:P,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Profile Picture"}),d.jsx("input",{type:"file",name:"profilePic",accept:"image/*",onChange:z,required:!0,className:"w-full mb-2 px-3 py-2 border rounded bg-gray-100 text-gray-700"}),t.profilePic&&d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["File: ",t.profilePic.name," | Size: ",(t.profilePic.size/1024).toFixed(2)," KB | Type: ",t.profilePic.type]}),d.jsxs("label",{className:"inline-flex items-center mb-4",children:[d.jsx("input",{type:"checkbox",name:"acceptTerms",checked:t.acceptTerms,onChange:P,required:!0,className:"form-checkbox text-purple-700"}),d.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I Accept Terms & Conditions"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{type:"button",onClick:()=>{e(0)},className:"text-purple-700 underline",children:"Back to Options"}),d.jsxs(Ot,{type:"submit",variant:"primary",className:"flex items-center space-x-2",children:[d.jsx("span",{children:"Next"}),d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]}),ve=()=>d.jsxs("form",{onSubmit:H,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[d.jsx("h2",{className:"text-xl font-bold mb-6",children:"Address"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"City"}),d.jsx("input",{type:"text",name:"city",value:t.city,onChange:P,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"State"}),d.jsx("input",{type:"text",name:"state",value:t.state,onChange:P,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Zip"}),d.jsx("input",{type:"text",name:"zip",value:t.zip,onChange:P,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Country Code"}),d.jsx("input",{type:"text",name:"countryCode",value:t.countryCode,onChange:P,required:!0,className:"w-full mb-6 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{type:"button",onClick:j,className:"text-purple-700 underline",children:"Back"}),d.jsxs(Ot,{type:"submit",variant:"primary",className:"flex items-center space-x-2",children:[d.jsx("span",{children:"Next"}),d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]}),te=()=>d.jsxs("form",{onSubmit:H,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[d.jsx("h2",{className:"text-xl font-bold mb-6",children:"Contact"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Phone"}),d.jsx("input",{type:"text",name:"phone",value:t.phone,onChange:P,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),d.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"ID Proof"}),d.jsx("input",{type:"file",name:"idProof",accept:"image/*,.pdf",onChange:z,required:!0,className:"w-full mb-2 px-3 py-2 border rounded bg-gray-100 text-gray-700"}),t.idProof&&d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["File: ",t.idProof.name," | Size: ",(t.idProof.size/1024).toFixed(2)," KB | Type: ",t.idProof.type]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{type:"button",onClick:j,className:"text-purple-700 underline",children:"Back"}),d.jsx(Ot,{type:"submit",variant:"primary",children:"Sign up"})]})]}),A=()=>d.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded shadow text-center",children:[d.jsx("svg",{className:"mx-auto mb-6 w-16 h-16 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Application Submitted"}),d.jsx("p",{className:"mb-4",children:"Your seller application has been submitted successfully. You will be redirected to your dashboard shortly."}),d.jsx("a",{href:"/applications",className:"text-purple-700 underline",children:"Go to Dashboard"})]});return E||m===null?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):m?(c||p(!0),d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:d.jsx("video",{src:l_,autoPlay:!0,muted:!0,preload:"auto",ref:S=>{S&&(S.playbackRate=.7)},onEnded:()=>I("/applications"),className:"w-full h-full object-cover"})})):d.jsxs("div",{className:"min-h-screen py-12 px-4 md:px-6",children:[d.jsx("h1",{className:"text-center font-semibold text-lg md:text-xl mb-4",children:"Register as a Seller"}),c?d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:d.jsx("video",{src:l_,autoPlay:!0,muted:!0,preload:"auto",ref:S=>{S&&(S.playbackRate=.7)},onEnded:()=>{p(!1),e(1)},className:"w-full h-full object-cover"})}):d.jsxs(d.Fragment,{children:[n===0&&Q(),n>0&&G(),n===1&&ie(),n===2&&ve(),n===3&&te(),n===4&&A()]})]})},WA="/assets/Verification%20-%20ID%20Card%20_%20Face%20Scan-uqHJYXAA.webm",GA=()=>{const{user:n,logout:e}=Gn(),t=Sr(),[s,o]=V.useState(null),[l,c]=V.useState(!1),[p,m]=V.useState(!1),[v,w]=V.useState(!0),[E,I]=V.useState([]),[P,z]=V.useState(0),[F,j]=V.useState(0),[H,G]=V.useState(0),[Q,ie]=V.useState({idType:"Adhaar",idNumber:"",address:"",pincode:"",frontSide:null,backSide:null}),ve=async te=>{if(te.preventDefault(),!!n)try{let A="",S="";if(Q.frontSide){const k=s_(i_,`kyc/${n.uid}/front_${Q.frontSide.name}`);await n_(k,Q.frontSide),A=await r_(k)}if(Q.backSide){const k=s_(i_,`kyc/${n.uid}/back_${Q.backSide.name}`);await n_(k,Q.backSide),S=await r_(k)}const b=kn(an,"sellerApplications",n.uid);await CR(b,{kycVerified:!0,kycData:{idType:Q.idType,idNumber:Q.idNumber,address:Q.address,pincode:Q.pincode,frontSideUrl:A,backSideUrl:S}}),c(!0),alert("KYC submitted successfully!")}catch(A){console.error("Error submitting KYC:",A),alert("Error submitting KYC. Please try again.")}};return V.useEffect(()=>{n?((async()=>{try{const S=kn(an,"sellerApplications",n.uid),b=await qp(S);if(b.exists()){const k=b.data();o(!0),c(k.kycVerified||!1)}else o(!1)}catch(S){console.error("Error checking application:",S),o(!1)}finally{w(!1)}})(),(async()=>{try{const S=Jw(Dp(an,"orders"),Zw("createdAt","desc")),b=await rx(S),k=[];let R=0,L=0;const N=new Set;b.forEach(ke=>{const Ge={id:ke.id,...ke.data()};k.push(Ge),R+=Ge.total||0,L+=1,Ge.items.forEach(Ce=>N.add(Ce.id.toString()))}),I(k),z(R),j(L),G(N.size)}catch(S){console.error("Error fetching orders:",S)}})()):(w(!1),o(!1))},[n]),v?d.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):n?s?d.jsxs("div",{className:"flex h-screen bg-gray-100",children:[d.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold text-purple-700",children:"HoneyBee"})}),d.jsxs("nav",{className:"mt-4",children:[d.jsxs("button",{onClick:()=>t("/seller"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Seller"]}),d.jsxs("button",{onClick:()=>t("/applications"),className:"flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded",children:[d.jsx("span",{className:"mr-3",children:""})," Dashboard"]}),d.jsxs("button",{onClick:()=>t("/earnings"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Earnings"]}),d.jsxs("button",{onClick:()=>t("/orders"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Orders"]}),d.jsxs("button",{onClick:()=>t("/analytics"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Analytics"]}),d.jsxs("button",{onClick:()=>t("/products"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Products"]}),d.jsxs("button",{onClick:()=>t("/settings"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Settings"]}),d.jsxs("button",{onClick:async()=>{await e(),t("/")},className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Logout"]})]})]}),d.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:d.jsxs("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:[!l&&d.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"KYC Verification Required"}),d.jsx("p",{children:"Please complete your KYC verification to unlock all features."})]}),d.jsx("button",{onClick:()=>m(!0),className:"bg-red-200 text-red-800 px-4 py-2 rounded hover:bg-red-300",children:"Complete KYC"})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),d.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",P.toFixed(2)]})]}),d.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F})]}),d.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:d.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Products"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:H})]}),d.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:d.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Golden Batch"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"Yes"})]}),d.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:d.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Overview Orders"}),d.jsxs("div",{className:"flex space-x-2 text-sm",children:[d.jsx("button",{className:"text-purple-600 border-b-2 border-purple-600 pb-1",children:"Monthly"}),d.jsx("button",{className:"text-gray-500",children:"Weekly"}),d.jsx("button",{className:"text-gray-500",children:"Daily"})]})]}),d.jsxs("div",{className:"flex space-x-2 text-sm mb-4",children:[d.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded",children:"Completed"}),d.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded",children:"Cancelled"})]}),d.jsxs("div",{className:"flex justify-between items-end h-32 space-x-1",children:[d.jsx("div",{className:"bg-blue-500 h-3/4 w-4 rounded"}),d.jsx("div",{className:"bg-blue-500 h-1/2 w-4 rounded"}),d.jsx("div",{className:"bg-red-500 h-4/5 w-4 rounded"}),d.jsx("div",{className:"bg-blue-500 h-2/3 w-4 rounded"}),d.jsx("div",{className:"bg-red-500 h-1/4 w-4 rounded"}),d.jsx("div",{className:"bg-blue-500 h-5/6 w-4 rounded"})]}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[d.jsx("span",{children:"Jan"}),d.jsx("span",{children:"Feb"}),d.jsx("span",{children:"Mar"}),d.jsx("span",{children:"Apr"}),d.jsx("span",{children:"May"}),d.jsx("span",{children:"Jun"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Activity"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),d.jsx("span",{className:"text-sm text-gray-600",children:"New order received"}),d.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:"2 min ago"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Product updated"}),d.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:"1 hour ago"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Payment processed"}),d.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:"3 hours ago"})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Orders"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("select",{className:"border rounded px-2 py-1 text-sm",children:[d.jsx("option",{children:"All"}),d.jsx("option",{children:"Pending"}),d.jsx("option",{children:"Completed"})]}),d.jsx("button",{className:"bg-purple-700 text-white px-4 py-1 rounded text-sm hover:bg-purple-800",children:"Export"})]})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.length>0?E.map(te=>d.jsxs("tr",{children:[d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",te.id.slice(-4)]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.items.map(A=>A.name).join(", ")}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${te.status==="completed"?"bg-green-100 text-green-800":te.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:te.status.charAt(0).toUpperCase()+te.status.slice(1)})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(te.createdAt).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.customerName||te.customerEmail||"N/A"})]},te.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No orders found"})})})]})})]})]})}),p&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-7xl w-full mx-4 max-h-[90vh] overflow-hidden flex",children:[d.jsx("div",{className:"w-1/2 p-8 flex items-center justify-center",children:d.jsx("video",{src:WA,autoPlay:!0,loop:!0,muted:!0,className:"w-80 h-80 object-contain rounded-lg"})}),d.jsxs("div",{className:"w-1/2 p-8 overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"KYC Verification"}),d.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),d.jsxs("form",{onSubmit:ve,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex space-x-4 mb-4",children:[d.jsx("button",{type:"button",onClick:()=>ie({...Q,idType:"Adhaar"}),className:`flex-1 py-2 px-4 rounded-md border ${Q.idType==="Adhaar"?"bg-purple-100 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:"Adhaar"}),d.jsx("button",{type:"button",onClick:()=>ie({...Q,idType:"Passport"}),className:`flex-1 py-2 px-4 rounded-md border ${Q.idType==="Passport"?"bg-purple-100 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:"Passport"})]}),d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter ID Number"}),d.jsx("input",{type:"text",value:Q.idNumber,onChange:te=>ie({...Q,idNumber:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter your ID number",required:!0}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"We will only store the last 4 digits of your ID proof"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address (Same as in KYC document)"}),d.jsx("textarea",{value:Q.address,onChange:te=>ie({...Q,address:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",rows:3,placeholder:"Enter your address",required:!0}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The address details should match with the uploaded KYC. Mismatch leads to shipment return as per customs regulations."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),d.jsx("input",{type:"text",value:Q.pincode,onChange:te=>ie({...Q,pincode:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter pincode",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload ID"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Upload Front Side"}),d.jsx("input",{type:"file",onChange:te=>ie({...Q,frontSide:te.target.files?te.target.files[0]:null}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",accept:"image/*,.pdf",required:!0}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, PDF (1MB Max)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Upload Back Side"}),d.jsx("input",{type:"file",onChange:te=>ie({...Q,backSide:te.target.files?te.target.files[0]:null}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",accept:"image/*,.pdf",required:!0}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, PDF (1MB Max)"})]})]})]}),d.jsx("button",{type:"submit",className:"w-full bg-purple-700 text-white py-3 px-4 rounded-md hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 font-medium",children:"Verify"})]})]})]})})]}):null:d.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Seller Dashboard"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-8",children:[d.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Please sign in with Google to access your seller dashboard."}),d.jsx("a",{href:"/profile",className:"text-purple-700 underline",children:"Go to Sign In"})]})]})})},KA=()=>{const{user:n,logout:e}=Gn(),t=Sr(),[s,o]=V.useState([]),[l,c]=V.useState(!0);return V.useEffect(()=>{n?(async()=>{try{const m=Jw(Dp(an,"orders"),Zw("createdAt","desc")),v=await rx(m),w=[];v.forEach(E=>{const I={id:E.id,...E.data()};w.push(I)}),o(w)}catch(m){console.error("Error fetching orders:",m)}finally{c(!1)}})():c(!1)},[n]),l?d.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):n?d.jsxs("div",{className:"flex h-screen bg-gray-100",children:[d.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold text-purple-700",children:"HoneyBee"})}),d.jsxs("nav",{className:"mt-4",children:[d.jsxs("button",{onClick:()=>t("/seller"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Seller"]}),d.jsxs("button",{onClick:()=>t("/applications"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Dashboard"]}),d.jsxs("button",{onClick:()=>t("/earnings"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Earnings"]}),d.jsxs("button",{onClick:()=>t("/orders"),className:"flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded",children:[d.jsx("span",{className:"mr-3",children:""})," Orders"]}),d.jsxs("button",{onClick:()=>t("/analytics"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Analytics"]}),d.jsxs("button",{onClick:()=>t("/products"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Products"]}),d.jsxs("button",{onClick:()=>t("/settings"),className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Settings"]}),d.jsxs("button",{onClick:async()=>{await e(),t("/")},className:"flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100",children:[d.jsx("span",{className:"mr-3",children:""})," Logout"]})]})]}),d.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:d.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Orders"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("select",{className:"border rounded px-2 py-1 text-sm",children:[d.jsx("option",{children:"All"}),d.jsx("option",{children:"Pending"}),d.jsx("option",{children:"Completed"})]}),d.jsx("button",{className:"bg-purple-700 text-white px-4 py-1 rounded text-sm hover:bg-purple-800",children:"Export"})]})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length>0?s.map(p=>d.jsxs("tr",{children:[d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",p.id.slice(-4)]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.items.map(m=>m.name).join(", ")}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p.status==="completed"?"bg-green-100 text-green-800":p.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(p.createdAt).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.customerName||p.customerEmail||"N/A"})]},p.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No orders found"})})})]})})]})})})]}):d.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Orders"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-8",children:[d.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Please sign in with Google to access your orders."}),d.jsx("a",{href:"/profile",className:"text-purple-700 underline",children:"Go to Sign In"})]})]})})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ti=(n,e)=>{const t=V.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:p="",children:m,...v},w)=>V.createElement("svg",{ref:w,...QA,width:o,height:o,stroke:s,strokeWidth:c?Number(l)*24/Number(o):l,className:["lucide",`lucide-${YA(n)}`,p].join(" "),...v},[...e.map(([E,I])=>V.createElement(E,I)),...Array.isArray(m)?m:[m]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ti("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=ti("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ti("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ti("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=ti("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=ti("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=ti("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=ti("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),nP=()=>{const{addToCart:n}=jl(),e=Sr(),t=(s,o)=>{const l={id:s==="Basic"?1:2,name:`${s} Subscription Plan`,price:o,image:s==="Basic"?"/src/assets/basic.PNG":"/src/assets/premium.PNG",description:`${s} subscription plan for sellers`};n(l),e("/cart")};return d.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Subscription Plans"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsx("div",{className:"group",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center",children:[d.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Basic"}),d.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"499"}),d.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[d.jsxs("li",{className:"flex items-center",children:[d.jsx(dr,{className:"w-5 h-5 text-green-500 mr-2"})," Basic sales tracking"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(dr,{className:"w-5 h-5 text-green-500 mr-2"})," 10% per sale"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(dr,{className:"w-5 h-5 text-green-500 mr-2"})," Payment payouts 5-7 days"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(dr,{className:"w-5 h-5 text-green-500 mr-2"})," Standard email Support"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(dr,{className:"w-5 h-5 text-green-500 mr-2"})," Can rent up to 10 hive per month"]})]}),d.jsx("div",{className:"group",children:d.jsx(Ot,{onClick:()=>t("Basic","499"),className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})}),d.jsx("div",{className:"group",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center",children:[d.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Premium"}),d.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"1299"}),d.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[d.jsxs("li",{className:"flex items-center",children:[d.jsx(dr,{className:"w-5 h-5 text-green-500 mr-2"})," AI insights: best-selling flavors, demand trends by region"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(dr,{className:"w-5 h-5 text-green-500 mr-2"})," 5% per sale"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(dr,{className:"w-5 h-5 text-green-500 mr-2"})," Instant payout"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(dr,{className:"w-5 h-5 text-green-500 mr-2"})," Priority chat support"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx(dr,{className:"w-5 h-5 text-green-500 mr-2"})," Can rent unlimited hive per month"]})]}),d.jsx("div",{className:"group",children:d.jsx(Ot,{onClick:()=>t("Premium","1299"),className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})})]})]})},rP=()=>{const{logout:n}=Gn(),e=async()=>{try{await n(),window.location.href="/"}catch(t){console.error("Logout error:",t)}};return d.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-honeybee-secondary mb-6",children:"Settings"}),d.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:d.jsx("button",{onClick:e,className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-3 px-6 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Logout"})})]})};function sP(){const[n,e]=V.useState(!1),t=Rn(),s=Sr(),{cartItems:o}=jl(),{user:l,logout:c}=Gn(),p=()=>{e(!n)};return t.pathname==="/login"||t.pathname==="/signup"?null:d.jsxs("nav",{className:"bg-honeybee-background/95 backdrop-blur-sm shadow-lg fixed w-full z-50",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between h-14 md:h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx(Ct,{to:"/",className:"flex-shrink-0 flex items-center",children:d.jsx("span",{className:"font-serif text-lg md:text-xl lg:text-2xl font-bold text-honeybee-primary",children:"Bee Bridge"})})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4 lg:space-x-8",children:[d.jsx(Ct,{to:"/home",className:`font-medium text-sm lg:text-base ${t.pathname==="/home"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Home"}),d.jsx(Ct,{to:"/shop",className:`font-medium text-sm lg:text-base ${t.pathname==="/shop"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Shop"}),d.jsx(Ct,{to:"/about",className:`font-medium text-sm lg:text-base ${t.pathname==="/about"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"About"}),d.jsx("button",{onClick:async()=>{if(!l){s("/profile",{state:{message:"Please sign in with Google to access your seller page."}});return}s("/seller")},className:`font-medium text-sm lg:text-base ${t.pathname==="/seller"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Seller"}),d.jsx(Ct,{to:"/contact",className:`font-medium text-sm lg:text-base ${t.pathname==="/contact"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Contact"}),d.jsx(Ct,{to:"/subscription",className:`font-medium text-sm lg:text-base ${t.pathname==="/subscription"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Subscription"})]}),d.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[d.jsxs(Ct,{to:"/cart",className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 relative p-2 md:p-0",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),o.length>0&&d.jsx("span",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-red-600 text-white rounded-full text-xs w-4 h-4 md:w-5 md:h-5 flex items-center justify-center",children:o.length})]}),d.jsx(Ct,{to:"/profile",className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 p-2 md:p-0",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),d.jsxs("div",{className:"relative group hidden md:block",children:[d.jsxs("button",{className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 flex items-center space-x-1 focus:outline-none p-2 md:p-0",children:[d.jsx(ZA,{className:"h-6 w-6"}),d.jsx("span",{className:"sr-only",children:"Settings"})]}),d.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-50",children:d.jsx("button",{className:"block w-full text-left px-4 py-2 text-honeybee-dark hover:bg-honeybee-light",onClick:()=>{c(),window.location.href="/"},children:"Logout"})})]}),d.jsx("button",{onClick:p,className:"md:hidden text-honeybee-secondary hover:text-honeybee-primary p-2",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),n&&d.jsx("div",{className:"md:hidden bg-honeybee-background/95 backdrop-blur-sm border-t border-honeybee-light",children:d.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[d.jsx(Ct,{to:"/home",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/home"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Home"}),d.jsx(Ct,{to:"/shop",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/shop"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Shop"}),d.jsx(Ct,{to:"/about",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/about"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"About"}),d.jsx("button",{onClick:()=>{if(!l){s("/profile",{state:{message:"Please sign in with Google to access your seller page."}});return}s("/seller"),e(!1)},className:`block w-full text-left px-3 py-2 rounded-md font-medium ${t.pathname==="/seller"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,children:"Seller"}),d.jsx(Ct,{to:"/contact",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/contact"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Contact"}),d.jsx(Ct,{to:"/subscription",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/subscription"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Subscription"}),d.jsx(Ct,{to:"/settings",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/settings"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Settings"}),d.jsx("button",{onClick:()=>{c(),window.location.href="/",e(!1)},className:"block w-full text-left px-3 py-2 rounded-md font-medium text-honeybee-secondary hover:text-honeybee-accent",children:"Logout"})]})})]})}const iP=()=>d.jsxs("footer",{className:"bg-gray-900 text-gray-300 py-10",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 border-b border-gray-700 pb-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"About"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Contact Us"})}),d.jsx("li",{children:d.jsx("a",{href:"/about",className:"hover:text-white font-semibold",children:"About Us"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"Help"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Payments"})}),d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Shipping"})}),d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Cancellation & Returns"})}),d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"FAQ"})})]})]}),d.jsxs("div",{className:"border-l border-gray-700 pl-6",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"Mail Us:"}),d.jsx("address",{className:"not-italic text-sm space-y-1",children:d.jsx("p",{children:"beebridgeshop@gmail.com"})}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-sm font-semibold",children:"Social:"}),d.jsxs("div",{className:"flex space-x-4 mt-2",children:[d.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"hover:text-white",children:d.jsx(XA,{size:20})}),d.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",className:"hover:text-white",children:d.jsx(eP,{size:20})}),d.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",className:"hover:text-white",children:d.jsx(tP,{size:20})}),d.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"hover:text-white",children:d.jsx(JA,{size:20})})]})]})]})]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between pt-6",children:[d.jsxs("div",{className:"flex space-x-8 text-yellow-400 text-sm font-semibold",children:[d.jsx("a",{href:"/seller",className:"flex items-center space-x-2 hover:underline",children:d.jsx("span",{children:"Become a Seller"})}),d.jsx("a",{href:"/contact",className:"flex items-center space-x-2 hover:underline",children:d.jsx("span",{children:"Help Center"})})]}),d.jsx("div",{className:"text-gray-400 text-sm mt-4 md:mt-0",children:" 2025 Bee Bridge.com"})]})]}),Ps=({children:n,backgroundImage:e})=>{const t=Rn();return d.jsxs("div",{className:"min-h-screen flex flex-col",style:e?{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}:{},children:[d.jsx(sP,{}),d.jsx("main",{className:"pt-16 pb-80",children:n}),t.pathname==="/seller"&&d.jsx("div",{className:"h-screen"}),t.pathname!=="/seller"&&d.jsx("div",{className:"mt-96",children:d.jsx(iP,{})})]})},u_=()=>{const[n,e]=V.useState(""),[t,s]=V.useState(""),[o,l]=V.useState(!1),[c,p]=V.useState(null),[m,v]=V.useState(!1),[w,E]=V.useState(!1),I=Sr(),{signInWithGoogle:P,enableTestingMode:z}=Gn();V.useEffect(()=>{const j=new Image;j.src="https://developers.google.com/identity/images/g-logo.png",j.onload=()=>v(!0)},[]);const F=async j=>{j.preventDefault(),p(null);try{const G=(await l0(Ri,n,t)).user;await Bi(kn(an,"users",G.uid),{email:G.email,uid:G.uid,loginMethod:"email",lastLogin:new Date},{merge:!0}),I("/home")}catch(H){console.error("Login error:",H);let G="Login failed. Please try again.";if(H&&typeof H=="object"&&"code"in H)switch(H.code){case"auth/invalid-credential":G="Invalid email or password. Please check your credentials and try again.";break;case"auth/user-disabled":G="This account has been disabled. Please contact support.";break;case"auth/user-not-found":G="No account found with this email address.";break;case"auth/wrong-password":G="Incorrect password. Please try again.";break;case"auth/invalid-email":G="Invalid email address format.";break;case"auth/too-many-requests":G="Too many failed login attempts. Please try again later.";break;case"auth/network-request-failed":G="Network error. Please check your internet connection.";break;default:G=`Authentication error: ${H.code}`}else H instanceof Error&&(G=H.message);p(G)}};return d.jsx("div",{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center px-4 relative",children:d.jsxs("div",{className:"max-w-5xl w-full bg-gray-50 rounded-3xl shadow-2xl flex overflow-hidden",children:[d.jsxs("div",{className:"w-full md:w-1/2 p-10 flex flex-col justify-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Hello Again!"}),d.jsxs("form",{onSubmit:F,className:"space-y-6",children:[d.jsx("div",{children:d.jsx("input",{type:"email",id:"email",value:n,onChange:j=>e(j.target.value),required:!0,placeholder:"Email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),d.jsx("div",{children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:o?"text":"password",id:"password",value:t,onChange:j=>s(j.target.value),required:!0,placeholder:"Password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"}),d.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":o?"Hide password":"Show password",children:o?d.jsx(Ex,{className:"h-5 w-5"}):d.jsx(xx,{className:"h-5 w-5"})})]})}),d.jsx("div",{children:d.jsx("div",{className:"text-right text-xs text-gray-500 mb-4 cursor-pointer hover:underline",children:"Recovery Password"})}),d.jsx("div",{children:d.jsx(Ot,{type:"submit",variant:"primary",className:"w-full font-semibold",children:"Sign In"})})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("span",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",d.jsx(Ot,{onClick:()=>I("/signup"),variant:"ghost",className:"text-honeybee-primary hover:underline font-semibold p-0",children:"Sign Up"})]})}),d.jsxs("div",{className:"flex items-center my-6",children:[d.jsx("hr",{className:"flex-grow border-gray-300"}),d.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"Or continue with"}),d.jsx("hr",{className:"flex-grow border-gray-300"})]}),c&&d.jsx("div",{className:"text-red-500 text-sm text-center mb-4",children:c}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsx(Ot,{onClick:async()=>{E(!0);try{console.log("Starting Google login process..."),await P(),console.log("Google authentication process initiated..."),I("/home")}catch(j){console.error("Google login process failed:",j),I("/home")}finally{E(!1)}},variant:"light",size:"icon",className:"p-3 shadow-md bg-white hover:shadow-lg",disabled:w,children:w?d.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):m?d.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"}):d.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded animate-pulse"})}),d.jsx(Ot,{onClick:()=>{z(),I("/home")},variant:"secondary",className:"px-4 py-2 text-sm",children:"Testing Mode"})]})]}),d.jsx("div",{className:"hidden md:flex md:w-1/2 relative rounded-r-3xl overflow-hidden border-8 border-white shadow-lg",children:vl.createElement("dotlottie-wc",{src:"https://lottie.host/415db1e3-d9d5-4073-b9fe-099abfe8c66c/XtpXv9SgcE.lottie",style:{width:"100%",height:"100%"},autoplay:!0,loop:!0})})]})})},oP=()=>{const[n,e]=V.useState(""),[t,s]=V.useState(""),[o,l]=V.useState(""),[c,p]=V.useState(!1),[m,v]=V.useState(!1),[w,E]=V.useState(null),I=Sr(),{signInWithGoogle:P}=Gn(),z=async F=>{F.preventDefault(),v(!0),E(null);try{const H=(await eb(Ri,t,o)).user;await Bi(kn(an,"users",H.uid),{name:n,email:H.email,uid:H.uid,loginMethod:"email",createdAt:new Date,lastLogin:new Date}),setTimeout(()=>{I("/home")},2500)}catch(j){console.error("Sign up error:",j);let H="Sign up failed. Please try again.";if(j&&typeof j=="object"&&"code"in j)switch(j.code){case"auth/email-already-in-use":H="An account with this email already exists. Please try logging in instead.";break;case"auth/invalid-email":H="Invalid email address format.";break;case"auth/weak-password":H="Password is too weak. Please choose a stronger password.";break;case"auth/operation-not-allowed":H="Email/password accounts are not enabled. Please contact support.";break;case"auth/network-request-failed":H="Network error. Please check your internet connection.";break;default:H=`Authentication error: ${j.code}`}else j instanceof Error&&(H=j.message);E(H),v(!1)}};return m?d.jsx("div",{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center",children:vl.createElement("dotlottie-wc",{src:"https://lottie.host/81653027-58d6-47e3-9de5-491db6a527a5/TWNyD5vQVe.lottie",style:{width:"300px",height:"300px"},autoplay:!0,loop:!0})}):d.jsx("div",{className:"min-h-screen gradient-bg-warm flex items-center justify-center px-4",children:d.jsxs("div",{className:"max-w-5xl w-full glass-effect rounded-3xl modern-shadow flex overflow-hidden",children:[d.jsxs("div",{className:"w-full md:w-1/2 p-10 flex flex-col justify-center",children:[d.jsx("h1",{className:"text-4xl font-bold vibrant-text mb-6 text-center",children:"Create Account"}),d.jsxs("form",{onSubmit:z,className:"space-y-6",children:[d.jsx("div",{children:d.jsx("input",{type:"text",id:"name",value:n,onChange:F=>e(F.target.value),required:!0,placeholder:"Your full name",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),d.jsx("div",{children:d.jsx("input",{type:"email",id:"email",value:t,onChange:F=>s(F.target.value),required:!0,placeholder:"Email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),d.jsx("div",{children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:c?"text":"password",id:"password",value:o,onChange:F=>l(F.target.value),required:!0,placeholder:"Password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"}),d.jsx("button",{type:"button",onClick:()=>p(!c),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":c?"Hide password":"Show password",children:c?d.jsx(Ex,{className:"h-5 w-5"}):d.jsx(xx,{className:"h-5 w-5"})})]})}),d.jsx("div",{children:d.jsx(Ot,{type:"submit",variant:"primary",className:"w-full font-semibold",children:"Sign Up"})})]}),d.jsxs("div",{className:"flex items-center my-6",children:[d.jsx("hr",{className:"flex-grow border-gray-300"}),d.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"Or continue with"}),d.jsx("hr",{className:"flex-grow border-gray-300"})]}),w&&d.jsx("div",{className:"text-red-500 text-sm text-center mb-4",children:w}),d.jsx("div",{className:"flex justify-center",children:d.jsx(Ot,{onClick:async()=>{E(null);try{await P()}catch(F){const j=F instanceof Error?F.message:"Google login failed. Please try again.";E(j)}},variant:"light",size:"icon",className:"p-3 shadow-md bg-white hover:shadow-lg",children:d.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"})})}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("span",{className:"text-gray-600 text-sm",children:["Already have an account?"," ",d.jsx(Ot,{onClick:()=>I("/login"),variant:"ghost",className:"text-honeybee-primary hover:underline font-semibold p-0",children:"Sign In"})]})})]}),d.jsx("div",{className:"hidden md:block md:w-1/2 relative rounded-r-3xl overflow-hidden border-8 border-white shadow-lg",children:vl.createElement("dotlottie-wc",{src:"https://lottie.host/415db1e3-d9d5-4073-b9fe-099abfe8c66c/XtpXv9SgcE.lottie",style:{width:"100%",height:"100%"},autoplay:!0,loop:!0})})]})})},Tx=({type:n="card",count:e=1,className:t=""})=>{const s=Array.from({length:e},(o,l)=>d.jsxs("div",{className:`animate-pulse ${t} ${n==="card"?"bg-gray-200 rounded-xl p-6 space-y-4":n==="list"?"bg-gray-200 rounded-lg p-4 space-y-3":"bg-gray-200 rounded h-4"}`,children:[n==="card"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),d.jsx("div",{className:"h-10 bg-gray-300 rounded"})]}),n==="list"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]}),n==="text"&&d.jsx("div",{className:"h-4 bg-gray-300 rounded"})]},l));return d.jsx(d.Fragment,{children:s})},yc=({children:n})=>{const{user:e,loading:t}=Gn(),o=Rn().search.includes("testing=true"),l=localStorage.getItem("testingMode")==="true",c=o||l;return o&&!l&&localStorage.setItem("testingMode","true"),t?d.jsx(Tx,{}):!e&&!c?d.jsx(cf,{to:"/login",replace:!0}):c?n:e&&!e.providerData.some(p=>p.providerId==="google.com")?d.jsx(cf,{to:"/profile",replace:!0}):n};function aP(){const{user:n,loading:e}=Gn();return e?d.jsx(Tx,{}):d.jsxs(kT,{children:[d.jsx($t,{path:"/",element:n?d.jsx(cf,{to:"/home",replace:!0}):d.jsx(u_,{})}),d.jsx($t,{path:"/login",element:d.jsx(u_,{})}),d.jsx($t,{path:"/signup",element:d.jsx(oP,{})}),d.jsx($t,{path:"/home",element:d.jsx(Ps,{children:d.jsx(c1,{})})}),d.jsx($t,{path:"/about",element:d.jsx(Ps,{children:d.jsx(h1,{})})}),d.jsx($t,{path:"/contact",element:d.jsx(Ps,{children:d.jsx(p1,{})})}),d.jsx($t,{path:"/shop",element:d.jsx(Ps,{children:d.jsx(y1,{})})}),d.jsx($t,{path:"/cart",element:d.jsx(Ps,{children:d.jsx(v1,{})})}),d.jsx($t,{path:"/checkout",element:d.jsx(Ps,{children:d.jsx(zA,{})})}),d.jsx($t,{path:"/profile",element:d.jsx(yc,{children:d.jsx($A,{})})}),d.jsx($t,{path:"/seller",element:d.jsx(yc,{children:d.jsx(qA,{})})}),d.jsx($t,{path:"/applications",element:d.jsx(yc,{children:d.jsx(GA,{})})}),d.jsx($t,{path:"/orders",element:d.jsx(yc,{children:d.jsx(KA,{})})}),d.jsx($t,{path:"/subscription",element:d.jsx(Ps,{children:d.jsx(nP,{})})}),d.jsx($t,{path:"/settings",element:d.jsx(Ps,{children:d.jsx(rP,{})})})]})}function lP(){return d.jsx(m1,{children:d.jsx(JT,{children:d.jsx(aP,{})})})}FE.createRoot(document.getElementById("root")).render(d.jsx(V.StrictMode,{children:d.jsx(lP,{})}));
