(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Af={exports:{}},vl={},Pf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function uI(){if(Uv)return Re;Uv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,O={};function b(F,Y,Ae){this.props=F,this.context=Y,this.refs=O,this.updater=Ae||C}b.prototype.isReactComponent={},b.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function B(){}B.prototype=b.prototype;function H(F,Y,Ae){this.props=F,this.context=Y,this.refs=O,this.updater=Ae||C}var q=H.prototype=new B;q.constructor=H,M(q,b.prototype),q.isPureReactComponent=!0;var se=Array.isArray,re=Object.prototype.hasOwnProperty,oe={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(F,Y,Ae){var Pe,ke={},be=null,Be=null;if(Y!=null)for(Pe in Y.ref!==void 0&&(Be=Y.ref),Y.key!==void 0&&(be=""+Y.key),Y)re.call(Y,Pe)&&!R.hasOwnProperty(Pe)&&(ke[Pe]=Y[Pe]);var Oe=arguments.length-2;if(Oe===1)ke.children=Ae;else if(1<Oe){for(var We=Array(Oe),Jt=0;Jt<Oe;Jt++)We[Jt]=arguments[Jt+2];ke.children=We}if(F&&F.defaultProps)for(Pe in Oe=F.defaultProps,Oe)ke[Pe]===void 0&&(ke[Pe]=Oe[Pe]);return{$$typeof:n,type:F,key:be,ref:Be,props:ke,_owner:oe.current}}function A(F,Y){return{$$typeof:n,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function D(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Ae){return Y[Ae]})}var U=/\/+/g;function k(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):Y.toString(36)}function $e(F,Y,Ae,Pe,ke){var be=typeof F;(be==="undefined"||be==="boolean")&&(F=null);var Be=!1;if(F===null)Be=!0;else switch(be){case"string":case"number":Be=!0;break;case"object":switch(F.$$typeof){case n:case e:Be=!0}}if(Be)return Be=F,ke=ke(Be),F=Pe===""?"."+k(Be,0):Pe,se(ke)?(Ae="",F!=null&&(Ae=F.replace(U,"$&/")+"/"),$e(ke,Y,Ae,"",function(Jt){return Jt})):ke!=null&&(N(ke)&&(ke=A(ke,Ae+(!ke.key||Be&&Be.key===ke.key?"":(""+ke.key).replace(U,"$&/")+"/")+F)),Y.push(ke)),1;if(Be=0,Pe=Pe===""?".":Pe+":",se(F))for(var Oe=0;Oe<F.length;Oe++){be=F[Oe];var We=Pe+k(be,Oe);Be+=$e(be,Y,Ae,We,ke)}else if(We=T(F),typeof We=="function")for(F=We.call(F),Oe=0;!(be=F.next()).done;)be=be.value,We=Pe+k(be,Oe++),Be+=$e(be,Y,Ae,We,ke);else if(be==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Be}function ht(F,Y,Ae){if(F==null)return F;var Pe=[],ke=0;return $e(F,Pe,"","",function(be){return Y.call(Ae,be,ke++)}),Pe}function Vt(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(Ae){(F._status===0||F._status===-1)&&(F._status=1,F._result=Ae)},function(Ae){(F._status===0||F._status===-1)&&(F._status=2,F._result=Ae)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var Ce={current:null},te={transition:null},de={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:te,ReactCurrentOwner:oe};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:ht,forEach:function(F,Y,Ae){ht(F,function(){Y.apply(this,arguments)},Ae)},count:function(F){var Y=0;return ht(F,function(){Y++}),Y},toArray:function(F){return ht(F,function(Y){return Y})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Re.Component=b,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=H,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Re.act=ae,Re.cloneElement=function(F,Y,Ae){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Pe=M({},F.props),ke=F.key,be=F.ref,Be=F._owner;if(Y!=null){if(Y.ref!==void 0&&(be=Y.ref,Be=oe.current),Y.key!==void 0&&(ke=""+Y.key),F.type&&F.type.defaultProps)var Oe=F.type.defaultProps;for(We in Y)re.call(Y,We)&&!R.hasOwnProperty(We)&&(Pe[We]=Y[We]===void 0&&Oe!==void 0?Oe[We]:Y[We])}var We=arguments.length-2;if(We===1)Pe.children=Ae;else if(1<We){Oe=Array(We);for(var Jt=0;Jt<We;Jt++)Oe[Jt]=arguments[Jt+2];Pe.children=Oe}return{$$typeof:n,type:F.type,key:ke,ref:be,props:Pe,_owner:Be}},Re.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Re.createElement=I,Re.createFactory=function(F){var Y=I.bind(null,F);return Y.type=F,Y},Re.createRef=function(){return{current:null}},Re.forwardRef=function(F){return{$$typeof:d,render:F}},Re.isValidElement=N,Re.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:Vt}},Re.memo=function(F,Y){return{$$typeof:p,type:F,compare:Y===void 0?null:Y}},Re.startTransition=function(F){var Y=te.transition;te.transition={};try{F()}finally{te.transition=Y}},Re.unstable_act=ae,Re.useCallback=function(F,Y){return Ce.current.useCallback(F,Y)},Re.useContext=function(F){return Ce.current.useContext(F)},Re.useDebugValue=function(){},Re.useDeferredValue=function(F){return Ce.current.useDeferredValue(F)},Re.useEffect=function(F,Y){return Ce.current.useEffect(F,Y)},Re.useId=function(){return Ce.current.useId()},Re.useImperativeHandle=function(F,Y,Ae){return Ce.current.useImperativeHandle(F,Y,Ae)},Re.useInsertionEffect=function(F,Y){return Ce.current.useInsertionEffect(F,Y)},Re.useLayoutEffect=function(F,Y){return Ce.current.useLayoutEffect(F,Y)},Re.useMemo=function(F,Y){return Ce.current.useMemo(F,Y)},Re.useReducer=function(F,Y,Ae){return Ce.current.useReducer(F,Y,Ae)},Re.useRef=function(F){return Ce.current.useRef(F)},Re.useState=function(F){return Ce.current.useState(F)},Re.useSyncExternalStore=function(F,Y,Ae){return Ce.current.useSyncExternalStore(F,Y,Ae)},Re.useTransition=function(){return Ce.current.useTransition()},Re.version="18.3.1",Re}var Bv;function tm(){return Bv||(Bv=1,Pf.exports=uI()),Pf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function cI(){if(zv)return vl;zv=1;var n=tm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,w={},T=null,C=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(C=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(w[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)w[g]===void 0&&(w[g]=f[g]);return{$$typeof:e,type:d,key:T,ref:C,props:w,_owner:o.current}}return vl.Fragment=t,vl.jsx=u,vl.jsxs=u,vl}var $v;function hI(){return $v||($v=1,Af.exports=cI()),Af.exports}var _=hI(),L=tm(),Dc={},Rf={exports:{}},ln={},kf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function dI(){return Hv||(Hv=1,(function(n){function e(te,de){var ae=te.length;te.push(de);e:for(;0<ae;){var F=ae-1>>>1,Y=te[F];if(0<o(Y,de))te[F]=de,te[ae]=Y,ae=F;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var de=te[0],ae=te.pop();if(ae!==de){te[0]=ae;e:for(var F=0,Y=te.length,Ae=Y>>>1;F<Ae;){var Pe=2*(F+1)-1,ke=te[Pe],be=Pe+1,Be=te[be];if(0>o(ke,ae))be<Y&&0>o(Be,ke)?(te[F]=Be,te[be]=ae,F=be):(te[F]=ke,te[Pe]=ae,F=Pe);else if(be<Y&&0>o(Be,ae))te[F]=Be,te[be]=ae,F=be;else break e}}return de}function o(te,de){var ae=te.sortIndex-de.sortIndex;return ae!==0?ae:te.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,w=null,T=3,C=!1,M=!1,O=!1,b=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(te){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=te)r(p),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(p)}}function se(te){if(O=!1,q(te),!M)if(t(f)!==null)M=!0,Vt(re);else{var de=t(p);de!==null&&Ce(se,de.startTime-te)}}function re(te,de){M=!1,O&&(O=!1,B(I),I=-1),C=!0;var ae=T;try{for(q(de),w=t(f);w!==null&&(!(w.expirationTime>de)||te&&!D());){var F=w.callback;if(typeof F=="function"){w.callback=null,T=w.priorityLevel;var Y=F(w.expirationTime<=de);de=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(f)&&r(f),q(de)}else r(f);w=t(f)}if(w!==null)var Ae=!0;else{var Pe=t(p);Pe!==null&&Ce(se,Pe.startTime-de),Ae=!1}return Ae}finally{w=null,T=ae,C=!1}}var oe=!1,R=null,I=-1,A=5,N=-1;function D(){return!(n.unstable_now()-N<A)}function U(){if(R!==null){var te=n.unstable_now();N=te;var de=!0;try{de=R(!0,te)}finally{de?k():(oe=!1,R=null)}}else oe=!1}var k;if(typeof H=="function")k=function(){H(U)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,ht=$e.port2;$e.port1.onmessage=U,k=function(){ht.postMessage(null)}}else k=function(){b(U,0)};function Vt(te){R=te,oe||(oe=!0,k())}function Ce(te,de){I=b(function(){te(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){M||C||(M=!0,Vt(re))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(te){switch(T){case 1:case 2:case 3:var de=3;break;default:de=T}var ae=T;T=de;try{return te()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ae=T;T=te;try{return de()}finally{T=ae}},n.unstable_scheduleCallback=function(te,de,ae){var F=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,te){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,te={id:g++,callback:de,priorityLevel:te,startTime:ae,expirationTime:Y,sortIndex:-1},ae>F?(te.sortIndex=ae,e(p,te),t(f)===null&&te===t(p)&&(O?(B(I),I=-1):O=!0,Ce(se,ae-F))):(te.sortIndex=Y,e(f,te),M||C||(M=!0,Vt(re))),te},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(te){var de=T;return function(){var ae=T;T=de;try{return te.apply(this,arguments)}finally{T=ae}}}})(bf)),bf}var Wv;function fI(){return Wv||(Wv=1,kf.exports=dI()),kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function pI(){if(qv)return ln;qv=1;var n=tm(),e=fI();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function T(i){return f.call(w,i)?!0:f.call(g,i)?!1:p.test(i)?w[i]=!0:(g[i]=!0,!1)}function C(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function M(i,s,l,h){if(s===null||typeof s>"u"||C(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(i,s,l,h,m,y,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];b[s]=new O(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function H(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(B,H);b[s]=new O(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(B,H);b[s]=new O(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(B,H);b[s]=new O(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,s,l,h){var m=b.hasOwnProperty(s)?b[s]:null;(m!==null?m.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,l,m,h)&&(l=null),h||m===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),oe=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),te=Symbol.iterator;function de(i){return i===null||typeof i!="object"?null:(i=te&&i[te]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,F;function Y(i){if(F===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+i}var Ae=!1;function Pe(i,s){if(!i||Ae)return"";Ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var h=K}Reflect.construct(i,[],s)}else{try{s.call()}catch(K){h=K}i.call(s.prototype)}else{try{throw Error()}catch(K){h=K}i()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),y=h.stack.split(`
`),x=m.length-1,P=y.length-1;1<=x&&0<=P&&m[x]!==y[P];)P--;for(;1<=x&&0<=P;x--,P--)if(m[x]!==y[P]){if(x!==1||P!==1)do if(x--,P--,0>P||m[x]!==y[P]){var V=`
`+m[x].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=x&&0<=P);break}}}finally{Ae=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function ke(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case oe:return"Portal";case A:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case $e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case U:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ht:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case Vt:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}function Be(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Jt(i){var s=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(x){h=""+x,y.call(this,x)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Zs(i){i._valueTracker||(i._valueTracker=Jt(i))}function Sa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=We(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function eo(i,s){var l=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function _u(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Oe(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function to(i,s){s=s.checked,s!=null&&q(i,"checked",s,!1)}function os(i,s){to(i,s);var l=Oe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?vt(i,s.type,l):s.hasOwnProperty("defaultValue")&&vt(i,s.type,Oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function Ia(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function vt(i,s,l){(s!=="number"||ui(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var dt=Array.isArray;function On(i,s,l,h){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Oe(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Ca(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Aa(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(dt(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Oe(l)}}function wu(i,s){var l=Oe(s.value),h=Oe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function ci(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Pa(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function no(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Pa(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var hi,Eu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,m)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(hi=hi||document.createElement("div"),hi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=hi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function as(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tu=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(i){Tu.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),di[s]=di[i]})});function fi(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||di.hasOwnProperty(i)&&di[i]?(""+s).trim():s+"px"}function ro(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=fi(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var Ra=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jn(i,s){if(s){if(Ra[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function io(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function so(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var br=null,Nr=null,lt=null;function ka(i){if(i=rl(i)){if(typeof br!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Qu(s),br(i.stateNode,i.type,s))}}function mi(i){Nr?lt?lt.push(i):lt=[i]:Nr=i}function gi(){if(Nr){var i=Nr,s=lt;if(lt=Nr=null,ka(i),s)for(i=0;i<s.length;i++)ka(s[i])}}function xu(i,s){return i(s)}function Su(){}var Jn=!1;function Iu(i,s,l){if(Jn)return i(s,l);Jn=!0;try{return xu(i,s,l)}finally{Jn=!1,(Nr!==null||lt!==null)&&(Su(),gi())}}function ls(i,s){var l=i.stateNode;if(l===null)return null;var h=Qu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var yi=!1;if(d)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){yi=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{yi=!1}function Cu(i,s,l,h,m,y,x,P,V){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(J){this.onError(J)}}var Vr=!1,Zn=null,oo=!1,Tn=null,Au={onError:function(i){Vr=!0,Zn=i}};function Pu(i,s,l,h,m,y,x,P,V){Vr=!1,Zn=null,Cu.apply(Au,arguments)}function ba(i,s,l,h,m,y,x,P,V){if(Pu.apply(this,arguments),Vr){if(Vr){var K=Zn;Vr=!1,Zn=null}else throw Error(t(198));oo||(oo=!0,Tn=K)}}function Fn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function Na(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Ru(i){if(Fn(i)!==i)throw Error(t(188))}function ku(i){var s=i.alternate;if(!s){if(s=Fn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Ru(m),i;if(y===h)return Ru(m),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var x=!1,P=m.child;P;){if(P===l){x=!0,l=m,h=y;break}if(P===h){x=!0,h=m,l=y;break}P=P.sibling}if(!x){for(P=y.child;P;){if(P===l){x=!0,l=y,h=m;break}if(P===h){x=!0,h=y,l=m;break}P=P.sibling}if(!x)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function bu(i){return i=ku(i),i!==null?us(i):null}function us(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=us(i);if(s!==null)return s;i=i.sibling}return null}var Va=e.unstable_scheduleCallback,ao=e.unstable_cancelCallback,cs=e.unstable_shouldYield,Dr=e.unstable_requestPaint,Ge=e.unstable_now,rd=e.unstable_getCurrentPriorityLevel,lo=e.unstable_ImmediatePriority,Da=e.unstable_UserBlockingPriority,hs=e.unstable_NormalPriority,Ma=e.unstable_LowPriority,uo=e.unstable_IdlePriority,ds=null,fn=null;function Nu(i){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ds,i,void 0,(i.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:fs,er=Math.log,xn=Math.LN2;function fs(i){return i>>>=0,i===0?32:31-(er(i)/xn|0)|0}var tr=64,_i=4194304;function Ue(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Mr(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,x=l&268435455;if(x!==0){var P=x&~m;P!==0?h=Ue(P):(y&=x,y!==0&&(h=Ue(y)))}else x=l&~m,x!==0?h=Ue(x):y!==0&&(h=Ue(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&m)===0&&(m=h&-h,y=s&-s,m>=y||m===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-pn(s),m=1<<l,h|=i[l],s&=~m;return h}function ps(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ms(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var x=31-pn(y),P=1<<x,V=m[x];V===-1?((P&l)===0||(P&h)!==0)&&(m[x]=ps(P,s)):V<=s&&(i.expiredLanes|=P),y&=~P}}function La(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Oa(){var i=tr;return tr<<=1,(tr&4194240)===0&&(tr=64),i}function ja(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function gs(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-pn(s),i[s]=l}function id(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-pn(l),y=1<<m;s[m]=0,h[m]=-1,i[m]=-1,l&=~y}}function Fa(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-pn(l),m=1<<h;m&s|i[h]&s&&(i[h]|=s),l&=~m}}var Me=0;function nr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ua,co,Ba,za,$a,rr=!1,ho=[],ir=null,sr=null,Dt=null,ys=new Map,Lr=new Map,mn=[],Vu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wi(i,s){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":ys.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(s.pointerId)}}function Un(i,s,l,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},s!==null&&(s=rl(s),s!==null&&co(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function Du(i,s,l,h,m){switch(s){case"focusin":return ir=Un(ir,i,s,l,h,m),!0;case"dragenter":return sr=Un(sr,i,s,l,h,m),!0;case"mouseover":return Dt=Un(Dt,i,s,l,h,m),!0;case"pointerover":var y=m.pointerId;return ys.set(y,Un(ys.get(y)||null,i,s,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Lr.set(y,Un(Lr.get(y)||null,i,s,l,h,m)),!0}return!1}function fo(i){var s=Es(i.target);if(s!==null){var l=Fn(s);if(l!==null){if(s=l.tag,s===13){if(s=Na(l),s!==null){i.blockedOn=s,$a(i.priority,function(){Ba(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qe(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=po(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);pi=h,l.target.dispatchEvent(h),pi=null}else return s=rl(l),s!==null&&co(s),i.blockedOn=l,!1;s.shift()}return!0}function Mu(i,s,l){qe(i)&&l.delete(s)}function sd(){rr=!1,ir!==null&&qe(ir)&&(ir=null),sr!==null&&qe(sr)&&(sr=null),Dt!==null&&qe(Dt)&&(Dt=null),ys.forEach(Mu),Lr.forEach(Mu)}function Ei(i,s){i.blockedOn===s&&(i.blockedOn=null,rr||(rr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sd)))}function Ti(i){function s(m){return Ei(m,i)}if(0<ho.length){Ei(ho[0],i);for(var l=1;l<ho.length;l++){var h=ho[l];h.blockedOn===i&&(h.blockedOn=null)}}for(ir!==null&&Ei(ir,i),sr!==null&&Ei(sr,i),Dt!==null&&Ei(Dt,i),ys.forEach(s),Lr.forEach(s),l=0;l<mn.length;l++)h=mn[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<mn.length&&(l=mn[0],l.blockedOn===null);)fo(l),l.blockedOn===null&&mn.shift()}var Or=se.ReactCurrentBatchConfig,jr=!0;function or(i,s,l,h){var m=Me,y=Or.transition;Or.transition=null;try{Me=1,Ha(i,s,l,h)}finally{Me=m,Or.transition=y}}function Lu(i,s,l,h){var m=Me,y=Or.transition;Or.transition=null;try{Me=4,Ha(i,s,l,h)}finally{Me=m,Or.transition=y}}function Ha(i,s,l,h){if(jr){var m=po(i,s,l,h);if(m===null)gd(i,s,h,ar,l),wi(i,h);else if(Du(m,i,s,l,h))h.stopPropagation();else if(wi(i,h),s&4&&-1<Vu.indexOf(i)){for(;m!==null;){var y=rl(m);if(y!==null&&Ua(y),y=po(i,s,l,h),y===null&&gd(i,s,h,ar,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else gd(i,s,h,null,l)}}var ar=null;function po(i,s,l,h){if(ar=null,i=so(h),i=Es(i),i!==null)if(s=Fn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=Na(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return ar=i,null}function mo(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rd()){case lo:return 1;case Da:return 4;case hs:case Ma:return 16;case uo:return 536870912;default:return 16}default:return 16}}var gn=null,go=null,Fr=null;function Ou(){if(Fr)return Fr;var i,s=go,l=s.length,h,m="value"in gn?gn.value:gn.textContent,y=m.length;for(i=0;i<l&&s[i]===m[i];i++);var x=l-i;for(h=1;h<=x&&s[l-h]===m[y-h];h++);return Fr=m.slice(i,1<h?1-h:void 0)}function vs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function lr(){return!0}function Wa(){return!1}function zt(i){function s(l,h,m,y,x){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?lr:Wa,this.isPropagationStopped=Wa,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),s}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=zt(ur),xi=ae({},ur,{view:0,detail:0}),yo=zt(xi),vo,_o,yn,ws=ae({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Se,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yn&&(yn&&i.type==="mousemove"?(vo=i.screenX-yn.screenX,_o=i.screenY-yn.screenY):_o=vo=0,yn=i),vo)},movementY:function(i){return"movementY"in i?i.movementY:_o}}),qa=zt(ws),ju=ae({},ws,{dataTransfer:0}),Fu=zt(ju),wo=ae({},xi,{relatedTarget:0}),Mt=zt(wo),Uu=ae({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=zt(Uu),Si=ae({},ur,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c=zt(Si),v=ae({},ur,{data:0}),E=zt(v),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ie(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=G[i])?!!s[i]:!1}function Se(){return ie}var ft=ae({},xi,{key:function(i){if(i.key){var s=S[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=vs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Se,charCode:function(i){return i.type==="keypress"?vs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),He=zt(ft),_t=ae({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vn=zt(_t),Ur=ae({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Se}),cr=zt(Ur),hr=ae({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eo=zt(hr),Ka=ae({},ws,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rS=zt(Ka),iS=[9,13,27,32],od=d&&"CompositionEvent"in window,Ga=null;d&&"documentMode"in document&&(Ga=document.documentMode);var sS=d&&"TextEvent"in window&&!Ga,Ng=d&&(!od||Ga&&8<Ga&&11>=Ga),Vg=" ",Dg=!1;function Mg(i,s){switch(i){case"keyup":return iS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var To=!1;function oS(i,s){switch(i){case"compositionend":return Lg(s);case"keypress":return s.which!==32?null:(Dg=!0,Vg);case"textInput":return i=s.data,i===Vg&&Dg?null:i;default:return null}}function aS(i,s){if(To)return i==="compositionend"||!od&&Mg(i,s)?(i=Ou(),Fr=go=gn=null,To=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ng&&s.locale!=="ko"?null:s.data;default:return null}}var lS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!lS[i.type]:s==="textarea"}function jg(i,s,l,h){mi(h),s=qu(s,"onChange"),0<s.length&&(l=new _s("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Qa=null,Ya=null;function uS(i){ny(i,0)}function zu(i){var s=Ao(i);if(Sa(s))return i}function cS(i,s){if(i==="change")return s}var Fg=!1;if(d){var ad;if(d){var ld="oninput"in document;if(!ld){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),ld=typeof Ug.oninput=="function"}ad=ld}else ad=!1;Fg=ad&&(!document.documentMode||9<document.documentMode)}function Bg(){Qa&&(Qa.detachEvent("onpropertychange",zg),Ya=Qa=null)}function zg(i){if(i.propertyName==="value"&&zu(Ya)){var s=[];jg(s,Ya,i,so(i)),Iu(uS,s)}}function hS(i,s,l){i==="focusin"?(Bg(),Qa=s,Ya=l,Qa.attachEvent("onpropertychange",zg)):i==="focusout"&&Bg()}function dS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zu(Ya)}function fS(i,s){if(i==="click")return zu(s)}function pS(i,s){if(i==="input"||i==="change")return zu(s)}function mS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Bn=typeof Object.is=="function"?Object.is:mS;function Xa(i,s){if(Bn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(s,m)||!Bn(i[m],s[m]))return!1}return!0}function $g(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hg(i,s){var l=$g(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$g(l)}}function Wg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Wg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function qg(){for(var i=window,s=ui();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ui(i.document)}return s}function ud(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function gS(i){var s=qg(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Wg(l.ownerDocument.documentElement,l)){if(h!==null&&ud(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=Hg(l,y);var x=Hg(l,h);m&&x&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==x.node||i.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(s),i.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var yS=d&&"documentMode"in document&&11>=document.documentMode,xo=null,cd=null,Ja=null,hd=!1;function Kg(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hd||xo==null||xo!==ui(h)||(h=xo,"selectionStart"in h&&ud(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ja&&Xa(Ja,h)||(Ja=h,h=qu(cd,"onSelect"),0<h.length&&(s=new _s("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=xo)))}function $u(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var So={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},dd={},Gg={};d&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Hu(i){if(dd[i])return dd[i];if(!So[i])return i;var s=So[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Gg)return dd[i]=s[l];return i}var Qg=Hu("animationend"),Yg=Hu("animationiteration"),Xg=Hu("animationstart"),Jg=Hu("transitionend"),Zg=new Map,ey="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(i,s){Zg.set(i,s),a(s,[i])}for(var fd=0;fd<ey.length;fd++){var pd=ey[fd],vS=pd.toLowerCase(),_S=pd[0].toUpperCase()+pd.slice(1);Ii(vS,"on"+_S)}Ii(Qg,"onAnimationEnd"),Ii(Yg,"onAnimationIteration"),Ii(Xg,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(Jg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function ty(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,ba(h,s,void 0,i),i.currentTarget=null}function ny(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var x=h.length-1;0<=x;x--){var P=h[x],V=P.instance,K=P.currentTarget;if(P=P.listener,V!==y&&m.isPropagationStopped())break e;ty(m,P,K),y=V}else for(x=0;x<h.length;x++){if(P=h[x],V=P.instance,K=P.currentTarget,P=P.listener,V!==y&&m.isPropagationStopped())break e;ty(m,P,K),y=V}}}if(oo)throw i=Tn,oo=!1,Tn=null,i}function Qe(i,s){var l=s[Td];l===void 0&&(l=s[Td]=new Set);var h=i+"__bubble";l.has(h)||(ry(s,i,2,!1),l.add(h))}function md(i,s,l){var h=0;s&&(h|=4),ry(l,i,h,s)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function el(i){if(!i[Wu]){i[Wu]=!0,r.forEach(function(l){l!=="selectionchange"&&(wS.has(l)||md(l,!1,i),md(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Wu]||(s[Wu]=!0,md("selectionchange",!1,s))}}function ry(i,s,l,h){switch(mo(s)){case 1:var m=or;break;case 4:m=Lu;break;default:m=Ha}l=m.bind(null,s,l,i),m=void 0,!yi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function gd(i,s,l,h,m){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var P=h.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(x===4)for(x=h.return;x!==null;){var V=x.tag;if((V===3||V===4)&&(V=x.stateNode.containerInfo,V===m||V.nodeType===8&&V.parentNode===m))return;x=x.return}for(;P!==null;){if(x=Es(P),x===null)return;if(V=x.tag,V===5||V===6){h=y=x;continue e}P=P.parentNode}}h=h.return}Iu(function(){var K=y,J=so(l),ee=[];e:{var X=Zg.get(i);if(X!==void 0){var le=_s,he=i;switch(i){case"keypress":if(vs(l)===0)break e;case"keydown":case"keyup":le=He;break;case"focusin":he="focus",le=Mt;break;case"focusout":he="blur",le=Mt;break;case"beforeblur":case"afterblur":le=Mt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=cr;break;case Qg:case Yg:case Xg:le=Bu;break;case Jg:le=Eo;break;case"scroll":le=yo;break;case"wheel":le=rS;break;case"copy":case"cut":case"paste":le=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=vn}var fe=(s&4)!==0,pt=!fe&&i==="scroll",z=fe?X!==null?X+"Capture":null:X;fe=[];for(var j=K,W;j!==null;){W=j;var ne=W.stateNode;if(W.tag===5&&ne!==null&&(W=ne,z!==null&&(ne=ls(j,z),ne!=null&&fe.push(tl(j,ne,W)))),pt)break;j=j.return}0<fe.length&&(X=new le(X,he,null,l,J),ee.push({event:X,listeners:fe}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",X&&l!==pi&&(he=l.relatedTarget||l.fromElement)&&(Es(he)||he[Br]))break e;if((le||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,le?(he=l.relatedTarget||l.toElement,le=K,he=he?Es(he):null,he!==null&&(pt=Fn(he),he!==pt||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=K),le!==he)){if(fe=qa,ne="onMouseLeave",z="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(fe=vn,ne="onPointerLeave",z="onPointerEnter",j="pointer"),pt=le==null?X:Ao(le),W=he==null?X:Ao(he),X=new fe(ne,j+"leave",le,l,J),X.target=pt,X.relatedTarget=W,ne=null,Es(J)===K&&(fe=new fe(z,j+"enter",he,l,J),fe.target=W,fe.relatedTarget=pt,ne=fe),pt=ne,le&&he)t:{for(fe=le,z=he,j=0,W=fe;W;W=Io(W))j++;for(W=0,ne=z;ne;ne=Io(ne))W++;for(;0<j-W;)fe=Io(fe),j--;for(;0<W-j;)z=Io(z),W--;for(;j--;){if(fe===z||z!==null&&fe===z.alternate)break t;fe=Io(fe),z=Io(z)}fe=null}else fe=null;le!==null&&iy(ee,X,le,fe,!1),he!==null&&pt!==null&&iy(ee,pt,he,fe,!0)}}e:{if(X=K?Ao(K):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var pe=cS;else if(Og(X))if(Fg)pe=pS;else{pe=dS;var ge=hS}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(pe=fS);if(pe&&(pe=pe(i,K))){jg(ee,pe,l,J);break e}ge&&ge(i,X,K),i==="focusout"&&(ge=X._wrapperState)&&ge.controlled&&X.type==="number"&&vt(X,"number",X.value)}switch(ge=K?Ao(K):window,i){case"focusin":(Og(ge)||ge.contentEditable==="true")&&(xo=ge,cd=K,Ja=null);break;case"focusout":Ja=cd=xo=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Kg(ee,l,J);break;case"selectionchange":if(yS)break;case"keydown":case"keyup":Kg(ee,l,J)}var ye;if(od)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else To?Mg(i,l)&&(Ee="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ng&&l.locale!=="ko"&&(To||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&To&&(ye=Ou()):(gn=J,go="value"in gn?gn.value:gn.textContent,To=!0)),ge=qu(K,Ee),0<ge.length&&(Ee=new E(Ee,i,null,l,J),ee.push({event:Ee,listeners:ge}),ye?Ee.data=ye:(ye=Lg(l),ye!==null&&(Ee.data=ye)))),(ye=sS?oS(i,l):aS(i,l))&&(K=qu(K,"onBeforeInput"),0<K.length&&(J=new E("onBeforeInput","beforeinput",null,l,J),ee.push({event:J,listeners:K}),J.data=ye))}ny(ee,s)})}function tl(i,s,l){return{instance:i,listener:s,currentTarget:l}}function qu(i,s){for(var l=s+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=ls(i,l),y!=null&&h.unshift(tl(i,y,m)),y=ls(i,s),y!=null&&h.push(tl(i,y,m))),i=i.return}return h}function Io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function iy(i,s,l,h,m){for(var y=s._reactName,x=[];l!==null&&l!==h;){var P=l,V=P.alternate,K=P.stateNode;if(V!==null&&V===h)break;P.tag===5&&K!==null&&(P=K,m?(V=ls(l,y),V!=null&&x.unshift(tl(l,V,P))):m||(V=ls(l,y),V!=null&&x.push(tl(l,V,P)))),l=l.return}x.length!==0&&i.push({event:s,listeners:x})}var ES=/\r\n?/g,TS=/\u0000|\uFFFD/g;function sy(i){return(typeof i=="string"?i:""+i).replace(ES,`
`).replace(TS,"")}function Ku(i,s,l){if(s=sy(s),sy(i)!==s&&l)throw Error(t(425))}function Gu(){}var yd=null,vd=null;function _d(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,oy=typeof Promise=="function"?Promise:void 0,SS=typeof queueMicrotask=="function"?queueMicrotask:typeof oy<"u"?function(i){return oy.resolve(null).then(i).catch(IS)}:wd;function IS(i){setTimeout(function(){throw i})}function Ed(i,s){var l=s,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),Ti(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Ti(s)}function Ci(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function ay(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Co=Math.random().toString(36).slice(2),dr="__reactFiber$"+Co,nl="__reactProps$"+Co,Br="__reactContainer$"+Co,Td="__reactEvents$"+Co,CS="__reactListeners$"+Co,AS="__reactHandles$"+Co;function Es(i){var s=i[dr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Br]||l[dr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=ay(i);i!==null;){if(l=i[dr])return l;i=ay(i)}return s}i=l,l=i.parentNode}return null}function rl(i){return i=i[dr]||i[Br],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ao(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Qu(i){return i[nl]||null}var xd=[],Po=-1;function Ai(i){return{current:i}}function Ye(i){0>Po||(i.current=xd[Po],xd[Po]=null,Po--)}function Ke(i,s){Po++,xd[Po]=i.current,i.current=s}var Pi={},$t=Ai(Pi),nn=Ai(!1),Ts=Pi;function Ro(i,s){var l=i.type.contextTypes;if(!l)return Pi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=s[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=m),m}function rn(i){return i=i.childContextTypes,i!=null}function Yu(){Ye(nn),Ye($t)}function ly(i,s,l){if($t.current!==Pi)throw Error(t(168));Ke($t,s),Ke(nn,l)}function uy(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in s))throw Error(t(108,Be(i)||"Unknown",m));return ae({},l,h)}function Xu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Pi,Ts=$t.current,Ke($t,i),Ke(nn,nn.current),!0}function cy(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=uy(i,s,Ts),h.__reactInternalMemoizedMergedChildContext=i,Ye(nn),Ye($t),Ke($t,i)):Ye(nn),Ke(nn,l)}var zr=null,Ju=!1,Sd=!1;function hy(i){zr===null?zr=[i]:zr.push(i)}function PS(i){Ju=!0,hy(i)}function Ri(){if(!Sd&&zr!==null){Sd=!0;var i=0,s=Me;try{var l=zr;for(Me=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}zr=null,Ju=!1}catch(m){throw zr!==null&&(zr=zr.slice(i+1)),Va(lo,Ri),m}finally{Me=s,Sd=!1}}return null}var ko=[],bo=0,Zu=null,ec=0,Sn=[],In=0,xs=null,$r=1,Hr="";function Ss(i,s){ko[bo++]=ec,ko[bo++]=Zu,Zu=i,ec=s}function dy(i,s,l){Sn[In++]=$r,Sn[In++]=Hr,Sn[In++]=xs,xs=i;var h=$r;i=Hr;var m=32-pn(h)-1;h&=~(1<<m),l+=1;var y=32-pn(s)+m;if(30<y){var x=m-m%5;y=(h&(1<<x)-1).toString(32),h>>=x,m-=x,$r=1<<32-pn(s)+m|l<<m|h,Hr=y+i}else $r=1<<y|l<<m|h,Hr=i}function Id(i){i.return!==null&&(Ss(i,1),dy(i,1,0))}function Cd(i){for(;i===Zu;)Zu=ko[--bo],ko[bo]=null,ec=ko[--bo],ko[bo]=null;for(;i===xs;)xs=Sn[--In],Sn[In]=null,Hr=Sn[--In],Sn[In]=null,$r=Sn[--In],Sn[In]=null}var _n=null,wn=null,et=!1,zn=null;function fy(i,s){var l=Rn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function py(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,_n=i,wn=Ci(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,_n=i,wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=xs!==null?{id:$r,overflow:Hr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Rn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,_n=i,wn=null,!0):!1;default:return!1}}function Ad(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Pd(i){if(et){var s=wn;if(s){var l=s;if(!py(i,s)){if(Ad(i))throw Error(t(418));s=Ci(l.nextSibling);var h=_n;s&&py(i,s)?fy(h,l):(i.flags=i.flags&-4097|2,et=!1,_n=i)}}else{if(Ad(i))throw Error(t(418));i.flags=i.flags&-4097|2,et=!1,_n=i}}}function my(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;_n=i}function tc(i){if(i!==_n)return!1;if(!et)return my(i),et=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!_d(i.type,i.memoizedProps)),s&&(s=wn)){if(Ad(i))throw gy(),Error(t(418));for(;s;)fy(i,s),s=Ci(s.nextSibling)}if(my(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){wn=Ci(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}wn=null}}else wn=_n?Ci(i.stateNode.nextSibling):null;return!0}function gy(){for(var i=wn;i;)i=Ci(i.nextSibling)}function No(){wn=_n=null,et=!1}function Rd(i){zn===null?zn=[i]:zn.push(i)}var RS=se.ReactCurrentBatchConfig;function il(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(x){var P=m.refs;x===null?delete P[y]:P[y]=x},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function nc(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function yy(i){var s=i._init;return s(i._payload)}function vy(i){function s(z,j){if(i){var W=z.deletions;W===null?(z.deletions=[j],z.flags|=16):W.push(j)}}function l(z,j){if(!i)return null;for(;j!==null;)s(z,j),j=j.sibling;return null}function h(z,j){for(z=new Map;j!==null;)j.key!==null?z.set(j.key,j):z.set(j.index,j),j=j.sibling;return z}function m(z,j){return z=Oi(z,j),z.index=0,z.sibling=null,z}function y(z,j,W){return z.index=W,i?(W=z.alternate,W!==null?(W=W.index,W<j?(z.flags|=2,j):W):(z.flags|=2,j)):(z.flags|=1048576,j)}function x(z){return i&&z.alternate===null&&(z.flags|=2),z}function P(z,j,W,ne){return j===null||j.tag!==6?(j=Ef(W,z.mode,ne),j.return=z,j):(j=m(j,W),j.return=z,j)}function V(z,j,W,ne){var pe=W.type;return pe===R?J(z,j,W.props.children,ne,W.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Vt&&yy(pe)===j.type)?(ne=m(j,W.props),ne.ref=il(z,j,W),ne.return=z,ne):(ne=Cc(W.type,W.key,W.props,null,z.mode,ne),ne.ref=il(z,j,W),ne.return=z,ne)}function K(z,j,W,ne){return j===null||j.tag!==4||j.stateNode.containerInfo!==W.containerInfo||j.stateNode.implementation!==W.implementation?(j=Tf(W,z.mode,ne),j.return=z,j):(j=m(j,W.children||[]),j.return=z,j)}function J(z,j,W,ne,pe){return j===null||j.tag!==7?(j=Ns(W,z.mode,ne,pe),j.return=z,j):(j=m(j,W),j.return=z,j)}function ee(z,j,W){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Ef(""+j,z.mode,W),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case re:return W=Cc(j.type,j.key,j.props,null,z.mode,W),W.ref=il(z,null,j),W.return=z,W;case oe:return j=Tf(j,z.mode,W),j.return=z,j;case Vt:var ne=j._init;return ee(z,ne(j._payload),W)}if(dt(j)||de(j))return j=Ns(j,z.mode,W,null),j.return=z,j;nc(z,j)}return null}function X(z,j,W,ne){var pe=j!==null?j.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return pe!==null?null:P(z,j,""+W,ne);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case re:return W.key===pe?V(z,j,W,ne):null;case oe:return W.key===pe?K(z,j,W,ne):null;case Vt:return pe=W._init,X(z,j,pe(W._payload),ne)}if(dt(W)||de(W))return pe!==null?null:J(z,j,W,ne,null);nc(z,W)}return null}function le(z,j,W,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return z=z.get(W)||null,P(j,z,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case re:return z=z.get(ne.key===null?W:ne.key)||null,V(j,z,ne,pe);case oe:return z=z.get(ne.key===null?W:ne.key)||null,K(j,z,ne,pe);case Vt:var ge=ne._init;return le(z,j,W,ge(ne._payload),pe)}if(dt(ne)||de(ne))return z=z.get(W)||null,J(j,z,ne,pe,null);nc(j,ne)}return null}function he(z,j,W,ne){for(var pe=null,ge=null,ye=j,Ee=j=0,kt=null;ye!==null&&Ee<W.length;Ee++){ye.index>Ee?(kt=ye,ye=null):kt=ye.sibling;var Fe=X(z,ye,W[Ee],ne);if(Fe===null){ye===null&&(ye=kt);break}i&&ye&&Fe.alternate===null&&s(z,ye),j=y(Fe,j,Ee),ge===null?pe=Fe:ge.sibling=Fe,ge=Fe,ye=kt}if(Ee===W.length)return l(z,ye),et&&Ss(z,Ee),pe;if(ye===null){for(;Ee<W.length;Ee++)ye=ee(z,W[Ee],ne),ye!==null&&(j=y(ye,j,Ee),ge===null?pe=ye:ge.sibling=ye,ge=ye);return et&&Ss(z,Ee),pe}for(ye=h(z,ye);Ee<W.length;Ee++)kt=le(ye,z,Ee,W[Ee],ne),kt!==null&&(i&&kt.alternate!==null&&ye.delete(kt.key===null?Ee:kt.key),j=y(kt,j,Ee),ge===null?pe=kt:ge.sibling=kt,ge=kt);return i&&ye.forEach(function(ji){return s(z,ji)}),et&&Ss(z,Ee),pe}function fe(z,j,W,ne){var pe=de(W);if(typeof pe!="function")throw Error(t(150));if(W=pe.call(W),W==null)throw Error(t(151));for(var ge=pe=null,ye=j,Ee=j=0,kt=null,Fe=W.next();ye!==null&&!Fe.done;Ee++,Fe=W.next()){ye.index>Ee?(kt=ye,ye=null):kt=ye.sibling;var ji=X(z,ye,Fe.value,ne);if(ji===null){ye===null&&(ye=kt);break}i&&ye&&ji.alternate===null&&s(z,ye),j=y(ji,j,Ee),ge===null?pe=ji:ge.sibling=ji,ge=ji,ye=kt}if(Fe.done)return l(z,ye),et&&Ss(z,Ee),pe;if(ye===null){for(;!Fe.done;Ee++,Fe=W.next())Fe=ee(z,Fe.value,ne),Fe!==null&&(j=y(Fe,j,Ee),ge===null?pe=Fe:ge.sibling=Fe,ge=Fe);return et&&Ss(z,Ee),pe}for(ye=h(z,ye);!Fe.done;Ee++,Fe=W.next())Fe=le(ye,z,Ee,Fe.value,ne),Fe!==null&&(i&&Fe.alternate!==null&&ye.delete(Fe.key===null?Ee:Fe.key),j=y(Fe,j,Ee),ge===null?pe=Fe:ge.sibling=Fe,ge=Fe);return i&&ye.forEach(function(lI){return s(z,lI)}),et&&Ss(z,Ee),pe}function pt(z,j,W,ne){if(typeof W=="object"&&W!==null&&W.type===R&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case re:e:{for(var pe=W.key,ge=j;ge!==null;){if(ge.key===pe){if(pe=W.type,pe===R){if(ge.tag===7){l(z,ge.sibling),j=m(ge,W.props.children),j.return=z,z=j;break e}}else if(ge.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Vt&&yy(pe)===ge.type){l(z,ge.sibling),j=m(ge,W.props),j.ref=il(z,ge,W),j.return=z,z=j;break e}l(z,ge);break}else s(z,ge);ge=ge.sibling}W.type===R?(j=Ns(W.props.children,z.mode,ne,W.key),j.return=z,z=j):(ne=Cc(W.type,W.key,W.props,null,z.mode,ne),ne.ref=il(z,j,W),ne.return=z,z=ne)}return x(z);case oe:e:{for(ge=W.key;j!==null;){if(j.key===ge)if(j.tag===4&&j.stateNode.containerInfo===W.containerInfo&&j.stateNode.implementation===W.implementation){l(z,j.sibling),j=m(j,W.children||[]),j.return=z,z=j;break e}else{l(z,j);break}else s(z,j);j=j.sibling}j=Tf(W,z.mode,ne),j.return=z,z=j}return x(z);case Vt:return ge=W._init,pt(z,j,ge(W._payload),ne)}if(dt(W))return he(z,j,W,ne);if(de(W))return fe(z,j,W,ne);nc(z,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,j!==null&&j.tag===6?(l(z,j.sibling),j=m(j,W),j.return=z,z=j):(l(z,j),j=Ef(W,z.mode,ne),j.return=z,z=j),x(z)):l(z,j)}return pt}var Vo=vy(!0),_y=vy(!1),rc=Ai(null),ic=null,Do=null,kd=null;function bd(){kd=Do=ic=null}function Nd(i){var s=rc.current;Ye(rc),i._currentValue=s}function Vd(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Mo(i,s){ic=i,kd=Do=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(sn=!0),i.firstContext=null)}function Cn(i){var s=i._currentValue;if(kd!==i)if(i={context:i,memoizedValue:s,next:null},Do===null){if(ic===null)throw Error(t(308));Do=i,ic.dependencies={lanes:0,firstContext:i}}else Do=Do.next=i;return s}var Is=null;function Dd(i){Is===null?Is=[i]:Is.push(i)}function wy(i,s,l,h){var m=s.interleaved;return m===null?(l.next=l,Dd(s)):(l.next=m.next,m.next=l),s.interleaved=l,Wr(i,h)}function Wr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var ki=!1;function Md(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ey(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function bi(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(je&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,Wr(i,l)}return m=h.interleaved,m===null?(s.next=s,Dd(h)):(s.next=m.next,m.next=s),h.interleaved=s,Wr(i,l)}function sc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Fa(i,l)}}function Ty(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function oc(i,s,l,h){var m=i.updateQueue;ki=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var V=P,K=V.next;V.next=null,x===null?y=K:x.next=K,x=V;var J=i.alternate;J!==null&&(J=J.updateQueue,P=J.lastBaseUpdate,P!==x&&(P===null?J.firstBaseUpdate=K:P.next=K,J.lastBaseUpdate=V))}if(y!==null){var ee=m.baseState;x=0,J=K=V=null,P=y;do{var X=P.lane,le=P.eventTime;if((h&X)===X){J!==null&&(J=J.next={eventTime:le,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var he=i,fe=P;switch(X=s,le=l,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){ee=he.call(le,ee,X);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,X=typeof he=="function"?he.call(le,ee,X):he,X==null)break e;ee=ae({},ee,X);break e;case 2:ki=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,X=m.effects,X===null?m.effects=[P]:X.push(P))}else le={eventTime:le,lane:X,tag:P.tag,payload:P.payload,callback:P.callback,next:null},J===null?(K=J=le,V=ee):J=J.next=le,x|=X;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;X=P,P=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(J===null&&(V=ee),m.baseState=V,m.firstBaseUpdate=K,m.lastBaseUpdate=J,s=m.shared.interleaved,s!==null){m=s;do x|=m.lane,m=m.next;while(m!==s)}else y===null&&(m.shared.lanes=0);Ps|=x,i.lanes=x,i.memoizedState=ee}}function xy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var sl={},fr=Ai(sl),ol=Ai(sl),al=Ai(sl);function Cs(i){if(i===sl)throw Error(t(174));return i}function Ld(i,s){switch(Ke(al,s),Ke(ol,i),Ke(fr,sl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:no(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=no(s,i)}Ye(fr),Ke(fr,s)}function Lo(){Ye(fr),Ye(ol),Ye(al)}function Sy(i){Cs(al.current);var s=Cs(fr.current),l=no(s,i.type);s!==l&&(Ke(ol,i),Ke(fr,l))}function Od(i){ol.current===i&&(Ye(fr),Ye(ol))}var nt=Ai(0);function ac(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jd=[];function Fd(){for(var i=0;i<jd.length;i++)jd[i]._workInProgressVersionPrimary=null;jd.length=0}var lc=se.ReactCurrentDispatcher,Ud=se.ReactCurrentBatchConfig,As=0,rt=null,St=null,Pt=null,uc=!1,ll=!1,ul=0,kS=0;function Ht(){throw Error(t(321))}function Bd(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Bn(i[l],s[l]))return!1;return!0}function zd(i,s,l,h,m,y){if(As=y,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,lc.current=i===null||i.memoizedState===null?DS:MS,i=l(h,m),ll){y=0;do{if(ll=!1,ul=0,25<=y)throw Error(t(301));y+=1,Pt=St=null,s.updateQueue=null,lc.current=LS,i=l(h,m)}while(ll)}if(lc.current=dc,s=St!==null&&St.next!==null,As=0,Pt=St=rt=null,uc=!1,s)throw Error(t(300));return i}function $d(){var i=ul!==0;return ul=0,i}function pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function An(){if(St===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var s=Pt===null?rt.memoizedState:Pt.next;if(s!==null)Pt=s,St=i;else{if(i===null)throw Error(t(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Pt===null?rt.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function cl(i,s){return typeof s=="function"?s(i):s}function Hd(i){var s=An(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=St,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var P=x=null,V=null,K=y;do{var J=K.lane;if((As&J)===J)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:i(h,K.action);else{var ee={lane:J,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(P=V=ee,x=h):V=V.next=ee,rt.lanes|=J,Ps|=J}K=K.next}while(K!==null&&K!==y);V===null?x=h:V.next=P,Bn(h,s.memoizedState)||(sn=!0),s.memoizedState=h,s.baseState=x,s.baseQueue=V,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do y=m.lane,rt.lanes|=y,Ps|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Wd(i){var s=An(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do y=i(y,x.action),x=x.next;while(x!==m);Bn(y,s.memoizedState)||(sn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Iy(){}function Cy(i,s){var l=rt,h=An(),m=s(),y=!Bn(h.memoizedState,m);if(y&&(h.memoizedState=m,sn=!0),h=h.queue,qd(Ry.bind(null,l,h,i),[i]),h.getSnapshot!==s||y||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,hl(9,Py.bind(null,l,h,m,s),void 0,null),Rt===null)throw Error(t(349));(As&30)!==0||Ay(l,s,m)}return m}function Ay(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Py(i,s,l,h){s.value=l,s.getSnapshot=h,ky(s)&&by(i)}function Ry(i,s,l){return l(function(){ky(s)&&by(i)})}function ky(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Bn(i,l)}catch{return!0}}function by(i){var s=Wr(i,1);s!==null&&qn(s,i,1,-1)}function Ny(i){var s=pr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:i},s.queue=i,i=i.dispatch=VS.bind(null,rt,i),[s.memoizedState,i]}function hl(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function Vy(){return An().memoizedState}function cc(i,s,l,h){var m=pr();rt.flags|=i,m.memoizedState=hl(1|s,l,void 0,h===void 0?null:h)}function hc(i,s,l,h){var m=An();h=h===void 0?null:h;var y=void 0;if(St!==null){var x=St.memoizedState;if(y=x.destroy,h!==null&&Bd(h,x.deps)){m.memoizedState=hl(s,l,y,h);return}}rt.flags|=i,m.memoizedState=hl(1|s,l,y,h)}function Dy(i,s){return cc(8390656,8,i,s)}function qd(i,s){return hc(2048,8,i,s)}function My(i,s){return hc(4,2,i,s)}function Ly(i,s){return hc(4,4,i,s)}function Oy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function jy(i,s,l){return l=l!=null?l.concat([i]):null,hc(4,4,Oy.bind(null,s,i),l)}function Kd(){}function Fy(i,s){var l=An();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Bd(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function Uy(i,s){var l=An();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Bd(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function By(i,s,l){return(As&21)===0?(i.baseState&&(i.baseState=!1,sn=!0),i.memoizedState=l):(Bn(l,s)||(l=Oa(),rt.lanes|=l,Ps|=l,i.baseState=!0),s)}function bS(i,s){var l=Me;Me=l!==0&&4>l?l:4,i(!0);var h=Ud.transition;Ud.transition={};try{i(!1),s()}finally{Me=l,Ud.transition=h}}function zy(){return An().memoizedState}function NS(i,s,l){var h=Mi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},$y(i))Hy(s,l);else if(l=wy(i,s,l,h),l!==null){var m=en();qn(l,i,h,m),Wy(l,s,h)}}function VS(i,s,l){var h=Mi(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if($y(i))Hy(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,P=y(x,l);if(m.hasEagerState=!0,m.eagerState=P,Bn(P,x)){var V=s.interleaved;V===null?(m.next=m,Dd(s)):(m.next=V.next,V.next=m),s.interleaved=m;return}}catch{}finally{}l=wy(i,s,m,h),l!==null&&(m=en(),qn(l,i,h,m),Wy(l,s,h))}}function $y(i){var s=i.alternate;return i===rt||s!==null&&s===rt}function Hy(i,s){ll=uc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Wy(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Fa(i,l)}}var dc={readContext:Cn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},DS={readContext:Cn,useCallback:function(i,s){return pr().memoizedState=[i,s===void 0?null:s],i},useContext:Cn,useEffect:Dy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,cc(4194308,4,Oy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return cc(4194308,4,i,s)},useInsertionEffect:function(i,s){return cc(4,2,i,s)},useMemo:function(i,s){var l=pr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=pr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=NS.bind(null,rt,i),[h.memoizedState,i]},useRef:function(i){var s=pr();return i={current:i},s.memoizedState=i},useState:Ny,useDebugValue:Kd,useDeferredValue:function(i){return pr().memoizedState=i},useTransition:function(){var i=Ny(!1),s=i[0];return i=bS.bind(null,i[1]),pr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=rt,m=pr();if(et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Rt===null)throw Error(t(349));(As&30)!==0||Ay(h,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,Dy(Ry.bind(null,h,y,i),[i]),h.flags|=2048,hl(9,Py.bind(null,h,y,l,s),void 0,null),l},useId:function(){var i=pr(),s=Rt.identifierPrefix;if(et){var l=Hr,h=$r;l=(h&~(1<<32-pn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=ul++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=kS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},MS={readContext:Cn,useCallback:Fy,useContext:Cn,useEffect:qd,useImperativeHandle:jy,useInsertionEffect:My,useLayoutEffect:Ly,useMemo:Uy,useReducer:Hd,useRef:Vy,useState:function(){return Hd(cl)},useDebugValue:Kd,useDeferredValue:function(i){var s=An();return By(s,St.memoizedState,i)},useTransition:function(){var i=Hd(cl)[0],s=An().memoizedState;return[i,s]},useMutableSource:Iy,useSyncExternalStore:Cy,useId:zy,unstable_isNewReconciler:!1},LS={readContext:Cn,useCallback:Fy,useContext:Cn,useEffect:qd,useImperativeHandle:jy,useInsertionEffect:My,useLayoutEffect:Ly,useMemo:Uy,useReducer:Wd,useRef:Vy,useState:function(){return Wd(cl)},useDebugValue:Kd,useDeferredValue:function(i){var s=An();return St===null?s.memoizedState=i:By(s,St.memoizedState,i)},useTransition:function(){var i=Wd(cl)[0],s=An().memoizedState;return[i,s]},useMutableSource:Iy,useSyncExternalStore:Cy,useId:zy,unstable_isNewReconciler:!1};function $n(i,s){if(i&&i.defaultProps){s=ae({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Gd(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:ae({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var fc={isMounted:function(i){return(i=i._reactInternals)?Fn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=en(),m=Mi(i),y=qr(h,m);y.payload=s,l!=null&&(y.callback=l),s=bi(i,y,m),s!==null&&(qn(s,i,m,h),sc(s,i,m))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=en(),m=Mi(i),y=qr(h,m);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=bi(i,y,m),s!==null&&(qn(s,i,m,h),sc(s,i,m))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=en(),h=Mi(i),m=qr(l,h);m.tag=2,s!=null&&(m.callback=s),s=bi(i,m,h),s!==null&&(qn(s,i,h,l),sc(s,i,h))}};function qy(i,s,l,h,m,y,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,x):s.prototype&&s.prototype.isPureReactComponent?!Xa(l,h)||!Xa(m,y):!0}function Ky(i,s,l){var h=!1,m=Pi,y=s.contextType;return typeof y=="object"&&y!==null?y=Cn(y):(m=rn(s)?Ts:$t.current,h=s.contextTypes,y=(h=h!=null)?Ro(i,m):Pi),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fc,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),s}function Gy(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&fc.enqueueReplaceState(s,s.state,null)}function Qd(i,s,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Md(i);var y=s.contextType;typeof y=="object"&&y!==null?m.context=Cn(y):(y=rn(s)?Ts:$t.current,m.context=Ro(i,y)),m.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Gd(i,s,y,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&fc.enqueueReplaceState(m,m.state,null),oc(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Oo(i,s){try{var l="",h=s;do l+=ke(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:m,digest:null}}function Yd(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Xd(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var OS=typeof WeakMap=="function"?WeakMap:Map;function Qy(i,s,l){l=qr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){wc||(wc=!0,ff=h),Xd(i,s)},l}function Yy(i,s,l){l=qr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=s.value;l.payload=function(){return h(m)},l.callback=function(){Xd(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Xd(i,s),typeof h!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),l}function Xy(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new OS;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(l)||(m.add(l),i=XS.bind(null,i,s,l),s.then(i,i))}function Jy(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Zy(i,s,l,h,m){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=qr(-1,1),s.tag=2,bi(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var jS=se.ReactCurrentOwner,sn=!1;function Zt(i,s,l,h){s.child=i===null?_y(s,null,l,h):Vo(s,i.child,l,h)}function ev(i,s,l,h,m){l=l.render;var y=s.ref;return Mo(s,m),h=zd(i,s,l,h,y,m),l=$d(),i!==null&&!sn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Kr(i,s,m)):(et&&l&&Id(s),s.flags|=1,Zt(i,s,h,m),s.child)}function tv(i,s,l,h,m){if(i===null){var y=l.type;return typeof y=="function"&&!wf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,nv(i,s,y,h,m)):(i=Cc(l.type,null,h,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&m)===0){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:Xa,l(x,h)&&i.ref===s.ref)return Kr(i,s,m)}return s.flags|=1,i=Oi(y,h),i.ref=s.ref,i.return=s,s.child=i}function nv(i,s,l,h,m){if(i!==null){var y=i.memoizedProps;if(Xa(y,h)&&i.ref===s.ref)if(sn=!1,s.pendingProps=h=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(sn=!0);else return s.lanes=i.lanes,Kr(i,s,m)}return Jd(i,s,l,h,m)}function rv(i,s,l){var h=s.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Fo,En),En|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ke(Fo,En),En|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ke(Fo,En),En|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Ke(Fo,En),En|=h;return Zt(i,s,m,l),s.child}function iv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Jd(i,s,l,h,m){var y=rn(l)?Ts:$t.current;return y=Ro(s,y),Mo(s,m),l=zd(i,s,l,h,y,m),h=$d(),i!==null&&!sn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Kr(i,s,m)):(et&&h&&Id(s),s.flags|=1,Zt(i,s,l,m),s.child)}function sv(i,s,l,h,m){if(rn(l)){var y=!0;Xu(s)}else y=!1;if(Mo(s,m),s.stateNode===null)mc(i,s),Ky(s,l,h),Qd(s,l,h,m),h=!0;else if(i===null){var x=s.stateNode,P=s.memoizedProps;x.props=P;var V=x.context,K=l.contextType;typeof K=="object"&&K!==null?K=Cn(K):(K=rn(l)?Ts:$t.current,K=Ro(s,K));var J=l.getDerivedStateFromProps,ee=typeof J=="function"||typeof x.getSnapshotBeforeUpdate=="function";ee||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P!==h||V!==K)&&Gy(s,x,h,K),ki=!1;var X=s.memoizedState;x.state=X,oc(s,h,x,m),V=s.memoizedState,P!==h||X!==V||nn.current||ki?(typeof J=="function"&&(Gd(s,l,J,h),V=s.memoizedState),(P=ki||qy(s,l,P,h,X,V,K))?(ee||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=V),x.props=h,x.state=V,x.context=K,h=P):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{x=s.stateNode,Ey(i,s),P=s.memoizedProps,K=s.type===s.elementType?P:$n(s.type,P),x.props=K,ee=s.pendingProps,X=x.context,V=l.contextType,typeof V=="object"&&V!==null?V=Cn(V):(V=rn(l)?Ts:$t.current,V=Ro(s,V));var le=l.getDerivedStateFromProps;(J=typeof le=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P!==ee||X!==V)&&Gy(s,x,h,V),ki=!1,X=s.memoizedState,x.state=X,oc(s,h,x,m);var he=s.memoizedState;P!==ee||X!==he||nn.current||ki?(typeof le=="function"&&(Gd(s,l,le,h),he=s.memoizedState),(K=ki||qy(s,l,K,h,X,he,V)||!1)?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,he,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,he,V)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||P===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),x.props=h,x.state=he,x.context=V,h=K):(typeof x.componentDidUpdate!="function"||P===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),h=!1)}return Zd(i,s,l,h,y,m)}function Zd(i,s,l,h,m,y){iv(i,s);var x=(s.flags&128)!==0;if(!h&&!x)return m&&cy(s,l,!1),Kr(i,s,y);h=s.stateNode,jS.current=s;var P=x&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&x?(s.child=Vo(s,i.child,null,y),s.child=Vo(s,null,P,y)):Zt(i,s,P,y),s.memoizedState=h.state,m&&cy(s,l,!0),s.child}function ov(i){var s=i.stateNode;s.pendingContext?ly(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ly(i,s.context,!1),Ld(i,s.containerInfo)}function av(i,s,l,h,m){return No(),Rd(m),s.flags|=256,Zt(i,s,l,h),s.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(i){return{baseLanes:i,cachePool:null,transitions:null}}function lv(i,s,l){var h=s.pendingProps,m=nt.current,y=!1,x=(s.flags&128)!==0,P;if((P=x)||(P=i!==null&&i.memoizedState===null?!1:(m&2)!==0),P?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ke(nt,m&1),i===null)return Pd(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(x=h.children,i=h.fallback,y?(h=s.mode,y=s.child,x={mode:"hidden",children:x},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=Ac(x,h,0,null),i=Ns(i,h,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=tf(l),s.memoizedState=ef,i):nf(s,x));if(m=i.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return FS(i,s,x,h,P,m,l);if(y){y=h.fallback,x=s.mode,m=i.child,P=m.sibling;var V={mode:"hidden",children:h.children};return(x&1)===0&&s.child!==m?(h=s.child,h.childLanes=0,h.pendingProps=V,s.deletions=null):(h=Oi(m,V),h.subtreeFlags=m.subtreeFlags&14680064),P!==null?y=Oi(P,y):(y=Ns(y,x,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,x=i.child.memoizedState,x=x===null?tf(l):{baseLanes:x.baseLanes|l,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=i.childLanes&~l,s.memoizedState=ef,h}return y=i.child,i=y.sibling,h=Oi(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function nf(i,s){return s=Ac({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function pc(i,s,l,h){return h!==null&&Rd(h),Vo(s,i.child,null,l),i=nf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function FS(i,s,l,h,m,y,x){if(l)return s.flags&256?(s.flags&=-257,h=Yd(Error(t(422))),pc(i,s,x,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=h.fallback,m=s.mode,h=Ac({mode:"visible",children:h.children},m,0,null),y=Ns(y,m,x,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Vo(s,i.child,null,x),s.child.memoizedState=tf(x),s.memoizedState=ef,y);if((s.mode&1)===0)return pc(i,s,x,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var P=h.dgst;return h=P,y=Error(t(419)),h=Yd(y,h,void 0),pc(i,s,x,h)}if(P=(x&i.childLanes)!==0,sn||P){if(h=Rt,h!==null){switch(x&-x){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|x))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Wr(i,m),qn(h,i,m,-1))}return _f(),h=Yd(Error(t(421))),pc(i,s,x,h)}return m.data==="$?"?(s.flags|=128,s.child=i.child,s=JS.bind(null,i),m._reactRetry=s,null):(i=y.treeContext,wn=Ci(m.nextSibling),_n=s,et=!0,zn=null,i!==null&&(Sn[In++]=$r,Sn[In++]=Hr,Sn[In++]=xs,$r=i.id,Hr=i.overflow,xs=s),s=nf(s,h.children),s.flags|=4096,s)}function uv(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Vd(i.return,s,l)}function rf(i,s,l,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function cv(i,s,l){var h=s.pendingProps,m=h.revealOrder,y=h.tail;if(Zt(i,s,h.children,l),h=nt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&uv(i,l,s);else if(i.tag===19)uv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ke(nt,h),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&ac(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),rf(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&ac(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}rf(s,!0,l,null,y);break;case"together":rf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function mc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Kr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Ps|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Oi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Oi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function US(i,s,l){switch(s.tag){case 3:ov(s),No();break;case 5:Sy(s);break;case 1:rn(s.type)&&Xu(s);break;case 4:Ld(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,m=s.memoizedProps.value;Ke(rc,h._currentValue),h._currentValue=m;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(nt,nt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?lv(i,s,l):(Ke(nt,nt.current&1),i=Kr(i,s,l),i!==null?i.sibling:null);Ke(nt,nt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return cv(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ke(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,rv(i,s,l)}return Kr(i,s,l)}var hv,sf,dv,fv;hv=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},sf=function(){},dv=function(i,s,l,h){var m=i.memoizedProps;if(m!==h){i=s.stateNode,Cs(fr.current);var y=null;switch(l){case"input":m=eo(i,m),h=eo(i,h),y=[];break;case"select":m=ae({},m,{value:void 0}),h=ae({},h,{value:void 0}),y=[];break;case"textarea":m=Ca(i,m),h=Ca(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Gu)}jn(l,h);var x;l=null;for(K in m)if(!h.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var P=m[K];for(x in P)P.hasOwnProperty(x)&&(l||(l={}),l[x]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in h){var V=h[K];if(P=m?.[K],h.hasOwnProperty(K)&&V!==P&&(V!=null||P!=null))if(K==="style")if(P){for(x in P)!P.hasOwnProperty(x)||V&&V.hasOwnProperty(x)||(l||(l={}),l[x]="");for(x in V)V.hasOwnProperty(x)&&P[x]!==V[x]&&(l||(l={}),l[x]=V[x])}else l||(y||(y=[]),y.push(K,l)),l=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,P=P?P.__html:void 0,V!=null&&P!==V&&(y=y||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&Qe("scroll",i),y||P===V||(y=[])):(y=y||[]).push(K,V))}l&&(y=y||[]).push("style",l);var K=y;(s.updateQueue=K)&&(s.flags|=4)}},fv=function(i,s,l,h){l!==h&&(s.flags|=4)};function dl(i,s){if(!et)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function BS(i,s,l){var h=s.pendingProps;switch(Cd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(s),null;case 1:return rn(s.type)&&Yu(),Wt(s),null;case 3:return h=s.stateNode,Lo(),Ye(nn),Ye($t),Fd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(tc(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zn!==null&&(gf(zn),zn=null))),sf(i,s),Wt(s),null;case 5:Od(s);var m=Cs(al.current);if(l=s.type,i!==null&&s.stateNode!=null)dv(i,s,l,h,m),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Wt(s),null}if(i=Cs(fr.current),tc(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[dr]=s,h[nl]=y,i=(s.mode&1)!==0,l){case"dialog":Qe("cancel",h),Qe("close",h);break;case"iframe":case"object":case"embed":Qe("load",h);break;case"video":case"audio":for(m=0;m<Za.length;m++)Qe(Za[m],h);break;case"source":Qe("error",h);break;case"img":case"image":case"link":Qe("error",h),Qe("load",h);break;case"details":Qe("toggle",h);break;case"input":_u(h,y),Qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Qe("invalid",h);break;case"textarea":Aa(h,y),Qe("invalid",h)}jn(l,y),m=null;for(var x in y)if(y.hasOwnProperty(x)){var P=y[x];x==="children"?typeof P=="string"?h.textContent!==P&&(y.suppressHydrationWarning!==!0&&Ku(h.textContent,P,i),m=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&Ku(h.textContent,P,i),m=["children",""+P]):o.hasOwnProperty(x)&&P!=null&&x==="onScroll"&&Qe("scroll",h)}switch(l){case"input":Zs(h),Ia(h,y,!0);break;case"textarea":Zs(h),ci(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Gu)}h=m,s.updateQueue=h,h!==null&&(s.flags|=4)}else{x=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Pa(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=x.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=x.createElement(l,{is:h.is}):(i=x.createElement(l),l==="select"&&(x=i,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):i=x.createElementNS(i,l),i[dr]=s,i[nl]=h,hv(i,s,!1,!1),s.stateNode=i;e:{switch(x=io(l,h),l){case"dialog":Qe("cancel",i),Qe("close",i),m=h;break;case"iframe":case"object":case"embed":Qe("load",i),m=h;break;case"video":case"audio":for(m=0;m<Za.length;m++)Qe(Za[m],i);m=h;break;case"source":Qe("error",i),m=h;break;case"img":case"image":case"link":Qe("error",i),Qe("load",i),m=h;break;case"details":Qe("toggle",i),m=h;break;case"input":_u(i,h),m=eo(i,h),Qe("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=ae({},h,{value:void 0}),Qe("invalid",i);break;case"textarea":Aa(i,h),m=Ca(i,h),Qe("invalid",i);break;default:m=h}jn(l,m),P=m;for(y in P)if(P.hasOwnProperty(y)){var V=P[y];y==="style"?ro(i,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Eu(i,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&as(i,V):typeof V=="number"&&as(i,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?V!=null&&y==="onScroll"&&Qe("scroll",i):V!=null&&q(i,y,V,x))}switch(l){case"input":Zs(i),Ia(i,h,!1);break;case"textarea":Zs(i),ci(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Oe(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?On(i,!!h.multiple,y,!1):h.defaultValue!=null&&On(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Gu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Wt(s),null;case 6:if(i&&s.stateNode!=null)fv(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Cs(al.current),Cs(fr.current),tc(s)){if(h=s.stateNode,l=s.memoizedProps,h[dr]=s,(y=h.nodeValue!==l)&&(i=_n,i!==null))switch(i.tag){case 3:Ku(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ku(h.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[dr]=s,s.stateNode=h}return Wt(s),null;case 13:if(Ye(nt),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&wn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)gy(),No(),s.flags|=98560,y=!1;else if(y=tc(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[dr]=s}else No(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Wt(s),y=!1}else zn!==null&&(gf(zn),zn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(nt.current&1)!==0?It===0&&(It=3):_f())),s.updateQueue!==null&&(s.flags|=4),Wt(s),null);case 4:return Lo(),sf(i,s),i===null&&el(s.stateNode.containerInfo),Wt(s),null;case 10:return Nd(s.type._context),Wt(s),null;case 17:return rn(s.type)&&Yu(),Wt(s),null;case 19:if(Ye(nt),y=s.memoizedState,y===null)return Wt(s),null;if(h=(s.flags&128)!==0,x=y.rendering,x===null)if(h)dl(y,!1);else{if(It!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(x=ac(i),x!==null){for(s.flags|=128,dl(y,!1),h=x.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,i=h,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,i=x.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ke(nt,nt.current&1|2),s.child}i=i.sibling}y.tail!==null&&Ge()>Uo&&(s.flags|=128,h=!0,dl(y,!1),s.lanes=4194304)}else{if(!h)if(i=ac(x),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),dl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!et)return Wt(s),null}else 2*Ge()-y.renderingStartTime>Uo&&l!==1073741824&&(s.flags|=128,h=!0,dl(y,!1),s.lanes=4194304);y.isBackwards?(x.sibling=s.child,s.child=x):(l=y.last,l!==null?l.sibling=x:s.child=x,y.last=x)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ge(),s.sibling=null,l=nt.current,Ke(nt,h?l&1|2:l&1),s):(Wt(s),null);case 22:case 23:return vf(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(En&1073741824)!==0&&(Wt(s),s.subtreeFlags&6&&(s.flags|=8192)):Wt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function zS(i,s){switch(Cd(s),s.tag){case 1:return rn(s.type)&&Yu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Lo(),Ye(nn),Ye($t),Fd(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Od(s),null;case 13:if(Ye(nt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));No()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ye(nt),null;case 4:return Lo(),null;case 10:return Nd(s.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var gc=!1,qt=!1,$S=typeof WeakSet=="function"?WeakSet:Set,ce=null;function jo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ut(i,s,h)}else l.current=null}function of(i,s,l){try{l()}catch(h){ut(i,s,h)}}var pv=!1;function HS(i,s){if(yd=jr,i=qg(),ud(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,P=-1,V=-1,K=0,J=0,ee=i,X=null;t:for(;;){for(var le;ee!==l||m!==0&&ee.nodeType!==3||(P=x+m),ee!==y||h!==0&&ee.nodeType!==3||(V=x+h),ee.nodeType===3&&(x+=ee.nodeValue.length),(le=ee.firstChild)!==null;)X=ee,ee=le;for(;;){if(ee===i)break t;if(X===l&&++K===m&&(P=x),X===y&&++J===h&&(V=x),(le=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=le}l=P===-1||V===-1?null:{start:P,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(vd={focusedElem:i,selectionRange:l},jr=!1,ce=s;ce!==null;)if(s=ce,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ce=i;else for(;ce!==null;){s=ce;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,pt=he.memoizedState,z=s.stateNode,j=z.getSnapshotBeforeUpdate(s.elementType===s.type?fe:$n(s.type,fe),pt);z.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){ut(s,s.return,ne)}if(i=s.sibling,i!==null){i.return=s.return,ce=i;break}ce=s.return}return he=pv,pv=!1,he}function fl(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&of(s,l,y)}m=m.next}while(m!==h)}}function yc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function af(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function mv(i){var s=i.alternate;s!==null&&(i.alternate=null,mv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[dr],delete s[nl],delete s[Td],delete s[CS],delete s[AS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function gv(i){return i.tag===5||i.tag===3||i.tag===4}function yv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Gu));else if(h!==4&&(i=i.child,i!==null))for(lf(i,s,l),i=i.sibling;i!==null;)lf(i,s,l),i=i.sibling}function uf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(uf(i,s,l),i=i.sibling;i!==null;)uf(i,s,l),i=i.sibling}var Lt=null,Hn=!1;function Ni(i,s,l){for(l=l.child;l!==null;)vv(i,s,l),l=l.sibling}function vv(i,s,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ds,l)}catch{}switch(l.tag){case 5:qt||jo(l,s);case 6:var h=Lt,m=Hn;Lt=null,Ni(i,s,l),Lt=h,Hn=m,Lt!==null&&(Hn?(i=Lt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Hn?(i=Lt,l=l.stateNode,i.nodeType===8?Ed(i.parentNode,l):i.nodeType===1&&Ed(i,l),Ti(i)):Ed(Lt,l.stateNode));break;case 4:h=Lt,m=Hn,Lt=l.stateNode.containerInfo,Hn=!0,Ni(i,s,l),Lt=h,Hn=m;break;case 0:case 11:case 14:case 15:if(!qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&of(l,s,x),m=m.next}while(m!==h)}Ni(i,s,l);break;case 1:if(!qt&&(jo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(P){ut(l,s,P)}Ni(i,s,l);break;case 21:Ni(i,s,l);break;case 22:l.mode&1?(qt=(h=qt)||l.memoizedState!==null,Ni(i,s,l),qt=h):Ni(i,s,l);break;default:Ni(i,s,l)}}function _v(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new $S),s.forEach(function(h){var m=ZS.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Wn(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=i,x=s,P=x;e:for(;P!==null;){switch(P.tag){case 5:Lt=P.stateNode,Hn=!1;break e;case 3:Lt=P.stateNode.containerInfo,Hn=!0;break e;case 4:Lt=P.stateNode.containerInfo,Hn=!0;break e}P=P.return}if(Lt===null)throw Error(t(160));vv(y,x,m),Lt=null,Hn=!1;var V=m.alternate;V!==null&&(V.return=null),m.return=null}catch(K){ut(m,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)wv(s,i),s=s.sibling}function wv(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Wn(s,i),mr(i),h&4){try{fl(3,i,i.return),yc(3,i)}catch(fe){ut(i,i.return,fe)}try{fl(5,i,i.return)}catch(fe){ut(i,i.return,fe)}}break;case 1:Wn(s,i),mr(i),h&512&&l!==null&&jo(l,l.return);break;case 5:if(Wn(s,i),mr(i),h&512&&l!==null&&jo(l,l.return),i.flags&32){var m=i.stateNode;try{as(m,"")}catch(fe){ut(i,i.return,fe)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,x=l!==null?l.memoizedProps:y,P=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&to(m,y),io(P,x);var K=io(P,y);for(x=0;x<V.length;x+=2){var J=V[x],ee=V[x+1];J==="style"?ro(m,ee):J==="dangerouslySetInnerHTML"?Eu(m,ee):J==="children"?as(m,ee):q(m,J,ee,K)}switch(P){case"input":os(m,y);break;case"textarea":wu(m,y);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?On(m,!!y.multiple,le,!1):X!==!!y.multiple&&(y.defaultValue!=null?On(m,!!y.multiple,y.defaultValue,!0):On(m,!!y.multiple,y.multiple?[]:"",!1))}m[nl]=y}catch(fe){ut(i,i.return,fe)}}break;case 6:if(Wn(s,i),mr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(fe){ut(i,i.return,fe)}}break;case 3:if(Wn(s,i),mr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ti(s.containerInfo)}catch(fe){ut(i,i.return,fe)}break;case 4:Wn(s,i),mr(i);break;case 13:Wn(s,i),mr(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(df=Ge())),h&4&&_v(i);break;case 22:if(J=l!==null&&l.memoizedState!==null,i.mode&1?(qt=(K=qt)||J,Wn(s,i),qt=K):Wn(s,i),mr(i),h&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!J&&(i.mode&1)!==0)for(ce=i,J=i.child;J!==null;){for(ee=ce=J;ce!==null;){switch(X=ce,le=X.child,X.tag){case 0:case 11:case 14:case 15:fl(4,X,X.return);break;case 1:jo(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){h=X,l=X.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(fe){ut(h,l,fe)}}break;case 5:jo(X,X.return);break;case 22:if(X.memoizedState!==null){xv(ee);continue}}le!==null?(le.return=X,ce=le):xv(ee)}J=J.sibling}e:for(J=null,ee=i;;){if(ee.tag===5){if(J===null){J=ee;try{m=ee.stateNode,K?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=ee.stateNode,V=ee.memoizedProps.style,x=V!=null&&V.hasOwnProperty("display")?V.display:null,P.style.display=fi("display",x))}catch(fe){ut(i,i.return,fe)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=K?"":ee.memoizedProps}catch(fe){ut(i,i.return,fe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===i)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===i)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===i)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Wn(s,i),mr(i),h&4&&_v(i);break;case 21:break;default:Wn(s,i),mr(i)}}function mr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(gv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(as(m,""),h.flags&=-33);var y=yv(i);uf(i,y,m);break;case 3:case 4:var x=h.stateNode.containerInfo,P=yv(i);lf(i,P,x);break;default:throw Error(t(161))}}catch(V){ut(i,i.return,V)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function WS(i,s,l){ce=i,Ev(i)}function Ev(i,s,l){for(var h=(i.mode&1)!==0;ce!==null;){var m=ce,y=m.child;if(m.tag===22&&h){var x=m.memoizedState!==null||gc;if(!x){var P=m.alternate,V=P!==null&&P.memoizedState!==null||qt;P=gc;var K=qt;if(gc=x,(qt=V)&&!K)for(ce=m;ce!==null;)x=ce,V=x.child,x.tag===22&&x.memoizedState!==null?Sv(m):V!==null?(V.return=x,ce=V):Sv(m);for(;y!==null;)ce=y,Ev(y),y=y.sibling;ce=m,gc=P,qt=K}Tv(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ce=y):Tv(i)}}function Tv(i){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:qt||yc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!qt)if(l===null)h.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:$n(s.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&xy(s,y,h);break;case 3:var x=s.updateQueue;if(x!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}xy(s,x,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var J=K.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&Ti(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||s.flags&512&&af(s)}catch(X){ut(s,s.return,X)}}if(s===i){ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,ce=l;break}ce=s.return}}function xv(i){for(;ce!==null;){var s=ce;if(s===i){ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ce=l;break}ce=s.return}}function Sv(i){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{yc(4,s)}catch(V){ut(s,l,V)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var m=s.return;try{h.componentDidMount()}catch(V){ut(s,m,V)}}var y=s.return;try{af(s)}catch(V){ut(s,y,V)}break;case 5:var x=s.return;try{af(s)}catch(V){ut(s,x,V)}}}catch(V){ut(s,s.return,V)}if(s===i){ce=null;break}var P=s.sibling;if(P!==null){P.return=s.return,ce=P;break}ce=s.return}}var qS=Math.ceil,vc=se.ReactCurrentDispatcher,cf=se.ReactCurrentOwner,Pn=se.ReactCurrentBatchConfig,je=0,Rt=null,wt=null,Ot=0,En=0,Fo=Ai(0),It=0,pl=null,Ps=0,_c=0,hf=0,ml=null,on=null,df=0,Uo=1/0,Gr=null,wc=!1,ff=null,Vi=null,Ec=!1,Di=null,Tc=0,gl=0,pf=null,xc=-1,Sc=0;function en(){return(je&6)!==0?Ge():xc!==-1?xc:xc=Ge()}function Mi(i){return(i.mode&1)===0?1:(je&2)!==0&&Ot!==0?Ot&-Ot:RS.transition!==null?(Sc===0&&(Sc=Oa()),Sc):(i=Me,i!==0||(i=window.event,i=i===void 0?16:mo(i.type)),i)}function qn(i,s,l,h){if(50<gl)throw gl=0,pf=null,Error(t(185));gs(i,l,h),((je&2)===0||i!==Rt)&&(i===Rt&&((je&2)===0&&(_c|=l),It===4&&Li(i,Ot)),an(i,h),l===1&&je===0&&(s.mode&1)===0&&(Uo=Ge()+500,Ju&&Ri()))}function an(i,s){var l=i.callbackNode;ms(i,s);var h=Mr(i,i===Rt?Ot:0);if(h===0)l!==null&&ao(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&ao(l),s===1)i.tag===0?PS(Cv.bind(null,i)):hy(Cv.bind(null,i)),SS(function(){(je&6)===0&&Ri()}),l=null;else{switch(nr(h)){case 1:l=lo;break;case 4:l=Da;break;case 16:l=hs;break;case 536870912:l=uo;break;default:l=hs}l=Dv(l,Iv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Iv(i,s){if(xc=-1,Sc=0,(je&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Bo()&&i.callbackNode!==l)return null;var h=Mr(i,i===Rt?Ot:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=Ic(i,h);else{s=h;var m=je;je|=2;var y=Pv();(Rt!==i||Ot!==s)&&(Gr=null,Uo=Ge()+500,ks(i,s));do try{QS();break}catch(P){Av(i,P)}while(!0);bd(),vc.current=y,je=m,wt!==null?s=0:(Rt=null,Ot=0,s=It)}if(s!==0){if(s===2&&(m=La(i),m!==0&&(h=m,s=mf(i,m))),s===1)throw l=pl,ks(i,0),Li(i,h),an(i,Ge()),l;if(s===6)Li(i,h);else{if(m=i.current.alternate,(h&30)===0&&!KS(m)&&(s=Ic(i,h),s===2&&(y=La(i),y!==0&&(h=y,s=mf(i,y))),s===1))throw l=pl,ks(i,0),Li(i,h),an(i,Ge()),l;switch(i.finishedWork=m,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:bs(i,on,Gr);break;case 3:if(Li(i,h),(h&130023424)===h&&(s=df+500-Ge(),10<s)){if(Mr(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){en(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=wd(bs.bind(null,i,on,Gr),s);break}bs(i,on,Gr);break;case 4:if(Li(i,h),(h&4194240)===h)break;for(s=i.eventTimes,m=-1;0<h;){var x=31-pn(h);y=1<<x,x=s[x],x>m&&(m=x),h&=~y}if(h=m,h=Ge()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*qS(h/1960))-h,10<h){i.timeoutHandle=wd(bs.bind(null,i,on,Gr),h);break}bs(i,on,Gr);break;case 5:bs(i,on,Gr);break;default:throw Error(t(329))}}}return an(i,Ge()),i.callbackNode===l?Iv.bind(null,i):null}function mf(i,s){var l=ml;return i.current.memoizedState.isDehydrated&&(ks(i,s).flags|=256),i=Ic(i,s),i!==2&&(s=on,on=l,s!==null&&gf(s)),i}function gf(i){on===null?on=i:on.push.apply(on,i)}function KS(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!Bn(y(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Li(i,s){for(s&=~hf,s&=~_c,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-pn(s),h=1<<l;i[l]=-1,s&=~h}}function Cv(i){if((je&6)!==0)throw Error(t(327));Bo();var s=Mr(i,0);if((s&1)===0)return an(i,Ge()),null;var l=Ic(i,s);if(i.tag!==0&&l===2){var h=La(i);h!==0&&(s=h,l=mf(i,h))}if(l===1)throw l=pl,ks(i,0),Li(i,s),an(i,Ge()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,bs(i,on,Gr),an(i,Ge()),null}function yf(i,s){var l=je;je|=1;try{return i(s)}finally{je=l,je===0&&(Uo=Ge()+500,Ju&&Ri())}}function Rs(i){Di!==null&&Di.tag===0&&(je&6)===0&&Bo();var s=je;je|=1;var l=Pn.transition,h=Me;try{if(Pn.transition=null,Me=1,i)return i()}finally{Me=h,Pn.transition=l,je=s,(je&6)===0&&Ri()}}function vf(){En=Fo.current,Ye(Fo)}function ks(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,xS(l)),wt!==null)for(l=wt.return;l!==null;){var h=l;switch(Cd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Yu();break;case 3:Lo(),Ye(nn),Ye($t),Fd();break;case 5:Od(h);break;case 4:Lo();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:Nd(h.type._context);break;case 22:case 23:vf()}l=l.return}if(Rt=i,wt=i=Oi(i.current,null),Ot=En=s,It=0,pl=null,hf=_c=Ps=0,on=ml=null,Is!==null){for(s=0;s<Is.length;s++)if(l=Is[s],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var x=y.next;y.next=m,h.next=x}l.pending=h}Is=null}return i}function Av(i,s){do{var l=wt;try{if(bd(),lc.current=dc,uc){for(var h=rt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}uc=!1}if(As=0,Pt=St=rt=null,ll=!1,ul=0,cf.current=null,l===null||l.return===null){It=1,pl=s,wt=null;break}e:{var y=i,x=l.return,P=l,V=s;if(s=Ot,P.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,J=P,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var le=Jy(x);if(le!==null){le.flags&=-257,Zy(le,x,P,y,s),le.mode&1&&Xy(y,K,s),s=le,V=K;var he=s.updateQueue;if(he===null){var fe=new Set;fe.add(V),s.updateQueue=fe}else he.add(V);break e}else{if((s&1)===0){Xy(y,K,s),_f();break e}V=Error(t(426))}}else if(et&&P.mode&1){var pt=Jy(x);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),Zy(pt,x,P,y,s),Rd(Oo(V,P));break e}}y=V=Oo(V,P),It!==4&&(It=2),ml===null?ml=[y]:ml.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var z=Qy(y,V,s);Ty(y,z);break e;case 1:P=V;var j=y.type,W=y.stateNode;if((y.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Vi===null||!Vi.has(W)))){y.flags|=65536,s&=-s,y.lanes|=s;var ne=Yy(y,P,s);Ty(y,ne);break e}}y=y.return}while(y!==null)}kv(l)}catch(pe){s=pe,wt===l&&l!==null&&(wt=l=l.return);continue}break}while(!0)}function Pv(){var i=vc.current;return vc.current=dc,i===null?dc:i}function _f(){(It===0||It===3||It===2)&&(It=4),Rt===null||(Ps&268435455)===0&&(_c&268435455)===0||Li(Rt,Ot)}function Ic(i,s){var l=je;je|=2;var h=Pv();(Rt!==i||Ot!==s)&&(Gr=null,ks(i,s));do try{GS();break}catch(m){Av(i,m)}while(!0);if(bd(),je=l,vc.current=h,wt!==null)throw Error(t(261));return Rt=null,Ot=0,It}function GS(){for(;wt!==null;)Rv(wt)}function QS(){for(;wt!==null&&!cs();)Rv(wt)}function Rv(i){var s=Vv(i.alternate,i,En);i.memoizedProps=i.pendingProps,s===null?kv(i):wt=s,cf.current=null}function kv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=BS(l,s,En),l!==null){wt=l;return}}else{if(l=zS(l,s),l!==null){l.flags&=32767,wt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{It=6,wt=null;return}}if(s=s.sibling,s!==null){wt=s;return}wt=s=i}while(s!==null);It===0&&(It=5)}function bs(i,s,l){var h=Me,m=Pn.transition;try{Pn.transition=null,Me=1,YS(i,s,l,h)}finally{Pn.transition=m,Me=h}return null}function YS(i,s,l,h){do Bo();while(Di!==null);if((je&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(id(i,y),i===Rt&&(wt=Rt=null,Ot=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ec||(Ec=!0,Dv(hs,function(){return Bo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Pn.transition,Pn.transition=null;var x=Me;Me=1;var P=je;je|=4,cf.current=null,HS(i,l),wv(l,i),gS(vd),jr=!!yd,vd=yd=null,i.current=l,WS(l),Dr(),je=P,Me=x,Pn.transition=y}else i.current=l;if(Ec&&(Ec=!1,Di=i,Tc=m),y=i.pendingLanes,y===0&&(Vi=null),Nu(l.stateNode),an(i,Ge()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)m=s[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(wc)throw wc=!1,i=ff,ff=null,i;return(Tc&1)!==0&&i.tag!==0&&Bo(),y=i.pendingLanes,(y&1)!==0?i===pf?gl++:(gl=0,pf=i):gl=0,Ri(),null}function Bo(){if(Di!==null){var i=nr(Tc),s=Pn.transition,l=Me;try{if(Pn.transition=null,Me=16>i?16:i,Di===null)var h=!1;else{if(i=Di,Di=null,Tc=0,(je&6)!==0)throw Error(t(331));var m=je;for(je|=4,ce=i.current;ce!==null;){var y=ce,x=y.child;if((ce.flags&16)!==0){var P=y.deletions;if(P!==null){for(var V=0;V<P.length;V++){var K=P[V];for(ce=K;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:fl(8,J,y)}var ee=J.child;if(ee!==null)ee.return=J,ce=ee;else for(;ce!==null;){J=ce;var X=J.sibling,le=J.return;if(mv(J),J===K){ce=null;break}if(X!==null){X.return=le,ce=X;break}ce=le}}}var he=y.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var pt=fe.sibling;fe.sibling=null,fe=pt}while(fe!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,ce=x;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:fl(9,y,y.return)}var z=y.sibling;if(z!==null){z.return=y.return,ce=z;break e}ce=y.return}}var j=i.current;for(ce=j;ce!==null;){x=ce;var W=x.child;if((x.subtreeFlags&2064)!==0&&W!==null)W.return=x,ce=W;else e:for(x=j;ce!==null;){if(P=ce,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:yc(9,P)}}catch(pe){ut(P,P.return,pe)}if(P===x){ce=null;break e}var ne=P.sibling;if(ne!==null){ne.return=P.return,ce=ne;break e}ce=P.return}}if(je=m,Ri(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ds,i)}catch{}h=!0}return h}finally{Me=l,Pn.transition=s}}return!1}function bv(i,s,l){s=Oo(l,s),s=Qy(i,s,1),i=bi(i,s,1),s=en(),i!==null&&(gs(i,1,s),an(i,s))}function ut(i,s,l){if(i.tag===3)bv(i,i,l);else for(;s!==null;){if(s.tag===3){bv(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Vi===null||!Vi.has(h))){i=Oo(l,i),i=Yy(s,i,1),s=bi(s,i,1),i=en(),s!==null&&(gs(s,1,i),an(s,i));break}}s=s.return}}function XS(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=en(),i.pingedLanes|=i.suspendedLanes&l,Rt===i&&(Ot&l)===l&&(It===4||It===3&&(Ot&130023424)===Ot&&500>Ge()-df?ks(i,0):hf|=l),an(i,s)}function Nv(i,s){s===0&&((i.mode&1)===0?s=1:(s=_i,_i<<=1,(_i&130023424)===0&&(_i=4194304)));var l=en();i=Wr(i,s),i!==null&&(gs(i,s,l),an(i,l))}function JS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Nv(i,l)}function ZS(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Nv(i,l)}var Vv;Vv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||nn.current)sn=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return sn=!1,US(i,s,l);sn=(i.flags&131072)!==0}else sn=!1,et&&(s.flags&1048576)!==0&&dy(s,ec,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;mc(i,s),i=s.pendingProps;var m=Ro(s,$t.current);Mo(s,l),m=zd(null,s,h,i,m,l);var y=$d();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,rn(h)?(y=!0,Xu(s)):y=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Md(s),m.updater=fc,s.stateNode=m,m._reactInternals=s,Qd(s,h,i,l),s=Zd(null,s,h,!0,y,l)):(s.tag=0,et&&y&&Id(s),Zt(null,s,m,l),s=s.child),s;case 16:h=s.elementType;e:{switch(mc(i,s),i=s.pendingProps,m=h._init,h=m(h._payload),s.type=h,m=s.tag=tI(h),i=$n(h,i),m){case 0:s=Jd(null,s,h,i,l);break e;case 1:s=sv(null,s,h,i,l);break e;case 11:s=ev(null,s,h,i,l);break e;case 14:s=tv(null,s,h,$n(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:$n(h,m),Jd(i,s,h,m,l);case 1:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:$n(h,m),sv(i,s,h,m,l);case 3:e:{if(ov(s),i===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,m=y.element,Ey(i,s),oc(s,h,null,l);var x=s.memoizedState;if(h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){m=Oo(Error(t(423)),s),s=av(i,s,h,l,m);break e}else if(h!==m){m=Oo(Error(t(424)),s),s=av(i,s,h,l,m);break e}else for(wn=Ci(s.stateNode.containerInfo.firstChild),_n=s,et=!0,zn=null,l=_y(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(No(),h===m){s=Kr(i,s,l);break e}Zt(i,s,h,l)}s=s.child}return s;case 5:return Sy(s),i===null&&Pd(s),h=s.type,m=s.pendingProps,y=i!==null?i.memoizedProps:null,x=m.children,_d(h,m)?x=null:y!==null&&_d(h,y)&&(s.flags|=32),iv(i,s),Zt(i,s,x,l),s.child;case 6:return i===null&&Pd(s),null;case 13:return lv(i,s,l);case 4:return Ld(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Vo(s,null,h,l):Zt(i,s,h,l),s.child;case 11:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:$n(h,m),ev(i,s,h,m,l);case 7:return Zt(i,s,s.pendingProps,l),s.child;case 8:return Zt(i,s,s.pendingProps.children,l),s.child;case 12:return Zt(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,m=s.pendingProps,y=s.memoizedProps,x=m.value,Ke(rc,h._currentValue),h._currentValue=x,y!==null)if(Bn(y.value,x)){if(y.children===m.children&&!nn.current){s=Kr(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var P=y.dependencies;if(P!==null){x=y.child;for(var V=P.firstContext;V!==null;){if(V.context===h){if(y.tag===1){V=qr(-1,l&-l),V.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var J=K.pending;J===null?V.next=V:(V.next=J.next,J.next=V),K.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),Vd(y.return,l,s),P.lanes|=l;break}V=V.next}}else if(y.tag===10)x=y.type===s.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(t(341));x.lanes|=l,P=x.alternate,P!==null&&(P.lanes|=l),Vd(x,l,s),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===s){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}Zt(i,s,m.children,l),s=s.child}return s;case 9:return m=s.type,h=s.pendingProps.children,Mo(s,l),m=Cn(m),h=h(m),s.flags|=1,Zt(i,s,h,l),s.child;case 14:return h=s.type,m=$n(h,s.pendingProps),m=$n(h.type,m),tv(i,s,h,m,l);case 15:return nv(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:$n(h,m),mc(i,s),s.tag=1,rn(h)?(i=!0,Xu(s)):i=!1,Mo(s,l),Ky(s,h,m),Qd(s,h,m,l),Zd(null,s,h,!0,i,l);case 19:return cv(i,s,l);case 22:return rv(i,s,l)}throw Error(t(156,s.tag))};function Dv(i,s){return Va(i,s)}function eI(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,s,l,h){return new eI(i,s,l,h)}function wf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function tI(i){if(typeof i=="function")return wf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===ht)return 14}return 2}function Oi(i,s){var l=i.alternate;return l===null?(l=Rn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Cc(i,s,l,h,m,y){var x=2;if(h=i,typeof i=="function")wf(i)&&(x=1);else if(typeof i=="string")x=5;else e:switch(i){case R:return Ns(l.children,m,y,s);case I:x=8,m|=8;break;case A:return i=Rn(12,l,s,m|2),i.elementType=A,i.lanes=y,i;case k:return i=Rn(13,l,s,m),i.elementType=k,i.lanes=y,i;case $e:return i=Rn(19,l,s,m),i.elementType=$e,i.lanes=y,i;case Ce:return Ac(l,m,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:x=10;break e;case D:x=9;break e;case U:x=11;break e;case ht:x=14;break e;case Vt:x=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Rn(x,l,s,m),s.elementType=i,s.type=h,s.lanes=y,s}function Ns(i,s,l,h){return i=Rn(7,i,h,s),i.lanes=l,i}function Ac(i,s,l,h){return i=Rn(22,i,h,s),i.elementType=Ce,i.lanes=l,i.stateNode={isHidden:!1},i}function Ef(i,s,l){return i=Rn(6,i,null,s),i.lanes=l,i}function Tf(i,s,l){return s=Rn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function nI(i,s,l,h,m){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ja(0),this.expirationTimes=ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function xf(i,s,l,h,m,y,x,P,V){return i=new nI(i,s,l,P,V),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Rn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Md(y),i}function rI(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function Mv(i){if(!i)return Pi;i=i._reactInternals;e:{if(Fn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(rn(l))return uy(i,l,s)}return s}function Lv(i,s,l,h,m,y,x,P,V){return i=xf(l,h,!0,i,m,y,x,P,V),i.context=Mv(null),l=i.current,h=en(),m=Mi(l),y=qr(h,m),y.callback=s??null,bi(l,y,m),i.current.lanes=m,gs(i,m,h),an(i,h),i}function Pc(i,s,l,h){var m=s.current,y=en(),x=Mi(m);return l=Mv(l),s.context===null?s.context=l:s.pendingContext=l,s=qr(y,x),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=bi(m,s,x),i!==null&&(qn(i,m,x,y),sc(i,m,x)),x}function Rc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ov(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Sf(i,s){Ov(i,s),(i=i.alternate)&&Ov(i,s)}function iI(){return null}var jv=typeof reportError=="function"?reportError:function(i){console.error(i)};function If(i){this._internalRoot=i}kc.prototype.render=If.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Pc(i,s,null,null)},kc.prototype.unmount=If.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rs(function(){Pc(null,i,null,null)}),s[Br]=null}};function kc(i){this._internalRoot=i}kc.prototype.unstable_scheduleHydration=function(i){if(i){var s=za();i={blockedOn:null,target:i,priority:s};for(var l=0;l<mn.length&&s!==0&&s<mn[l].priority;l++);mn.splice(l,0,i),l===0&&fo(i)}};function Cf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function bc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Fv(){}function sI(i,s,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var K=Rc(x);y.call(K)}}var x=Lv(s,h,i,0,null,!1,!1,"",Fv);return i._reactRootContainer=x,i[Br]=x.current,el(i.nodeType===8?i.parentNode:i),Rs(),x}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var P=h;h=function(){var K=Rc(V);P.call(K)}}var V=xf(i,0,!1,null,null,!1,!1,"",Fv);return i._reactRootContainer=V,i[Br]=V.current,el(i.nodeType===8?i.parentNode:i),Rs(function(){Pc(s,V,l,h)}),V}function Nc(i,s,l,h,m){var y=l._reactRootContainer;if(y){var x=y;if(typeof m=="function"){var P=m;m=function(){var V=Rc(x);P.call(V)}}Pc(s,x,i,m)}else x=sI(l,s,i,m,h);return Rc(x)}Ua=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ue(s.pendingLanes);l!==0&&(Fa(s,l|1),an(s,Ge()),(je&6)===0&&(Uo=Ge()+500,Ri()))}break;case 13:Rs(function(){var h=Wr(i,1);if(h!==null){var m=en();qn(h,i,1,m)}}),Sf(i,1)}},co=function(i){if(i.tag===13){var s=Wr(i,134217728);if(s!==null){var l=en();qn(s,i,134217728,l)}Sf(i,134217728)}},Ba=function(i){if(i.tag===13){var s=Mi(i),l=Wr(i,s);if(l!==null){var h=en();qn(l,i,s,h)}Sf(i,s)}},za=function(){return Me},$a=function(i,s){var l=Me;try{return Me=i,s()}finally{Me=l}},br=function(i,s,l){switch(s){case"input":if(os(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var m=Qu(h);if(!m)throw Error(t(90));Sa(h),os(h,m)}}}break;case"textarea":wu(i,l);break;case"select":s=l.value,s!=null&&On(i,!!l.multiple,s,!1)}},xu=yf,Su=Rs;var oI={usingClientEntryPoint:!1,Events:[rl,Ao,Qu,mi,gi,yf]},yl={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aI={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=bu(i),i===null?null:i.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||iI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{ds=Vc.inject(aI),fn=Vc}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oI,ln.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cf(s))throw Error(t(200));return rI(i,s,null,l)},ln.createRoot=function(i,s){if(!Cf(i))throw Error(t(299));var l=!1,h="",m=jv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=xf(i,1,!1,null,null,l,!1,h,m),i[Br]=s.current,el(i.nodeType===8?i.parentNode:i),new If(s)},ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=bu(s),i=i===null?null:i.stateNode,i},ln.flushSync=function(i){return Rs(i)},ln.hydrate=function(i,s,l){if(!bc(s))throw Error(t(200));return Nc(null,i,s,!0,l)},ln.hydrateRoot=function(i,s,l){if(!Cf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",x=jv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),s=Lv(s,null,i,1,l??null,m,!1,y,x),i[Br]=s.current,el(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new kc(s)},ln.render=function(i,s,l){if(!bc(s))throw Error(t(200));return Nc(null,i,s,!1,l)},ln.unmountComponentAtNode=function(i){if(!bc(i))throw Error(t(40));return i._reactRootContainer?(Rs(function(){Nc(null,null,i,!1,function(){i._reactRootContainer=null,i[Br]=null})}),!0):!1},ln.unstable_batchedUpdates=yf,ln.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!bc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Nc(i,s,l,!1,h)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Kv;function mI(){if(Kv)return Rf.exports;Kv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rf.exports=pI(),Rf.exports}var Gv;function gI(){if(Gv)return Dc;Gv=1;var n=mI();return Dc.createRoot=n.createRoot,Dc.hydrateRoot=n.hydrateRoot,Dc}var yI=gI();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qv="popstate";function vI(n={}){function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return lp("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:jl(o)}return wI(e,t,null,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _I(){return Math.random().toString(36).substring(2,10)}function Yv(n,e){return{usr:n.state,key:n.key,idx:e}}function lp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?da(e):e,state:t,key:e&&e.key||r||_I()}}function jl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function da(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function wI(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function w(){d="POP";let b=g(),B=b==null?null:b-p;p=b,f&&f({action:d,location:O.location,delta:B})}function T(b,B){d="PUSH";let H=lp(O.location,b,B);p=g()+1;let q=Yv(H,p),se=O.createHref(H);try{u.pushState(q,"",se)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(se)}a&&f&&f({action:d,location:O.location,delta:1})}function C(b,B){d="REPLACE";let H=lp(O.location,b,B);p=g();let q=Yv(H,p),se=O.createHref(H);u.replaceState(q,"",se),a&&f&&f({action:d,location:O.location,delta:0})}function M(b){return EI(b)}let O={get action(){return d},get location(){return n(o,u)},listen(b){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Qv,w),f=b,()=>{o.removeEventListener(Qv,w),f=null}},createHref(b){return e(o,b)},createURL:M,encodeLocation(b){let B=M(b);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:C,go(b){return u.go(b)}};return O}function EI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:jl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function zw(n,e,t="/"){return TI(n,e,t,!1)}function TI(n,e,t,r){let o=typeof e=="string"?da(e):e,a=ei(o.pathname||"/",t);if(a==null)return null;let u=$w(n);xI(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=DI(a);d=NI(u[f],p,r)}return d}function $w(n,e=[],t=[],r="",o=!1){let a=(u,d,f=o,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;ot(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let w=Jr([r,g.relativePath]),T=t.concat(g);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),$w(u.children,e,T,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:kI(w,u.index),routesMeta:T})};return n.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))a(u,d);else for(let f of Hw(u.path))a(u,d,!0,f)}),e}function Hw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=Hw(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function xI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var SI=/^:[\w-]+$/,II=3,CI=2,AI=1,PI=10,RI=-2,Xv=n=>n==="*";function kI(n,e){let t=n.split("/"),r=t.length;return t.some(Xv)&&(r+=RI),e&&(r+=CI),t.filter(o=>!Xv(o)).reduce((o,a)=>o+(SI.test(a)?II:a===""?AI:PI),r)}function bI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function NI(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",w=lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),T=f.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Jr([a,w.pathname]),pathnameBase:jI(Jr([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=Jr([a,w.pathnameBase]))}return u}function lh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=VI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:w},T)=>{if(g==="*"){let M=d[T]||"";u=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const C=d[T];return w&&!C?p[g]=void 0:p[g]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function VI(n,e=!1,t=!0){Cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function DI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ei(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function MI(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?da(n):n;return{pathname:t?t.startsWith("/")?t:LI(t,e):e,search:FI(r),hash:UI(o)}}function LI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Nf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ww(n){let e=OI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function qw(n,e,t,r=!1){let o;typeof n=="string"?o=da(n):(o={...n},ot(!o.pathname||!o.pathname.includes("?"),Nf("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Nf("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Nf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?e[w]:"/"}let f=MI(o,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),jI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),FI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function BI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Kw=["POST","PUT","PATCH","DELETE"];new Set(Kw);var zI=["GET",...Kw];new Set(zI);var fa=L.createContext(null);fa.displayName="DataRouter";var Dh=L.createContext(null);Dh.displayName="DataRouterState";L.createContext(!1);var Gw=L.createContext({isTransitioning:!1});Gw.displayName="ViewTransition";var $I=L.createContext(new Map);$I.displayName="Fetchers";var HI=L.createContext(null);HI.displayName="Await";var kr=L.createContext(null);kr.displayName="Navigation";var tu=L.createContext(null);tu.displayName="Location";var ai=L.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var nm=L.createContext(null);nm.displayName="RouteError";function WI(n,{relative:e}={}){ot(nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=L.useContext(kr),{hash:o,pathname:a,search:u}=ru(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Jr([t,a])),r.createHref({pathname:d,search:u,hash:o})}function nu(){return L.useContext(tu)!=null}function is(){return ot(nu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(tu).location}var Qw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yw(n){L.useContext(kr).static||L.useLayoutEffect(n)}function Mh(){let{isDataRoute:n}=L.useContext(ai);return n?iC():qI()}function qI(){ot(nu(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(fa),{basename:e,navigator:t}=L.useContext(kr),{matches:r}=L.useContext(ai),{pathname:o}=is(),a=JSON.stringify(Ww(r)),u=L.useRef(!1);return Yw(()=>{u.current=!0}),L.useCallback((f,p={})=>{if(Cr(u.current,Qw),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=qw(f,JSON.parse(a),o,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Jr([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,o,n])}L.createContext(null);function ru(n,{relative:e}={}){let{matches:t}=L.useContext(ai),{pathname:r}=is(),o=JSON.stringify(Ww(t));return L.useMemo(()=>qw(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function KI(n,e){return Xw(n,e)}function Xw(n,e,t,r,o){ot(nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(kr),{matches:u}=L.useContext(ai),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",w=d&&d.route;{let H=w&&w.path||"";Jw(p,!w||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=is(),C;if(e){let H=typeof e=="string"?da(e):e;ot(g==="/"||H.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),C=H}else C=T;let M=C.pathname||"/",O=M;if(g!=="/"){let H=g.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice(H.length).join("/")}let b=zw(n,{pathname:O});Cr(w||b!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Cr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=JI(b&&b.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:Jr([g,a.encodeLocation?a.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Jr([g,a.encodeLocation?a.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,t,r,o);return e&&B?L.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},B):B}function GI(){let n=rC(),e=BI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,u)}var QI=L.createElement(GI,null),YI=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?L.createElement(ai.Provider,{value:this.props.routeContext},L.createElement(nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XI({routeContext:n,match:e,children:t}){let r=L.useContext(fa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ai.Provider,{value:n},t)}function JI(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t?.errors;if(u!=null){let p=a.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:w,errors:T}=t,C=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||C){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,w)=>{let T,C=!1,M=null,O=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||QI,d&&(f<0&&w===0?(Jw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,O=null):f===w&&(C=!0,O=g.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,w+1)),B=()=>{let H;return T?H=M:C?H=O:g.route.Component?H=L.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,L.createElement(XI,{match:g,routeContext:{outlet:p,matches:b,isDataRoute:t!=null},children:H})};return t&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?L.createElement(YI,{location:t.location,revalidation:t.revalidation,component:M,error:T,children:B(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):B()},null)}function rm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZI(n){let e=L.useContext(fa);return ot(e,rm(n)),e}function eC(n){let e=L.useContext(Dh);return ot(e,rm(n)),e}function tC(n){let e=L.useContext(ai);return ot(e,rm(n)),e}function im(n){let e=tC(n),t=e.matches[e.matches.length-1];return ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function nC(){return im("useRouteId")}function rC(){let n=L.useContext(nm),e=eC("useRouteError"),t=im("useRouteError");return n!==void 0?n:e.errors?.[t]}function iC(){let{router:n}=ZI("useNavigate"),e=im("useNavigate"),t=L.useRef(!1);return Yw(()=>{t.current=!0}),L.useCallback(async(o,a={})=>{Cr(t.current,Qw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Jv={};function Jw(n,e,t){!e&&!Jv[n]&&(Jv[n]=!0,Cr(!1,t))}L.memo(sC);function sC({routes:n,future:e,state:t,unstable_onError:r}){return Xw(n,void 0,t,r,e)}function un(n){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){ot(!nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=da(t));let{pathname:f="/",search:p="",hash:g="",state:w=null,key:T="default"}=t,C=L.useMemo(()=>{let M=ei(f,u);return M==null?null:{location:{pathname:M,search:p,hash:g,state:w,key:T},navigationType:r}},[u,f,p,g,w,T,r]);return Cr(C!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:L.createElement(kr.Provider,{value:d},L.createElement(tu.Provider,{children:e,value:C}))}function aC({children:n,location:e}){return KI(up(n),e)}function up(n,e=[]){let t=[];return L.Children.forEach(n,(r,o)=>{if(!L.isValidElement(r))return;let a=[...e,o];if(r.type===L.Fragment){t.push.apply(t,up(r.props.children,a));return}ot(r.type===un,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=up(r.props.children,a)),t.push(u)}),t}var qc="get",Kc="application/x-www-form-urlencoded";function Lh(n){return n!=null&&typeof n.tagName=="string"}function lC(n){return Lh(n)&&n.tagName.toLowerCase()==="button"}function uC(n){return Lh(n)&&n.tagName.toLowerCase()==="form"}function cC(n){return Lh(n)&&n.tagName.toLowerCase()==="input"}function hC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dC(n,e){return n.button===0&&(!e||e==="_self")&&!hC(n)}var Mc=null;function fC(){if(Mc===null)try{new FormData(document.createElement("form"),0),Mc=!1}catch{Mc=!0}return Mc}var pC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vf(n){return n!=null&&!pC.has(n)?(Cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):n}function mC(n,e){let t,r,o,a,u;if(uC(n)){let d=n.getAttribute("action");r=d?ei(d,e):null,t=n.getAttribute("method")||qc,o=Vf(n.getAttribute("enctype"))||Kc,a=new FormData(n)}else if(lC(n)||cC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?ei(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||qc,o=Vf(n.getAttribute("formenctype"))||Vf(d.getAttribute("enctype"))||Kc,a=new FormData(d,n),!fC()){let{name:p,type:g,value:w}=n;if(g==="image"){let T=p?`${p}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else p&&a.append(p,w)}}else{if(Lh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qc,r=null,o=Kc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gC(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ei(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function yC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _C(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await yC(a,t);return u.links?u.links():[]}return[]}));return xC(r.flat(1).filter(vC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(n,e,t,r,o,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>t[p].pathname!==f.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function wC(n,e,{includeHydrateFallback:t}={}){return EC(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function EC(n){return[...new Set(n)]}function TC(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function xC(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(TC(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function Zw(){let n=L.useContext(fa);return sm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SC(){let n=L.useContext(Dh);return sm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var om=L.createContext(void 0);om.displayName="FrameworkContext";function eE(){let n=L.useContext(om);return sm(n,"You must render this element inside a <HydratedRouter> element"),n}function IC(n,e){let t=L.useContext(om),[r,o]=L.useState(!1),[a,u]=L.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:w}=e,T=L.useRef(null);L.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let O=B=>{B.forEach(H=>{u(H.isIntersecting)})},b=new IntersectionObserver(O,{threshold:.5});return T.current&&b.observe(T.current),()=>{b.disconnect()}}},[n]),L.useEffect(()=>{if(r){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[r]);let C=()=>{o(!0)},M=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:_l(d,C),onBlur:_l(f,M),onMouseEnter:_l(p,C),onMouseLeave:_l(g,M),onTouchStart:_l(w,C)}]:[!1,T,{}]}function _l(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function CC({page:n,...e}){let{router:t}=Zw(),r=L.useMemo(()=>zw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?L.createElement(PC,{page:n,matches:r,...e}):null}function AC(n){let{manifest:e,routeModules:t}=eE(),[r,o]=L.useState([]);return L.useEffect(()=>{let a=!1;return _C(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function PC({page:n,matches:e,...t}){let r=is(),{manifest:o,routeModules:a}=eE(),{basename:u}=Zw(),{loaderData:d,matches:f}=SC(),p=L.useMemo(()=>Zv(n,e,f,o,r,"data"),[n,e,f,o,r]),g=L.useMemo(()=>Zv(n,e,f,o,r,"assets"),[n,e,f,o,r]),w=L.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,O=!1;if(e.forEach(B=>{let H=o.routes[B.route.id];!H||!H.hasLoader||(!p.some(q=>q.route.id===B.route.id)&&B.route.id in d&&a[B.route.id]?.shouldRevalidate||H.hasClientLoader?O=!0:M.add(B.route.id))}),M.size===0)return[];let b=gC(n,u,"data");return O&&M.size>0&&b.searchParams.set("_routes",e.filter(B=>M.has(B.route.id)).map(B=>B.route.id).join(",")),[b.pathname+b.search]},[u,d,r,o,p,e,n,a]),T=L.useMemo(()=>wC(g,o),[g,o]),C=AC(g);return L.createElement(L.Fragment,null,w.map(M=>L.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),T.map(M=>L.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),C.map(({key:M,link:O})=>L.createElement("link",{key:M,nonce:t.nonce,...O})))}function RC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tE&&(window.__reactRouterVersion="7.9.2")}catch{}function kC({basename:n,children:e,window:t}){let r=L.useRef();r.current==null&&(r.current=vI({window:t,v5Compat:!0}));let o=r.current,[a,u]=L.useState({action:o.action,location:o.location}),d=L.useCallback(f=>{L.startTransition(()=>u(f))},[u]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.createElement(oC,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var nE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=L.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:w,...T},C){let{basename:M}=L.useContext(kr),O=typeof p=="string"&&nE.test(p),b,B=!1;if(typeof p=="string"&&O&&(b=p,tE))try{let A=new URL(window.location.href),N=p.startsWith("//")?new URL(A.protocol+p):new URL(p),D=ei(N.pathname,M);N.origin===A.origin&&D!=null?p=D+N.search+N.hash:B=!0}catch{Cr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=WI(p,{relative:o}),[q,se,re]=IC(r,T),oe=DC(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:w});function R(A){e&&e(A),A.defaultPrevented||oe(A)}let I=L.createElement("a",{...T,...re,href:b||H,onClick:B||a?e:R,ref:RC(C,se),target:f,"data-discover":!O&&t==="render"?"true":void 0});return q&&!O?L.createElement(L.Fragment,null,I,L.createElement(CC,{page:H})):I});mt.displayName="Link";var bC=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:d,children:f,...p},g){let w=ru(u,{relative:p.relative}),T=is(),C=L.useContext(Dh),{navigator:M,basename:O}=L.useContext(kr),b=C!=null&&FC(w)&&d===!0,B=M.encodeLocation?M.encodeLocation(w).pathname:w.pathname,H=T.pathname,q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(H=H.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&O&&(q=ei(q,O)||q);const se=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let re=H===B||!o&&H.startsWith(B)&&H.charAt(se)==="/",oe=q!=null&&(q===B||!o&&q.startsWith(B)&&q.charAt(B.length)==="/"),R={isActive:re,isPending:oe,isTransitioning:b},I=re?e:void 0,A;typeof r=="function"?A=r(R):A=[r,re?"active":null,oe?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(R):a;return L.createElement(mt,{...p,"aria-current":I,className:A,ref:g,style:N,to:u,viewTransition:d},typeof f=="function"?f(R):f)});bC.displayName="NavLink";var NC=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=qc,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:w,...T},C)=>{let M=OC(),O=jC(d,{relative:p}),b=u.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&nE.test(d),H=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let se=q.nativeEvent.submitter,re=se?.getAttribute("formmethod")||u;M(se||q.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:a,relative:p,preventScrollReset:g,viewTransition:w})};return L.createElement("form",{ref:C,method:b,action:O,onSubmit:r?f:H,...T,"data-discover":!B&&n==="render"?"true":void 0})});NC.displayName="Form";function VC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(n){let e=L.useContext(fa);return ot(e,VC(n)),e}function DC(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=Mh(),f=is(),p=ru(n,{relative:a});return L.useCallback(g=>{if(dC(g,e)){g.preventDefault();let w=t!==void 0?t:jl(f)===jl(p);d(n,{replace:w,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,d,p,t,r,e,n,o,a,u])}var MC=0,LC=()=>`__${String(++MC)}__`;function OC(){let{router:n}=rE("useSubmit"),{basename:e}=L.useContext(kr),t=nC();return L.useCallback(async(r,o={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=mC(r,e);if(o.navigate===!1){let g=o.fetcherKey||LC();await n.fetch(g,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function jC(n,{relative:e}={}){let{basename:t}=L.useContext(kr),r=L.useContext(ai);ot(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...ru(n||".",{relative:e})},u=is();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let g=d.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Jr([t,a.pathname])),jl(a)}function FC(n,{relative:e}={}){let t=L.useContext(Gw);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rE("useViewTransitionState"),o=ru(n,{relative:e});if(!t.isTransitioning)return!1;let a=ei(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ei(t.nextLocation.pathname,r)||t.nextLocation.pathname;return lh(o.pathname,u)!=null||lh(o.pathname,a)!=null}const am=L.createContext({});function lm(n){const e=L.useRef(null);return e.current===null&&(e.current=n()),e.current}const um=typeof window<"u",iE=um?L.useLayoutEffect:L.useEffect,Oh=L.createContext(null);function cm(n,e){n.indexOf(e)===-1&&n.push(e)}function hm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ti=(n,e,t)=>t>e?e:t<n?n:t;let dm=()=>{};const ni={},sE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function oE(n){return typeof n=="object"&&n!==null}const aE=n=>/^0[^.\s]+$/u.test(n);function fm(n){let e;return()=>(e===void 0&&(e=n()),e)}const Mn=n=>n,UC=(n,e)=>t=>e(n(t)),iu=(...n)=>n.reduce(UC),Fl=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class pm{constructor(){this.subscriptions=[]}add(e){return cm(this.subscriptions,e),()=>hm(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _r=n=>n*1e3,Dn=n=>n/1e3;function lE(n,e){return e?n*(1e3/e):0}const uE=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,BC=1e-7,zC=12;function $C(n,e,t,r,o){let a,u,d=0;do u=e+(t-e)/2,a=uE(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>BC&&++d<zC);return u}function su(n,e,t,r){if(n===e&&t===r)return Mn;const o=a=>$C(a,0,1,n,t);return a=>a===0||a===1?a:uE(o(a),e,r)}const cE=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,hE=n=>e=>1-n(1-e),dE=su(.33,1.53,.69,.99),mm=hE(dE),fE=cE(mm),pE=n=>(n*=2)<1?.5*mm(n):.5*(2-Math.pow(2,-10*(n-1))),gm=n=>1-Math.sin(Math.acos(n)),mE=hE(gm),gE=cE(gm),HC=su(.42,0,1,1),WC=su(0,0,.58,1),yE=su(.42,0,.58,1),qC=n=>Array.isArray(n)&&typeof n[0]!="number",vE=n=>Array.isArray(n)&&typeof n[0]=="number",KC={linear:Mn,easeIn:HC,easeInOut:yE,easeOut:WC,circIn:gm,circInOut:gE,circOut:mE,backIn:mm,backInOut:fE,backOut:dE,anticipate:pE},GC=n=>typeof n=="string",e0=n=>{if(vE(n)){dm(n.length===4);const[e,t,r,o]=n;return su(e,t,r,o)}else if(GC(n))return KC[n];return n},Lc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function QC(n,e){let t=new Set,r=new Set,o=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),n()),g(d)}const p={schedule:(g,w=!1,T=!1)=>{const M=T&&o?t:r;return w&&u.add(g),M.has(g)||M.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(d=g,o){a=!0;return}o=!0,[t,r]=[r,t],t.forEach(f),t.clear(),o=!1,a&&(a=!1,p.process(g))}};return p}const YC=40;function _E(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Lc.reduce((q,se)=>(q[se]=QC(a),q),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:g,update:w,preRender:T,render:C,postRender:M}=u,O=()=>{const q=ni.useManualTiming?o.timestamp:performance.now();t=!1,ni.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(q-o.timestamp,YC),1)),o.timestamp=q,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),g.process(o),w.process(o),T.process(o),C.process(o),M.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(O))},b=()=>{t=!0,r=!0,o.isProcessing||n(O)};return{schedule:Lc.reduce((q,se)=>{const re=u[se];return q[se]=(oe,R=!1,I=!1)=>(t||b(),re.schedule(oe,R,I)),q},{}),cancel:q=>{for(let se=0;se<Lc.length;se++)u[Lc[se]].cancel(q)},state:o,steps:u}}const{schedule:tt,cancel:Yi,state:jt,steps:Df}=_E(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0);let Gc;function XC(){Gc=void 0}const hn={now:()=>(Gc===void 0&&hn.set(jt.isProcessing||ni.useManualTiming?jt.timestamp:performance.now()),Gc),set:n=>{Gc=n,queueMicrotask(XC)}},wE=n=>e=>typeof e=="string"&&e.startsWith(n),ym=wE("--"),JC=wE("var(--"),vm=n=>JC(n)?ZC.test(n.split("/*")[0].trim()):!1,ZC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pa={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ul={...pa,transform:n=>ti(0,1,n)},Oc={...pa,default:1},Cl=n=>Math.round(n*1e5)/1e5,_m=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eA(n){return n==null}const tA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wm=(n,e)=>t=>!!(typeof t=="string"&&tA.test(t)&&t.startsWith(n)||e&&!eA(t)&&Object.prototype.hasOwnProperty.call(t,e)),EE=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(_m);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},nA=n=>ti(0,255,n),Mf={...pa,transform:n=>Math.round(nA(n))},Ls={test:wm("rgb","red"),parse:EE("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Mf.transform(n)+", "+Mf.transform(e)+", "+Mf.transform(t)+", "+Cl(Ul.transform(r))+")"};function rA(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const cp={test:wm("#"),parse:rA,transform:Ls.transform},ou=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ui=ou("deg"),wr=ou("%"),we=ou("px"),iA=ou("vh"),sA=ou("vw"),t0={...wr,parse:n=>wr.parse(n)/100,transform:n=>wr.transform(n*100)},qo={test:wm("hsl","hue"),parse:EE("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+wr.transform(Cl(e))+", "+wr.transform(Cl(t))+", "+Cl(Ul.transform(r))+")"},Tt={test:n=>Ls.test(n)||cp.test(n)||qo.test(n),parse:n=>Ls.test(n)?Ls.parse(n):qo.test(n)?qo.parse(n):cp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ls.transform(n):qo.transform(n),getAnimatableNone:n=>{const e=Tt.parse(n);return e.alpha=0,Tt.transform(e)}},oA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aA(n){return isNaN(n)&&typeof n=="string"&&(n.match(_m)?.length||0)+(n.match(oA)?.length||0)>0}const TE="number",xE="color",lA="var",uA="var(",n0="${}",cA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bl(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(cA,f=>(Tt.test(f)?(r.color.push(a),o.push(xE),t.push(Tt.parse(f))):f.startsWith(uA)?(r.var.push(a),o.push(lA),t.push(f)):(r.number.push(a),o.push(TE),t.push(parseFloat(f))),++a,n0)).split(n0);return{values:t,split:d,indexes:r,types:o}}function SE(n){return Bl(n).values}function IE(n){const{split:e,types:t}=Bl(n),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=t[u];d===TE?a+=Cl(o[u]):d===xE?a+=Tt.transform(o[u]):a+=o[u]}return a}}const hA=n=>typeof n=="number"?0:Tt.test(n)?Tt.getAnimatableNone(n):n;function dA(n){const e=SE(n);return IE(n)(e.map(hA))}const Xi={test:aA,parse:SE,createTransformer:IE,getAnimatableNone:dA};function Lf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function fA({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Lf(f,d,n+1/3),a=Lf(f,d,n),u=Lf(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function uh(n,e){return t=>t>0?e:n}const st=(n,e,t)=>n+(e-n)*t,Of=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},pA=[cp,Ls,qo],mA=n=>pA.find(e=>e.test(n));function r0(n){const e=mA(n);if(!e)return!1;let t=e.parse(n);return e===qo&&(t=fA(t)),t}const i0=(n,e)=>{const t=r0(n),r=r0(e);if(!t||!r)return uh(n,e);const o={...t};return a=>(o.red=Of(t.red,r.red,a),o.green=Of(t.green,r.green,a),o.blue=Of(t.blue,r.blue,a),o.alpha=st(t.alpha,r.alpha,a),Ls.transform(o))},hp=new Set(["none","hidden"]);function gA(n,e){return hp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function yA(n,e){return t=>st(n,e,t)}function Em(n){return typeof n=="number"?yA:typeof n=="string"?vm(n)?uh:Tt.test(n)?i0:wA:Array.isArray(n)?CE:typeof n=="object"?Tt.test(n)?i0:vA:uh}function CE(n,e){const t=[...n],r=t.length,o=n.map((a,u)=>Em(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}}function vA(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=Em(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function _A(n,e){const t=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=n.indexes[a][r[a]],d=n.values[u]??0;t[o]=d,r[a]++}return t}const wA=(n,e)=>{const t=Xi.createTransformer(e),r=Bl(n),o=Bl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?hp.has(n)&&!o.values.length||hp.has(e)&&!r.values.length?gA(n,e):iu(CE(_A(r,o),o.values),t):uh(n,e)};function AE(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?st(n,e,t):Em(n)(n,e)}const EA=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>tt.update(e,t),stop:()=>Yi(e),now:()=>jt.isProcessing?jt.timestamp:hn.now()}},PE=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=Math.round(n(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ch=2e4;function Tm(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<ch;)e+=t,r=n.next(e);return e>=ch?1/0:e}function TA(n,e=100,t){const r=t({...n,keyframes:[0,e]}),o=Math.min(Tm(r),ch);return{type:"keyframes",ease:a=>r.next(o*a).value/e,duration:Dn(o)}}const xA=5;function RE(n,e,t){const r=Math.max(e-xA,0);return lE(t-n(r),e-r)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jf=.001;function SA({duration:n=ct.duration,bounce:e=ct.bounce,velocity:t=ct.velocity,mass:r=ct.mass}){let o,a,u=1-e;u=ti(ct.minDamping,ct.maxDamping,u),n=ti(ct.minDuration,ct.maxDuration,Dn(n)),u<1?(o=p=>{const g=p*u,w=g*n,T=g-t,C=dp(p,u),M=Math.exp(-w);return jf-T/C*M},a=p=>{const w=p*u*n,T=w*t+t,C=Math.pow(u,2)*Math.pow(p,2)*n,M=Math.exp(-w),O=dp(Math.pow(p,2),u);return(-o(p)+jf>0?-1:1)*((T-C)*M)/O}):(o=p=>{const g=Math.exp(-p*n),w=(p-t)*n+1;return-jf+g*w},a=p=>{const g=Math.exp(-p*n),w=(t-p)*(n*n);return g*w});const d=5/n,f=CA(o,a,d);if(n=_r(n),isNaN(f))return{stiffness:ct.stiffness,damping:ct.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const IA=12;function CA(n,e,t){let r=t;for(let o=1;o<IA;o++)r=r-n(r)/e(r);return r}function dp(n,e){return n*Math.sqrt(1-e*e)}const AA=["duration","bounce"],PA=["stiffness","damping","mass"];function s0(n,e){return e.some(t=>n[t]!==void 0)}function RA(n){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...n};if(!s0(n,PA)&&s0(n,AA))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*ti(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:ct.mass,stiffness:o,damping:a}}else{const t=SA(n);e={...e,...t,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function hh(n=ct.visualDuration,e=ct.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:w,velocity:T,isResolvedFromDuration:C}=RA({...t,velocity:-Dn(t.velocity||0)}),M=T||0,O=p/(2*Math.sqrt(f*g)),b=u-a,B=Dn(Math.sqrt(f/g)),H=Math.abs(b)<5;r||(r=H?ct.restSpeed.granular:ct.restSpeed.default),o||(o=H?ct.restDelta.granular:ct.restDelta.default);let q;if(O<1){const re=dp(B,O);q=oe=>{const R=Math.exp(-O*B*oe);return u-R*((M+O*B*b)/re*Math.sin(re*oe)+b*Math.cos(re*oe))}}else if(O===1)q=re=>u-Math.exp(-B*re)*(b+(M+B*b)*re);else{const re=B*Math.sqrt(O*O-1);q=oe=>{const R=Math.exp(-O*B*oe),I=Math.min(re*oe,300);return u-R*((M+O*B*b)*Math.sinh(I)+re*b*Math.cosh(I))/re}}const se={calculatedDuration:C&&w||null,next:re=>{const oe=q(re);if(C)d.done=re>=w;else{let R=re===0?M:0;O<1&&(R=re===0?_r(M):RE(q,re,oe));const I=Math.abs(R)<=r,A=Math.abs(u-oe)<=o;d.done=I&&A}return d.value=d.done?u:oe,d},toString:()=>{const re=Math.min(Tm(se),ch),oe=PE(R=>se.next(re*R).value,re,30);return re+"ms "+oe},toTransition:()=>{}};return se}hh.applyToOptions=n=>{const e=TA(n,100,hh);return n.ease=e.ease,n.duration=_r(e.duration),n.type="keyframes",n};function fp({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:g}){const w=n[0],T={done:!1,value:w},C=I=>d!==void 0&&I<d||f!==void 0&&I>f,M=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let O=t*e;const b=w+O,B=u===void 0?b:u(b);B!==b&&(O=B-w);const H=I=>-O*Math.exp(-I/r),q=I=>B+H(I),se=I=>{const A=H(I),N=q(I);T.done=Math.abs(A)<=p,T.value=T.done?B:N};let re,oe;const R=I=>{C(T.value)&&(re=I,oe=hh({keyframes:[T.value,M(T.value)],velocity:RE(q,I,T.value),damping:o,stiffness:a,restDelta:p,restSpeed:g}))};return R(0),{calculatedDuration:null,next:I=>{let A=!1;return!oe&&re===void 0&&(A=!0,se(I),R(I)),re!==void 0&&I>=re?oe.next(I-re):(!A&&se(I),T)}}}function kA(n,e,t){const r=[],o=t||ni.mix||AE,a=n.length-1;for(let u=0;u<a;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Mn:e;d=iu(f,d)}r.push(d)}return r}function bA(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(dm(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=kA(e,r,o),f=d.length,p=g=>{if(u&&g<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(g<n[w+1]);w++);const T=Fl(n[w],n[w+1],g);return d[w](T)};return t?g=>p(ti(n[0],n[a-1],g)):p}function NA(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=Fl(0,e,r);n.push(st(t,1,o))}}function VA(n){const e=[0];return NA(e,n.length-1),e}function DA(n,e){return n.map(t=>t*e)}function MA(n,e){return n.map(()=>e||yE).splice(0,n.length-1)}function Al({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=qC(r)?r.map(e0):e0(r),a={done:!1,value:e[0]},u=DA(t&&t.length===e.length?t:VA(e),n),d=bA(u,e,{ease:Array.isArray(o)?o:MA(e,o)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const LA=n=>n!==null;function xm(n,{repeat:e,repeatType:t="loop"},r,o=1){const a=n.filter(LA),d=o<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const OA={decay:fp,inertia:fp,tween:Al,keyframes:Al,spring:hh};function kE(n){typeof n.type=="string"&&(n.type=OA[n.type])}class Sm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const jA=n=>n/100;class Im extends Sm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kE(e);const{type:t=Al,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:d}=e;const f=t||Al;f!==Al&&typeof d[0]!="number"&&(this.mixKeyframes=iu(jA,AE(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Tm(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:w,repeatType:T,repeatDelay:C,type:M,onUpdate:O,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?B<0:B>o;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,se=r;if(w){const I=Math.min(this.currentTime,o)/d;let A=Math.floor(I),N=I%1;!N&&I>=1&&(N=1),N===1&&A--,A=Math.min(A,w+1),!!(A%2)&&(T==="reverse"?(N=1-N,C&&(N-=C/d)):T==="mirror"&&(se=u)),q=ti(0,1,N)*d}const re=H?{done:!1,value:g[0]}:se.next(q);a&&(re.value=a(re.value));let{done:oe}=re;!H&&f!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return R&&M!==fp&&(re.value=xm(g,this.options,b,this.speed)),O&&O(re.value),R&&this.finish(),re}then(e,t){return this.finished.then(e,t)}get duration(){return Dn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dn(e)}get time(){return Dn(this.currentTime)}set time(e){e=_r(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Dn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=EA,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function FA(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Os=n=>n*180/Math.PI,pp=n=>{const e=Os(Math.atan2(n[1],n[0]));return mp(e)},UA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:pp,rotateZ:pp,skewX:n=>Os(Math.atan(n[1])),skewY:n=>Os(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},mp=n=>(n=n%360,n<0&&(n+=360),n),o0=pp,a0=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),l0=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),BA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:a0,scaleY:l0,scale:n=>(a0(n)+l0(n))/2,rotateX:n=>mp(Os(Math.atan2(n[6],n[5]))),rotateY:n=>mp(Os(Math.atan2(-n[2],n[0]))),rotateZ:o0,rotate:o0,skewX:n=>Os(Math.atan(n[4])),skewY:n=>Os(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function gp(n){return n.includes("scale")?1:0}function yp(n,e){if(!n||n==="none")return gp(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(t)r=BA,o=t;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=UA,o=d}if(!o)return gp(e);const a=r[e],u=o[1].split(",").map($A);return typeof a=="function"?a(u):u[a]}const zA=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return yp(t,e)};function $A(n){return parseFloat(n.trim())}const ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ga=new Set(ma),u0=n=>n===pa||n===we,HA=new Set(["x","y","z"]),WA=ma.filter(n=>!HA.has(n));function qA(n){const e=[];return WA.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Us={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>yp(e,"x"),y:(n,{transform:e})=>yp(e,"y")};Us.translateX=Us.x;Us.translateY=Us.y;const Bs=new Set;let vp=!1,_p=!1,wp=!1;function bE(){if(_p){const n=Array.from(Bs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=qA(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,u])=>{r.getValue(a)?.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_p=!1,vp=!1,Bs.forEach(n=>n.complete(wp)),Bs.clear()}function NE(){Bs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(_p=!0)})}function KA(){wp=!0,NE(),bE(),wp=!1}class Cm{constructor(e,t,r,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Bs.add(this),vp||(vp=!0,tt.read(NE),tt.resolveKeyframes(bE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;if(e[0]===null){const a=o?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const d=r.readValue(t,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}FA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bs.delete(this)}cancel(){this.state==="scheduled"&&(Bs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GA=n=>n.startsWith("--");function QA(n,e,t){GA(e)?n.style.setProperty(e,t):n.style[e]=t}const YA=fm(()=>window.ScrollTimeline!==void 0),XA={};function JA(n,e){const t=fm(n);return()=>XA[e]??t()}const VE=JA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),El=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,c0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:El([0,.65,.55,1]),circOut:El([.55,0,1,.45]),backIn:El([.31,.01,.66,-.59]),backOut:El([.33,1.53,.69,.99])};function DE(n,e){if(n)return typeof n=="function"?VE()?PE(n,e):"ease-out":vE(n)?El(n):Array.isArray(n)?n.map(t=>DE(t,e)||c0.easeOut):c0[n]}function ZA(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeOut",times:f}={},p=void 0){const g={[e]:t};f&&(g.offset=f);const w=DE(d,o);Array.isArray(w)&&(g.easing=w);const T={delay:r,duration:o,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),n.animate(g,T)}function ME(n){return typeof n=="function"&&"applyToOptions"in n}function eP({type:n,...e}){return ME(n)&&VE()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tP extends Sm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,dm(typeof e.type!="string");const p=eP(e);this.animation=ZA(t,r,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=xm(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):QA(t,r,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Dn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dn(e)}get time(){return Dn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_r(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&YA()?(this.animation.timeline=e,Mn):t(this)}}const LE={anticipate:pE,backInOut:fE,circInOut:gE};function nP(n){return n in LE}function rP(n){typeof n.ease=="string"&&nP(n.ease)&&(n.ease=LE[n.ease])}const h0=10;class iP extends tP{constructor(e){rP(e),kE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:o,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const d=new Im({...u,autoplay:!1}),f=_r(this.finishedTime??this.time);t.setWithVelocity(d.sample(f-h0).value,d.sample(f).value,h0),d.stop()}}const d0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Xi.test(n)||n==="0")&&!n.startsWith("url("));function sP(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function oP(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=d0(o,e),d=d0(a,e);return!u||!d?!1:sP(n)||(t==="spring"||ME(t))&&r}function Ep(n){n.duration=0,n.type="keyframes"}const aP=new Set(["opacity","clipPath","filter","transform"]),lP=fm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uP(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:o,damping:a,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return lP()&&t&&aP.has(t)&&(t!=="transform"||!p)&&!f&&!r&&o!=="mirror"&&a!==0&&u!=="inertia"}const cP=40;class hP extends Sm{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:d,name:f,motionValue:p,element:g,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hn.now();const T={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:u,name:f,motionValue:p,element:g,...w},C=g?.KeyframeResolver||Cm;this.keyframeResolver=new C(d,(M,O,b)=>this.onKeyframesResolved(M,O,T,!b),f,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:d,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=hn.now(),oP(e,a,u,d)||((ni.instantAnimations||!f)&&g?.(xm(e,r,t)),e[0]=e[e.length-1],Ep(r),r.repeat=0);const T={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>cP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},C=!p&&uP(T)?new iP({...T,element:T.motionValue.owner.current}):new Im(T);C.finished.then(()=>this.notifyFinished()).catch(Mn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),KA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fP(n){const e=dP.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function OE(n,e,t=1){const[r,o]=fP(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return sE(u)?parseFloat(u):u}return vm(o)?OE(o,e,t+1):o}function Am(n,e){return n?.[e]??n?.default??n}const jE=new Set(["width","height","top","left","right","bottom",...ma]),pP={test:n=>n==="auto",parse:n=>n},FE=n=>e=>e.test(n),UE=[pa,we,wr,Ui,sA,iA,pP],f0=n=>UE.find(FE(n));function mP(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||aE(n):!0}const gP=new Set(["brightness","contrast","saturate","opacity"]);function yP(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(_m)||[];if(!r)return n;const o=t.replace(r,"");let a=gP.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const vP=/\b([a-z-]*)\(.*?\)/gu,Tp={...Xi,getAnimatableNone:n=>{const e=n.match(vP);return e?e.map(yP).join(" "):n}},p0={...pa,transform:Math.round},_P={rotate:Ui,rotateX:Ui,rotateY:Ui,rotateZ:Ui,scale:Oc,scaleX:Oc,scaleY:Oc,scaleZ:Oc,skew:Ui,skewX:Ui,skewY:Ui,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Ul,originX:t0,originY:t0,originZ:we},Pm={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,..._P,zIndex:p0,fillOpacity:Ul,strokeOpacity:Ul,numOctaves:p0},wP={...Pm,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:Tp,WebkitFilter:Tp},BE=n=>wP[n];function zE(n,e){let t=BE(n);return t!==Tp&&(t=Xi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const EP=new Set(["auto","none","0"]);function TP(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!EP.has(a)&&Bl(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=zE(t,o)}class xP extends Cm{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),vm(p))){const g=OE(p,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!jE.has(r)||e.length!==2)return;const[o,a]=e,u=f0(o),d=f0(a);if(u!==d)if(u0(u)&&u0(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Us[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||mP(e[o]))&&r.push(o);r.length&&TP(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Us[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(t);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Us[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function SP(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=t?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const $E=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function HE(n){return oE(n)&&"offsetHeight"in n}const m0=30,IP=n=>!isNaN(parseFloat(n));class CP{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=hn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=IP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new pm);const r=this.events[e].add(t);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>m0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,m0);return lE(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function na(n,e){return new CP(n,e)}const{schedule:Rm}=_E(queueMicrotask,!1),Kn={x:!1,y:!1};function WE(){return Kn.x||Kn.y}function AP(n){return n==="x"||n==="y"?Kn[n]?null:(Kn[n]=!0,()=>{Kn[n]=!1}):Kn.x||Kn.y?null:(Kn.x=Kn.y=!0,()=>{Kn.x=Kn.y=!1})}function qE(n,e){const t=SP(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function g0(n){return!(n.pointerType==="touch"||WE())}function PP(n,e,t={}){const[r,o,a]=qE(n,t),u=d=>{if(!g0(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const g=w=>{g0(w)&&(p(w),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,o)};return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const KE=(n,e)=>e?n===e?!0:KE(n,e.parentElement):!1,km=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,RP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kP(n){return RP.has(n.tagName)||n.tabIndex!==-1}const Qc=new WeakSet;function y0(n){return e=>{e.key==="Enter"&&n(e)}}function Ff(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bP=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=y0(()=>{if(Qc.has(t))return;Ff(t,"down");const o=y0(()=>{Ff(t,"up")}),a=()=>Ff(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function v0(n){return km(n)&&!WE()}function NP(n,e,t={}){const[r,o,a]=qE(n,t),u=d=>{const f=d.currentTarget;if(!v0(d))return;Qc.add(f);const p=e(f,d),g=(C,M)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),Qc.has(f)&&Qc.delete(f),v0(C)&&typeof p=="function"&&p(C,{success:M})},w=C=>{g(C,f===window||f===document||t.useGlobalTarget||KE(f,C.target))},T=C=>{g(C,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return r.forEach(d=>{(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),HE(d)&&(d.addEventListener("focus",p=>bP(p,o)),!kP(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function GE(n){return oE(n)&&"ownerSVGElement"in n}function VP(n){return GE(n)&&n.tagName==="svg"}const Yt=n=>!!(n&&n.getVelocity),DP=[...UE,Tt,Xi],MP=n=>DP.find(FE(n)),bm=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function _0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function LP(...n){return e=>{let t=!1;const r=n.map(o=>{const a=_0(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():_0(n[o],null)}}}}function OP(...n){return L.useCallback(LP(...n),n)}class jP extends L.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,o=HE(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FP({children:n,isPresent:e,anchorX:t,root:r}){const o=L.useId(),a=L.useRef(null),u=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=L.useContext(bm),f=OP(a,n?.ref);return L.useInsertionEffect(()=>{const{width:p,height:g,top:w,left:T,right:C}=u.current;if(e||!a.current||!p||!g)return;const M=t==="left"?`left: ${T}`:`right: ${C}`;a.current.dataset.motionPopId=o;const O=document.createElement("style");d&&(O.nonce=d);const b=r??document.head;return b.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${M}px !important;
            top: ${w}px !important;
          }
        `),()=>{b.contains(O)&&b.removeChild(O)}},[e]),_.jsx(jP,{isPresent:e,childRef:a,sizeRef:u,children:L.cloneElement(n,{ref:f})})}const UP=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:u,anchorX:d,root:f})=>{const p=lm(BP),g=L.useId();let w=!0,T=L.useMemo(()=>(w=!1,{id:g,initial:e,isPresent:t,custom:o,onExitComplete:C=>{p.set(C,!0);for(const M of p.values())if(!M)return;r&&r()},register:C=>(p.set(C,!1),()=>p.delete(C))}),[t,p,r]);return a&&w&&(T={...T}),L.useMemo(()=>{p.forEach((C,M)=>p.set(M,!1))},[t]),L.useEffect(()=>{!t&&!p.size&&r&&r()},[t]),u==="popLayout"&&(n=_.jsx(FP,{isPresent:t,anchorX:d,root:f,children:n})),_.jsx(Oh.Provider,{value:T,children:n})};function BP(){return new Map}function QE(n=!0){const e=L.useContext(Oh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,a=L.useId();L.useEffect(()=>{if(n)return o(a)},[n]);const u=L.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const jc=n=>n.key||"";function w0(n){const e=[];return L.Children.forEach(n,t=>{L.isValidElement(t)&&e.push(t)}),e}const zP=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1,anchorX:d="left",root:f})=>{const[p,g]=QE(u),w=L.useMemo(()=>w0(n),[n]),T=u&&!p?[]:w.map(jc),C=L.useRef(!0),M=L.useRef(w),O=lm(()=>new Map),[b,B]=L.useState(w),[H,q]=L.useState(w);iE(()=>{C.current=!1,M.current=w;for(let oe=0;oe<H.length;oe++){const R=jc(H[oe]);T.includes(R)?O.delete(R):O.get(R)!==!0&&O.set(R,!1)}},[H,T.length,T.join("-")]);const se=[];if(w!==b){let oe=[...w];for(let R=0;R<H.length;R++){const I=H[R],A=jc(I);T.includes(A)||(oe.splice(R,0,I),se.push(I))}return a==="wait"&&se.length&&(oe=se),q(w0(oe)),B(w),null}const{forceRender:re}=L.useContext(am);return _.jsx(_.Fragment,{children:H.map(oe=>{const R=jc(oe),I=u&&!p?!1:w===H||T.includes(R),A=()=>{if(O.has(R))O.set(R,!0);else return;let N=!0;O.forEach(D=>{D||(N=!1)}),N&&(re?.(),q(M.current),u&&g?.(),r&&r())};return _.jsx(UP,{isPresent:I,initial:!C.current||t?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:f,onExitComplete:I?void 0:A,anchorX:d,children:oe},R)})})},YE=L.createContext({strict:!1}),E0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ra={};for(const n in E0)ra[n]={isEnabled:e=>E0[n].some(t=>!!e[t])};function $P(n){for(const e in n)ra[e]={...ra[e],...n[e]}}const HP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||HP.has(n)}let XE=n=>!dh(n);function WP(n){typeof n=="function"&&(XE=e=>e.startsWith("on")?!dh(e):n(e))}try{WP(require("@emotion/is-prop-valid").default)}catch{}function qP(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(XE(o)||t===!0&&dh(o)||!e&&!dh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const jh=L.createContext({});function Fh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function zl(n){return typeof n=="string"||Array.isArray(n)}const Nm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vm=["initial",...Nm];function Uh(n){return Fh(n.animate)||Vm.some(e=>zl(n[e]))}function JE(n){return!!(Uh(n)||n.variants)}function KP(n,e){if(Uh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||zl(t)?t:void 0,animate:zl(r)?r:void 0}}return n.inherit!==!1?e:{}}function GP(n){const{initial:e,animate:t}=KP(n,L.useContext(jh));return L.useMemo(()=>({initial:e,animate:t}),[T0(e),T0(t)])}function T0(n){return Array.isArray(n)?n.join(" "):n}const $l={};function QP(n){for(const e in n)$l[e]=n[e],ym(e)&&($l[e].isCSSVariable=!0)}function ZE(n,{layout:e,layoutId:t}){return ga.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!$l[n]||n==="opacity")}const YP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XP=ma.length;function JP(n,e,t){let r="",o=!0;for(let a=0;a<XP;a++){const u=ma[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const p=$E(d,Pm[u]);if(!f){o=!1;const g=YP[u]||u;r+=`${g}(${p}) `}t&&(e[u]=p)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function Dm(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const p=e[f];if(ga.has(f)){u=!0;continue}else if(ym(f)){o[f]=p;continue}else{const g=$E(p,Pm[f]);f.startsWith("origin")?(d=!0,a[f]=g):r[f]=g}}if(e.transform||(u||t?r.transform=JP(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const Mm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eT(n,e,t){for(const r in e)!Yt(e[r])&&!ZE(r,t)&&(n[r]=e[r])}function ZP({transformTemplate:n},e){return L.useMemo(()=>{const t=Mm();return Dm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function eR(n,e){const t=n.style||{},r={};return eT(r,t,n),Object.assign(r,ZP(n,e)),r}function tR(n,e){const t={},r=eR(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const nR={offset:"stroke-dashoffset",array:"stroke-dasharray"},rR={offset:"strokeDashoffset",array:"strokeDasharray"};function iR(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?nR:rR;n[a.offset]=we.transform(-r);const u=we.transform(e),d=we.transform(t);n[a.array]=`${u} ${d}`}function tT(n,{attrX:e,attrY:t,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...d},f,p,g){if(Dm(n,d,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:T}=n;w.transform&&(T.transform=w.transform,delete w.transform),(T.transform||w.transformOrigin)&&(T.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),T.transform&&(T.transformBox=g?.transformBox??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),o!==void 0&&iR(w,o,a,u,!1)}const nT=()=>({...Mm(),attrs:{}}),rT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function sR(n,e,t,r){const o=L.useMemo(()=>{const a=nT();return tT(a,e,rT(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};eT(a,n.style,n),o.style={...a,...o.style}}return o}const oR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lm(n){return typeof n!="string"||n.includes("-")?!1:!!(oR.indexOf(n)>-1||/[A-Z]/u.test(n))}function aR(n,e,t,{latestValues:r},o,a=!1){const d=(Lm(n)?sR:tR)(e,r,o,n),f=qP(e,typeof n=="string",a),p=n!==L.Fragment?{...f,...d,ref:t}:{},{children:g}=e,w=L.useMemo(()=>Yt(g)?g.get():g,[g]);return L.createElement(n,{...p,children:w})}function x0(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Om(n,e,t,r){if(typeof e=="function"){const[o,a]=x0(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=x0(r);e=e(t!==void 0?t:n.custom,o,a)}return e}function Yc(n){return Yt(n)?n.get():n}function lR({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,o){return{latestValues:uR(t,r,o,n),renderState:e()}}function uR(n,e,t,r){const o={},a=r(n,{});for(const T in a)o[T]=Yc(a[T]);let{initial:u,animate:d}=n;const f=Uh(n),p=JE(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const w=g?d:u;if(w&&typeof w!="boolean"&&!Fh(w)){const T=Array.isArray(w)?w:[w];for(let C=0;C<T.length;C++){const M=Om(n,T[C]);if(M){const{transitionEnd:O,transition:b,...B}=M;for(const H in B){let q=B[H];if(Array.isArray(q)){const se=g?q.length-1:0;q=q[se]}q!==null&&(o[H]=q)}for(const H in O)o[H]=O[H]}}}return o}const iT=n=>(e,t)=>{const r=L.useContext(jh),o=L.useContext(Oh),a=()=>lR(n,e,r,o);return t?a():lm(a)};function jm(n,e,t){const{style:r}=n,o={};for(const a in r)(Yt(r[a])||e.style&&Yt(e.style[a])||ZE(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(o[a]=r[a]);return o}const cR=iT({scrapeMotionValuesFromProps:jm,createRenderState:Mm});function sT(n,e,t){const r=jm(n,e,t);for(const o in n)if(Yt(n[o])||Yt(e[o])){const a=ma.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}const hR=iT({scrapeMotionValuesFromProps:sT,createRenderState:nT}),dR=Symbol.for("motionComponentSymbol");function Ko(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function fR(n,e,t){return L.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ko(t)&&(t.current=r))},[e])}const Fm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pR="framerAppearId",oT="data-"+Fm(pR),aT=L.createContext({});function mR(n,e,t,r,o){const{visualElement:a}=L.useContext(jh),u=L.useContext(YE),d=L.useContext(Oh),f=L.useContext(bm).reducedMotion,p=L.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:a,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,w=L.useContext(aT);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&gR(p.current,t,o,w);const T=L.useRef(!1);L.useInsertionEffect(()=>{g&&T.current&&g.update(t,d)});const C=t[oT],M=L.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return iE(()=>{g&&(T.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),M.current&&g.animationState&&g.animationState.animateChanges())}),L.useEffect(()=>{g&&(!M.current&&g.animationState&&g.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),M.current=!1),g.enteringChildren=void 0)}),g}function gR(n,e,t,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:lT(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&Ko(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function lT(n){if(n)return n.options.allowProjection!==!1?n.projection:lT(n.parent)}function Uf(n,{forwardMotionProps:e=!1}={},t,r){t&&$P(t);const o=Lm(n)?hR:cR;function a(d,f){let p;const g={...L.useContext(bm),...d,layoutId:yR(d)},{isStatic:w}=g,T=GP(d),C=o(d,w);if(!w&&um){vR();const M=_R(g);p=M.MeasureLayout,T.visualElement=mR(n,C,g,r,M.ProjectionNode)}return _.jsxs(jh.Provider,{value:T,children:[p&&T.visualElement?_.jsx(p,{visualElement:T.visualElement,...g}):null,aR(n,d,fR(C,T.visualElement,f),C,w,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=L.forwardRef(a);return u[dR]=n,u}function yR({layoutId:n}){const e=L.useContext(am).id;return e&&n!==void 0?e+"-"+n:n}function vR(n,e){L.useContext(YE).strict}function _R(n){const{drag:e,layout:t}=ra;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function wR(n,e){if(typeof Proxy>"u")return Uf;const t=new Map,r=(a,u)=>Uf(a,u,n,e),o=(a,u)=>r(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?r:(t.has(u)||t.set(u,Uf(u,void 0,n,e)),t.get(u))})}function uT({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function ER({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function TR(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Bf(n){return n===void 0||n===1}function xp({scale:n,scaleX:e,scaleY:t}){return!Bf(n)||!Bf(e)||!Bf(t)}function Ds(n){return xp(n)||cT(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function cT(n){return S0(n.x)||S0(n.y)}function S0(n){return n&&n!=="0%"}function fh(n,e,t){const r=n-t,o=e*r;return t+o}function I0(n,e,t,r,o){return o!==void 0&&(n=fh(n,o,r)),fh(n,t,r)+e}function Sp(n,e=0,t=1,r,o){n.min=I0(n.min,e,t,r,o),n.max=I0(n.max,e,t,r,o)}function hT(n,{x:e,y:t}){Sp(n.x,e.translate,e.scale,e.originPoint),Sp(n.y,t.translate,t.scale,t.originPoint)}const C0=.999999999999,A0=1.0000000000001;function xR(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Qo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,hT(n,u)),r&&Ds(a.latestValues)&&Qo(n,a.latestValues))}e.x<A0&&e.x>C0&&(e.x=1),e.y<A0&&e.y>C0&&(e.y=1)}function Go(n,e){n.min=n.min+e,n.max=n.max+e}function P0(n,e,t,r,o=.5){const a=st(n.min,n.max,o);Sp(n,e,t,a,r)}function Qo(n,e){P0(n.x,e.x,e.scaleX,e.scale,e.originX),P0(n.y,e.y,e.scaleY,e.scale,e.originY)}function dT(n,e){return uT(TR(n.getBoundingClientRect(),e))}function SR(n,e,t){const r=dT(n,t),{scroll:o}=e;return o&&(Go(r.x,o.offset.x),Go(r.y,o.offset.y)),r}const R0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yo=()=>({x:R0(),y:R0()}),k0=()=>({min:0,max:0}),gt=()=>({x:k0(),y:k0()}),Ip={current:null},fT={current:!1};function IR(){if(fT.current=!0,!!um)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ip.current=n.matches;n.addEventListener("change",e),e()}else Ip.current=!1}const CR=new WeakMap;function AR(n,e,t){for(const r in e){const o=e[r],a=t[r];if(Yt(o))n.addValue(r,o);else if(Yt(a))n.addValue(r,na(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,na(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const b0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PR{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=hn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,tt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Uh(t),this.isVariantNode=JE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in w){const C=w[T];f[T]!==void 0&&Yt(C)&&C.set(f[T])}}mount(e){this.current=e,CR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),fT.current||IR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ip.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yi(this.notifyUpdate),Yi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ga.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ra){const t=ra[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<b0.length;r++){const o=b0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=AR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=na(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sE(r)||aE(r))?r=parseFloat(r):!MP(r)&&Xi.test(t)&&(r=zE(e,t)),this.setBaseTarget(e,Yt(r)?r.get():r)),Yt(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const a=Om(this.props,t,this.presenceContext?.custom);a&&(r=a[e])}if(t&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Yt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new pm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Rm.render(this.render)}}class pT extends PR{constructor(){super(...arguments),this.KeyframeResolver=xP}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function mT(n,{style:e,vars:t},r,o){const a=n.style;let u;for(u in e)a[u]=e[u];o?.applyProjectionStyles(a,r);for(u in t)a.setProperty(u,t[u])}function RR(n){return window.getComputedStyle(n)}class kR extends pT{constructor(){super(...arguments),this.type="html",this.renderInstance=mT}readValueFromInstance(e,t){if(ga.has(t))return this.projection?.isProjecting?gp(t):zA(e,t);{const r=RR(e),o=(ym(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return dT(e,t)}build(e,t,r){Dm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return jm(e,t,r)}}const gT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bR(n,e,t,r){mT(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(gT.has(o)?o:Fm(o),e.attrs[o])}class NR extends pT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ga.has(t)){const r=BE(t);return r&&r.default||0}return t=gT.has(t)?t:Fm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return sT(e,t,r)}build(e,t,r){tT(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,o){bR(e,t,r,o)}mount(e){this.isSVGTag=rT(e.tagName),super.mount(e)}}const VR=(n,e)=>Lm(n)?new NR(e):new kR(e,{allowProjection:n!==L.Fragment});function Xo(n,e,t){const r=n.getProps();return Om(r,e,t!==void 0?t:r.custom,n)}const Cp=n=>Array.isArray(n);function DR(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,na(t))}function MR(n){return Cp(n)?n[n.length-1]||0:n}function LR(n,e){const t=Xo(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const u in a){const d=MR(a[u]);DR(n,u,d)}}function OR(n){return!!(Yt(n)&&n.add)}function Ap(n,e){const t=n.getValue("willChange");if(OR(t))return t.add(e);if(!t&&ni.WillChange){const r=new ni.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function yT(n){return n.props[oT]}const jR=n=>n!==null;function FR(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(jR),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return o[a]}const UR={type:"spring",stiffness:500,damping:25,restSpeed:10},BR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),zR={type:"keyframes",duration:.8},$R={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HR=(n,{keyframes:e})=>e.length>2?zR:ga.has(n)?n.startsWith("scale")?BR(e[1]):UR:$R;function WR({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Um=(n,e,t,r={},o,a)=>u=>{const d=Am(r,n)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-_r(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:o};WR(d)||Object.assign(g,HR(n,g)),g.duration&&(g.duration=_r(g.duration)),g.repeatDelay&&(g.repeatDelay=_r(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let w=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Ep(g),g.delay===0&&(w=!0)),(ni.instantAnimations||ni.skipAnimations)&&(w=!0,Ep(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,w&&!a&&e.get()!==void 0){const T=FR(g.keyframes,d);if(T!==void 0){tt.update(()=>{g.onUpdate(T),g.onComplete()});return}}return d.isSync?new Im(g):new hP(g)};function qR({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function vT(n,e,{delay:t=0,transitionOverride:r,type:o}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...d}=e;r&&(a=r);const f=[],p=o&&n.animationState&&n.animationState.getState()[o];for(const g in d){const w=n.getValue(g,n.latestValues[g]??null),T=d[g];if(T===void 0||p&&qR(p,g))continue;const C={delay:t,...Am(a||{},g)},M=w.get();if(M!==void 0&&!w.isAnimating&&!Array.isArray(T)&&T===M&&!C.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const B=yT(n);if(B){const H=window.MotionHandoffAnimation(B,g,tt);H!==null&&(C.startTime=H,O=!0)}}Ap(n,g),w.start(Um(g,w,T,n.shouldReduceMotion&&jE.has(g)?{type:!1}:C,n,O));const b=w.animation;b&&f.push(b)}return u&&Promise.all(f).then(()=>{tt.update(()=>{u&&LR(n,u)})}),f}function _T(n,e,t,r=0,o=1){const a=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=n.size,d=(u-1)*r;return typeof t=="function"?t(a,u):o===1?a*r:d-a*r}function Pp(n,e,t={}){const r=Xo(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(o=t.transitionOverride);const a=r?()=>Promise.all(vT(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:w}=o;return KR(n,e,f,p,g,w,t)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,p]=d==="beforeChildren"?[a,u]:[u,a];return f().then(()=>p())}else return Promise.all([a(),u(t.delay)])}function KR(n,e,t=0,r=0,o=0,a=1,u){const d=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),d.push(Pp(f,e,{...u,delay:t+(typeof r=="function"?0:r)+_T(n.variantChildren,f,r,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function GR(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Pp(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=Pp(n,e,t);else{const o=typeof e=="function"?Xo(n,e,t.custom):e;r=Promise.all(vT(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function wT(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const QR=Vm.length;function ET(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?ET(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<QR;t++){const r=Vm[t],o=n.props[r];(zl(o)||o===!1)&&(e[r]=o)}return e}const YR=[...Nm].reverse(),XR=Nm.length;function JR(n){return e=>Promise.all(e.map(({animation:t,options:r})=>GR(n,t,r)))}function ZR(n){let e=JR(n),t=N0(),r=!0;const o=f=>(p,g)=>{const w=Xo(n,g,f==="exit"?n.presenceContext?.custom:void 0);if(w){const{transition:T,transitionEnd:C,...M}=w;p={...p,...M,...C}}return p};function a(f){e=f(n)}function u(f){const{props:p}=n,g=ET(n.parent)||{},w=[],T=new Set;let C={},M=1/0;for(let b=0;b<XR;b++){const B=YR[b],H=t[B],q=p[B]!==void 0?p[B]:g[B],se=zl(q),re=B===f?H.isActive:null;re===!1&&(M=b);let oe=q===g[B]&&q!==p[B]&&se;if(oe&&r&&n.manuallyAnimateOnMount&&(oe=!1),H.protectedKeys={...C},!H.isActive&&re===null||!q&&!H.prevProp||Fh(q)||typeof q=="boolean")continue;const R=ek(H.prevProp,q);let I=R||B===f&&H.isActive&&!oe&&se||b>M&&se,A=!1;const N=Array.isArray(q)?q:[q];let D=N.reduce(o(B),{});re===!1&&(D={});const{prevResolvedValues:U={}}=H,k={...U,...D},$e=Ce=>{I=!0,T.has(Ce)&&(A=!0,T.delete(Ce)),H.needsAnimating[Ce]=!0;const te=n.getValue(Ce);te&&(te.liveStyle=!1)};for(const Ce in k){const te=D[Ce],de=U[Ce];if(C.hasOwnProperty(Ce))continue;let ae=!1;Cp(te)&&Cp(de)?ae=!wT(te,de):ae=te!==de,ae?te!=null?$e(Ce):T.add(Ce):te!==void 0&&T.has(Ce)?$e(Ce):H.protectedKeys[Ce]=!0}H.prevProp=q,H.prevResolvedValues=D,H.isActive&&(C={...C,...D}),r&&n.blockInitialAnimation&&(I=!1);const ht=oe&&R;I&&(!ht||A)&&w.push(...N.map(Ce=>{const te={type:B};if(typeof Ce=="string"&&r&&!ht&&n.manuallyAnimateOnMount&&n.parent){const{parent:de}=n,ae=Xo(de,Ce);if(de.enteringChildren&&ae){const{delayChildren:F}=ae.transition||{};te.delay=_T(de.enteringChildren,n,F)}}return{animation:Ce,options:te}}))}if(T.size){const b={};if(typeof p.initial!="boolean"){const B=Xo(n,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(b.transition=B.transition)}T.forEach(B=>{const H=n.getBaseTarget(B),q=n.getValue(B);q&&(q.liveStyle=!0),b[B]=H??null}),w.push({animation:b})}let O=!!w.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(O=!1),r=!1,O?e(w):Promise.resolve()}function d(f,p){if(t[f].isActive===p)return Promise.resolve();n.variantChildren?.forEach(w=>w.animationState?.setActive(f,p)),t[f].isActive=p;const g=u(f);for(const w in t)t[w].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=N0(),r=!0}}}function ek(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!wT(e,n):!1}function Vs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N0(){return{animate:Vs(!0),whileInView:Vs(),whileHover:Vs(),whileTap:Vs(),whileDrag:Vs(),whileFocus:Vs(),exit:Vs()}}class ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tk extends ss{constructor(e){super(e),e.animationState||(e.animationState=ZR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let nk=0;class rk extends ss{constructor(){super(...arguments),this.id=nk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ik={animation:{Feature:tk},exit:{Feature:rk}};function Hl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function au(n){return{point:{x:n.pageX,y:n.pageY}}}const sk=n=>e=>km(e)&&n(e,au(e));function Pl(n,e,t,r){return Hl(n,e,sk(t),r)}const TT=1e-4,ok=1-TT,ak=1+TT,xT=.01,lk=0-xT,uk=0+xT;function tn(n){return n.max-n.min}function ck(n,e,t){return Math.abs(n-e)<=t}function V0(n,e,t,r=.5){n.origin=r,n.originPoint=st(e.min,e.max,n.origin),n.scale=tn(t)/tn(e),n.translate=st(t.min,t.max,n.origin)-n.originPoint,(n.scale>=ok&&n.scale<=ak||isNaN(n.scale))&&(n.scale=1),(n.translate>=lk&&n.translate<=uk||isNaN(n.translate))&&(n.translate=0)}function Rl(n,e,t,r){V0(n.x,e.x,t.x,r?r.originX:void 0),V0(n.y,e.y,t.y,r?r.originY:void 0)}function D0(n,e,t){n.min=t.min+e.min,n.max=n.min+tn(e)}function hk(n,e,t){D0(n.x,e.x,t.x),D0(n.y,e.y,t.y)}function M0(n,e,t){n.min=e.min-t.min,n.max=n.min+tn(e)}function kl(n,e,t){M0(n.x,e.x,t.x),M0(n.y,e.y,t.y)}function bn(n){return[n("x"),n("y")]}const ST=({current:n})=>n?n.ownerDocument.defaultView:null,L0=(n,e)=>Math.abs(n-e);function dk(n,e){const t=L0(n.x,e.x),r=L0(n.y,e.y);return Math.sqrt(t**2+r**2)}class IT{constructor(e,t,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=$f(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,M=dk(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!M)return;const{point:O}=T,{timestamp:b}=jt;this.history.push({...O,timestamp:b});const{onStart:B,onMove:H}=this.handlers;C||(B&&B(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=zf(C,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:M,onSessionEnd:O,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=$f(T.type==="pointercancel"?this.lastMoveEventInfo:zf(C,this.transformPagePoint),this.history);this.startEvent&&M&&M(T,B),O&&O(T,B)},!km(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const d=au(e),f=zf(d,this.transformPagePoint),{point:p}=f,{timestamp:g}=jt;this.history=[{...p,timestamp:g}];const{onSessionStart:w}=t;w&&w(e,$f(f,this.history)),this.removeListeners=iu(Pl(this.contextWindow,"pointermove",this.handlePointerMove),Pl(this.contextWindow,"pointerup",this.handlePointerUp),Pl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yi(this.updatePoint)}}function zf(n,e){return e?{point:e(n.point)}:n}function O0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function $f({point:n},e){return{point:n,delta:O0(n,CT(e)),offset:O0(n,fk(e)),velocity:pk(e,.1)}}function fk(n){return n[0]}function CT(n){return n[n.length-1]}function pk(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=CT(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>_r(e)));)t--;if(!r)return{x:0,y:0};const a=Dn(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function mk(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?st(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?st(t,n,r.max):Math.min(n,t)),n}function j0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function gk(n,{top:e,left:t,bottom:r,right:o}){return{x:j0(n.x,t,o),y:j0(n.y,e,r)}}function F0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function yk(n,e){return{x:F0(n.x,e.x),y:F0(n.y,e.y)}}function vk(n,e){let t=.5;const r=tn(n),o=tn(e);return o>r?t=Fl(e.min,e.max-r,n.min):r>o&&(t=Fl(n.min,n.max-o,e.min)),ti(0,1,t)}function _k(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Rp=.35;function wk(n=Rp){return n===!1?n=0:n===!0&&(n=Rp),{x:U0(n,"left","right"),y:U0(n,"top","bottom")}}function U0(n,e,t){return{min:B0(n,e),max:B0(n,t)}}function B0(n,e){return typeof n=="number"?n:n[e]||0}const Ek=new WeakMap;class Tk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(au(w).point)},u=(w,T)=>{const{drag:C,dragPropagation:M,onDragStart:O}=this.getProps();if(C&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AP(C),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(B=>{let H=this.getAxisMotionValue(B).get()||0;if(wr.test(H)){const{projection:q}=this.visualElement;if(q&&q.layout){const se=q.layout.layoutBox[B];se&&(H=tn(se)*(parseFloat(H)/100))}}this.originPoint[B]=H}),O&&tt.postRender(()=>O(w,T)),Ap(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},d=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T;const{dragPropagation:C,dragDirectionLock:M,onDirectionLock:O,onDrag:b}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:B}=T;if(M&&this.currentDirection===null){this.currentDirection=xk(B),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",T.point,B),this.updateAxis("y",T.point,B),this.visualElement.render(),b&&b(w,T)},f=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T,this.stop(w,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>bn(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new IT(e,{onSessionStart:a,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:ST(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,o=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&tt.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!Fc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=mk(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Ko(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=gk(r.layoutBox,e):this.constraints=!1,this.elastic=wk(t),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=_k(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ko(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=SR(r,o.root,this.visualElement.getTransformPagePoint());let u=yk(o.layout.layoutBox,a);if(t){const d=t(ER(u));this.hasMutatedConstraints=!!d,d&&(u=uT(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=bn(g=>{if(!Fc(g,t,this.currentDirection))return;let w=f&&f[g]||{};u&&(w={min:0,max:0});const T=o?200:1e6,C=o?40:1e7,M={type:"inertia",velocity:r?e[g]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(g,M)});return Promise.all(p).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Ap(this.visualElement,e),r.start(Um(e,r,0,t,this.visualElement,!1))}stopAnimation(){bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bn(t=>{const{drag:r}=this.getProps();if(!Fc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];a.set(e[t]-st(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ko(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};bn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=vk({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bn(u=>{if(!Fc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(st(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;Ek.set(this.visualElement,this);const e=this.visualElement.current,t=Pl(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ko(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),tt.read(r);const u=Hl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(bn(g=>{const w=this.getAxisMotionValue(g);w&&(this.originPoint[g]+=f[g].translate,w.set(w.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Rp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Fc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function xk(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Sk extends ss{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new Tk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const z0=n=>(e,t)=>{n&&tt.postRender(()=>n(e,t))};class Ik extends ss{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new IT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ST(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:z0(e),onStart:z0(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&tt.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=Pl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const wl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=$0(n,e.target.x),r=$0(n,e.target.y);return`${t}% ${r}%`}},Ck={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=Xi.parse(n);if(o.length>5)return r;const a=Xi.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const p=st(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};let Hf=!1;class Ak extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;QP(Pk),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),Hf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Xc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,{projection:u}=r;return u&&(u.isPresent=a,Hf=!0,o||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||tt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;Hf=!0,o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AT(n){const[e,t]=QE(),r=L.useContext(am);return _.jsx(Ak,{...n,layoutGroup:r,switchLayoutGroup:L.useContext(aT),isPresent:e,safeToRemove:t})}const Pk={borderRadius:{...wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wl,borderTopRightRadius:wl,borderBottomLeftRadius:wl,borderBottomRightRadius:wl,boxShadow:Ck};function Rk(n,e,t){const r=Yt(n)?n:na(n);return r.start(Um("",r,e,t)),r.animation}const kk=(n,e)=>n.depth-e.depth;class bk{constructor(){this.children=[],this.isDirty=!1}add(e){cm(this.children,e),this.isDirty=!0}remove(e){hm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kk),this.isDirty=!1,this.children.forEach(e)}}function Nk(n,e){const t=hn.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(Yi(r),n(a-e))};return tt.setup(r,!0),()=>Yi(r)}const PT=["TopLeft","TopRight","BottomLeft","BottomRight"],Vk=PT.length,H0=n=>typeof n=="string"?parseFloat(n):n,W0=n=>typeof n=="number"||we.test(n);function Dk(n,e,t,r,o,a){o?(n.opacity=st(0,t.opacity??1,Mk(r)),n.opacityExit=st(e.opacity??1,0,Lk(r))):a&&(n.opacity=st(e.opacity??1,t.opacity??1,r));for(let u=0;u<Vk;u++){const d=`border${PT[u]}Radius`;let f=q0(e,d),p=q0(t,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||W0(f)===W0(p)?(n[d]=Math.max(st(H0(f),H0(p),r),0),(wr.test(p)||wr.test(f))&&(n[d]+="%")):n[d]=p}(e.rotate||t.rotate)&&(n.rotate=st(e.rotate||0,t.rotate||0,r))}function q0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Mk=RT(0,.5,mE),Lk=RT(.5,.95,Mn);function RT(n,e,t){return r=>r<n?0:r>e?1:t(Fl(n,e,r))}function K0(n,e){n.min=e.min,n.max=e.max}function kn(n,e){K0(n.x,e.x),K0(n.y,e.y)}function G0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Q0(n,e,t,r,o){return n-=e,n=fh(n,1/t,r),o!==void 0&&(n=fh(n,1/o,r)),n}function Ok(n,e=0,t=1,r=.5,o,a=n,u=n){if(wr.test(e)&&(e=parseFloat(e),e=st(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=st(a.min,a.max,r);n===a&&(d-=e),n.min=Q0(n.min,e,t,d,o),n.max=Q0(n.max,e,t,d,o)}function Y0(n,e,[t,r,o],a,u){Ok(n,e[t],e[r],e[o],e.scale,a,u)}const jk=["x","scaleX","originX"],Fk=["y","scaleY","originY"];function X0(n,e,t,r){Y0(n.x,e,jk,t?t.x:void 0,r?r.x:void 0),Y0(n.y,e,Fk,t?t.y:void 0,r?r.y:void 0)}function J0(n){return n.translate===0&&n.scale===1}function kT(n){return J0(n.x)&&J0(n.y)}function Z0(n,e){return n.min===e.min&&n.max===e.max}function Uk(n,e){return Z0(n.x,e.x)&&Z0(n.y,e.y)}function e_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function bT(n,e){return e_(n.x,e.x)&&e_(n.y,e.y)}function t_(n){return tn(n.x)/tn(n.y)}function n_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Bk{constructor(){this.members=[]}add(e){cm(this.members,e),e.scheduleRender()}remove(e){if(hm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zk(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:w,rotateY:T,skewX:C,skewY:M}=t;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),w&&(r+=`rotateX(${w}deg) `),T&&(r+=`rotateY(${T}deg) `),C&&(r+=`skewX(${C}deg) `),M&&(r+=`skewY(${M}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Wf=["","X","Y","Z"],$k=1e3;let Hk=0;function qf(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function NT(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=yT(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",tt,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&NT(r)}function VT({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=Hk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Kk),this.nodes.forEach(Xk),this.nodes.forEach(Jk),this.nodes.forEach(Gk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new bk)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new pm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=GE(u)&&!VP(u),this.instance=u;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),n){let g,w=0;const T=()=>this.root.updateBlockedByResize=!1;tt.read(()=>{w=window.innerWidth}),n(u,()=>{const C=window.innerWidth;C!==w&&(w=C,this.root.updateBlockedByResize=!0,g&&g(),g=Nk(T,250),Xc.hasAnimatedSinceResize&&(Xc.hasAnimatedSinceResize=!1,this.nodes.forEach(s_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:w,hasRelativeLayoutChanged:T,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||rb,{onLayoutAnimationStart:O,onLayoutAnimationComplete:b}=p.getProps(),B=!this.targetLayout||!bT(this.targetLayout,C),H=!w&&T;if(this.options.layoutRoot||this.resumeFrom||H||w&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Am(M,"layout"),onPlay:O,onComplete:b};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(g,H)}else w||s_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const w=this.path[g];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Yk),this.nodes.forEach(Wk),this.nodes.forEach(qk)):this.nodes.forEach(i_),this.clearAllSnapshots();const d=hn.now();jt.delta=ti(0,1e3/60,d-jt.timestamp),jt.timestamp=d,jt.isProcessing=!0,Df.update.process(jt),Df.preRender.process(jt),Df.render.process(jt),jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qk),this.sharedNodes.forEach(eb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!kT(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||Ds(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),ib(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return gt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sb))){const{scroll:p}=this.root;p&&(Go(d.x,p.offset.x),Go(d.y,p.offset.y))}return d}removeElementScroll(u){const d=gt();if(kn(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:w}=p;p!==this.root&&g&&w.layoutScroll&&(g.wasRoot&&kn(d,u),Go(d.x,g.offset.x),Go(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const f=gt();kn(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Qo(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ds(g.latestValues)&&Qo(f,g.latestValues)}return Ds(this.latestValues)&&Qo(f,this.latestValues),f}removeTransform(u){const d=gt();kn(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ds(p.latestValues))continue;xp(p.latestValues)&&p.updateSnapshot();const g=gt(),w=p.measurePageBox();kn(g,w),X0(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ds(this.latestValues)&&X0(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:w}=this.options;if(!(!this.layout||!(g||w))){if(this.resolvedRelativeTargetAt=jt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),kl(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),hT(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),kl(this.relativeTargetOrigin,this.target,T.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xp(this.parent.latestValues)||cT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===jt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;kn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;xR(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=gt());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(G0(this.prevProjectionDelta.x,this.projectionDelta.x),G0(this.prevProjectionDelta.y,this.projectionDelta.y)),Rl(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!n_(this.projectionDelta.x,this.prevProjectionDelta.x)||!n_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yo(),this.projectionDelta=Yo(),this.projectionDeltaWithTransform=Yo()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},w=Yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=gt(),C=f?f.source:void 0,M=this.layout?this.layout.source:void 0,O=C!==M,b=this.getStack(),B=!b||b.members.length<=1,H=!!(O&&!B&&this.options.crossfade===!0&&!this.path.some(nb));this.animationProgress=0;let q;this.mixTargetDelta=se=>{const re=se/1e3;o_(w.x,u.x,re),o_(w.y,u.y,re),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kl(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tb(this.relativeTarget,this.relativeTargetOrigin,T,re),q&&Uk(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=gt()),kn(q,this.relativeTarget)),O&&(this.animationValues=g,Dk(g,p,this.latestValues,re,H,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Xc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=na(0)),this.currentAnimation=Rk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($k),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&DT(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||gt();const w=tn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const T=tn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+T}kn(d,f),Qo(d,g),Rl(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Bk),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&qf("z",u,p,this.animationValues);for(let g=0;g<Wf.length;g++)qf(`rotate${Wf[g]}`,u,p,this.animationValues),qf(`skew${Wf[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Yc(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Yc(d?.pointerEvents)||""),this.hasProjected&&!Ds(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let w=zk(this.projectionDeltaWithTransform,this.treeScale,g);f&&(w=f(g,w)),u.transform=w;const{x:T,y:C}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${C.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const M in $l){if(g[M]===void 0)continue;const{correct:O,applyTo:b,isCSSVariable:B}=$l[M],H=w==="none"?g[M]:O(g[M],p);if(b){const q=b.length;for(let se=0;se<q;se++)u[b[se]]=H}else B?this.options.visualElement.renderState.vars[M]=H:u[M]=H}this.options.layoutId&&(u.pointerEvents=p===this?Yc(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(r_),this.root.sharedNodes.clear()}}}function Wk(n){n.updateLayout()}function qk(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:o}=n.options,a=e.source!==n.layout.source;o==="size"?bn(g=>{const w=a?e.measuredBox[g]:e.layoutBox[g],T=tn(w);w.min=t[g].min,w.max=w.min+T}):DT(o,e.layoutBox,t)&&bn(g=>{const w=a?e.measuredBox[g]:e.layoutBox[g],T=tn(t[g]);w.max=w.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+T)});const u=Yo();Rl(u,t,e.layoutBox);const d=Yo();a?Rl(d,n.applyTransform(r,!0),e.measuredBox):Rl(d,t,e.layoutBox);const f=!kT(u);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:w,layout:T}=g;if(w&&T){const C=gt();kl(C,e.layoutBox,w.layoutBox);const M=gt();kl(M,t,T.layoutBox),bT(C,M)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=C,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function Kk(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Gk(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Qk(n){n.clearSnapshot()}function r_(n){n.clearMeasurements()}function i_(n){n.isLayoutDirty=!1}function Yk(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function s_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Xk(n){n.resolveTargetDelta()}function Jk(n){n.calcProjection()}function Zk(n){n.resetSkewAndRotation()}function eb(n){n.removeLeadSnapshot()}function o_(n,e,t){n.translate=st(e.translate,0,t),n.scale=st(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function a_(n,e,t,r){n.min=st(e.min,t.min,r),n.max=st(e.max,t.max,r)}function tb(n,e,t,r){a_(n.x,e.x,t.x,r),a_(n.y,e.y,t.y,r)}function nb(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const rb={duration:.45,ease:[.4,0,.1,1]},l_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),u_=l_("applewebkit/")&&!l_("chrome/")?Math.round:Mn;function c_(n){n.min=u_(n.min),n.max=u_(n.max)}function ib(n){c_(n.x),c_(n.y)}function DT(n,e,t){return n==="position"||n==="preserve-aspect"&&!ck(t_(e),t_(t),.2)}function sb(n){return n!==n.root&&n.scroll?.wasRoot}const ob=VT({attachResizeListener:(n,e)=>Hl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kf={current:void 0},MT=VT({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Kf.current){const n=new ob({});n.mount(window),n.setOptions({layoutScroll:!0}),Kf.current=n}return Kf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ab={pan:{Feature:Ik},drag:{Feature:Sk,ProjectionNode:MT,MeasureLayout:AT}};function h_(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&tt.postRender(()=>a(e,au(e)))}class lb extends ss{mount(){const{current:e}=this.node;e&&(this.unmount=PP(e,(t,r)=>(h_(this.node,r,"Start"),o=>h_(this.node,o,"End"))))}unmount(){}}class ub extends ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iu(Hl(this.node.current,"focus",()=>this.onFocus()),Hl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function d_(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&tt.postRender(()=>a(e,au(e)))}class cb extends ss{mount(){const{current:e}=this.node;e&&(this.unmount=NP(e,(t,r)=>(d_(this.node,r,"Start"),(o,{success:a})=>d_(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kp=new WeakMap,Gf=new WeakMap,hb=n=>{const e=kp.get(n.target);e&&e(n)},db=n=>{n.forEach(hb)};function fb({root:n,...e}){const t=n||document;Gf.has(t)||Gf.set(t,{});const r=Gf.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(db,{root:n,...e})),r[o]}function pb(n,e,t){const r=fb(e);return kp.set(n,t),r.observe(n),()=>{kp.delete(n),r.unobserve(n)}}const mb={some:0,all:1};class gb extends ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:mb[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:w}=this.node.getProps(),T=p?g:w;T&&T(f)};return pb(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(yb(e,t))&&this.startObserver()}unmount(){}}function yb({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const vb={inView:{Feature:gb},tap:{Feature:cb},focus:{Feature:ub},hover:{Feature:lb}},_b={layout:{ProjectionNode:MT,MeasureLayout:AT}},wb={...ik,...vb,...ab,..._b},Xe=wR(wb,VR),Eb={primary:"bg-honeybee-primary hover:bg-honeybee-dark text-white",secondary:"bg-honeybee-secondary hover:bg-honeybee-accent text-white",accent:"bg-honeybee-accent hover:bg-honeybee-primary text-white",ghost:"hover:bg-gray-100/10",light:"bg-white text-honeybee-dark hover:bg-honeybee-light"},Tb={default:"py-3 px-6",icon:"h-10 w-10"},Je=({children:n,variant:e="primary",size:t="default",className:r="",onClick:o,...a})=>{const[u,d]=L.useState(!1),[f,p]=L.useState({}),g=w=>{const C=w.currentTarget.getBoundingClientRect(),M=Math.max(C.width,C.height),O=w.clientX-C.left-M/2,b=w.clientY-C.top-M/2;p({width:M,height:M,left:O,top:b}),d(!0),setTimeout(()=>d(!1),600),o&&o(w)};return _.jsxs(Xe.button,{className:`relative overflow-hidden rounded-lg shadow-lg transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1) focus:outline-none focus:ring-4 focus:ring-honeybee-accent ${Eb[e]} ${Tb[t]} ${r}`,onClick:g,whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 193, 7, 0.5)"},whileTap:{scale:.95},...a,children:[n,u&&_.jsx("span",{className:"button-ripple absolute",style:f})]})},LT=L.createContext(void 0),lu=()=>{const n=L.useContext(LT);if(!n)throw new Error("useCart must be used within a CartProvider");return n},xb=({children:n})=>{const[e,t]=L.useState([]),r=f=>{t(p=>p.find(w=>w.id===f.id)?p.map(w=>w.id===f.id?{...w,quantity:w.quantity+1}:w):[...p,{...f,quantity:1}])},o=f=>{t(p=>p.filter(g=>g.id!==f))},a=(f,p)=>{if(p<=0){o(f);return}t(g=>g.map(w=>w.id===f?{...w,quantity:p}:w))},u=()=>{t([])},d=()=>e.reduce((f,p)=>{const g=parseFloat(p.price.replace(/[$₹]/g,""));return f+g*p.quantity},0);return _.jsx(LT.Provider,{value:{cartItems:e,addToCart:r,removeFromCart:o,updateQuantity:a,clearCart:u,getTotal:d},children:n})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),dn=(n,e)=>{const t=L.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:d="",children:f,...p},g)=>L.createElement("svg",{ref:g,...Sb,width:o,height:o,stroke:r,strokeWidth:u?Number(a)*24/Number(o):a,className:["lucide",`lucide-${Ib(n)}`,d].join(" "),...p},[...e.map(([w,T])=>L.createElement(w,T)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=dn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=dn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=dn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=dn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=dn("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=dn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=dn("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=dn("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=dn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=dn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=dn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=dn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=dn("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=dn("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Lb=[{id:1,name:"Wildflower Honey",price:"₹399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Pure organic honey from wildflower meadows"},{id:2,name:"Acacia Honey",price:"₹499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Light and delicate honey with subtle floral notes"},{id:3,name:"Manuka Honey",price:"₹599",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Premium therapeutic honey from New Zealand"},{id:4,name:"Honeycomb",price:"₹799",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Raw honeycomb straight from our sustainable apiaries"}];function Ob(){const{cartItems:n,addToCart:e,updateQuantity:t}=lu(),r=o=>{const a=n.find(u=>u.id===o);return a?a.quantity:0};return _.jsx("div",{className:"bg-honeybee-light py-16",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-3xl font-serif font-bold text-honeybee-secondary",children:"Featured Products"}),_.jsx("p",{className:"mt-4 text-lg text-honeybee-dark-brown max-w-2xl mx-auto",children:"Discover our selection of premium organic honey products, harvested with care and love."})]}),_.jsx(Xe.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",variants:{hidden:{},visible:{transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:Lb.map(o=>{const a=r(o.id);return _.jsxs(Xe.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition duration-300",children:[_.jsx("div",{className:"h-56 overflow-hidden",children:_.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover transform hover:scale-105 transition duration-500"})}),_.jsxs("div",{className:"p-6",children:[_.jsx("h3",{className:"text-lg font-medium text-honeybee-secondary",children:o.name}),_.jsx("p",{className:"text-honeybee-dark-brown mt-2 text-sm",children:o.description}),_.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[_.jsx("span",{className:"text-black font-bold",children:o.price}),a===0?_.jsx(Je,{variant:"primary",size:"icon",onClick:()=>e(o),children:_.jsx(f_,{size:20})}):_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(Je,{variant:"ghost",size:"icon",onClick:()=>t(o.id,a-1),children:_.jsx(bb,{size:16})}),_.jsx("span",{className:"font-semibold",children:a}),_.jsx(Je,{variant:"ghost",size:"icon",onClick:()=>t(o.id,a+1),children:_.jsx(f_,{size:16})})]})]})]})]},o.id)})}),_.jsx("div",{className:"mt-12 text-center",children:_.jsx(mt,{to:"/shop",className:"inline-block bg-honeybee-primary hover:bg-honeybee-accent text-honeybee-secondary font-medium py-3 px-8 rounded-full transition duration-300 ease-out",children:"View All Products"})})]})})}const jb="/assets/fnd-B8xR8oYh.png",Fb=({text:n,className:e="",animationDelayStep:t=.1})=>_.jsx("span",{className:`font-extrabold ${e}`,style:{display:"block"},children:n.split("").map((r,o)=>_.jsx("span",{className:"inline-block letter-wave",style:{animationDelay:`${o*t}s`},children:r===" "?" ":r},o))});function Ub(){return _.jsx(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:_.jsx("div",{className:"relative min-h-screen",style:{backgroundColor:"#FFF8E7"},children:_.jsxs("div",{className:"relative z-20 pt-[80px]",children:[_.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:_.jsxs("div",{className:"text-center mb-16 px-6",children:[_.jsx("h2",{className:"text-3xl font-serif text-honeybee-dark mb-8",children:_.jsx(Fb,{text:"Bee Bridge",animationDelayStep:.1})}),_.jsx("p",{className:"text-lg text-honeybee-dark-brown max-w-2xl mx-auto mb-10",children:"We're the bridge between the farmer's field, the beekeeper's hive, to the honey in your home."}),_.jsxs("div",{className:"flex justify-center gap-6",children:[_.jsx(mt,{to:"/shop",className:"bg-honeybee-primary hover:bg-honeybee-accent text-honeybee-secondary font-medium py-3 px-8 rounded-full transition duration-300 ease-out",children:"Shop Now"}),_.jsx(mt,{to:"/about",className:"border-2 border-honeybee-primary text-honeybee-secondary hover:bg-honeybee-light font-medium py-3 px-8 rounded-full transition duration-300 ease-out",children:"Learn More"})]})]})}),_.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[_.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-6 text-center",children:"Connecting Farmers and Consumers"}),_.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[_.jsx("img",{src:jb,alt:"Farmers and Consumers",className:"w-full md:w-1/2 rounded-lg shadow-lg"}),_.jsx("p",{className:"text-lg text-honeybee-dark-brown max-w-xl",children:"l Our platform bridges the gap between farmers and consumers, ensuring fresh, organic produce reaches your table directly from the source or become a seller through our marketplace and sell/rent the bee coloines."})]})]}),_.jsx(Ob,{})]})})})}const Bb=()=>_.jsx(Xe.div,{className:"bg-honeybee-background text-honeybee-secondary",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"About Bee Bridge"}),_.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"Our passion for honey is rooted in a deep respect for nature and the incredible work of bees."})]}),_.jsxs("div",{className:"mt-20 grid md:grid-cols-2 gap-16 items-center",children:[_.jsx("div",{children:_.jsx("img",{src:"https://static.vecteezy.com/system/resources/thumbnails/004/454/157/small_2x/honey-can-realistic-composition-vector.jpg",alt:"Beekeeper",className:"rounded-lg shadow-lg"})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-3xl font-serif font-bold mb-4",children:"Our Story"}),_.jsx("p",{className:"mb-4",children:"Bee Bridge was founded with a simple mission: to bring the purest, most delicious honey from our hives to your home. We believe in sustainable beekeeping practices that prioritize the health of our bees and the environment."}),_.jsx("p",{children:"Our farms are dedicated to sustainable practices, and through our website, we connect consumers directly with the source, fostering transparency and trust in every jar of honey."})]})]}),_.jsxs("div",{className:"mt-20 text-center",children:[_.jsx("h2",{className:"text-3xl font-serif font-bold mb-8",children:"Our Values"}),_.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[_.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[_.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Sustainability"}),_.jsx("p",{children:"We are committed to protecting our planet and its precious pollinators."})]}),_.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[_.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Quality"}),_.jsx("p",{children:"We deliver only the finest, 100% pure and raw honey."})]}),_.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[_.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Community"}),_.jsx("p",{children:"We support local beekeepers and educate our community about the importance of bees."})]})]})]})]})}),zb=()=>_.jsx(Xe.div,{className:"bg-honeybee-background text-honeybee-secondary",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"Contact Us"}),_.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"We'd love to hear from you! Whether you have a question about our products, our practices, or anything else, our team is ready to answer all your questions."})]}),_.jsxs("div",{className:"mt-20 grid md:grid-cols-2 gap-16",children:[_.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[_.jsx("h2",{className:"text-2xl font-serif font-bold mb-6",children:"Send us a message"}),_.jsxs("form",{children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Name"}),_.jsx("input",{type:"text",id:"name",className:"w-full px-4 py-2 border border-honeybee-light rounded-md focus:ring-honeybee-primary focus:border-honeybee-primary"})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),_.jsx("input",{type:"email",id:"email",className:"w-full px-4 py-2 border border-honeybee-light rounded-md focus:ring-honeybee-primary focus:border-honeybee-primary"})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-1",children:"Message"}),_.jsx("textarea",{id:"message",rows:4,className:"w-full px-4 py-2 border border-honeybee-light rounded-md focus:ring-honeybee-primary focus:border-honeybee-primary"})]}),_.jsx(Je,{type:"submit",variant:"primary",className:"w-full",children:"Send Message"})]})]}),_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Email Us"}),_.jsx("p",{children:"beebridgeshop@gmail.com"})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Call Us"}),_.jsx("p",{children:"(123) 456-7890"})]})]})]})]})}),$b=[{id:1,name:"Wildflower Honey",price:"₹399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Pure organic honey from wildflower meadows"},{id:2,name:"Acacia Honey",price:"₹499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Light and delicate honey with subtle floral notes"},{id:3,name:"Manuka Honey",price:"₹599",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Premium therapeutic honey from New Zealand"},{id:4,name:"Honeycomb",price:"₹799",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Raw honeycomb straight from our sustainable apiaries"},{id:5,name:"Clover Honey",price:"₹399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"A classic, mild honey perfect for everyday use."},{id:6,name:"Lavender Honey",price:"₹499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Infused with the calming aroma of lavender blossoms."}],Hb=()=>{const{addToCart:n}=lu(),e=t=>{n(t)};return _.jsx(Xe.div,{className:"bg-honeybee-background text-honeybee-secondary",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"Our Honey Selection"}),_.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"Explore our collection of premium, all-natural honey. Each jar is a testament to the hard work of our bees and the richness of the land they forage."})]}),_.jsx(Xe.div,{className:"mt-16 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",variants:{hidden:{},visible:{transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:$b.map(t=>_.jsxs(Xe.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-10},className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition duration-300",children:[_.jsx("div",{className:"h-56 overflow-hidden",children:_.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transform hover:scale-105 transition duration-500"})}),_.jsxs("div",{className:"p-6",children:[_.jsx("h3",{className:"text-lg font-medium text-honeybee-secondary",children:t.name}),_.jsx("p",{className:"text-honeybee-dark-brown mt-2 text-sm",children:t.description}),_.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[_.jsx("span",{className:"text-black font-bold",children:t.price}),_.jsx("button",{onClick:()=>e(t),className:"bg-honeybee-primary hover:bg-honeybee-accent text-white rounded-full p-2 transition duration-300",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})]},t.id))})]})})},Wb=()=>{const{cartItems:n,removeFromCart:e,updateQuantity:t,getTotal:r}=lu(),o=Mh(),a=r(),u=()=>{o("/checkout")};return _.jsxs(Xe.div,{className:"max-w-4xl mx-auto p-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[_.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Shopping Cart"}),_.jsx("div",{className:"group",children:_.jsx("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6",children:n.length===0?_.jsx("p",{className:"text-center text-gray-500",children:"Your cart is empty"}):_.jsxs(_.Fragment,{children:[_.jsx(zP,{children:_.jsx("div",{className:"space-y-4",children:n.map(d=>_.jsxs(Xe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},layout:!0,className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:d.name}),_.jsxs("p",{className:"text-gray-600",children:["₹",parseFloat(d.price.replace(/[$₹]/g,""))," x ",d.quantity]})]}),_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsx("input",{type:"number",min:1,value:d.quantity,onChange:f=>t(d.id,parseInt(f.target.value)),className:"w-16 border border-gray-300 rounded px-2 py-1"}),_.jsxs("span",{className:"text-lg font-semibold text-gray-800",children:["₹",(parseFloat(d.price.replace(/[$₹]/g,""))*d.quantity).toFixed(2)]}),_.jsx(Je,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>e(d.id),children:_.jsx(Vb,{size:20})})]})]},d.id))})}),_.jsx(Xe.div,{className:"mt-6 pt-4 border-t border-gray-200",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},children:_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("span",{className:"text-xl font-bold text-gray-800",children:["Total: ₹",a.toFixed(2)]}),_.jsx("div",{className:"group",children:_.jsx(Je,{variant:"primary",onClick:u,children:"Checkout"})})]})})]})})})]})},qb="/assets/congratulation-DMocTdUx.gif",p_="/assets/success%20confetti-DC1AmzHE.gif",m_={HONEY10:.1,BEE20:.2,OFFER:.1},Kb=()=>{const{cartItems:n,getTotal:e,clearCart:t}=lu(),[r,o]=L.useState(""),[a,u]=L.useState(0),[d,f]=L.useState(""),[p,g]=L.useState(!1),[w,T]=L.useState(!1),[C,M]=L.useState(!1),O=e(),b=O-O*a;L.useEffect(()=>{if(C){const q=setTimeout(()=>{M(!1)},2e3);return()=>clearTimeout(q)}},[C]);const B=()=>{const q=r.toUpperCase();m_[q]?(u(m_[q]),f(""),T(!0)):(u(0),f("Invalid coupon code"),T(!1))},H=()=>{M(!0),g(!0),t()};return p?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"max-w-4xl mx-auto p-6 text-center",children:[_.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Thank you for your order!"}),_.jsx("p",{children:"Your order has been placed successfully."})]}),C&&_.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50",children:_.jsx("img",{src:p_,alt:"Success",className:"w-64 h-64 object-cover"})})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-honeybee-background text-honeybee-secondary rounded-lg shadow-lg",children:[_.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Checkout"}),_.jsxs("div",{children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("h3",{className:"font-semibold mb-2",children:"Order Summary"}),n.map(q=>_.jsxs("div",{className:"flex justify-between mb-2",children:[_.jsxs("span",{children:[q.name," x ",q.quantity]}),_.jsxs("span",{children:["₹",(parseFloat(q.price.replace(/[$₹]/g,""))*q.quantity).toFixed(2)]})]},q.id)),_.jsxs("div",{className:"flex justify-between font-bold border-t border-gray-300 pt-2",children:[_.jsx("span",{children:"Total:"}),_.jsxs("span",{children:["₹",O.toFixed(2)]})]}),a>0&&_.jsxs("div",{className:"flex justify-between font-bold text-green-600 pt-2",children:[_.jsx("span",{children:"Discount:"}),_.jsxs("span",{children:["-₹",(O*a).toFixed(2)]})]}),a>0&&_.jsxs("div",{className:"flex justify-between font-bold border-t border-gray-300 pt-2",children:[_.jsx("span",{children:"Amount to Pay:"}),_.jsxs("span",{children:["₹",b.toFixed(2)]})]})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"coupon",className:"block font-semibold mb-1",children:"Have a coupon?"}),_.jsx("input",{id:"coupon",type:"text",value:r,onChange:q=>o(q.target.value),className:"border border-gray-300 rounded px-3 py-2 w-full",placeholder:"Enter coupon code"}),d&&_.jsx("p",{className:"text-red-600 mt-1",children:d}),_.jsx(Je,{onClick:B,variant:"accent",className:"mt-2",children:"Apply Coupon"}),w&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>T(!1),children:_.jsx("img",{src:qb,alt:"Congratulations",className:"w-full h-full object-contain"})})]}),_.jsx("div",{children:_.jsx(Je,{onClick:H,variant:"primary",className:"w-full",children:"Place Order"})})]})]}),C&&_.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50",children:_.jsx("img",{src:p_,alt:"Success",className:"w-64 h-64 object-cover"})})]})},Gb=()=>{};var g_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Qb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},UT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,p=f?n[o+2]:0,g=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|p>>6,C=p&63;f||(C=64,u||(T=64)),r.push(t[g],t[w],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Qb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||p==null||w==null)throw new Yb;const T=a<<2|d>>4;if(r.push(T),p!==64){const C=d<<4&240|p>>2;if(r.push(C),w!==64){const M=p<<6&192|w;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xb=function(n){const e=FT(n);return UT.encodeByteArray(e,!0)},ph=function(n){return Xb(n).replace(/\./g,"")},BT=function(n){try{return UT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=()=>Jb().__FIREBASE_DEFAULTS__,e2=()=>{if(typeof process>"u"||typeof g_>"u")return;const n=g_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},t2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&BT(n[1]);return e&&JSON.parse(e)},Bh=()=>{try{return Gb()||Zb()||e2()||t2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zT=n=>Bh()?.emulatorHosts?.[n],n2=n=>{const e=zT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$T=()=>Bh()?.config,HT=n=>Bh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ph(JSON.stringify(t)),ph(JSON.stringify(u)),""].join(".")}const bl={};function s2(){const n={prod:[],emulator:[]};for(const e of Object.keys(bl))bl[e]?n.emulator.push(e):n.prod.push(e);return n}function o2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let y_=!1;function qT(n,e){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||bl[n]===e||bl[n]||y_)return;bl[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=s2().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{y_=!0,u()},T}function g(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=o2(r),C=t("text"),M=document.getElementById(C)||document.createElement("span"),O=t("learnmore"),b=document.getElementById(O)||document.createElement("a"),B=t("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const q=T.element;d(q),g(b,O);const se=p();f(H,B),q.append(H,M,b,se),document.body.appendChild(q)}a?(M.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function l2(){const n=Bh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function h2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d2(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function f2(){return!l2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p2(){try{return typeof indexedDB=="object"}catch{return!1}}function m2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="FirebaseError";class li extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=g2,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?y2(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new li(o,d,r)}}function y2(n,e){return n.replace(v2,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const v2=/\{\$([^}]+)}/g;function _2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(v_(a)&&v_(u)){if(!Hs(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function v_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function w2(n,e){const t=new E2(n,e);return t.subscribe.bind(t)}class E2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");T2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Qf),o.error===void 0&&(o.error=Qf),o.complete===void 0&&(o.complete=Qf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(n){return n&&n._delegate?n._delegate:n}class Ws{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new r2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I2(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S2(n){return n===Ms?void 0:n}function I2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new x2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const A2={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},P2=Ne.INFO,R2={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},k2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=R2[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=P2,this._logHandler=k2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const b2=(n,e)=>e.some(t=>n instanceof t);let __,w_;function N2(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V2(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KT=new WeakMap,bp=new WeakMap,GT=new WeakMap,Yf=new WeakMap,zm=new WeakMap;function D2(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Wi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&KT.set(t,n)}).catch(()=>{}),zm.set(e,n),e}function M2(n){if(bp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});bp.set(n,e)}let Np={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||GT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L2(n){Np=n(Np)}function O2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Xf(this),e,...t);return GT.set(r,e.sort?e.sort():[e]),Wi(r)}:V2().includes(n)?function(...e){return n.apply(Xf(this),e),Wi(KT.get(this))}:function(...e){return Wi(n.apply(Xf(this),e))}}function j2(n){return typeof n=="function"?O2(n):(n instanceof IDBTransaction&&M2(n),b2(n,N2())?new Proxy(n,Np):n)}function Wi(n){if(n instanceof IDBRequest)return D2(n);if(Yf.has(n))return Yf.get(n);const e=j2(n);return e!==n&&(Yf.set(n,e),zm.set(e,n)),e}const Xf=n=>zm.get(n);function F2(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Wi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Wi(u.result),f.oldVersion,f.newVersion,Wi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const U2=["get","getKey","getAll","getAllKeys","count"],B2=["put","add","delete","clear"],Jf=new Map;function E_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=B2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||U2.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),o&&f.done]))[0]};return Jf.set(e,a),a}L2(n=>({...n,get:(e,t,r)=>E_(e,t)||n.get(e,t,r),has:(e,t)=>!!E_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function $2(n){return n.getComponent()?.type==="VERSION"}const Vp="@firebase/app",T_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Bm("@firebase/app"),H2="@firebase/app-compat",W2="@firebase/analytics-compat",q2="@firebase/analytics",K2="@firebase/app-check-compat",G2="@firebase/app-check",Q2="@firebase/auth",Y2="@firebase/auth-compat",X2="@firebase/database",J2="@firebase/data-connect",Z2="@firebase/database-compat",eN="@firebase/functions",tN="@firebase/functions-compat",nN="@firebase/installations",rN="@firebase/installations-compat",iN="@firebase/messaging",sN="@firebase/messaging-compat",oN="@firebase/performance",aN="@firebase/performance-compat",lN="@firebase/remote-config",uN="@firebase/remote-config-compat",cN="@firebase/storage",hN="@firebase/storage-compat",dN="@firebase/firestore",fN="@firebase/ai",pN="@firebase/firestore-compat",mN="firebase",gN="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="[DEFAULT]",yN={[Vp]:"fire-core",[H2]:"fire-core-compat",[q2]:"fire-analytics",[W2]:"fire-analytics-compat",[G2]:"fire-app-check",[K2]:"fire-app-check-compat",[Q2]:"fire-auth",[Y2]:"fire-auth-compat",[X2]:"fire-rtdb",[J2]:"fire-data-connect",[Z2]:"fire-rtdb-compat",[eN]:"fire-fn",[tN]:"fire-fn-compat",[nN]:"fire-iid",[rN]:"fire-iid-compat",[iN]:"fire-fcm",[sN]:"fire-fcm-compat",[oN]:"fire-perf",[aN]:"fire-perf-compat",[lN]:"fire-rc",[uN]:"fire-rc-compat",[cN]:"fire-gcs",[hN]:"fire-gcs-compat",[dN]:"fire-fst",[pN]:"fire-fst-compat",[fN]:"fire-vertex","fire-js":"fire-js",[mN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,vN=new Map,Mp=new Map;function x_(n,e){try{n.container.addComponent(e)}catch(t){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ia(n){const e=n.name;if(Mp.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Mp.set(e,n);for(const t of mh.values())x_(t,n);for(const t of vN.values())x_(t,n);return!0}function $m(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new uu("app","Firebase",_N);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=gN;function QT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Dp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw qi.create("bad-app-name",{appName:String(o)});if(t||(t=$T()),!t)throw qi.create("no-options");const a=mh.get(o);if(a){if(Hs(t,a.options)&&Hs(r,a.config))return a;throw qi.create("duplicate-app",{appName:o})}const u=new C2(o);for(const f of Mp.values())u.addComponent(f);const d=new wN(t,r,u);return mh.set(o,d),d}function YT(n=Dp){const e=mh.get(n);if(!e&&n===Dp&&$T())return QT();if(!e)throw qi.create("no-app",{appName:n});return e}function Ki(n,e,t){let r=yN[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(u.join(" "));return}ia(new Ws(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firebase-heartbeat-database",TN=1,Wl="firebase-heartbeat-store";let Zf=null;function XT(){return Zf||(Zf=F2(EN,TN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wl)}catch(t){console.warn(t)}}}}).catch(n=>{throw qi.create("idb-open",{originalErrorMessage:n.message})})),Zf}async function xN(n){try{const t=(await XT()).transaction(Wl),r=await t.objectStore(Wl).get(JT(n));return await t.done,r}catch(e){if(e instanceof li)ri.warn(e.message);else{const t=qi.create("idb-get",{originalErrorMessage:e?.message});ri.warn(t.message)}}}async function S_(n,e){try{const r=(await XT()).transaction(Wl,"readwrite");await r.objectStore(Wl).put(e,JT(n)),await r.done}catch(t){if(t instanceof li)ri.warn(t.message);else{const r=qi.create("idb-set",{originalErrorMessage:t?.message});ri.warn(r.message)}}}function JT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=1024,IN=30;class CN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>IN){const o=RN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ri.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I_(),{heartbeatsToSend:t,unsentEntries:r}=AN(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ri.warn(e),""}}}function I_(){return new Date().toISOString().substring(0,10)}function AN(n,e=SN){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),C_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),C_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class PN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p2()?m2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function C_(n){return ph(JSON.stringify({version:2,heartbeats:n})).length}function RN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){ia(new Ws("platform-logger",e=>new z2(e),"PRIVATE")),ia(new Ws("heartbeat",e=>new CN(e),"PRIVATE")),Ki(Vp,T_,n),Ki(Vp,T_,"esm2020"),Ki("fire-js","")}kN("");var bN="firebase",NN="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(bN,NN,"app");function ZT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VN=ZT,ex=new uu("auth","Firebase",ZT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Bm("@firebase/auth");function DN(n,...e){gh.logLevel<=Ne.WARN&&gh.warn(`Auth (${va}): ${n}`,...e)}function Jc(n,...e){gh.logLevel<=Ne.ERROR&&gh.error(`Auth (${va}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n,...e){throw Wm(n,...e)}function Xn(n,...e){return Wm(n,...e)}function Hm(n,e,t){const r={...VN(),[e]:t};return new uu("auth","Firebase",r).create(e,{appName:n.name})}function zs(n){return Hm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ar(n,"argument-error"),Hm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ex.create(n,...e)}function Te(n,e,...t){if(!n)throw Wm(e,...t)}function Yr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jc(e),new Error(e)}function ii(n,e){n||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){return typeof self<"u"&&self.location?.href||""}function LN(){return A_()==="http:"||A_()==="https:"}function A_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LN()||c2()||"connection"in navigator)?navigator.onLine:!0}function jN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=a2()||h2()}get(){return ON()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(n,e){ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BN=new hu(3e4,6e4);function Km(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function _a(n,e,t,r,o={}){return nx(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=cu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return u2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ya(n.emulatorConfig.host)&&(p.credentials="include"),tx.fetch()(await rx(n,n.config.apiHost,t,d),p)})}async function nx(n,e,t){n._canInitEmulator=!1;const r={...FN,...e};try{const o=new $N(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Uc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Uc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Uc(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Hm(n,g,p);Ar(n,g)}}catch(o){if(o instanceof li)throw o;Ar(n,"network-request-failed",{message:String(o)})}}async function zN(n,e,t,r,o={}){const a=await _a(n,e,t,r,o);return"mfaPendingCredential"in a&&Ar(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function rx(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?qm(n.config,o):`${n.config.apiScheme}://${o}`;return UN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class $N{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),BN.get())})}}function Uc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Xn(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(n,e){return _a(n,"POST","/v1/accounts:delete",e)}async function yh(n,e){return _a(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WN(n,e=!1){const t=Ln(n),r=await t.getIdToken(e),o=Gm(r);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Nl(ep(o.auth_time)),issuedAtTime:Nl(ep(o.iat)),expirationTime:Nl(ep(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ep(n){return Number(n)*1e3}function Gm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=BT(t);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function P_(n){const e=Gm(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof li&&qN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function qN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(n){const e=n.auth,t=await n.getIdToken(),r=await ql(n,yh(e,{idToken:t}));Te(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?ix(o.providerUserInfo):[],u=QN(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!u?.length,p=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Op(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function GN(n){const e=Ln(n);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QN(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function ix(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(n,e){const t=await nx(n,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await rx(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&ya(n.emulatorConfig.host)&&(f.credentials="include"),tx.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XN(n,e){return _a(n,"POST","/v2/accounts:revokeToken",Km(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=P_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await YN(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Jo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Te(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new KN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ql(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WN(this,e)}reload(){return GN(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await ql(this,HN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:C,providerData:M,stsTokenManager:O}=t;Te(w&&O,e,"internal-error");const b=Jo.fromJSON(this.name,O);Te(typeof w=="string",e,"internal-error"),Fi(r,e.name),Fi(o,e.name),Te(typeof T=="boolean",e,"internal-error"),Te(typeof C=="boolean",e,"internal-error"),Fi(a,e.name),Fi(u,e.name),Fi(d,e.name),Fi(f,e.name),Fi(p,e.name),Fi(g,e.name);const B=new Qn({uid:w,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:b,createdAt:p,lastLoginAt:g});return M&&Array.isArray(M)&&(B.providerData=M.map(H=>({...H}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(e,t,r=!1){const o=new Jo;o.updateFromServerResponse(t);const a=new Qn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await vh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?ix(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new Jo;d.updateFromIdToken(r);const f=new Qn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;function Xr(n){ii(n instanceof Function,"Expected a class definition");let e=R_.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,R_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sx.type="NONE";const k_=sx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n,e,t){return`firebase:${n}:${e}:${t}`}class Zo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Zc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yh(this.auth,{idToken:e}).catch(()=>{});return t?Qn._fromGetAccountInfoResponse(this.auth,t,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Zo(Xr(k_),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||Xr(k_);const u=Zc(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(u);if(g){let w;if(typeof g=="string"){const T=await yh(e,{idToken:g}).catch(()=>{});if(!T)break;w=await Qn._fromGetAccountInfoResponse(e,T,g)}else w=Qn._fromJSON(e,g);p!==a&&(d=w),a=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Zo(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Zo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ux(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hx(e))return"Blackberry";if(dx(e))return"Webos";if(ax(e))return"Safari";if((e.includes("chrome/")||lx(e))&&!e.includes("edge/"))return"Chrome";if(cx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ox(n=Xt()){return/firefox\//i.test(n)}function ax(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lx(n=Xt()){return/crios\//i.test(n)}function ux(n=Xt()){return/iemobile/i.test(n)}function cx(n=Xt()){return/android/i.test(n)}function hx(n=Xt()){return/blackberry/i.test(n)}function dx(n=Xt()){return/webos/i.test(n)}function Qm(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JN(n=Xt()){return Qm(n)&&!!window.navigator?.standalone}function ZN(){return d2()&&document.documentMode===10}function fx(n=Xt()){return Qm(n)||cx(n)||dx(n)||hx(n)||/windows phone/i.test(n)||ux(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(n,e=[]){let t;switch(n){case"Browser":t=b_(Xt());break;case"Worker":t=`${b_(Xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(n,e={}){return _a(n,"GET","/v2/passwordPolicy",Km(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=6;class rV{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new eV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ex,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yh(this,{idToken:e}),r=await Qn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(zs(this));const t=e?Ln(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tV(this),t=new rV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await XN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=px(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zh(n){return Ln(n)}let N_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=w2(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sV(n){Ym=n}function oV(n){return Ym.loadJS(n)}function aV(){return Ym.gapiScript}function lV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(n,e){const t=$m(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Hs(a,e??{}))return o;Ar(o,"already-initialized")}return t.initialize({options:e})}function cV(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Xr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function hV(n,e,t){const r=zh(n);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=mx(e),{host:u,port:d}=dV(e),f=d===null?"":`:${d}`,p={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Hs(p,r.config.emulator)&&Hs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,ya(u)?(WT(`${a}//${u}${f}`),qT("Auth",!0)):fV()}function mx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dV(n){const e=mx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:V_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:V_(u)}}}function V_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function fV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,t){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(n,e){return zN(n,"POST","/v1/accounts:signInWithIdp",Km(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="http://localhost";class qs extends gx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new qs(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ea(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ea(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ea(e,t)}buildRequest(){const e={requestUri:pV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Xm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends du{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Qr.credential(t,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends du{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends du{constructor(){super("twitter.com")}static credential(e,t){return qs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return $i.credential(t,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Qn._fromIdTokenResponse(e,r,o),u=D_(r);return new sa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=D_(r);return new sa({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function D_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends li{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new _h(e,t,r,o)}}function yx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(n,a,e,r):a})}async function mV(n,e,t=!1){const r=await ql(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return sa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(n,e,t=!1){const{auth:r}=n;if(Gn(r.app))return Promise.reject(zs(r));const o="reauthenticate";try{const a=await ql(n,yx(r,o,e,n),t);Te(a.idToken,r,"internal-error");const u=Gm(a.idToken);Te(u,r,"internal-error");const{sub:d}=u;return Te(n.uid===d,r,"user-mismatch"),sa._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ar(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(n,e,t=!1){if(Gn(n.app))return Promise.reject(zs(n));const r="signIn",o=await yx(n,r,e),a=await sa._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function vV(n,e,t,r){return Ln(n).onIdTokenChanged(e,t,r)}function _V(n,e,t){return Ln(n).beforeAuthStateChanged(e,t)}function wV(n,e,t,r){return Ln(n).onAuthStateChanged(e,t,r)}function EV(n){return Ln(n).signOut()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=1e3,xV=10;class _x extends vx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);ZN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xV):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},TV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_x.type="LOCAL";const SV=_x;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends vx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wx.type="SESSION";const Ex=wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new $h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await IV(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=Jm("",20);o.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function AV(n){Er().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function PV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RV(){return navigator?.serviceWorker?.controller||null}function kV(){return Tx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="firebaseLocalStorageDb",bV=1,Eh="firebaseLocalStorage",Sx="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hh(n,e){return n.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function NV(){const n=indexedDB.deleteDatabase(xx);return new fu(n).toPromise()}function jp(){const n=indexedDB.open(xx,bV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Eh,{keyPath:Sx})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await NV(),e(await jp()))})})}async function M_(n,e,t){const r=Hh(n,!0).put({[Sx]:e,value:t});return new fu(r).toPromise()}async function VV(n,e){const t=Hh(n,!1).get(e),r=await new fu(t).toPromise();return r===void 0?null:r.value}function L_(n,e){const t=Hh(n,!0).delete(e);return new fu(t).toPromise()}const DV=800,MV=3;class Ix{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>MV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(kV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PV(),!this.activeServiceWorker)return;this.sender=new CV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await M_(e,wh,"1"),await L_(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>M_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>VV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>L_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Hh(o,!1).getAll();return new fu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ix.type="LOCAL";const LV=Ix;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n,e){return e?Xr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends gx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ea(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function OV(n){return yV(n.auth,new Zm(n),n.bypassAuthState)}function jV(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),gV(t,new Zm(n),n.bypassAuthState)}async function FV(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),mV(t,new Zm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OV;case"linkViaPopup":case"linkViaRedirect":return FV;case"reauthViaPopup":case"reauthViaRedirect":return jV;default:Ar(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=new hu(2e3,1e4);async function BV(n,e,t){if(Gn(n.app))return Promise.reject(Xn(n,"operation-not-supported-in-this-environment"));const r=zh(n);MN(n,e,Xm);const o=Cx(r,t);return new js(r,"signInViaPopup",e,o).executeNotNull()}class js extends Ax{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UV.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="pendingRedirect",eh=new Map;class $V extends Ax{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await HV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HV(n,e){const t=KV(e),r=qV(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function WV(n,e){eh.set(n._key(),e)}function qV(n){return Xr(n._redirectPersistence)}function KV(n){return Zc(zV,n.config.apiKey,n.name)}async function GV(n,e,t=!1){if(Gn(n.app))return Promise.reject(zs(n));const r=zh(n),o=Cx(r,e),u=await new $V(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=600*1e3;class YV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Px(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Xn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QV&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Px({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function XV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Px(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(n,e={}){return _a(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eD=/^https?/;async function tD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await JV(n);for(const t of e)try{if(nD(t))return}catch{}Ar(n,"unauthorized-domain")}function nD(n){const e=Lp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!eD.test(t))return!1;if(ZV.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new hu(3e4,6e4);function j_(){const n=Er().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iD(n){return new Promise((e,t)=>{function r(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),t(Xn(n,"network-request-failed"))},timeout:rD.get()})}if(Er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Er().gapi?.load)r();else{const o=lV("iframefcb");return Er()[o]=()=>{gapi.load?r():t(Xn(n,"network-request-failed"))},oV(`${aV()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw th=null,e})}let th=null;function sD(n){return th=th||iD(n),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new hu(5e3,15e3),aD="__/auth/iframe",lD="emulator/auth/iframe",uD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hD(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qm(e,lD):`https://${n.config.authDomain}/${aD}`,r={apiKey:e.apiKey,appName:n.name,v:va},o=cD.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${cu(r).slice(1)}`}async function dD(n){const e=await sD(n),t=Er().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:hD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uD,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Xn(n,"network-request-failed"),d=Er().setTimeout(()=>{a(u)},oD.get());function f(){Er().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pD=500,mD=600,gD="_blank",yD="http://localhost";class F_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vD(n,e,t,r=pD,o=mD){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...fD,width:r.toString(),height:o.toString(),top:a,left:u},p=Xt().toLowerCase();t&&(d=lx(p)?gD:t),ox(p)&&(e=e||yD,f.scrollbars="yes");const g=Object.entries(f).reduce((T,[C,M])=>`${T}${C}=${M},`,"");if(JN(p)&&d!=="_self")return _D(e||"",d),new F_(null);const w=window.open(e||"",d,g);Te(w,n,"popup-blocked");try{w.focus()}catch{}return new F_(w)}function _D(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="__/auth/handler",ED="emulator/auth/handler",TD=encodeURIComponent("fac");async function U_(n,e,t,r,o,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:va,eventId:o};if(e instanceof Xm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",_2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof du){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),p=f?`#${TD}=${encodeURIComponent(f)}`:"";return`${xD(n)}?${cu(d).slice(1)}${p}`}function xD({config:n}){return n.emulator?qm(n,ED):`https://${n.authDomain}/${wD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="webStorageSupport";class SD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ex,this._completeRedirectFn=GV,this._overrideRedirectResult=WV}async _openPopup(e,t,r,o){ii(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await U_(e,t,r,Lp(),o);return vD(e,a,Jm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await U_(e,t,r,Lp(),o);return AV(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ii(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await dD(e),r=new YV(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tp,{type:tp},o=>{const a=o?.[0]?.[tp];a!==void 0&&t(!!a),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fx()||ax()||Qm()}}const ID=SD;var B_="@firebase/auth",z_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PD(n){ia(new Ws("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:px(n)},p=new iV(r,o,a,f);return cV(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ia(new Ws("auth-internal",e=>{const t=zh(e.getProvider("auth").getImmediate());return(r=>new CD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(B_,z_,AD(n)),Ki(B_,z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=300,kD=HT("authIdTokenMaxAge")||RD;let $_=null;const bD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>kD)return;const o=t?.token;$_!==o&&($_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ND(n=YT()){const e=$m(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uV(n,{popupRedirectResolver:ID,persistence:[LV,SV,Ex]}),r=HT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=bD(a.toString());_V(t,u,()=>u(t.currentUser)),vV(t,d=>u(d))}}const o=zT("auth");return o&&hV(t,`http://${o}`),t}function VD(){return document.getElementsByTagName("head")?.[0]??document}sV({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Xn("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",VD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PD("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,Rx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function A(){}A.prototype=I.prototype,R.F=I.prototype,R.prototype=new A,R.prototype.constructor=R,R.D=function(N,D,U){for(var k=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)k[$e-2]=arguments[$e];return I.prototype[D].apply(N,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,I,A){A||(A=0);const N=Array(16);if(typeof I=="string")for(var D=0;D<16;++D)N[D]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(D=0;D<16;++D)N[D]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=R.g[0],A=R.g[1],D=R.g[2];let U=R.g[3],k;k=I+(U^A&(D^U))+N[0]+3614090360&4294967295,I=A+(k<<7&4294967295|k>>>25),k=U+(D^I&(A^D))+N[1]+3905402710&4294967295,U=I+(k<<12&4294967295|k>>>20),k=D+(A^U&(I^A))+N[2]+606105819&4294967295,D=U+(k<<17&4294967295|k>>>15),k=A+(I^D&(U^I))+N[3]+3250441966&4294967295,A=D+(k<<22&4294967295|k>>>10),k=I+(U^A&(D^U))+N[4]+4118548399&4294967295,I=A+(k<<7&4294967295|k>>>25),k=U+(D^I&(A^D))+N[5]+1200080426&4294967295,U=I+(k<<12&4294967295|k>>>20),k=D+(A^U&(I^A))+N[6]+2821735955&4294967295,D=U+(k<<17&4294967295|k>>>15),k=A+(I^D&(U^I))+N[7]+4249261313&4294967295,A=D+(k<<22&4294967295|k>>>10),k=I+(U^A&(D^U))+N[8]+1770035416&4294967295,I=A+(k<<7&4294967295|k>>>25),k=U+(D^I&(A^D))+N[9]+2336552879&4294967295,U=I+(k<<12&4294967295|k>>>20),k=D+(A^U&(I^A))+N[10]+4294925233&4294967295,D=U+(k<<17&4294967295|k>>>15),k=A+(I^D&(U^I))+N[11]+2304563134&4294967295,A=D+(k<<22&4294967295|k>>>10),k=I+(U^A&(D^U))+N[12]+1804603682&4294967295,I=A+(k<<7&4294967295|k>>>25),k=U+(D^I&(A^D))+N[13]+4254626195&4294967295,U=I+(k<<12&4294967295|k>>>20),k=D+(A^U&(I^A))+N[14]+2792965006&4294967295,D=U+(k<<17&4294967295|k>>>15),k=A+(I^D&(U^I))+N[15]+1236535329&4294967295,A=D+(k<<22&4294967295|k>>>10),k=I+(D^U&(A^D))+N[1]+4129170786&4294967295,I=A+(k<<5&4294967295|k>>>27),k=U+(A^D&(I^A))+N[6]+3225465664&4294967295,U=I+(k<<9&4294967295|k>>>23),k=D+(I^A&(U^I))+N[11]+643717713&4294967295,D=U+(k<<14&4294967295|k>>>18),k=A+(U^I&(D^U))+N[0]+3921069994&4294967295,A=D+(k<<20&4294967295|k>>>12),k=I+(D^U&(A^D))+N[5]+3593408605&4294967295,I=A+(k<<5&4294967295|k>>>27),k=U+(A^D&(I^A))+N[10]+38016083&4294967295,U=I+(k<<9&4294967295|k>>>23),k=D+(I^A&(U^I))+N[15]+3634488961&4294967295,D=U+(k<<14&4294967295|k>>>18),k=A+(U^I&(D^U))+N[4]+3889429448&4294967295,A=D+(k<<20&4294967295|k>>>12),k=I+(D^U&(A^D))+N[9]+568446438&4294967295,I=A+(k<<5&4294967295|k>>>27),k=U+(A^D&(I^A))+N[14]+3275163606&4294967295,U=I+(k<<9&4294967295|k>>>23),k=D+(I^A&(U^I))+N[3]+4107603335&4294967295,D=U+(k<<14&4294967295|k>>>18),k=A+(U^I&(D^U))+N[8]+1163531501&4294967295,A=D+(k<<20&4294967295|k>>>12),k=I+(D^U&(A^D))+N[13]+2850285829&4294967295,I=A+(k<<5&4294967295|k>>>27),k=U+(A^D&(I^A))+N[2]+4243563512&4294967295,U=I+(k<<9&4294967295|k>>>23),k=D+(I^A&(U^I))+N[7]+1735328473&4294967295,D=U+(k<<14&4294967295|k>>>18),k=A+(U^I&(D^U))+N[12]+2368359562&4294967295,A=D+(k<<20&4294967295|k>>>12),k=I+(A^D^U)+N[5]+4294588738&4294967295,I=A+(k<<4&4294967295|k>>>28),k=U+(I^A^D)+N[8]+2272392833&4294967295,U=I+(k<<11&4294967295|k>>>21),k=D+(U^I^A)+N[11]+1839030562&4294967295,D=U+(k<<16&4294967295|k>>>16),k=A+(D^U^I)+N[14]+4259657740&4294967295,A=D+(k<<23&4294967295|k>>>9),k=I+(A^D^U)+N[1]+2763975236&4294967295,I=A+(k<<4&4294967295|k>>>28),k=U+(I^A^D)+N[4]+1272893353&4294967295,U=I+(k<<11&4294967295|k>>>21),k=D+(U^I^A)+N[7]+4139469664&4294967295,D=U+(k<<16&4294967295|k>>>16),k=A+(D^U^I)+N[10]+3200236656&4294967295,A=D+(k<<23&4294967295|k>>>9),k=I+(A^D^U)+N[13]+681279174&4294967295,I=A+(k<<4&4294967295|k>>>28),k=U+(I^A^D)+N[0]+3936430074&4294967295,U=I+(k<<11&4294967295|k>>>21),k=D+(U^I^A)+N[3]+3572445317&4294967295,D=U+(k<<16&4294967295|k>>>16),k=A+(D^U^I)+N[6]+76029189&4294967295,A=D+(k<<23&4294967295|k>>>9),k=I+(A^D^U)+N[9]+3654602809&4294967295,I=A+(k<<4&4294967295|k>>>28),k=U+(I^A^D)+N[12]+3873151461&4294967295,U=I+(k<<11&4294967295|k>>>21),k=D+(U^I^A)+N[15]+530742520&4294967295,D=U+(k<<16&4294967295|k>>>16),k=A+(D^U^I)+N[2]+3299628645&4294967295,A=D+(k<<23&4294967295|k>>>9),k=I+(D^(A|~U))+N[0]+4096336452&4294967295,I=A+(k<<6&4294967295|k>>>26),k=U+(A^(I|~D))+N[7]+1126891415&4294967295,U=I+(k<<10&4294967295|k>>>22),k=D+(I^(U|~A))+N[14]+2878612391&4294967295,D=U+(k<<15&4294967295|k>>>17),k=A+(U^(D|~I))+N[5]+4237533241&4294967295,A=D+(k<<21&4294967295|k>>>11),k=I+(D^(A|~U))+N[12]+1700485571&4294967295,I=A+(k<<6&4294967295|k>>>26),k=U+(A^(I|~D))+N[3]+2399980690&4294967295,U=I+(k<<10&4294967295|k>>>22),k=D+(I^(U|~A))+N[10]+4293915773&4294967295,D=U+(k<<15&4294967295|k>>>17),k=A+(U^(D|~I))+N[1]+2240044497&4294967295,A=D+(k<<21&4294967295|k>>>11),k=I+(D^(A|~U))+N[8]+1873313359&4294967295,I=A+(k<<6&4294967295|k>>>26),k=U+(A^(I|~D))+N[15]+4264355552&4294967295,U=I+(k<<10&4294967295|k>>>22),k=D+(I^(U|~A))+N[6]+2734768916&4294967295,D=U+(k<<15&4294967295|k>>>17),k=A+(U^(D|~I))+N[13]+1309151649&4294967295,A=D+(k<<21&4294967295|k>>>11),k=I+(D^(A|~U))+N[4]+4149444226&4294967295,I=A+(k<<6&4294967295|k>>>26),k=U+(A^(I|~D))+N[11]+3174756917&4294967295,U=I+(k<<10&4294967295|k>>>22),k=D+(I^(U|~A))+N[2]+718787259&4294967295,D=U+(k<<15&4294967295|k>>>17),k=A+(U^(D|~I))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,I){I===void 0&&(I=R.length);const A=I-this.blockSize,N=this.C;let D=this.h,U=0;for(;U<I;){if(D==0)for(;U<=A;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<I;)if(N[D++]=R.charCodeAt(U++),D==this.blockSize){o(this,N),D=0;break}}else for(;U<I;)if(N[D++]=R[U++],D==this.blockSize){o(this,N),D=0;break}}this.h=D,this.o+=I},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var A=R.length-8;A<R.length;++A)R[A]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,A=0;A<4;++A)for(let N=0;N<32;N+=8)R[I++]=this.g[A]>>>N&255;return R};function a(R,I){var A=d;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=I(R)}function u(R,I){this.h=I;const A=[];let N=!0;for(let D=R.length-1;D>=0;D--){const U=R[D]|0;N&&U==I||(A[D]=U,N=!1)}this.g=A}var d={};function f(R){return-128<=R&&R<128?a(R,function(I){return new u([I|0],I<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return b(p(-R));const I=[];let A=1;for(let N=0;R>=A;N++)I[N]=R/A|0,A*=4294967296;return new u(I,0)}function g(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return b(g(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(I,8));let N=w;for(let U=0;U<R.length;U+=8){var D=Math.min(8,R.length-U);const k=parseInt(R.substring(U,U+D),I);D<8?(D=p(Math.pow(I,D)),N=N.j(D).add(p(k))):(N=N.j(A),N=N.add(p(k)))}return N}var w=f(0),T=f(1),C=f(16777216);n=u.prototype,n.m=function(){if(O(this))return-b(this).m();let R=0,I=1;for(let A=0;A<this.g.length;A++){const N=this.i(A);R+=(N>=0?N:4294967296+N)*I,I*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(M(this))return"0";if(O(this))return"-"+b(this).toString(R);const I=p(Math.pow(R,6));var A=this;let N="";for(;;){const D=se(A,I).g;A=B(A,D.j(I));let U=((A.g.length>0?A.g[0]:A.h)>>>0).toString(R);if(A=D,M(A))return U+N;for(;U.length<6;)U="0"+U;N=U+N}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function M(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function O(R){return R.h==-1}n.l=function(R){return R=B(this,R),O(R)?-1:M(R)?0:1};function b(R){const I=R.g.length,A=[];for(let N=0;N<I;N++)A[N]=~R.g[N];return new u(A,~R.h).add(T)}n.abs=function(){return O(this)?b(this):this},n.add=function(R){const I=Math.max(this.g.length,R.g.length),A=[];let N=0;for(let D=0;D<=I;D++){let U=N+(this.i(D)&65535)+(R.i(D)&65535),k=(U>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);N=k>>>16,U&=65535,k&=65535,A[D]=k<<16|U}return new u(A,A[A.length-1]&-2147483648?-1:0)};function B(R,I){return R.add(b(I))}n.j=function(R){if(M(this)||M(R))return w;if(O(this))return O(R)?b(this).j(b(R)):b(b(this).j(R));if(O(R))return b(this.j(b(R)));if(this.l(C)<0&&R.l(C)<0)return p(this.m()*R.m());const I=this.g.length+R.g.length,A=[];for(var N=0;N<2*I;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<R.g.length;D++){const U=this.i(N)>>>16,k=this.i(N)&65535,$e=R.i(D)>>>16,ht=R.i(D)&65535;A[2*N+2*D]+=k*ht,H(A,2*N+2*D),A[2*N+2*D+1]+=U*ht,H(A,2*N+2*D+1),A[2*N+2*D+1]+=k*$e,H(A,2*N+2*D+1),A[2*N+2*D+2]+=U*$e,H(A,2*N+2*D+2)}for(R=0;R<I;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=I;R<2*I;R++)A[R]=0;return new u(A,0)};function H(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function q(R,I){this.g=R,this.h=I}function se(R,I){if(M(I))throw Error("division by zero");if(M(R))return new q(w,w);if(O(R))return I=se(b(R),I),new q(b(I.g),b(I.h));if(O(I))return I=se(R,b(I)),new q(b(I.g),I.h);if(R.g.length>30){if(O(R)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var A=T,N=I;N.l(R)<=0;)A=re(A),N=re(N);var D=oe(A,1),U=oe(N,1);for(N=oe(N,2),A=oe(A,2);!M(N);){var k=U.add(N);k.l(R)<=0&&(D=D.add(A),U=k),N=oe(N,1),A=oe(A,1)}return I=B(R,D.j(I)),new q(D,I)}for(D=w;R.l(I)>=0;){for(A=Math.max(1,Math.floor(R.m()/I.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),U=p(A),k=U.j(I);O(k)||k.l(R)>0;)A-=N,U=p(A),k=U.j(I);M(U)&&(U=T),D=D.add(U),R=B(R,k)}return new q(D,R)}n.B=function(R){return se(this,R).h},n.and=function(R){const I=Math.max(this.g.length,R.g.length),A=[];for(let N=0;N<I;N++)A[N]=this.i(N)&R.i(N);return new u(A,this.h&R.h)},n.or=function(R){const I=Math.max(this.g.length,R.g.length),A=[];for(let N=0;N<I;N++)A[N]=this.i(N)|R.i(N);return new u(A,this.h|R.h)},n.xor=function(R){const I=Math.max(this.g.length,R.g.length),A=[];for(let N=0;N<I;N++)A[N]=this.i(N)^R.i(N);return new u(A,this.h^R.h)};function re(R){const I=R.g.length+1,A=[];for(let N=0;N<I;N++)A[N]=R.i(N)<<1|R.i(N-1)>>>31;return new u(A,R.h)}function oe(R,I){const A=I>>5;I%=32;const N=R.g.length-A,D=[];for(let U=0;U<N;U++)D[U]=I>0?R.i(U+A)>>>I|R.i(U+A+1)<<32-I:R.i(U+A);return new u(D,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Rx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Gi=u}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kx,Tl,bx,nh,Fp,Nx,Vx,Dx;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(c,v){if(v)e:{var E=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var $=c[S];if(!($ in E))break e;E=E[$]}c=c[c.length-1],S=E[c],v=v(S),v!=S&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var E=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&E.push([S,v[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function f(c,v,E){return c.call.apply(c.bind,arguments)}function p(c,v,E){return p=f,p.apply(null,arguments)}function g(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,v){function E(){}E.prototype=v.prototype,c.Z=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,$,G){for(var ie=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ie[Se-2]=arguments[Se];return v.prototype[$].apply(S,ie)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function C(c){const v=c.length;if(v>0){const E=Array(v);for(let S=0;S<v;S++)E[S]=c[S];return E}return[]}function M(c,v){for(let S=1;S<arguments.length;S++){const $=arguments[S];var E=typeof $;if(E=E!="object"?E:$?Array.isArray($)?"array":E:"null",E=="array"||E=="object"&&typeof $.length=="number"){E=c.length||0;const G=$.length||0;c.length=E+G;for(let ie=0;ie<G;ie++)c[E+ie]=$[ie]}else c.push($)}}class O{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(c){u.setTimeout(()=>{throw c},0)}function B(){var c=R;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,E){const S=q.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var q=new O(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,oe=!1,R=new H,I=()=>{const c=Promise.resolve(void 0);re=()=>{c.then(A)}};function A(){for(var c;c=B();){try{c.h.call(c.g)}catch(E){b(E)}var v=q;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}oe=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return c})();function k(c){return/^[\s\xa0]*$/.test(c)}function $e(c,v){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}w($e,D),$e.prototype.init=function(c,v){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),Vt=0;function Ce(c,v,E,S,$){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=$,this.key=++Vt,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function de(c,v,E){for(const S in c)v.call(E,c[S],S,c)}function ae(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function F(c){const v={};for(const E in c)v[E]=c[E];return v}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(c,v){let E,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(E in S)c[E]=S[E];for(let G=0;G<Y.length;G++)E=Y[G],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function Pe(c){this.src=c,this.g={},this.h=0}Pe.prototype.add=function(c,v,E,S,$){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ie=be(c,v,S,$);return ie>-1?(v=c[ie],E||(v.fa=!1)):(v=new Ce(v,this.src,G,!!S,$),v.fa=E,c.push(v)),v};function ke(c,v){const E=v.type;if(E in c.g){var S=c.g[E],$=Array.prototype.indexOf.call(S,v,void 0),G;(G=$>=0)&&Array.prototype.splice.call(S,$,1),G&&(te(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function be(c,v,E,S){for(let $=0;$<c.length;++$){const G=c[$];if(!G.da&&G.listener==v&&G.capture==!!E&&G.ha==S)return $}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Oe={};function We(c,v,E,S,$){if(Array.isArray(v)){for(let G=0;G<v.length;G++)We(c,v[G],E,S,$);return null}return E=Ia(E),c&&c[ht]?c.J(v,E,d(S)?!!S.capture:!1,$):Jt(c,v,E,!1,S,$)}function Jt(c,v,E,S,$,G){if(!v)throw Error("Invalid event type");const ie=d($)?!!$.capture:!!$;let Se=to(c);if(Se||(c[Be]=Se=new Pe(c)),E=Se.add(v,E,S,ie,G),E.proxy)return E;if(S=Zs(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)U||($=ie),$===void 0&&($=!1),c.addEventListener(v.toString(),S,$);else if(c.attachEvent)c.attachEvent(eo(v.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Zs(){function c(E){return v.call(c.src,c.listener,E)}const v=_u;return c}function Sa(c,v,E,S,$){if(Array.isArray(v))for(var G=0;G<v.length;G++)Sa(c,v[G],E,S,$);else S=d(S)?!!S.capture:!!S,E=Ia(E),c&&c[ht]?(c=c.i,G=String(v).toString(),G in c.g&&(v=c.g[G],E=be(v,E,S,$),E>-1&&(te(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete c.g[G],c.h--)))):c&&(c=to(c))&&(v=c.g[v.toString()],c=-1,v&&(c=be(v,E,S,$)),(E=c>-1?v[c]:null)&&ui(E))}function ui(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[ht])ke(v.i,c);else{var E=c.type,S=c.proxy;v.removeEventListener?v.removeEventListener(E,S,c.capture):v.detachEvent?v.detachEvent(eo(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=to(v))?(ke(E,c),E.h==0&&(E.src=null,v[Be]=null)):te(c)}}}function eo(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function _u(c,v){if(c.da)c=!0;else{v=new $e(v,this);const E=c.listener,S=c.ha||c.src;c.fa&&ui(c),c=E.call(S,v)}return c}function to(c){return c=c[Be],c instanceof Pe?c:null}var os="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ia(c){return typeof c=="function"?c:(c[os]||(c[os]=function(v){return c.handleEvent(v)}),c[os])}function vt(){N.call(this),this.i=new Pe(this),this.M=this,this.G=null}w(vt,N),vt.prototype[ht]=!0,vt.prototype.removeEventListener=function(c,v,E,S){Sa(this,c,v,E,S)};function dt(c,v){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=v.type||v,typeof v=="string")v=new D(v,c);else if(v instanceof D)v.target=v.target||c;else{var $=v;v=new D(S,c),Ae(v,$)}$=!0;let G,ie;if(E)for(ie=E.length-1;ie>=0;ie--)G=v.g=E[ie],$=On(G,S,!0,v)&&$;if(G=v.g=c,$=On(G,S,!0,v)&&$,$=On(G,S,!1,v)&&$,E)for(ie=0;ie<E.length;ie++)G=v.g=E[ie],$=On(G,S,!1,v)&&$}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const E=c.g[v];for(let S=0;S<E.length;S++)te(E[S]);delete c.g[v],c.h--}}this.G=null},vt.prototype.J=function(c,v,E,S){return this.i.add(String(c),v,!1,E,S)},vt.prototype.K=function(c,v,E,S){return this.i.add(String(c),v,!0,E,S)};function On(c,v,E,S){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let $=!0;for(let G=0;G<v.length;++G){const ie=v[G];if(ie&&!ie.da&&ie.capture==E){const Se=ie.listener,ft=ie.ha||ie.src;ie.fa&&ke(c.i,ie),$=Se.call(ft,S)!==!1&&$}}return $&&!S.defaultPrevented}function Ca(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(c,v||0)}function Aa(c){c.g=Ca(()=>{c.g=null,c.i&&(c.i=!1,Aa(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class wu extends N{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Aa(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(c){N.call(this),this.h=c,this.g={}}w(ci,N);var Pa=[];function no(c){de(c.g,function(v,E){this.g.hasOwnProperty(E)&&ui(v)},c),c.g={}}ci.prototype.N=function(){ci.Z.N.call(this),no(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=u.JSON.stringify,Eu=u.JSON.parse,as=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function di(){}function Tu(){}var fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ro(){D.call(this,"d")}w(ro,D);function Ra(){D.call(this,"c")}w(Ra,D);var jn={},io=null;function pi(){return io=io||new vt}jn.Ia="serverreachability";function so(c){D.call(this,jn.Ia,c)}w(so,D);function br(c){const v=pi();dt(v,new so(v))}jn.STAT_EVENT="statevent";function Nr(c,v){D.call(this,jn.STAT_EVENT,c),this.stat=v}w(Nr,D);function lt(c){const v=pi();dt(v,new Nr(v,c))}jn.Ja="timingevent";function ka(c,v){D.call(this,jn.Ja,c),this.size=v}w(ka,D);function mi(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},v)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function xu(c,v,E,S,$,G){c.info(function(){if(c.g)if(G){var ie="",Se=G.split("&");for(let He=0;He<Se.length;He++){var ft=Se[He].split("=");if(ft.length>1){const _t=ft[0];ft=ft[1];const vn=_t.split("_");ie=vn.length>=2&&vn[1]=="type"?ie+(_t+"="+ft+"&"):ie+(_t+"=redacted&")}}}else ie=null;else ie=G;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+v+`
`+E+`
`+ie})}function Su(c,v,E,S,$,G,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+v+`
`+E+`
`+G+" "+ie})}function Jn(c,v,E,S){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+ls(c,E)+(S?" "+S:"")})}function Iu(c,v){c.info(function(){return"TIMEOUT: "+v})}gi.prototype.info=function(){};function ls(c,v){if(!c.g)return v;if(!v)return null;try{const G=JSON.parse(v);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var $=S[0];if($!="noop"&&$!="stop"&&$!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return hi(G)}catch{return v}}var yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cu;function Vr(){}w(Vr,di),Vr.prototype.g=function(){return new XMLHttpRequest},Cu=new Vr;function Zn(c){return encodeURIComponent(String(c))}function oo(c){var v=1;c=c.split(":");const E=[];for(;v>0&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function Tn(c,v,E,S){this.j=c,this.i=v,this.l=E,this.S=S||1,this.V=new ci(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Au}function Au(){this.i=null,this.g="",this.h=!1}var Pu={},ba={};function Fn(c,v,E){c.M=1,c.A=Mr(xn(v)),c.u=E,c.R=!0,Na(c,null)}function Na(c,v){c.F=Date.now(),us(c),c.B=xn(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),za(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Au,c.g=ju(c.j,E?v:null,!c.u),c.P>0&&(c.O=new wu(p(c.Y,c,c.g),c.P)),v=c.V,E=c.g,S=c.ba;var $="readystatechange";Array.isArray($)||($&&(Pa[0]=$.toString()),$=Pa);for(let G=0;G<$.length;G++){const ie=We(E,$[G],S||v.handleEvent,!1,v.h||v);if(!ie)break;v.g[ie.key]=ie}v=c.J?F(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),br(),xu(c.i,c.v,c.B,c.l,c.S,c.u)}Tn.prototype.ba=function(c){c=c.target;const v=this.O;v&&or(c)==3?v.j():this.Y(c)},Tn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=or(this.g),ft=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Lu(this.g)))){this.K||Se!=4||ft==7||(ft==8||He<=0?br(3):br(2)),ao(this);var v=this.g.ca();this.X=v;var E=Ru(this);if(this.o=v==200,Su(this.i,this.v,this.B,this.l,this.S,Se,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,$=this.g;if((S=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(S)){var G=S;break t}}G=null}if(c=G)Jn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ge(this,c);else{this.o=!1,this.m=3,lt(12),Dr(this),cs(this);break e}}if(this.R){c=!0;let _t;for(;!this.K&&this.C<E.length;)if(_t=bu(this,E),_t==ba){Se==4&&(this.m=4,lt(14),c=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Pu){this.m=4,lt(15),Jn(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Jn(this.i,this.l,_t,null),Ge(this,_t);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||E.length!=0||this.h.h||(this.m=1,lt(16),c=!1),this.o=this.o&&c,!c)Jn(this.i,this.l,E,"[Invalid Chunked Response]"),Dr(this),cs(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),_s(ie),ie.P=!0,lt(11))}}else Jn(this.i,this.l,E,null),Ge(this,E);Se==4&&Dr(this),this.o&&!this.K&&(Se==4?vo(this.j,this):(this.o=!1,us(this)))}else Ha(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),Dr(this),cs(this)}}}catch{}finally{}};function Ru(c){if(!ku(c))return c.g.la();const v=Lu(c.g);if(v==="")return"";let E="";const S=v.length,$=or(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Dr(c),cs(c),"";c.h.i=new u.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,E+=c.h.i.decode(v[G],{stream:!($&&G==S-1)});return v.length=0,c.h.g+=E,c.C=0,c.h.g}function ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,v){var E=c.C,S=v.indexOf(`
`,E);return S==-1?ba:(E=Number(v.substring(E,S)),isNaN(E)?Pu:(S+=1,S+E>v.length?ba:(v=v.slice(S,S+E),c.C=S+E,v)))}Tn.prototype.cancel=function(){this.K=!0,Dr(this)};function us(c){c.T=Date.now()+c.H,Va(c,c.H)}function Va(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(p(c.aa,c),v)}function ao(c){c.D&&(u.clearTimeout(c.D),c.D=null)}Tn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Iu(this.i,this.B),this.M!=2&&(br(),lt(17)),Dr(this),this.m=2,cs(this)):Va(this,this.T-c)};function cs(c){c.j.I==0||c.K||vo(c.j,c)}function Dr(c){ao(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,no(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Ge(c,v){try{var E=c.j;if(E.I!=0&&(E.g==c||Ma(E.h,c))){if(!c.L&&Ma(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)yo(E),gn(E);else break e;ur(E),lt(18)}}else E.xa=$[1],0<E.xa-E.K&&$[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=mi(p(E.Va,E),6e3));hs(E.h)<=1&&E.ta&&(E.ta=void 0)}else yn(E,11)}else if((c.L||E.g==c)&&yo(E),!k(v))for($=E.Ba.g.parse(v),v=0;v<$.length;v++){let He=$[v];const _t=He[0];if(!(_t<=E.K))if(E.K=_t,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const vn=He[3];vn!=null&&(E.ka=vn,E.j.info("VER="+E.ka));const Ur=He[4];Ur!=null&&(E.za=Ur,E.j.info("SVER="+E.za));const cr=He[5];cr!=null&&typeof cr=="number"&&cr>0&&(S=1.5*cr,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const hr=c.g;if(hr){const Eo=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var G=S.h;G.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(uo(G,G.h),G.h=null))}if(S.G){const Ka=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(S.wa=Ka,Ue(S.J,S.G,Ka))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ie=c;if(S.na=qa(S,S.L?S.ba:null,S.W),ie.L){ds(S.h,ie);var Se=ie,ft=S.O;ft&&(Se.H=ft),Se.D&&(ao(Se),us(Se)),S.g=ie}else zt(S);E.i.length>0&&Fr(E)}else He[0]!="stop"&&He[0]!="close"||yn(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?yn(E,7):mo(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}br(4)}catch{}}var rd=class{constructor(c,v){this.g=c,this.map=v}};function lo(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Da(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hs(c){return c.h?1:c.g?c.g.size:0}function Ma(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function uo(c,v){c.g?c.g.add(v):c.h=v}function ds(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}lo.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.G);return v}return C(c.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pn(c,v){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let $,G=null;S>=0?($=c[E].substring(0,S),G=c[E].substring(S+1)):$=c[E],v($,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function er(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof er?(this.l=c.l,fs(this,c.j),this.o=c.o,this.g=c.g,tr(this,c.u),this.h=c.h,_i(this,$a(c.i)),this.m=c.m):c&&(v=String(c).match(Nu))?(this.l=!1,fs(this,v[1]||"",!0),this.o=ps(v[2]||""),this.g=ps(v[3]||"",!0),tr(this,v[4]),this.h=ps(v[5]||"",!0),_i(this,v[6]||"",!0),this.m=ps(v[7]||"")):(this.l=!1,this.i=new Me(null,this.l))}er.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(ms(v,Oa,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(ms(v,Oa,!0),"@"),c.push(Zn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ms(E,E.charAt(0)=="/"?gs:ja,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ms(E,Fa)),c.join("")},er.prototype.resolve=function(c){const v=xn(this);let E=!!c.j;E?fs(v,c.j):E=!!c.o,E?v.o=c.o:E=!!c.g,E?v.g=c.g:E=c.u!=null;var S=c.h;if(E)tr(v,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var $=v.h.lastIndexOf("/");$!=-1&&(S=v.h.slice(0,$+1)+S)}if($=S,$==".."||$==".")S="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){S=$.lastIndexOf("/",0)==0,$=$.split("/");const G=[];for(let ie=0;ie<$.length;){const Se=$[ie++];Se=="."?S&&ie==$.length&&G.push(""):Se==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&ie==$.length&&G.push("")):(G.push(Se),S=!0)}S=G.join("/")}else S=$}return E?v.h=S:E=c.i.toString()!=="",E?_i(v,$a(c.i)):E=!!c.m,E&&(v.m=c.m),v};function xn(c){return new er(c)}function fs(c,v,E){c.j=E?ps(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function tr(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function _i(c,v,E){v instanceof Me?(c.i=v,ho(c.i,c.l)):(E||(v=ms(v,id)),c.i=new Me(v,c.l))}function Ue(c,v,E){c.i.set(v,E)}function Mr(c){return Ue(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ps(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ms(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,La),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function La(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oa=/[#\/\?@]/g,ja=/[#\?:]/g,gs=/[#\?]/g,id=/[#\?@]/g,Fa=/#/g;function Me(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function nr(c){c.g||(c.g=new Map,c.h=0,c.i&&pn(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Me.prototype,n.add=function(c,v){nr(this),this.i=null,c=rr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function Ua(c,v){nr(c),v=rr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function co(c,v){return nr(c),v=rr(c,v),c.g.has(v)}n.forEach=function(c,v){nr(this),this.g.forEach(function(E,S){E.forEach(function($){c.call(v,$,S,this)},this)},this)};function Ba(c,v){nr(c);let E=[];if(typeof v=="string")co(c,v)&&(E=E.concat(c.g.get(rr(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)E=E.concat(c[v]);return E}n.set=function(c,v){return nr(this),this.i=null,c=rr(this,c),co(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=Ba(this,c),c.length>0?String(c[0]):v):v};function za(c,v,E){Ua(c,v),E.length>0&&(c.i=null,c.g.set(rr(c,v),C(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var E=v[S];const $=Zn(E);E=Ba(this,E);for(let G=0;G<E.length;G++){let ie=$;E[G]!==""&&(ie+="="+Zn(E[G])),c.push(ie)}}return this.i=c.join("&")};function $a(c){const v=new Me;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function rr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function ho(c,v){v&&!c.j&&(nr(c),c.i=null,c.g.forEach(function(E,S){const $=S.toLowerCase();S!=$&&(Ua(this,S),za(this,$,E))},c)),c.j=v}function ir(c,v){const E=new gi;if(u.Image){const S=new Image;S.onload=g(Dt,E,"TestLoadImage: loaded",!0,v,S),S.onerror=g(Dt,E,"TestLoadImage: error",!1,v,S),S.onabort=g(Dt,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=g(Dt,E,"TestLoadImage: timeout",!1,v,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else v(!1)}function sr(c,v){const E=new gi,S=new AbortController,$=setTimeout(()=>{S.abort(),Dt(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout($),G.ok?Dt(E,"TestPingServer: ok",!0,v):Dt(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Dt(E,"TestPingServer: error",!1,v)})}function Dt(c,v,E,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(E)}catch{}}function ys(){this.g=new as}function Lr(c){this.i=c.Sb||null,this.h=c.ab||!1}w(Lr,di),Lr.prototype.g=function(){return new mn(this.i,this.h)};function mn(c,v){vt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(mn,vt),n=mn.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,Un(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?wi(this):Un(this),this.readyState==3&&Vu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,wi(this))},n.Na=function(c){this.g&&(this.response=c,wi(this))},n.ga=function(){this.g&&wi(this)};function wi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Un(c)}n.setRequestHeader=function(c,v){this.A.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function Un(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Du(c){let v="";return de(c,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function fo(c,v,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Du(E),typeof c=="string"?E!=null&&Zn(E):Ue(c,v,E))}function qe(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(qe,vt);var Mu=/^https?$/i,sd=["POST","PUT"];n=qe.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cu.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(G){Ei(this,G);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)E.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())E.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),$=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(sd,v,void 0)>=0)||S||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of E)this.g.setRequestHeader(G,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ei(this,G)}};function Ei(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Ti(c),jr(c)}function Ti(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,dt(this,"complete"),dt(this,"abort"),jr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),qe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},n.Xa=function(){Or(this)};function Or(c){if(c.h&&typeof a<"u"){if(c.v&&or(c)==4)setTimeout(c.Ca.bind(c),0);else if(dt(c,"readystatechange"),or(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var S;if(S=G===0){let ie=String(c.D).match(Nu)[1]||null;!ie&&u.self&&u.self.location&&(ie=u.self.location.protocol.slice(0,-1)),S=!Mu.test(ie?ie.toLowerCase():"")}E=S}if(E)dt(c,"complete"),dt(c,"success");else{c.o=6;try{var $=or(c)>2?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.ca()+"]",Ti(c)}}finally{jr(c)}}}}function jr(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,v||dt(c,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function or(c){return c.g?c.g.readyState:0}n.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Eu(v)}};function Lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ha(c){const v={};c=(c.g&&or(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(k(c[S]))continue;var E=oo(c[S]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=v[$]||[];v[$]=G,G.push(E)}ae(v,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function po(c){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ar("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ar("baseRetryDelayMs",5e3,c),this.Za=ar("retryDelaySeedMs",1e4,c),this.Ta=ar("forwardChannelMaxRetries",2,c),this.va=ar("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new lo(c&&c.concurrentRequestLimit),this.Ba=new ys,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=po.prototype,n.ka=8,n.I=1,n.connect=function(c,v,E,S){lt(0),this.W=c,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=qa(this,null,this.W),Fr(this)};function mo(c){if(go(c),c.I==3){var v=c.V++,E=xn(c.J);if(Ue(E,"SID",c.M),Ue(E,"RID",v),Ue(E,"TYPE","terminate"),lr(c,E),v=new Tn(c,c.j,v),v.M=2,v.A=Mr(xn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.A,E=!0),E||(v.g=ju(v.j,null),v.g.ea(v.A)),v.F=Date.now(),us(v)}ws(c)}function gn(c){c.g&&(_s(c),c.g.cancel(),c.g=null)}function go(c){gn(c),c.v&&(u.clearTimeout(c.v),c.v=null),yo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Fr(c){if(!Da(c.h)&&!c.m){c.m=!0;var v=c.Ea;re||I(),oe||(re(),oe=!0),R.add(v,c),c.D=0}}function Ou(c,v){return hs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(p(c.Ea,c,v),_o(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const $=new Tn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=F(G),Ae(G,this.U)):G=this.U),this.u!==null||this.R||($.J=G,G=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Wa(this,$,v),E=xn(this.J),Ue(E,"RID",c),Ue(E,"CVER",22),this.G&&Ue(E,"X-HTTP-Session-Id",this.G),lr(this,E),G&&(this.R?v="headers="+Zn(Du(G))+"&"+v:this.u&&fo(E,this.u,G)),uo(this.h,$),this.Ra&&Ue(E,"TYPE","init"),this.S?(Ue(E,"$req",v),Ue(E,"SID","null"),$.U=!0,Fn($,E,null)):Fn($,E,v),this.I=2}}else this.I==3&&(c?vs(this,c):this.i.length==0||Da(this.h)||vs(this))};function vs(c,v){var E;v?E=v.l:E=c.V++;const S=xn(c.J);Ue(S,"SID",c.M),Ue(S,"RID",E),Ue(S,"AID",c.K),lr(c,S),c.u&&c.o&&fo(S,c.u,c.o),E=new Tn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Wa(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),uo(c.h,E),Fn(E,S,v)}function lr(c,v){c.H&&de(c.H,function(E,S){Ue(v,S,E)}),c.l&&de({},function(E,S){Ue(v,S,E)})}function Wa(c,v,E){E=Math.min(c.i.length,E);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var $=c.i;let Se=-1;for(;;){const ft=["count="+E];Se==-1?E>0?(Se=$[0].g,ft.push("ofs="+Se)):Se=0:ft.push("ofs="+Se);let He=!0;for(let _t=0;_t<E;_t++){var G=$[_t].g;const vn=$[_t].map;if(G-=Se,G<0)Se=Math.max(0,$[_t].g-100),He=!1;else try{G="req"+G+"_"||"";try{var ie=vn instanceof Map?vn:Object.entries(vn);for(const[Ur,cr]of ie){let hr=cr;d(cr)&&(hr=hi(cr)),ft.push(G+Ur+"="+encodeURIComponent(hr))}}catch(Ur){throw ft.push(G+"type="+encodeURIComponent("_badmap")),Ur}}catch{S&&S(vn)}}if(He){ie=ft.join("&");break e}}ie=void 0}return c=c.i.splice(0,E),v.G=c,ie}function zt(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;re||I(),oe||(re(),oe=!0),R.add(v,c),c.A=0}}function ur(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(p(c.Da,c),_o(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,xi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(p(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),gn(this),xi(this))};function _s(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function xi(c){c.g=new Tn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=xn(c.na);Ue(v,"RID","rpc"),Ue(v,"SID",c.M),Ue(v,"AID",c.K),Ue(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ue(v,"TO",c.ia),Ue(v,"TYPE","xmlhttp"),lr(c,v),c.u&&c.o&&fo(v,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Mr(xn(v)),E.u=null,E.R=!0,Na(E,c)}n.Va=function(){this.C!=null&&(this.C=null,gn(this),ur(this),lt(19))};function yo(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function vo(c,v){var E=null;if(c.g==v){yo(c),_s(c),c.g=null;var S=2}else if(Ma(c.h,v))E=v.G,ds(c.h,v),S=1;else return;if(c.I!=0){if(v.o)if(S==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var $=c.D;S=pi(),dt(S,new ka(S,E)),Fr(c)}else zt(c);else if($=v.m,$==3||$==0&&v.X>0||!(S==1&&Ou(c,v)||S==2&&ur(c)))switch(E&&E.length>0&&(v=c.h,v.i=v.i.concat(E)),$){case 1:yn(c,5);break;case 4:yn(c,10);break;case 3:yn(c,6);break;default:yn(c,2)}}}function _o(c,v){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*v}function yn(c,v){if(c.j.info("Error code "+v),v==2){var E=p(c.bb,c),S=c.Ua;const $=!S;S=new er(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fs(S,"https"),Mr(S),$?ir(S.toString(),E):sr(S.toString(),E)}else lt(2);c.I=0,c.l&&c.l.pa(v),ws(c),go(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function ws(c){if(c.I=0,c.ja=[],c.l){const v=fn(c.h);(v.length!=0||c.i.length!=0)&&(M(c.ja,v),M(c.ja,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.oa()}}function qa(c,v,E){var S=E instanceof er?xn(E):new er(E);if(S.g!="")v&&(S.g=v+"."+S.g),tr(S,S.u);else{var $=u.location;S=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;const G=new er(null);S&&fs(G,S),v&&(G.g=v),$&&tr(G,$),E&&(G.h=E),S=G}return E=c.G,v=c.wa,E&&v&&Ue(S,E,v),Ue(S,"VER",c.ka),lr(c,S),S}function ju(c,v,E){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new qe(new Lr({ab:E})):new qe(c.ma),v.Fa(c.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}n=Fu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function wo(){}wo.prototype.g=function(c,v){return new Mt(c,v)};function Mt(c,v){vt.call(this),this.g=new po(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!k(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Si(this)}w(Mt,vt),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){mo(this.g)},Mt.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=hi(c),c=E);v.i.push(new rd(v.Ya++,c)),v.I==3&&Fr(v)},Mt.prototype.N=function(){this.g.l=null,delete this.j,mo(this.g),delete this.g,Mt.Z.N.call(this)};function Uu(c){ro.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}w(Uu,ro);function Bu(){Ra.call(this),this.status=1}w(Bu,Ra);function Si(c){this.g=c}w(Si,Fu),Si.prototype.ra=function(){dt(this.g,"a")},Si.prototype.qa=function(c){dt(this.g,new Uu(c))},Si.prototype.pa=function(c){dt(this.g,new Bu)},Si.prototype.oa=function(){dt(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Dx=function(){return new wo},Vx=function(){return pi()},Nx=jn,Fp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,nh=yi,vi.COMPLETE="complete",bx=vi,Tu.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Tl=Tu,qe.prototype.listenOnce=qe.prototype.K,qe.prototype.getLastError=qe.prototype.Ha,qe.prototype.getLastErrorCode=qe.prototype.ya,qe.prototype.getStatus=qe.prototype.ca,qe.prototype.getResponseJson=qe.prototype.La,qe.prototype.getResponseText=qe.prototype.la,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Fa,kx=qe}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",q_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Bm("@firebase/firestore");function zo(){return Ks.logLevel}function ue(n,...e){if(Ks.logLevel<=Ne.DEBUG){const t=e.map(eg);Ks.debug(`Firestore (${wa}): ${n}`,...t)}}function si(n,...e){if(Ks.logLevel<=Ne.ERROR){const t=e.map(eg);Ks.error(`Firestore (${wa}): ${n}`,...t)}}function oa(n,...e){if(Ks.logLevel<=Ne.WARN){const t=e.map(eg);Ks.warn(`Firestore (${wa}): ${n}`,...t)}}function eg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Mx(n,r,t)}function Mx(n,e,t){let r=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw si(r),new Error(r)}function ze(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||Mx(e,o,r)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gt.UNAUTHENTICATED)))}shutdown(){}}class MD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class LD{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qi,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new Lx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class OD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new OD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new K_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=UD(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function Up(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return np(o)===np(a)?Ve(o,a):np(o)?1:-1}return Ve(n.length,e.length)}const BD=55296,zD=57343;function np(n){const e=n.charCodeAt(0);return e>=BD&&e<=zD}function aa(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__name__";class vr{constructor(e,t,r){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&_e(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=vr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ve(e.length,t.length)}static compareSegments(e,t){const r=vr.isNumericId(e),o=vr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?vr.extractNumericId(e).compare(vr.extractNumericId(t)):Up(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class it extends vr{construct(e,t,r){return new it(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const $D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends vr{construct(e,t,r){return new Ut(e,t,r)}static isValidIdentifier(e){return $D.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G_}static keyField(){return new Ut([G_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(n,e,t){if(!t)throw new me(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WD(n,e,t,r){if(e===!0&&r===!0)throw new me(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Q_(n){if(!ve.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ox(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ng(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e(12329,{type:typeof n})}function Kl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ng(n);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n,e){const t={typeString:n};return e&&(t.value=e),t}function pu(n,e){if(!Ox(n))throw new me(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new me(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=-62135596800,X_=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*X_);return new Ze(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Y_)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:xt("string",Ze._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Ze(0,0))}static max(){return new xe(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function qD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new Ze(t+1,0):new Ze(t,r));return new Ji(o,ve.empty(),e)}function KD(n){return new Ji(n.readTime,n.key,Gl)}class Ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ji(xe.min(),ve.empty(),Gl)}static max(){return new Ji(xe.max(),ve.empty(),Gl)}}function GD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==QD)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,r)=>{t(e)}))}static reject(e){return new Q(((t,r)=>{r(e)}))}static waitFor(e){return new Q(((t,r)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(f=>r(f)))})),u=!0,a===o&&t()}))}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next((o=>o?Q.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new Q(((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((g=>{u[p]=g,++d,d===a&&r(u)}),(g=>o(g)))}}))}static doWhile(e,t){return new Q(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function XD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function qh(n){return n==null}function Th(n){return n===0&&1/n==-1/0}function JD(n){return typeof n=="number"&&Number.isInteger(n)&&!Th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="";function ZD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=J_(e)),e=eM(n.get(t),e);return J_(e)}function eM(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case jx:t+="";break;default:t+=a}}return t}function J_(n){return n+jx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Ft.RED,this.left=o??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Ft(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ew(this.data.getIterator())}getIteratorFrom(e){return new ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new At(Ut.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ux("Invalid base64 string: "+a):a}})(e);return new Bt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const tM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=tM.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function es(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="server_timestamp",zx="__type__",$x="__previous_value__",Hx="__local_write_time__";function ig(n){return(n?.mapValue?.fields||{})[zx]?.stringValue===Bx}function Kh(n){const e=n.mapValue.fields[$x];return ig(e)?Kh(e):e}function Ql(n){const e=Zi(n.mapValue.fields[Hx].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,t,r,o,a,u,d,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const xh="(default)";class Yl{constructor(e,t){this.projectId=e,this.database=t||xh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__type__",rM="__max__",$c={mapValue:{}},qx="__vector__",Sh="value";function ts(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ig(n)?4:sM(n)?9007199254740991:iM(n)?10:11:_e(28295,{value:n})}function Pr(n,e){if(n===e)return!0;const t=ts(n);if(t!==ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ql(n).isEqual(Ql(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Zi(o.timestampValue),d=Zi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return es(o.bytesValue).isEqual(es(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return yt(o.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return yt(o.integerValue)===yt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=yt(o.doubleValue),d=yt(a.doubleValue);return u===d?Th(u)===Th(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return aa(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Z_(u)!==Z_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Pr(u[f],d[f])))return!1;return!0})(n,e);default:return _e(52216,{left:n})}}function Xl(n,e){return(n.values||[]).find((t=>Pr(t,e)))!==void 0}function la(n,e){if(n===e)return 0;const t=ts(n),r=ts(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=yt(a.integerValue||a.doubleValue),f=yt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return tw(n.timestampValue,e.timestampValue);case 4:return tw(Ql(n),Ql(e));case 5:return Up(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=es(a),f=es(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=Ve(d[p],f[p]);if(g!==0)return g}return Ve(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Ve(yt(a.latitude),yt(u.latitude));return d!==0?d:Ve(yt(a.longitude),yt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return nw(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},p=d[Sh]?.arrayValue,g=f[Sh]?.arrayValue,w=Ve(p?.values?.length||0,g?.values?.length||0);return w!==0?w:nw(p,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===$c.mapValue&&u===$c.mapValue)return 0;if(a===$c.mapValue)return 1;if(u===$c.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const T=Up(f[w],g[w]);if(T!==0)return T;const C=la(d[f[w]],p[g[w]]);if(C!==0)return C}return Ve(f.length,g.length)})(n.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function tw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Zi(n),r=Zi(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function nw(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=la(t[o],r[o]);if(a)return a}return Ve(t.length,r.length)}function ua(n){return Bp(n)}function Bp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Zi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return es(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Bp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Bp(t.fields[u])}`;return o+"}"})(n.mapValue):_e(61005,{value:n})}function rh(n){switch(ts(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(n);return e?16+rh(e):16;case 5:return 2*n.stringValue.length;case 6:return es(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+rh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Qs(r.fields,((a,u)=>{o+=a.length+rh(u)})),o})(n.mapValue);default:throw _e(13486,{value:n})}}function zp(n){return!!n&&"integerValue"in n}function sg(n){return!!n&&"arrayValue"in n}function rw(n){return!!n&&"nullValue"in n}function iw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ih(n){return!!n&&"mapValue"in n}function iM(n){return(n?.mapValue?.fields||{})[Wx]?.stringValue===qx}function Vl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Qs(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Vl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vl(n.arrayValue.values[t]);return e}return{...n}}function sM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(t)}setAll(e){let t=Ut.emptyPath(),r={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Vl(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Qs(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Nn(Vl(this.value))}}function Kx(n){const e=[];return Qs(n.fields,((t,r)=>{const o=new Ut([t]);if(ih(r)){const a=Kx(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Qt(e,0,xe.min(),xe.min(),xe.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,o){return new Qt(e,1,t,xe.min(),r,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,xe.min(),xe.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,xe.min(),xe.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){this.position=e,this.inclusive=t}}function sw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=la(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ow(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t="asc"){this.field=e,this.dir=t}}function oM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{}class Ct extends Gx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lM(e,t,r):t==="array-contains"?new hM(e,r):t==="in"?new dM(e,r):t==="not-in"?new fM(e,r):t==="array-contains-any"?new pM(e,r):new Ct(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new uM(e,r):new cM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(la(t,this.value)):t!==null&&ts(this.value)===ts(t)&&this.matchesComparison(la(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends Gx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Rr(e,t)}matches(e){return Qx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qx(n){return n.op==="and"}function Yx(n){return aM(n)&&Qx(n)}function aM(n){for(const e of n.filters)if(e instanceof Rr)return!1;return!0}function $p(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+ua(n.value);if(Yx(n))return n.filters.map((e=>$p(e))).join(",");{const e=n.filters.map((t=>$p(t))).join(",");return`${n.op}(${e})`}}function Xx(n,e){return n instanceof Ct?(function(r,o){return o instanceof Ct&&r.op===o.op&&r.field.isEqual(o.field)&&Pr(r.value,o.value)})(n,e):n instanceof Rr?(function(r,o){return o instanceof Rr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,d)=>a&&Xx(u,o.filters[d])),!0):!1})(n,e):void _e(19439)}function Jx(n){return n instanceof Ct?(function(t){return`${t.field.canonicalString()} ${t.op} ${ua(t.value)}`})(n):n instanceof Rr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Jx).join(" ,")+"}"})(n):"Filter"}class lM extends Ct{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class uM extends Ct{constructor(e,t){super(e,"in",t),this.keys=Zx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class cM extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=Zx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Zx(n,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class hM extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sg(t)&&Xl(t.arrayValue,this.value)}}class dM extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xl(this.value.arrayValue,t)}}class fM extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xl(this.value.arrayValue,t)}}class pM extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Xl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function aw(n,e=null,t=[],r=[],o=null,a=null,u=null){return new mM(n,e,t,r,o,a,u)}function og(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>$p(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),qh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ua(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ua(r))).join(",")),e.Te=t}return e.Te}function ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Xx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ow(n.startAt,e.startAt)&&ow(n.endAt,e.endAt)}function Hp(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gM(n,e,t,r,o,a,u,d){return new Gh(n,e,t,r,o,a,u,d)}function lg(n){return new Gh(n)}function lw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yM(n){return n.collectionGroup!==null}function Dl(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new At(Ut.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ch(a,r))})),t.has(Ut.keyField().canonicalString())||e.Ie.push(new Ch(Ut.keyField(),r))}return e.Ie}function Tr(n){const e=Ie(n);return e.Ee||(e.Ee=vM(e,Dl(n))),e.Ee}function vM(n,e){if(n.limitType==="F")return aw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Ch(o.field,a)}));const t=n.endAt?new Ih(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ih(n.startAt.position,n.startAt.inclusive):null;return aw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Wp(n,e,t){return new Gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qh(n,e){return ag(Tr(n),Tr(e))&&n.limitType===e.limitType}function e1(n){return`${og(Tr(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>Jx(o))).join(", ")}]`),qh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>ua(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>ua(o))).join(",")),`Target(${r})`})(Tr(n))}; limitType=${n.limitType})`}function Yh(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Dl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,d,f){const p=sw(u,d,f);return u.inclusive?p<=0:p<0})(r.startAt,Dl(r),o)||r.endAt&&!(function(u,d,f){const p=sw(u,d,f);return u.inclusive?p>=0:p>0})(r.endAt,Dl(r),o))})(n,e)}function _M(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function t1(n){return(e,t)=>{let r=!1;for(const o of Dl(n)){const a=wM(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function wM(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?la(f,p):_e(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return Fx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=new at(ve.comparator);function oi(){return EM}const n1=new at(ve.comparator);function xl(...n){let e=n1;for(const t of n)e=e.insert(t.key,t);return e}function r1(n){let e=n1;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Fs(){return Ml()}function i1(){return Ml()}function Ml(){return new Ys((n=>n.toString()),((n,e)=>n.isEqual(e)))}const TM=new at(ve.comparator),xM=new At(ve.comparator);function De(...n){let e=xM;for(const t of n)e=e.add(t);return e}const SM=new At(Ve);function IM(){return SM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function s1(n){return{integerValue:""+n}}function CM(n,e){return JD(e)?s1(e):ug(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function AM(n,e,t){return n instanceof Ah?(function(o,a){const u={fields:{[zx]:{stringValue:Bx},[Hx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&ig(a)&&(a=Kh(a)),a&&(u.fields[$x]=a),{mapValue:u}})(t,e):n instanceof Jl?a1(n,e):n instanceof Zl?l1(n,e):(function(o,a){const u=o1(o,a),d=uw(u)+uw(o.Ae);return zp(u)&&zp(o.Ae)?s1(d):ug(o.serializer,d)})(n,e)}function PM(n,e,t){return n instanceof Jl?a1(n,e):n instanceof Zl?l1(n,e):t}function o1(n,e){return n instanceof Ph?(function(r){return zp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Ah extends Xh{}class Jl extends Xh{constructor(e){super(),this.elements=e}}function a1(n,e){const t=u1(e);for(const r of n.elements)t.some((o=>Pr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Zl extends Xh{constructor(e){super(),this.elements=e}}function l1(n,e){let t=u1(e);for(const r of n.elements)t=t.filter((o=>!Pr(o,r)));return{arrayValue:{values:t}}}class Ph extends Xh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function uw(n){return yt(n.integerValue||n.doubleValue)}function u1(n){return sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function RM(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Jl&&o instanceof Jl||r instanceof Zl&&o instanceof Zl?aa(r.elements,o.elements,Pr):r instanceof Ph&&o instanceof Ph?Pr(r.Ae,o.Ae):r instanceof Ah&&o instanceof Ah})(n.transform,e.transform)}class kM{constructor(e,t){this.version=e,this.transformResults=t}}class Zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jh{}function c1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new d1(n.key,Zr.none()):new mu(n.key,n.data,Zr.none());{const t=n.data,r=Nn.empty();let o=new At(Ut.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Xs(n.key,r,new Yn(o.toArray()),Zr.none())}}function bM(n,e,t){n instanceof mu?(function(o,a,u){const d=o.value.clone(),f=hw(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Xs?(function(o,a,u){if(!sh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=hw(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(h1(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ll(n,e,t,r){return n instanceof mu?(function(a,u,d,f){if(!sh(a.precondition,u))return d;const p=a.value.clone(),g=dw(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Xs?(function(a,u,d,f){if(!sh(a.precondition,u))return d;const p=dw(a.fieldTransforms,f,u),g=u.data;return g.setAll(h1(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,d){return sh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function NM(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=o1(r.transform,o||null);a!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,a))}return t||null}function cw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&aa(r,o,((a,u)=>RM(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class mu extends Jh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends Jh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function h1(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function hw(n,e,t){const r=new Map;ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,PM(u,d,t[o]))}return r}function dw(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,AM(a,u,e))}return r}class d1 extends Jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VM extends Jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&bM(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ll(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ll(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=i1();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=c1(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,((t,r)=>cw(t,r)))&&aa(this.baseMutations,e.baseMutations,((t,r)=>cw(t,r)))}}class cg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return TM})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new cg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Le;function OM(n){switch(n){case Z.OK:return _e(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _e(15467,{code:n})}}function f1(n){if(n===void 0)return si("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Et.OK:return Z.OK;case Et.CANCELLED:return Z.CANCELLED;case Et.UNKNOWN:return Z.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Z.INTERNAL;case Et.UNAVAILABLE:return Z.UNAVAILABLE;case Et.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Et.NOT_FOUND:return Z.NOT_FOUND;case Et.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Et.ABORTED:return Z.ABORTED;case Et.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Et.DATA_LOSS:return Z.DATA_LOSS;default:return _e(39323,{code:n})}}(Le=Et||(Et={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new Gi([4294967295,4294967295],0);function fw(n){const e=jM().encode(n),t=new Rx;return t.update(e),new Uint8Array(t.digest())}function pw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gi([t,r],0),new Gi([o,a],0)]}class hg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sl(`Invalid padding: ${t}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Gi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Gi.fromNumber(r)));return o.compare(FM)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=fw(e),[r,o]=pw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new hg(a,o,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=fw(e),[r,o]=pw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Zh(xe.min(),o,new at(Ve),oi(),De())}}class gu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new gu(r,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class p1{constructor(e,t){this.targetId=e,this.Ce=t}}class m1{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class mw{constructor(){this.ve=0,this.Fe=gw(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),t=De(),r=De();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:_e(38017,{changeType:a})}})),new gu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=gw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UM{constructor(e){this.Ge=e,this.ze=new Map,this.je=oi(),this.Je=Hc(),this.He=Hc(),this.Ye=new at(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(Hp(a))if(r===0){const u=new ve(a.path);this.et(t,u,Qt.newNoDocument(u,xe.min()))}else ze(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=es(r).toUint8Array()}catch(f){if(f instanceof Ux)return oa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new hg(u,o,a)}catch(f){return oa(f instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Hp(d.target)){const f=new ve(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Qt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=De();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new Zh(e,t,this.Ye,this.je,r);return this.je=oi(),this.Je=Hc(),this.He=Hc(),this.Ye=new at(Ve),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new mw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new At(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new At(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Hc(){return new at(ve.comparator)}function gw(){return new at(ve.comparator)}const BM={asc:"ASCENDING",desc:"DESCENDING"},zM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$M={and:"AND",or:"OR"};class HM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qp(n,e){return n.useProto3Json||qh(e)?e:{value:e}}function Rh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WM(n,e){return Rh(n,e.toTimestamp())}function xr(n){return ze(!!n,49232),xe.fromTimestamp((function(t){const r=Zi(t);return new Ze(r.seconds,r.nanos)})(n))}function dg(n,e){return Kp(n,e).canonicalString()}function Kp(n,e){const t=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function y1(n){const e=it.fromString(n);return ze(T1(e),10190,{key:e.toString()}),e}function Gp(n,e){return dg(n.databaseId,e.path)}function rp(n,e){const t=y1(e);if(t.get(1)!==n.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(_1(t))}function v1(n,e){return dg(n.databaseId,e)}function qM(n){const e=y1(n);return e.length===4?it.emptyPath():_1(e)}function Qp(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _1(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yw(n,e,t){return{name:Gp(n,e),fields:t.value.mapValue.fields}}function KM(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(ze(g===void 0||typeof g=="string",58123),Bt.fromBase64String(g||"")):(ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Bt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const g=p.code===void 0?Z.UNKNOWN:f1(p.code);return new me(g,p.message||"")})(u);t=new m1(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=rp(n,r.document.name),a=xr(r.document.updateTime),u=r.document.createTime?xr(r.document.createTime):xe.min(),d=new Nn({mapValue:{fields:r.document.fields}}),f=Qt.newFoundDocument(o,a,u,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new oh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=rp(n,r.document),a=r.readTime?xr(r.readTime):xe.min(),u=Qt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new oh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=rp(n,r.document),a=r.removedTargetIds||[];t=new oh([],a,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new LM(o,a),d=r.targetId;t=new p1(d,u)}}return t}function GM(n,e){let t;if(e instanceof mu)t={update:yw(n,e.key,e.value)};else if(e instanceof d1)t={delete:Gp(n,e.key)};else if(e instanceof Xs)t={update:yw(n,e.key,e.data),updateMask:rL(e.fieldMask)};else{if(!(e instanceof VM))return _e(16599,{Vt:e.type});t={verify:Gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof Ah)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Jl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Zl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ph)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw _e(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:WM(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)})(n,e.precondition)),t}function QM(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map((t=>(function(o,a){let u=o.updateTime?xr(o.updateTime):xr(a);return u.isEqual(xe.min())&&(u=xr(a)),new kM(u,o.transformResults||[])})(t,e)))):[]}function YM(n,e){return{documents:[v1(n,e.path)]}}function XM(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=v1(n,o);const a=(function(p){if(p.length!==0)return E1(Rr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((g=>(function(T){return{field:Ho(T.field),direction:eL(T.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=qp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:o}}function JM(n){let e=qM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ze(r===1,65062);const g=t.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(w){const T=w1(w);return T instanceof Rr&&Yx(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((T=>(function(M){return new Ch(Wo(M.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let T;return T=typeof w=="object"?w.value:w,qh(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,C=w.values||[];return new Ih(C,T)})(t.startAt));let p=null;return t.endAt&&(p=(function(w){const T=!w.before,C=w.values||[];return new Ih(C,T)})(t.endAt)),gM(e,o,u,a,d,"F",f,p)}function ZM(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function w1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wo(t.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Wo(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wo(t.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wo(t.unaryFilter.field);return Ct.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ct.create(Wo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Rr.create(t.compositeFilter.filters.map((r=>w1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(t.compositeFilter.op))})(n):_e(30097,{filter:n})}function eL(n){return BM[n]}function tL(n){return zM[n]}function nL(n){return $M[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function Wo(n){return Ut.fromServerFormat(n.fieldPath)}function E1(n){return n instanceof Ct?(function(t){if(t.op==="=="){if(iw(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(rw(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iw(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(rw(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:tL(t.op),value:t.value}}})(n):n instanceof Rr?(function(t){const r=t.getFilters().map((o=>E1(o)));return r.length===1?r[0]:{compositeFilter:{op:nL(t.op),filters:r}}})(n):_e(54877,{filter:n})}function rL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function T1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,r,o,a=xe.min(),u=xe.min(),d=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.yt=e}}function sL(n){const e=JM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.Cn=new aL}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Ji.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class aL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new At(it.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new At(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x1=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(x1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ca(0)}static cr(){return new ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="LruGarbageCollector",lL=1048576;function ww([n,e],[t,r]){const o=Ve(n,t);return o===0?Ve(e,r):o}class uL{constructor(e){this.Ir=e,this.buffer=new At(ww),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ww(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(_w,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ta(t)?ue(_w,"Ignoring IndexedDB error during garbage collection: ",t):await Ea(t)}await this.Vr(3e5)}))}}class hL{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Wh.ce);const r=new uL(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(vw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(p=Date.now(),zo()<=Ne.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w}))))}}function dL(n,e){return new hL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.changes=new Ys((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Ll(r.mutation,o,Yn.empty(),Ze.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,De()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=De()){const o=Fs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=xl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Fs();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,De())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,o){let a=oi();const u=Ml(),d=(function(){return Ml()})();return t.forEach(((f,p)=>{const g=r.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof Xs)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Ll(g.mutation,p,g.mutation.getFieldMask(),Ze.now())):u.set(p.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,g)=>u.set(p,g))),t.forEach(((p,g)=>d.set(p,new pL(g,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Ml();let o=new at(((u,d)=>u-d)),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Yn.empty();g=d.applyToLocalView(p,g),r.set(f,g);const w=(o.get(d.batchId)||De()).add(f);o=o.insert(d.batchId,w)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,w=i1();g.forEach((T=>{if(!a.has(T)){const C=c1(t.get(T),r.get(T));C!==null&&w.set(T,C),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Q.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):Q.resolve(Fs());let d=Gl,f=a;return u.next((p=>Q.forEach(p,((g,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(g)?Q.resolve():this.remoteDocumentCache.getEntry(e,g).next((T=>{f=f.insert(g,T)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,De()))).next((g=>({batchId:d,changes:r1(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((r=>{let o=xl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=xl();return this.indexManager.getCollectionParents(e,a).next((d=>Q.forEach(d,(f=>{const p=(function(w,T){return new Gh(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((g=>{g.forEach(((w,T)=>{u=u.insert(w,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Qt.newInvalidDocument(g)))}));let d=xl();return u.forEach(((f,p)=>{const g=a.get(f);g!==void 0&&Ll(g.mutation,p,Yn.empty(),Ze.now()),Yh(t,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:sL(o.bundledQuery),readTime:xr(o.readTime)}})(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.overlays=new at(ve.comparator),this.qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fs();return Q.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),Q.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const o=Fs(),a=t.length+1,u=new ve(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new at(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Fs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Fs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=o)););return Q.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new MM(t,r));let a=this.qr.get(t);a===void 0&&(a=De(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Qr=new At(bt.$r),this.Ur=new At(bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new bt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new bt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ve(new it([])),r=new bt(t,e),o=new bt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new it([])),r=new bt(t,e),o=new bt(t,e+1);let a=De();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new bt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new At(bt.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new DM(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new bt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,t){return Q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?rg:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const d=this.Xr(u.Yr);a.push(d)})),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new At(Ve);return t.forEach((o=>{const a=new bt(o,0),u=new bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const u=new bt(new ve(a),0);let d=new At(Ve);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(d=d.add(f.Yr)),!0)}),u),Q.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(t.mutations,(o=>{const a=new bt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new bt(t,0),o=this.Zr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.ri=e,this.docs=(function(){return new at(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=oi();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Qt.newInvalidDocument(o))})),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=oi();const u=t.path,d=new ve(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||GD(KD(g),r)<=0||(o.has(g.key)||Yh(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,t,r,o){_e(9500)}ii(e,t){return Q.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new EL(this)}getSize(e){return Q.resolve(this.size)}}class EL extends fL{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.persistence=e,this.si=new Ys((t=>og(t)),ag),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=ca.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Q.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ca(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Pr(t),Q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Q.waitFor(a).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),Q.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wh(0),this.li=!1,this.li=!0,this.hi=new vL,this.referenceDelegate=e(this),this.Pi=new TL(this),this.indexManager=new oL,this.remoteDocumentCache=(function(o){return new wL(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new iL(t),this.Ii=new gL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new _L(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const o=new xL(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class xL extends YD{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new fg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const o=ve.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Q.or([()=>Q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class kh{constructor(e,t){this.persistence=e,this.pi=new Ys((r=>ZD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=dL(this,t)}static mi(e,t){return new kh(e,t)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Q.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?Q.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,xe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rh(e.data.value)),t}br(e,t,r){return Q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Q.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=De(),o=De();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new mg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return f2()?8:XD(Xt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new SL;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(zo()<=Ne.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(zo()<=Ne.DEBUG&&ue("QueryEngine","Query:",$o(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(zo()<=Ne.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(t))):Q.resolve())}ys(e,t){if(lw(t))return Q.resolve(null);let r=Tr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Wp(t,null,"F"),r=Tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=De(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,d);return this.Cs(t,p,u,f.readTime)?this.ys(e,Wp(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,o){return lw(t)||o.isEqual(xe.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?Q.resolve(null):(zo()<=Ne.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$o(t)),this.vs(e,u,t,qD(o,Gl)).next((d=>d)))}))}Ds(e,t){let r=new At(t1(e));return t.forEach(((o,a)=>{Yh(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return zo()<=Ne.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",$o(t)),this.ps.getDocumentsMatchingQuery(e,t,Ji.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",CL=3e8;class AL{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new at(Ve),this.xs=new Ys((a=>og(a)),ag),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function PL(n,e,t,r){return new AL(n,e,t,r)}async function I1(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=De();for(const p of o){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function RL(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,g){const w=p.batch,T=w.keys();let C=Q.resolve();return T.forEach((M=>{C=C.next((()=>g.getEntry(f,M))).next((O=>{const b=p.docVersions.get(M);ze(b!==null,48541),O.version.compareTo(b)<0&&(w.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),g.addEntry(O)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=De();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function C1(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function kL(n,e){const t=Ie(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((g,w)=>{const T=o.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,w))));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(Bt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,r)),o=o.insert(w,C),(function(O,b,B){return O.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=CL?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,C,g)&&d.push(t.Pi.updateTargetData(a,C))}));let f=oi(),p=De();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(bL(a,u,e.documentUpdates).next((g=>{f=g.ks,p=g.qs}))),!r.isEqual(xe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return Q.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.Ms=o,a)))}function bL(n,e,t){let r=De(),o=De();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=oi();return t.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ue(gg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function NL(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function VL(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,Q.resolve(o)):t.Pi.allocateTargetId(r).next((u=>(o=new Hi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Yp(n,e,t){const r=Ie(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Ta(u))throw u;ue(gg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Ew(n,e,t){const r=Ie(n);let o=xe.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,g){const w=Ie(f),T=w.xs.get(g);return T!==void 0?Q.resolve(w.Ms.get(T)):w.Pi.getTargetData(p,g)})(r,u,Tr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:xe.min(),t?a:De()))).next((d=>(DL(r,_M(e),d),{documents:d,Qs:a})))))}function DL(n,e,t){let r=n.Os.get(e)||xe.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class Tw{constructor(){this.activeTargetIds=IM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ML{constructor(){this.Mo=new Tw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Tw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="ConnectivityMonitor";class Sw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(xw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(xw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Xp(){return Wc===null?Wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",OL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===xh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=Xp(),d=this.zo(e,t.toUriEncodedString());ue(ip,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:p}=new URL(d),g=ya(p);return this.Jo(e,d,f,r,g).then((w=>(ue(ip,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw oa(ip,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=OL[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class UL extends jL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=Xp();return new Promise(((d,f)=>{const p=new kx;p.setWithCredentials(!0),p.listenOnce(bx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case nh.NO_ERROR:const w=p.getResponseJson();ue(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case nh.TIMEOUT:ue(Kt,`RPC '${e}' ${u} timed out`),f(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const T=p.getStatus();if(ue(Kt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const O=(function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(H)>=0?H:Z.UNKNOWN})(M.status);f(new me(O,M.message))}else f(new me(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new me(Z.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Kt,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(o);ue(Kt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const o=Xp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Dx(),d=Vx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ue(Kt,`Creating RPC '${e}' stream ${o}: ${g}`,f);const w=u.createWebChannel(g,f);this.I_(w);let T=!1,C=!1;const M=new FL({Yo:b=>{C?ue(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(T||(ue(Kt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ue(Kt,`RPC '${e}' stream ${o} sending:`,b),w.send(b))},Zo:()=>w.close()}),O=(b,B,H)=>{b.listen(B,(q=>{try{H(q)}catch(se){setTimeout((()=>{throw se}),0)}}))};return O(w,Tl.EventType.OPEN,(()=>{C||(ue(Kt,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),O(w,Tl.EventType.CLOSE,(()=>{C||(C=!0,ue(Kt,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(w))})),O(w,Tl.EventType.ERROR,(b=>{C||(C=!0,oa(Kt,`RPC '${e}' stream ${o} transport errored. Name:`,b.name,"Message:",b.message),M.a_(new me(Z.UNAVAILABLE,"The operation could not be completed")))})),O(w,Tl.EventType.MESSAGE,(b=>{if(!C){const B=b.data[0];ze(!!B,16349);const H=B,q=H?.error||H[0]?.error;if(q){ue(Kt,`RPC '${e}' stream ${o} received error:`,q);const se=q.status;let re=(function(I){const A=Et[I];if(A!==void 0)return f1(A)})(se),oe=q.message;re===void 0&&(re=Z.INTERNAL,oe="Unknown error status: "+se+" with message "+q.message),C=!0,M.a_(new me(re,oe)),w.close()}else ue(Kt,`RPC '${e}' stream ${o} received:`,B),M.u_(B)}})),O(d,Nx.STAT_EVENT,(b=>{b.stat===Fp.PROXY?ue(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===Fp.NOPROXY&&ue(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(n){return new HM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="PersistentStream";class P1{constructor(e,t,r,o,a,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new me(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Iw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(Iw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BL extends P1{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=KM(this.serializer,e),r=(function(a){if(!("targetChange"in a))return xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?xr(u.readTime):xe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Qp(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=Hp(f)?{documents:YM(a,f)}:{query:XM(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=g1(a,u.resumeToken);const p=qp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(xe.min())>0){d.readTime=Rh(a,u.snapshotVersion.toTimestamp());const p=qp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=ZM(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Qp(this.serializer),t.removeTarget=e,this.q_(t)}}class zL extends P1{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=QM(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Qp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>GM(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{}class HL extends $L{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Kp(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(Z.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Kp(t,r),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(Z.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(si(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class qL{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Js(this)&&(ue(Gs,"Restarting streams for network reachability change."),await(async function(f){const p=Ie(f);p.Ea.add(4),await yu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await td(p)})(this))}))})),this.Ra=new WL(r,o)}}async function td(n){if(Js(n))for(const e of n.da)await e(!0)}async function yu(n){for(const e of n.da)await e(!1)}function R1(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),wg(t)?_g(t):xa(t).O_()&&vg(t,e))}function yg(n,e){const t=Ie(n),r=xa(t);t.Ia.delete(e),r.O_()&&k1(t,e),t.Ia.size===0&&(r.O_()?r.L_():Js(t)&&t.Ra.set("Unknown"))}function vg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xa(n).Y_(e)}function k1(n,e){n.Va.Ue(e),xa(n).Z_(e)}function _g(n){n.Va=new UM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),xa(n).start(),n.Ra.ua()}function wg(n){return Js(n)&&!xa(n).x_()&&n.Ia.size>0}function Js(n){return Ie(n).Ea.size===0}function b1(n){n.Va=void 0}async function KL(n){n.Ra.set("Online")}async function GL(n){n.Ia.forEach(((e,t)=>{vg(n,e)}))}async function QL(n,e){b1(n),wg(n)?(n.Ra.ha(e),_g(n)):n.Ra.set("Unknown")}async function YL(n,e,t){if(n.Ra.set("Online"),e instanceof m1&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(r){ue(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(n,r)}else if(e instanceof oh?n.Va.Ze(e):e instanceof p1?n.Va.st(e):n.Va.tt(e),!t.isEqual(xe.min()))try{const r=await C1(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Bt.EMPTY_BYTE_STRING,g.snapshotVersion)),k1(a,f);const w=new Hi(g.target,f,p,g.sequenceNumber);vg(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ue(Gs,"Failed to raise snapshot:",r),await bh(n,r)}}async function bh(n,e,t){if(!Ta(e))throw e;n.Ea.add(1),await yu(n),n.Ra.set("Offline"),t||(t=()=>C1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(Gs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await td(n)}))}function N1(n,e){return e().catch((t=>bh(n,t,e)))}async function nd(n){const e=Ie(n),t=ns(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rg;for(;XL(e);)try{const o=await NL(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,JL(e,o)}catch(o){await bh(e,o)}V1(e)&&D1(e)}function XL(n){return Js(n)&&n.Ta.length<10}function JL(n,e){n.Ta.push(e);const t=ns(n);t.O_()&&t.X_&&t.ea(e.mutations)}function V1(n){return Js(n)&&!ns(n).x_()&&n.Ta.length>0}function D1(n){ns(n).start()}async function ZL(n){ns(n).ra()}async function eO(n){const e=ns(n);for(const t of n.Ta)e.ea(t.mutations)}async function tO(n,e,t){const r=n.Ta.shift(),o=cg.from(r,e,t);await N1(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await nd(n)}async function nO(n,e){e&&ns(n).X_&&await(async function(r,o){if((function(u){return OM(u)&&u!==Z.ABORTED})(o.code)){const a=r.Ta.shift();ns(r).B_(),await N1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await nd(r)}})(n,e),V1(n)&&D1(n)}async function Cw(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ue(Gs,"RemoteStore received new credentials");const r=Js(t);t.Ea.add(3),await yu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await td(t)}async function rO(n,e){const t=Ie(n);e?(t.Ea.delete(2),await td(t)):e||(t.Ea.add(2),await yu(t),t.Ra.set("Unknown"))}function xa(n){return n.ma||(n.ma=(function(t,r,o){const a=Ie(t);return a.sa(),new BL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:KL.bind(null,n),t_:GL.bind(null,n),r_:QL.bind(null,n),H_:YL.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),wg(n)?_g(n):n.Ra.set("Unknown")):(await n.ma.stop(),b1(n))}))),n.ma}function ns(n){return n.fa||(n.fa=(function(t,r,o){const a=Ie(t);return a.sa(),new zL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZL.bind(null,n),r_:nO.bind(null,n),ta:eO.bind(null,n),na:tO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await nd(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(Gs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new Eg(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(n,e){if(si("AsyncQueue",`${e}: ${n}`),Ta(n))return new me(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=xl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.ga=new at(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ha{constructor(e,t,r,o,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new ha(e,t,ta.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sO{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ie(t),a=o.queries;o.queries=Pw(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function Pw(){return new Ys((n=>e1(n)),Qh)}async function oO(n,e){const t=Ie(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new iO,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Tg(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&xg(t)}async function aO(n,e){const t=Ie(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function lO(n,e){const t=Ie(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&xg(t)}function uO(n,e,t){const r=Ie(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function xg(n){n.Ca.forEach((e=>{e.next()}))}var Jp,Rw;(Rw=Jp||(Jp={})).Ma="default",Rw.Cache="cache";class cO{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.key=e}}class L1{constructor(e){this.key=e}}class hO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=t1(e),this.tu=new ta(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Aw,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,w)=>{const T=o.get(g),C=Yh(this.query,w)?w:null,M=!!T&&this.mutatedKeys.has(T.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let b=!1;T&&C?T.data.isEqual(C.data)?M!==O&&(r.track({type:3,doc:C}),b=!0):this.su(T,C)||(r.track({type:2,doc:C}),b=!0,(f&&this.eu(C,f)>0||p&&this.eu(C,p)<0)&&(d=!0)):!T&&C?(r.track({type:0,doc:C}),b=!0):T&&!C&&(r.track({type:1,doc:T}),b=!0,(f||p)&&(d=!0)),b&&(C?(u=u.add(C),a=O?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,w)=>(function(C,M){const O=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:b})}};return O(C)-O(M)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new ha(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Aw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new L1(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new M1(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=De();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ha.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class dO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fO{constructor(e){this.key=e,this.hu=!1}}class pO{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ys((d=>e1(d)),Qh),this.Iu=new Map,this.Eu=new Set,this.du=new at(ve.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=ca.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mO(n,e,t=!0){const r=z1(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await O1(r,e,t,!0),o}async function gO(n,e){const t=z1(n);await O1(t,e,!0,!1)}async function O1(n,e,t,r){const o=await VL(n.localStore,Tr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await yO(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&R1(n.remoteStore,o),d}async function yO(n,e,t,r,o){n.pu=(w,T,C)=>(async function(O,b,B,H){let q=b.view.ru(B);q.Cs&&(q=await Ew(O.localStore,b.query,!1).then((({documents:R})=>b.view.ru(R,q))));const se=H&&H.targetChanges.get(b.targetId),re=H&&H.targetMismatches.get(b.targetId)!=null,oe=b.view.applyChanges(q,O.isPrimaryClient,se,re);return bw(O,b.targetId,oe.au),oe.snapshot})(n,w,T,C);const a=await Ew(n.localStore,e,!0),u=new hO(e,a.Qs),d=u.ru(a.documents),f=gu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),p=u.applyChanges(d,n.isPrimaryClient,f);bw(n,t,p.au);const g=new dO(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function vO(n,e,t){const r=Ie(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!Qh(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Yp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&yg(r.remoteStore,o.targetId),Zp(r,o.targetId)})).catch(Ea)):(Zp(r,o.targetId),await Yp(r.localStore,o.targetId,!0))}async function _O(n,e){const t=Ie(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),yg(t.remoteStore,r.targetId))}async function wO(n,e,t){const r=AO(n);try{const o=await(function(u,d){const f=Ie(u),p=Ze.now(),g=d.reduce(((C,M)=>C.add(M.key)),De());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=oi(),O=De();return f.Ns.getEntries(C,g).next((b=>{M=b,M.forEach(((B,H)=>{H.isValidDocument()||(O=O.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(C,M))).next((b=>{w=b;const B=[];for(const H of d){const q=NM(H,w.get(H.key).overlayedDocument);q!=null&&B.push(new Xs(H.key,q,Kx(q.value.mapValue),Zr.exists(!0)))}return f.mutationQueue.addMutationBatch(C,p,B,d)})).next((b=>{T=b;const B=b.applyToLocalDocumentSet(w,O);return f.documentOverlayCache.saveOverlays(C,b.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:r1(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,d,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new at(Ve)),p=p.insert(d,f),u.Vu[u.currentUser.toKey()]=p})(r,o.batchId,t),await vu(r,o.changes),await nd(r.remoteStore)}catch(o){const a=Tg(o,"Failed to persist write");t.reject(a)}}async function j1(n,e){const t=Ie(n);try{const r=await kL(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Au.get(a);u&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ze(u.hu,14607):o.removedDocuments.size>0&&(ze(u.hu,42227),u.hu=!1))})),await vu(t,r,e)}catch(r){await Ea(r)}}function kw(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=Ie(u);f.onlineState=d;let p=!1;f.queries.forEach(((g,w)=>{for(const T of w.Sa)T.va(d)&&(p=!0)})),p&&xg(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EO(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new at(ve.comparator);u=u.insert(a,Qt.newNoDocument(a,xe.min()));const d=De().add(a),f=new Zh(xe.min(),new Map,new at(Ve),u,d);await j1(r,f),r.du=r.du.remove(a),r.Au.delete(e),Ig(r)}else await Yp(r.localStore,e,!1).then((()=>Zp(r,e,t))).catch(Ea)}async function TO(n,e){const t=Ie(n),r=e.batch.batchId;try{const o=await RL(t.localStore,e);U1(t,r,null),F1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vu(t,o)}catch(o){await Ea(o)}}async function xO(n,e,t){const r=Ie(n);try{const o=await(function(u,d){const f=Ie(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next((w=>(ze(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(p,w)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);U1(r,e,t),F1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vu(r,o)}catch(o){await Ea(o)}}function F1(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function U1(n,e,t){const r=Ie(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Zp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||B1(n,r)}))}function B1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(yg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ig(n))}function bw(n,e,t){for(const r of t)r instanceof M1?(n.Ru.addReference(r.key,e),SO(n,r)):r instanceof L1?(ue(Sg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||B1(n,r.key)):_e(19791,{wu:r})}function SO(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ue(Sg,"New document in limbo: "+t),n.Eu.add(r),Ig(n))}function Ig(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(it.fromString(e)),r=n.fu.next();n.Au.set(r,new fO(t)),n.du=n.du.insert(t,r),R1(n.remoteStore,new Hi(Tr(lg(t.path)),r,"TargetPurposeLimboResolution",Wh.ce))}}async function vu(n,e,t){const r=Ie(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){o.push(p);const g=mg.As(f.targetId,p);a.push(g)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,p){const g=Ie(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Q.forEach(p,(T=>Q.forEach(T.Es,(C=>g.persistence.referenceDelegate.addReference(w,T.targetId,C))).next((()=>Q.forEach(T.ds,(C=>g.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))))))}catch(w){if(!Ta(w))throw w;ue(gg,"Failed to update sequence numbers: "+w)}for(const w of p){const T=w.targetId;if(!w.fromCache){const C=g.Ms.get(T),M=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(M);g.Ms=g.Ms.insert(T,O)}}})(r.localStore,a))}async function IO(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ue(Sg,"User change. New user:",e.toKey());const r=await I1(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new me(Z.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vu(t,r.Ls)}}function CO(n,e){const t=Ie(n),r=t.Au.get(e);if(r&&r.hu)return De().add(r.key);{let o=De();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function z1(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=j1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EO.bind(null,e),e.Pu.H_=lO.bind(null,e.eventManager),e.Pu.yu=uO.bind(null,e.eventManager),e}function AO(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xO.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return PL(this.persistence,new IL,e.initialUser,this.serializer)}Cu(e){return new S1(pg.mi,this.serializer)}Du(e){return new ML}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class PO extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cL(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new S1((r=>kh.mi(r,t)),this.serializer)}}class em{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IO.bind(null,this.syncEngine),await rO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sO})()}createDatastore(e){const t=ed(e.databaseInfo.databaseId),r=(function(a){return new UL(a)})(e.databaseInfo);return(function(a,u,d,f){return new HL(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,d){return new qL(r,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>kw(this.syncEngine,t,0)),(function(){return Sw.v()?new Sw:new LL})())}createSyncEngine(e,t){return(function(o,a,u,d,f,p,g){const w=new pO(o,a,u,d,f,p);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ie(t);ue(Gs,"RemoteStore shutting down."),r.Ea.add(5),await yu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}em.provider={build:()=>new em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class kO{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ue(rs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ue(rs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Tg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function op(n,e){n.asyncQueue.verifyOperationInProgress(),ue(rs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await I1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Nw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bO(n);ue(rs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Cw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Cw(e.remoteStore,o))),n._onlineComponents=e}async function bO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(rs,"Using user provided OfflineComponentProvider");try{await op(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;oa("Error using user provided cache. Falling back to memory cache: "+t),await op(n,new Nh)}}else ue(rs,"Using default OfflineComponentProvider"),await op(n,new PO(void 0));return n._offlineComponents}async function $1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(rs,"Using user provided OnlineComponentProvider"),await Nw(n,n._uninitializedComponentsProvider._online)):(ue(rs,"Using default OnlineComponentProvider"),await Nw(n,new em))),n._onlineComponents}function NO(n){return $1(n).then((e=>e.syncEngine))}async function VO(n){const e=await $1(n),t=e.eventManager;return t.onListen=mO.bind(null,e.syncEngine),t.onUnlisten=vO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_O.bind(null,e.syncEngine),t}function DO(n,e,t={}){const r=new Qi;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,p){const g=new RO({next:T=>{g.Nu(),u.enqueueAndForget((()=>aO(a,w)));const C=T.docs.has(d);!C&&T.fromCache?p.reject(new me(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&f&&f.source==="server"?p.reject(new me(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new cO(lg(d.path),g,{includeMetadataChanges:!0,qa:!0});return oO(a,w)})(await VO(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="firestore.googleapis.com",Dw=!0;class Mw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W1,this.ssl=Dw}else this.host=e.host,this.ssl=e.ssl??Dw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lL)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cg{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new DD;switch(r.type){case"firstParty":return new jD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Vw.get(t);r&&(ue("ComponentProvider","Removing Datastore"),Vw.delete(t),r.terminate())})(this),Promise.resolve()}}function MO(n,e,t,r={}){n=Kl(n,Cg);const o=ya(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(WT(`https://${d}`),qT("Firestore",!0)),a.host!==W1&&a.host!==d&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!Hs(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Gt.MOCK_USER;else{p=i2(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Gt(w)}n._authCredentials=new MD(new Lx(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ag(this.firestore,e,this._query)}}class Nt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(pu(t,Nt._jsonSchema))return new Nt(e,r||null,new ve(it.fromString(t.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:xt("string",Nt._jsonSchemaVersion),referencePath:xt("string")};class eu extends Ag{constructor(e,t,r){super(e,t,lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ve(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function Lw(n,e,...t){if(n=Ln(n),arguments.length===1&&(e=tg.newId()),HD("doc","path",e),n instanceof Cg){const r=it.fromString(e,...t);return Q_(r),new Nt(n,null,new ve(r))}{if(!(n instanceof Nt||n instanceof eu))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return Q_(r),new Nt(n.firestore,n instanceof eu?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="AsyncQueue";class jw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A1(this,"async_queue_retry"),this._c=()=>{const r=sp();r&&ue(Ow,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=sp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=sp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Qi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ta(e))throw e;ue(Ow,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,si("INTERNAL UNHANDLED ERROR: ",Fw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Eg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Fw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Fw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Pg extends Cg{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new jw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jw(e),this._firestoreClient=void 0,await e}}}function LO(n,e){const t=typeof n=="object"?n:YT(),r=typeof n=="string"?n:xh,o=$m(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=n2("firestore");a&&MO(o,...a)}return o}function q1(n){if(n._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||OO(n),n._firestoreClient}function OO(n){const e=n._freezeSettings(),t=(function(o,a,u,d){return new nM(o,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,H1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new kO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Bt.fromBase64String(e))}catch(t){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vn(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:xt("string",Vn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(e){if(pu(e,Sr._jsonSchema))return new Sr(e.latitude,e.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:xt("string",Sr._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,Ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ir(e.vectorValues);throw new me(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ir._jsonSchemaVersion="firestore/vectorValue/1.0",Ir._jsonSchema={type:xt("string",Ir._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class FO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new mu(e,this.data,t,this.fieldTransforms)}}function G1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:n})}}class kg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(G1(this.Ac)&&jO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ed(e)}Cc(e,t,r,o=!1){return new kg({Ac:e,methodName:t,Dc:r,path:Ut.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BO(n){const e=n._freezeSettings(),t=ed(n._databaseId);return new UO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zO(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);J1("Data must be an object, but it was:",u,r);const d=Y1(r,u);let f,p;if(a.merge)f=new Yn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const T=$O(e,w,t);if(!u.contains(T))throw new me(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);WO(g,T)||g.push(T)}f=new Yn(g),p=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,p=u.fieldTransforms;return new FO(new Nn(d),f,p)}function Q1(n,e){if(X1(n=Ln(n)))return J1("Unsupported field value:",e,n),Y1(n,e);if(n instanceof K1)return(function(r,o){if(!G1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const d of r){let f=Q1(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=Ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ze.fromDate(r);return{timestampValue:Rh(o.serializer,a)}}if(r instanceof Ze){const a=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,a)}}if(r instanceof Sr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vn)return{bytesValue:g1(o.serializer,r._byteString)};if(r instanceof Nt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ir)return(function(u,d){return{mapValue:{fields:{[Wx]:{stringValue:qx},[Sh]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return ug(d.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ng(r)}`)})(n,e)}function Y1(n,e){const t={};return Fx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(n,((r,o)=>{const a=Q1(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function X1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof Sr||n instanceof Vn||n instanceof Nt||n instanceof K1||n instanceof Ir)}function J1(n,e,t){if(!X1(t)||!Ox(t)){const r=ng(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function $O(n,e,t){if((e=Ln(e))instanceof Rg)return e._internalPath;if(typeof e=="string")return Z1(n,e);throw Vh("Field path arguments must be of type string or ",n,!1,void 0,t)}const HO=new RegExp("[~\\*/\\[\\]]");function Z1(n,e,t){if(e.search(HO)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rg(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vh(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new me(Z.INVALID_ARGUMENT,d+n+f)}function WO(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qO extends eS{data(){return super.data()}}function tS(n,e){return typeof e=="string"?Z1(n,e):e instanceof Rg?e._internalPath:e._delegate._internalPath}class KO{convertValue(e,t="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Qs(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Sh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Ir(t)}convertGeoPoint(e){return new Sr(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Kh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const t=Zi(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=it.fromString(e);ze(T1(r),9688,{name:e});const o=new Yl(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return o.isEqual(t)||si(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends eS{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$s._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:xt("string",$s._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class ah extends $s{data(e={}){return super.data(e)}}class Ol{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new ah(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new ah(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Il(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new ah(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Il(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:QO(d.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n){n=Kl(n,Nt);const e=Kl(n.firestore,Pg);return DO(q1(e),n._key).then((t=>e4(e,n,t)))}Ol._jsonSchemaVersion="firestore/querySnapshot/1.0",Ol._jsonSchema={type:xt("string",Ol._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class XO extends KO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function JO(n,e,t){n=Kl(n,Nt);const r=Kl(n.firestore,Pg),o=GO(n.converter,e,t);return ZO(r,[zO(BO(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Zr.none())])}function ZO(n,e){return(function(r,o){const a=new Qi;return r.asyncQueue.enqueueAndForget((async()=>wO(await NO(r),o,a))),a.promise})(q1(n),e)}function e4(n,e,t){const r=t.docs.get(e._key),o=new XO(n);return new $s(n,o,e._key,r,new Il(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){wa=o})(va),ia(new Ws("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Pg(new LD(r.getProvider("auth-internal")),new FD(u,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(p.options.projectId,g)})(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Ki(W_,q_,e),Ki(W_,q_,"esm2020")})();const t4={apiKey:"AIzaSyCvZx_FU_BtRFTVNr9aotQKU_siKGP1v1I",authDomain:"beebridge.firebaseapp.com",projectId:"beebridge",storageBucket:"beebridge.firebasestorage.app",messagingSenderId:"378321462417",appId:"1:378321462417:web:d69bada8dffabedb318b30",measurementId:"G-C0CPML4GKE"},nS=QT(t4),ap=ND(nS),n4=new Qr,Uw=LO(nS),bg=()=>{const[n,e]=L.useState(null),[t,r]=L.useState(!0);return L.useEffect(()=>wV(ap,d=>{e(d),r(!1)}),[]),{user:n,loading:t,signInWithGoogle:async()=>{try{return(await BV(ap,n4)).user}catch(u){throw console.error("Error signing in with Google:",u),u}},logout:async()=>{try{await EV(ap)}catch(u){throw console.error("Error signing out:",u),u}}}},r4=()=>{const{user:n}=bg(),[e,t]=L.useState({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),[r,o]=L.useState(!0),[a,u]=L.useState(!0),[d,f]=L.useState(e);L.useEffect(()=>{(async()=>{if(n){const O=Lw(Uw,"users",n.uid),b=await YO(O);if(b.exists()){const B=b.data();t(B),f(B),u(!1)}else t({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),f({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),u(!0)}o(!1)})()},[n]);const p=M=>{const{name:O,value:b}=M.target;f(B=>({...B,[O]:b}))},g=async()=>{if(!n){alert("User not authenticated");return}if(!n.providerData.some(O=>O.providerId==="google.com")){alert("Profile saving is only available for Google users");return}try{const O=Lw(Uw,"users",n.uid);console.log("Saving profile data:",d),await JO(O,d,{merge:!0}),t(d),u(!1),alert("Profile saved successfully!")}catch(O){console.error("Error saving profile:",O),alert("Failed to save profile.")}},w=()=>{f(e),u(!0)},T=()=>{f(e),u(!1)};if(r)return _.jsx("div",{children:"Loading profile..."});const C=n&&n.providerData.some(M=>M.providerId==="google.com");return _.jsxs(Xe.div,{className:"max-w-2xl mx-auto p-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[_.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Profile"}),n?C?a?_.jsx("div",{className:"group",children:_.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),_.jsx("input",{type:"text",name:"name",value:d.name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your name"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age"}),_.jsx("input",{type:"number",name:"age",value:d.age,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your age"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),_.jsx("input",{type:"text",name:"location",value:d.location,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your location"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),_.jsx("input",{type:"text",name:"pincode",value:d.pincode,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your pincode"})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),_.jsx("input",{type:"email",name:"email",value:d.email,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your email"})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),_.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your phone number"})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),_.jsx("textarea",{name:"address",value:d.address,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your full address"})]})]}),_.jsxs("div",{className:"group",children:[_.jsx(Je,{onClick:g,className:"w-full",variant:"primary",children:"Save Profile"}),_.jsx("button",{onClick:T,className:"w-full mt-2 py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100",children:"Cancel"})]})]})}):_.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Name"}),_.jsx("p",{className:"text-gray-900",children:e.name})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Age"}),_.jsx("p",{className:"text-gray-900",children:e.age})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Location"}),_.jsx("p",{className:"text-gray-900",children:e.location})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Pincode"}),_.jsx("p",{className:"text-gray-900",children:e.pincode})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Email"}),_.jsx("p",{className:"text-gray-900",children:e.email})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Phone"}),_.jsx("p",{className:"text-gray-900",children:e.phone})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Address"}),_.jsx("p",{className:"text-gray-900",children:e.address})]})]}),_.jsx("button",{onClick:w,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none","aria-label":"Edit Profile",children:"Edit Profile"})]}):_.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:_.jsx("p",{className:"text-center text-gray-600",children:"Profile access is only available for Google users."})}):_.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:_.jsx("p",{className:"text-center text-gray-600",children:"Please sign in with Google to access your profile."})})]})},i4=()=>{const[n,e]=L.useState(!1),t=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(()=>{e(!0)},()=>{alert("Location access denied or unavailable")})};return n?_.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[_.jsx("h2",{className:"text-3xl font-serif font-bold text-honeybee-dark mb-6",children:"Seller Application"}),_.jsx("div",{className:"group",children:_.jsxs("form",{children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"col-span-2",children:[_.jsx("label",{htmlFor:"profilePhoto",className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Photo"}),_.jsxs("div",{className:"mt-1 flex items-center",children:[_.jsx("span",{className:"inline-block h-12 w-12 rounded-full overflow-hidden bg-gray-100",children:_.jsx(Cb,{className:"h-full w-full text-gray-300"})}),_.jsx("div",{className:"group",children:_.jsx(Je,{type:"button",className:"ml-5 py-2 px-3 text-gray-700 shadow-sm text-sm leading-4 font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-honeybee-accent",variant:"secondary",children:"Upload Photo"})})]})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),_.jsx("input",{type:"text",name:"name",id:"name",className:"mt-1 focus:ring-purple-500 focus:border-purple-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"contact",className:"block text-sm font-medium text-gray-700",children:"Contact"}),_.jsx("input",{type:"text",name:"contact",id:"contact",className:"mt-1 focus:ring-purple-500 focus:border-purple-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium text-gray-700",children:"Pincode"}),_.jsx("input",{type:"text",name:"pincode",id:"pincode",className:"mt-1 focus:ring-purple-500 focus:border-purple-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),_.jsx("input",{type:"text",name:"city",id:"city",className:"mt-1 focus:ring-purple-500 focus:border-purple-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),_.jsx("input",{type:"text",name:"state",id:"state",className:"mt-1 focus:ring-purple-500 focus:border-purple-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]}),_.jsx("div",{className:"mt-6",children:_.jsx("div",{className:"group",children:_.jsx(Je,{type:"submit",className:"w-full",variant:"primary",children:"Submit Application"})})})]})})]}):_.jsxs("div",{className:"max-w-4xl mx-auto p-6 text-center",children:[_.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Become a Seller"}),_.jsx("p",{className:"text-gray-300 mb-8",children:"Join our community of honey sellers and reach a wider audience."}),_.jsx("div",{className:"group",children:_.jsx(Je,{onClick:t,variant:"primary",className:"px-8",children:"Become a Seller"})})]})},s4=()=>_.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[_.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Subscription Plans"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsx("div",{className:"group",children:_.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center",children:[_.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Basic"}),_.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"₹499"}),_.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[_.jsxs("li",{className:"flex items-center",children:[_.jsx(gr,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 1"]}),_.jsxs("li",{className:"flex items-center",children:[_.jsx(gr,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 2"]}),_.jsxs("li",{className:"flex items-center",children:[_.jsx(gr,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 3"]})]}),_.jsx("div",{className:"group",children:_.jsx(Je,{className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})}),_.jsx("div",{className:"group",children:_.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center border-2 border-honeybee-primary",children:[_.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Pro"}),_.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"₹899"}),_.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[_.jsxs("li",{className:"flex items-center",children:[_.jsx(gr,{className:"w-5 h-5 text-green-500 mr-2"})," All Basic Features"]}),_.jsxs("li",{className:"flex items-center",children:[_.jsx(gr,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 4"]}),_.jsxs("li",{className:"flex items-center",children:[_.jsx(gr,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 5"]})]}),_.jsx("div",{className:"group",children:_.jsx(Je,{className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})}),_.jsx("div",{className:"group",children:_.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center",children:[_.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Premium"}),_.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"₹1299"}),_.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[_.jsxs("li",{className:"flex items-center",children:[_.jsx(gr,{className:"w-5 h-5 text-green-500 mr-2"})," All Pro Features"]}),_.jsxs("li",{className:"flex items-center",children:[_.jsx(gr,{className:"w-5 h-5 text-green-500 mr-2"})," Advanced Analytics"]}),_.jsxs("li",{className:"flex items-center",children:[_.jsx(gr,{className:"w-5 h-5 text-green-500 mr-2"})," Priority Support"]}),_.jsxs("li",{className:"flex items-center",children:[_.jsx(gr,{className:"w-5 h-5 text-green-500 mr-2"})," Early access to new features"]})]}),_.jsx("div",{className:"group",children:_.jsx(Je,{className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})})]})]}),o4=()=>_.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[_.jsx("h2",{className:"text-3xl font-bold text-honeybee-secondary mb-6",children:"Settings"}),_.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:_.jsx("p",{className:"text-honeybee-dark-brown",children:"Settings page coming soon..."})})]});function a4(){const[n,e]=L.useState(!1),t=is(),{cartItems:r}=lu(),o=()=>{e(!n)};return t.pathname==="/login"||t.pathname==="/signup"?null:_.jsxs("nav",{className:"bg-honeybee-background/95 backdrop-blur-sm shadow-lg fixed w-full z-50",children:[_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex justify-between h-16",children:[_.jsx("div",{className:"flex items-center",children:_.jsx(mt,{to:"/",className:"flex-shrink-0 flex items-center",children:_.jsx("span",{className:"font-serif text-2xl font-bold text-honeybee-primary",children:"Bee Bridge"})})}),_.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[_.jsx(mt,{to:"/home",className:`font-medium ${t.pathname==="/home"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Home"}),_.jsx(mt,{to:"/shop",className:`font-medium ${t.pathname==="/shop"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Shop"}),_.jsx(mt,{to:"/about",className:`font-medium ${t.pathname==="/about"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"About"}),_.jsx(mt,{to:"/contact",className:`font-medium ${t.pathname==="/contact"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Contact"}),_.jsx(mt,{to:"/seller",className:`font-medium ${t.pathname==="/seller"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Seller"}),_.jsx(mt,{to:"/subscription",className:`font-medium ${t.pathname==="/subscription"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Subscription"})]}),_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsxs(mt,{to:"/cart",className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 relative",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),r.length>0&&_.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full text-xs w-5 h-5 flex items-center justify-center",children:r.length})]}),_.jsx(mt,{to:"/profile",className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),_.jsxs("div",{className:"relative group",children:[_.jsxs("button",{className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 flex items-center space-x-1 focus:outline-none",children:[_.jsx(Nb,{className:"h-6 w-6"}),_.jsx("span",{className:"sr-only",children:"Settings"})]}),_.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-50",children:_.jsx("button",{className:"block w-full text-left px-4 py-2 text-honeybee-dark hover:bg-honeybee-light",onClick:()=>{window.location.href="/"},children:"Logout"})})]}),_.jsx("button",{onClick:o,className:"md:hidden text-honeybee-secondary hover:text-honeybee-primary",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),n&&_.jsx("div",{className:"md:hidden bg-honeybee-background/95 backdrop-blur-sm border-t border-honeybee-light",children:_.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[_.jsx(mt,{to:"/",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Home"}),_.jsx(mt,{to:"/shop",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/shop"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Shop"}),_.jsx(mt,{to:"/about",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/about"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"About"}),_.jsx(mt,{to:"/contact",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/contact"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Contact"}),_.jsx(mt,{to:"/seller",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/seller"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Seller"}),_.jsx(mt,{to:"/subscription",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/subscription"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Subscription"}),_.jsx(mt,{to:"/settings",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/settings"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Settings"})]})})]})}const l4=()=>_.jsxs("footer",{className:"bg-gray-900 text-gray-300 py-10",children:[_.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 border-b border-gray-700 pb-8",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"About"}),_.jsxs("ul",{className:"space-y-2 text-sm",children:[_.jsx("li",{children:_.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Contact Us"})}),_.jsx("li",{children:_.jsx("a",{href:"/about",className:"hover:text-white font-semibold",children:"About Us"})})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"Help"}),_.jsxs("ul",{className:"space-y-2 text-sm",children:[_.jsx("li",{children:_.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Payments"})}),_.jsx("li",{children:_.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Shipping"})}),_.jsx("li",{children:_.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Cancellation & Returns"})}),_.jsx("li",{children:_.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"FAQ"})})]})]}),_.jsxs("div",{className:"border-l border-gray-700 pl-6",children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"Mail Us:"}),_.jsx("address",{className:"not-italic text-sm space-y-1",children:_.jsx("p",{children:"beebridgeshop@gmail.com"})}),_.jsxs("div",{className:"mt-4",children:[_.jsx("p",{className:"text-sm font-semibold",children:"Social:"}),_.jsxs("div",{className:"flex space-x-4 mt-2",children:[_.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"hover:text-white",children:_.jsx(Rb,{size:20})}),_.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",className:"hover:text-white",children:_.jsx(Db,{size:20})}),_.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",className:"hover:text-white",children:_.jsx(Mb,{size:20})}),_.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"hover:text-white",children:_.jsx(kb,{size:20})})]})]})]})]}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between pt-6",children:[_.jsxs("div",{className:"flex space-x-8 text-yellow-400 text-sm font-semibold",children:[_.jsx("a",{href:"/seller",className:"flex items-center space-x-2 hover:underline",children:_.jsx("span",{children:"Become a Seller"})}),_.jsx("a",{href:"/contact",className:"flex items-center space-x-2 hover:underline",children:_.jsx("span",{children:"Help Center"})})]}),_.jsx("div",{className:"text-gray-400 text-sm mt-4 md:mt-0",children:"© 2007-2025 Bee Bridge.com"})]})]}),yr=({children:n})=>_.jsxs("div",{className:"min-h-screen",children:[_.jsx(a4,{}),_.jsx("main",{className:"pb-40",children:n}),_.jsx(l4,{})]}),Bw=()=>{const[n,e]=L.useState(""),[t,r]=L.useState(""),[o,a]=L.useState(!1),u=Mh(),{signInWithGoogle:d}=bg(),f=p=>{p.preventDefault(),u("/home")};return _.jsx(Xe.div,{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:_.jsxs("div",{className:"max-w-5xl w-full bg-gray-50 rounded-3xl shadow-2xl flex overflow-hidden",children:[_.jsxs("div",{className:"w-full md:w-1/2 p-10 flex flex-col justify-center",children:[_.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Hello Again!"}),_.jsxs(Xe.form,{onSubmit:f,className:"space-y-6",initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.1}}},children:[_.jsx(Xe.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:_.jsx("input",{type:"email",id:"email",value:n,onChange:p=>e(p.target.value),required:!0,placeholder:"Email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),_.jsx(Xe.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:o?"text":"password",id:"password",value:t,onChange:p=>r(p.target.value),required:!0,placeholder:"Password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"}),_.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":o?"Hide password":"Show password",children:o?_.jsx(jT,{className:"h-5 w-5"}):_.jsx(OT,{className:"h-5 w-5"})})]})}),_.jsx(Xe.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:_.jsx("div",{className:"text-right text-xs text-gray-500 mb-4 cursor-pointer hover:underline",children:"Recovery Password"})}),_.jsx(Xe.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:_.jsx(Je,{type:"submit",variant:"primary",className:"w-full bg-rose-600 hover:bg-rose-700 text-white font-semibold",children:"Sign In"})})]}),_.jsx(Je,{onClick:()=>u("/home"),variant:"secondary",className:"mt-4 w-full",children:"Continue as Guest"}),_.jsx("div",{className:"mt-4 text-center",children:_.jsxs("span",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",_.jsx(Je,{onClick:()=>u("/signup"),variant:"ghost",className:"text-rose-600 hover:underline font-semibold p-0",children:"Sign Up"})]})}),_.jsxs("div",{className:"flex items-center my-6",children:[_.jsx("hr",{className:"flex-grow border-gray-300"}),_.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"Or continue with"}),_.jsx("hr",{className:"flex-grow border-gray-300"})]}),_.jsx("div",{className:"flex justify-center",children:_.jsx(Je,{onClick:async()=>{try{await d(),u("/home")}catch{alert("Google login failed. Please try again.")}},variant:"light",size:"icon",className:"p-3 shadow-md bg-white hover:shadow-lg",children:_.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Google_Favicon_2025.svg/250px-Google_Favicon_2025.svg.png",alt:"Google",className:"w-6 h-6"})})})]}),_.jsxs("div",{className:"hidden md:flex md:w-1/2 relative rounded-r-3xl overflow-hidden border-8 border-white shadow-lg",children:[_.jsx("img",{src:"https://media.istockphoto.com/id/1281435234/vector/honey-in-glass-jar-cartoon-bee-honeycombs-flowers-and-flowing-honey-on-wooden-dipper.jpg?s=612x612&w=0&k=20&c=5oaKRbsa7YGOnEiTSYKt1dJU1jrtkmGzxP381yXeF9w=",alt:"Honey Store Illustration",className:"h-full w-full object-cover object-left"}),_.jsxs("div",{className:"absolute bottom-10 right-10 flex space-x-4",children:[_.jsx(Je,{"aria-label":"Previous",variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full border border-white flex items-center justify-center hover:bg-white hover:text-rose-600 p-0",children:_.jsx(Ab,{className:"w-5 h-5"})}),_.jsx(Je,{"aria-label":"Next",variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full border border-white flex items-center justify-center hover:bg-white hover:text-rose-600 p-0",children:_.jsx(Pb,{className:"w-5 h-5"})})]})]})]})})},u4=()=>{const[n,e]=L.useState(""),[t,r]=L.useState(""),[o,a]=L.useState(""),[u,d]=L.useState(!1),f=Mh(),{signInWithGoogle:p}=bg(),g=w=>{w.preventDefault(),f("/home")};return _.jsx(Xe.div,{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:_.jsxs("div",{className:"max-w-5xl w-full bg-gray-50 rounded-3xl shadow-2xl flex overflow-hidden",children:[_.jsxs("div",{className:"w-full md:w-1/2 p-10 flex flex-col justify-center",children:[_.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6 text-center",children:"Create Account"}),_.jsxs(Xe.form,{onSubmit:g,className:"space-y-6",initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.1}}},children:[_.jsx(Xe.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:_.jsx("input",{type:"text",id:"name",value:n,onChange:w=>e(w.target.value),required:!0,placeholder:"Your full name",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),_.jsx(Xe.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:_.jsx("input",{type:"email",id:"email",value:t,onChange:w=>r(w.target.value),required:!0,placeholder:"Email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),_.jsx(Xe.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:u?"text":"password",id:"password",value:o,onChange:w=>a(w.target.value),required:!0,placeholder:"Password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"}),_.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":u?"Hide password":"Show password",children:u?_.jsx(jT,{className:"h-5 w-5"}):_.jsx(OT,{className:"h-5 w-5"})})]})}),_.jsx(Xe.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:_.jsx(Je,{type:"submit",variant:"primary",className:"w-full bg-rose-600 hover:bg-rose-700 text-white font-semibold",children:"Sign Up"})})]}),_.jsxs("div",{className:"flex items-center my-6",children:[_.jsx("hr",{className:"flex-grow border-gray-300"}),_.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"Or continue with"}),_.jsx("hr",{className:"flex-grow border-gray-300"})]}),_.jsx("div",{className:"flex justify-center",children:_.jsx(Je,{onClick:async()=>{try{await p(),f("/home")}catch{alert("Google login failed. Please try again.")}},variant:"light",size:"icon",className:"p-3 shadow-md bg-white hover:shadow-lg",children:_.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Google_Favicon_2025.svg/250px-Google_Favicon_2025.svg.png",alt:"Google",className:"w-6 h-6"})})}),_.jsx("div",{className:"mt-6 text-center",children:_.jsx(Je,{onClick:()=>f("/home"),variant:"ghost",className:"text-sm text-rose-600 hover:underline p-0",children:"Continue as Guest"})}),_.jsx("div",{className:"mt-4 text-center",children:_.jsxs("span",{className:"text-gray-600 text-sm",children:["Already have an account?"," ",_.jsx(Je,{onClick:()=>f("/login"),variant:"ghost",className:"text-rose-600 hover:underline font-semibold p-0",children:"Sign In"})]})})]}),_.jsx("div",{className:"hidden md:block md:w-1/2 relative rounded-r-3xl overflow-hidden border-8 border-white shadow-lg",children:_.jsx("img",{src:"https://media.istockphoto.com/id/1281435234/vector/honey-in-glass-jar-cartoon-bee-honeycombs-flowers-and-flowing-honey-on-wooden-dipper.jpg?s=612x612&w=0&k=20&c=5oaKRbsa7YGOnEiTSYKt1dJU1jrtkmGzxP381yXeF9w=",alt:"Honey Store Illustration",className:"h-full w-full object-cover object-left"})})]})})};function c4(){return _.jsxs(aC,{children:[_.jsx(un,{path:"/",element:_.jsx(Bw,{})}),_.jsx(un,{path:"/login",element:_.jsx(Bw,{})}),_.jsx(un,{path:"/signup",element:_.jsx(u4,{})}),_.jsx(un,{path:"/home",element:_.jsx(yr,{children:_.jsx(Ub,{})})}),_.jsx(un,{path:"/about",element:_.jsx(yr,{children:_.jsx(Bb,{})})}),_.jsx(un,{path:"/contact",element:_.jsx(yr,{children:_.jsx(zb,{})})}),_.jsx(un,{path:"/shop",element:_.jsx(yr,{children:_.jsx(Hb,{})})}),_.jsx(un,{path:"/cart",element:_.jsx(yr,{children:_.jsx(Wb,{})})}),_.jsx(un,{path:"/checkout",element:_.jsx(yr,{children:_.jsx(Kb,{})})}),_.jsx(un,{path:"/profile",element:_.jsx(yr,{children:_.jsx(r4,{})})}),_.jsx(un,{path:"/seller",element:_.jsx(yr,{children:_.jsx(i4,{})})}),_.jsx(un,{path:"/subscription",element:_.jsx(yr,{children:_.jsx(s4,{})})}),_.jsx(un,{path:"/settings",element:_.jsx(yr,{children:_.jsx(o4,{})})})]})}function h4(){return _.jsx(xb,{children:_.jsx(kC,{children:_.jsx(c4,{})})})}yI.createRoot(document.getElementById("root")).render(_.jsx(L.StrictMode,{children:_.jsx(h4,{})}));
