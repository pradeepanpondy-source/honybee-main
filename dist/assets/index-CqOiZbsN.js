(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Lw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var od={exports:{}},Na={},ad={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function Ow(){if(sg)return ke;sg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,H={};function F(L,Q,Se){this.props=L,this.context=Q,this.refs=H,this.updater=Se||V}F.prototype.isReactComponent={},F.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function q(){}q.prototype=F.prototype;function K(L,Q,Se){this.props=L,this.context=Q,this.refs=H,this.updater=Se||V}var re=K.prototype=new q;re.constructor=K,W(re,F.prototype),re.isPureReactComponent=!0;var ye=Array.isArray,Ie=Object.prototype.hasOwnProperty,we={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(L,Q,Se){var Ce,Ae={},Re=null,Fe=null;if(Q!=null)for(Ce in Q.ref!==void 0&&(Fe=Q.ref),Q.key!==void 0&&(Re=""+Q.key),Q)Ie.call(Q,Ce)&&!P.hasOwnProperty(Ce)&&(Ae[Ce]=Q[Ce]);var Le=arguments.length-2;if(Le===1)Ae.children=Se;else if(1<Le){for(var Be=Array(Le),$t=0;$t<Le;$t++)Be[$t]=arguments[$t+2];Ae.children=Be}if(L&&L.defaultProps)for(Ce in Le=L.defaultProps,Le)Ae[Ce]===void 0&&(Ae[Ce]=Le[Ce]);return{$$typeof:r,type:L,key:Re,ref:Fe,props:Ae,_owner:we.current}}function C(L,Q){return{$$typeof:r,type:L.type,key:Q,ref:L.ref,props:L.props,_owner:L._owner}}function b(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function N(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Se){return Q[Se]})}var O=/\/+/g;function k(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):Q.toString(36)}function He(L,Q,Se,Ce,Ae){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var Fe=!1;if(L===null)Fe=!0;else switch(Re){case"string":case"number":Fe=!0;break;case"object":switch(L.$$typeof){case r:case e:Fe=!0}}if(Fe)return Fe=L,Ae=Ae(Fe),L=Ce===""?"."+k(Fe,0):Ce,ye(Ae)?(Se="",L!=null&&(Se=L.replace(O,"$&/")+"/"),He(Ae,Q,Se,"",function($t){return $t})):Ae!=null&&(b(Ae)&&(Ae=C(Ae,Se+(!Ae.key||Fe&&Fe.key===Ae.key?"":(""+Ae.key).replace(O,"$&/")+"/")+L)),Q.push(Ae)),1;if(Fe=0,Ce=Ce===""?".":Ce+":",ye(L))for(var Le=0;Le<L.length;Le++){Re=L[Le];var Be=Ce+k(Re,Le);Fe+=He(Re,Q,Se,Be,Ae)}else if(Be=A(L),typeof Be=="function")for(L=Be.call(L),Le=0;!(Re=L.next()).done;)Re=Re.value,Be=Ce+k(Re,Le++),Fe+=He(Re,Q,Se,Be,Ae);else if(Re==="object")throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Fe}function wt(L,Q,Se){if(L==null)return L;var Ce=[],Ae=0;return He(L,Ce,"","",function(Re){return Q.call(Se,Re,Ae++)}),Ce}function Dt(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(Se){(L._status===0||L._status===-1)&&(L._status=1,L._result=Se)},function(Se){(L._status===0||L._status===-1)&&(L._status=2,L._result=Se)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var Ye={current:null},ne={transition:null},de={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ne,ReactCurrentOwner:we};function oe(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:wt,forEach:function(L,Q,Se){wt(L,function(){Q.apply(this,arguments)},Se)},count:function(L){var Q=0;return wt(L,function(){Q++}),Q},toArray:function(L){return wt(L,function(Q){return Q})||[]},only:function(L){if(!b(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},ke.Component=F,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=K,ke.StrictMode=i,ke.Suspense=g,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,ke.act=oe,ke.cloneElement=function(L,Q,Se){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ce=W({},L.props),Ae=L.key,Re=L.ref,Fe=L._owner;if(Q!=null){if(Q.ref!==void 0&&(Re=Q.ref,Fe=we.current),Q.key!==void 0&&(Ae=""+Q.key),L.type&&L.type.defaultProps)var Le=L.type.defaultProps;for(Be in Q)Ie.call(Q,Be)&&!P.hasOwnProperty(Be)&&(Ce[Be]=Q[Be]===void 0&&Le!==void 0?Le[Be]:Q[Be])}var Be=arguments.length-2;if(Be===1)Ce.children=Se;else if(1<Be){Le=Array(Be);for(var $t=0;$t<Be;$t++)Le[$t]=arguments[$t+2];Ce.children=Le}return{$$typeof:r,type:L.type,key:Ae,ref:Re,props:Ce,_owner:Fe}},ke.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},ke.createElement=S,ke.createFactory=function(L){var Q=S.bind(null,L);return Q.type=L,Q},ke.createRef=function(){return{current:null}},ke.forwardRef=function(L){return{$$typeof:f,render:L}},ke.isValidElement=b,ke.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:Dt}},ke.memo=function(L,Q){return{$$typeof:v,type:L,compare:Q===void 0?null:Q}},ke.startTransition=function(L){var Q=ne.transition;ne.transition={};try{L()}finally{ne.transition=Q}},ke.unstable_act=oe,ke.useCallback=function(L,Q){return Ye.current.useCallback(L,Q)},ke.useContext=function(L){return Ye.current.useContext(L)},ke.useDebugValue=function(){},ke.useDeferredValue=function(L){return Ye.current.useDeferredValue(L)},ke.useEffect=function(L,Q){return Ye.current.useEffect(L,Q)},ke.useId=function(){return Ye.current.useId()},ke.useImperativeHandle=function(L,Q,Se){return Ye.current.useImperativeHandle(L,Q,Se)},ke.useInsertionEffect=function(L,Q){return Ye.current.useInsertionEffect(L,Q)},ke.useLayoutEffect=function(L,Q){return Ye.current.useLayoutEffect(L,Q)},ke.useMemo=function(L,Q){return Ye.current.useMemo(L,Q)},ke.useReducer=function(L,Q,Se){return Ye.current.useReducer(L,Q,Se)},ke.useRef=function(L){return Ye.current.useRef(L)},ke.useState=function(L){return Ye.current.useState(L)},ke.useSyncExternalStore=function(L,Q,Se){return Ye.current.useSyncExternalStore(L,Q,Se)},ke.useTransition=function(){return Ye.current.useTransition()},ke.version="18.3.1",ke}var ig;function Jd(){return ig||(ig=1,ad.exports=Ow()),ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function jw(){if(og)return Na;og=1;var r=Jd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var E,T={},A=null,V=null;v!==void 0&&(A=""+v),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(V=g.ref);for(E in g)i.call(g,E)&&!l.hasOwnProperty(E)&&(T[E]=g[E]);if(f&&f.defaultProps)for(E in g=f.defaultProps,g)T[E]===void 0&&(T[E]=g[E]);return{$$typeof:e,type:f,key:A,ref:V,props:T,_owner:o.current}}return Na.Fragment=t,Na.jsx=h,Na.jsxs=h,Na}var ag;function Mw(){return ag||(ag=1,od.exports=jw()),od.exports}var y=Mw(),z=Jd();const Ha=Lw(z);var Pu={},ld={exports:{}},Xt={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function Fw(){return lg||(lg=1,(function(r){function e(ne,de){var oe=ne.length;ne.push(de);e:for(;0<oe;){var L=oe-1>>>1,Q=ne[L];if(0<o(Q,de))ne[L]=de,ne[oe]=Q,oe=L;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var de=ne[0],oe=ne.pop();if(oe!==de){ne[0]=oe;e:for(var L=0,Q=ne.length,Se=Q>>>1;L<Se;){var Ce=2*(L+1)-1,Ae=ne[Ce],Re=Ce+1,Fe=ne[Re];if(0>o(Ae,oe))Re<Q&&0>o(Fe,Ae)?(ne[L]=Fe,ne[Re]=oe,L=Re):(ne[L]=Ae,ne[Ce]=oe,L=Ce);else if(Re<Q&&0>o(Fe,oe))ne[L]=Fe,ne[Re]=oe,L=Re;else break e}}return de}function o(ne,de){var oe=ne.sortIndex-de.sortIndex;return oe!==0?oe:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],v=[],E=1,T=null,A=3,V=!1,W=!1,H=!1,F=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(ne){for(var de=t(v);de!==null;){if(de.callback===null)i(v);else if(de.startTime<=ne)i(v),de.sortIndex=de.expirationTime,e(g,de);else break;de=t(v)}}function ye(ne){if(H=!1,re(ne),!W)if(t(g)!==null)W=!0,Dt(Ie);else{var de=t(v);de!==null&&Ye(ye,de.startTime-ne)}}function Ie(ne,de){W=!1,H&&(H=!1,q(S),S=-1),V=!0;var oe=A;try{for(re(de),T=t(g);T!==null&&(!(T.expirationTime>de)||ne&&!N());){var L=T.callback;if(typeof L=="function"){T.callback=null,A=T.priorityLevel;var Q=L(T.expirationTime<=de);de=r.unstable_now(),typeof Q=="function"?T.callback=Q:T===t(g)&&i(g),re(de)}else i(g);T=t(g)}if(T!==null)var Se=!0;else{var Ce=t(v);Ce!==null&&Ye(ye,Ce.startTime-de),Se=!1}return Se}finally{T=null,A=oe,V=!1}}var we=!1,P=null,S=-1,C=5,b=-1;function N(){return!(r.unstable_now()-b<C)}function O(){if(P!==null){var ne=r.unstable_now();b=ne;var de=!0;try{de=P(!0,ne)}finally{de?k():(we=!1,P=null)}}else we=!1}var k;if(typeof K=="function")k=function(){K(O)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,wt=He.port2;He.port1.onmessage=O,k=function(){wt.postMessage(null)}}else k=function(){F(O,0)};function Dt(ne){P=ne,we||(we=!0,k())}function Ye(ne,de){S=F(function(){ne(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){W||V||(W=!0,Dt(Ie))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var oe=A;A=de;try{return ne()}finally{A=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=A;A=ne;try{return de()}finally{A=oe}},r.unstable_scheduleCallback=function(ne,de,oe){var L=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?L+oe:L):oe=L,ne){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,ne={id:E++,callback:de,priorityLevel:ne,startTime:oe,expirationTime:Q,sortIndex:-1},oe>L?(ne.sortIndex=oe,e(v,ne),t(g)===null&&ne===t(v)&&(H?(q(S),S=-1):H=!0,Ye(ye,oe-L))):(ne.sortIndex=Q,e(g,ne),W||V||(W=!0,Dt(Ie))),ne},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(ne){var de=A;return function(){var oe=A;A=de;try{return ne.apply(this,arguments)}finally{A=oe}}}})(cd)),cd}var ug;function Uw(){return ug||(ug=1,ud.exports=Fw()),ud.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function zw(){if(cg)return Xt;cg=1;var r=Jd(),e=Uw();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function A(n){return g.call(T,n)?!0:g.call(E,n)?!1:v.test(n)?T[n]=!0:(E[n]=!0,!1)}function V(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function W(n,s,a,c){if(s===null||typeof s>"u"||V(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function H(n,s,a,c,d,p,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=p,this.removeEmptyString=w}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){F[n]=new H(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];F[s]=new H(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){F[n]=new H(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){F[n]=new H(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){F[n]=new H(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){F[n]=new H(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){F[n]=new H(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){F[n]=new H(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){F[n]=new H(n,5,!1,n.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function K(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(q,K);F[s]=new H(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(q,K);F[s]=new H(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(q,K);F[s]=new H(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){F[n]=new H(n,1,!1,n.toLowerCase(),null,!1,!1)}),F.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){F[n]=new H(n,1,!1,n.toLowerCase(),null,!0,!0)});function re(n,s,a,c){var d=F.hasOwnProperty(s)?F[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(W(s,a,d,c)&&(a=null),c||d===null?A(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var ye=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ie=Symbol.for("react.element"),we=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),wt=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ye=Symbol.for("react.offscreen"),ne=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,L;function Q(n){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+n}var Se=!1;function Ce(n,s){if(!n||Se)return"";Se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var c=B}Reflect.construct(n,[],s)}else{try{s.call()}catch(B){c=B}n.call(s.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),p=c.stack.split(`
`),w=d.length-1,I=p.length-1;1<=w&&0<=I&&d[w]!==p[I];)I--;for(;1<=w&&0<=I;w--,I--)if(d[w]!==p[I]){if(w!==1||I!==1)do if(w--,I--,0>I||d[w]!==p[I]){var R=`
`+d[w].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=w&&0<=I);break}}}finally{Se=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Q(n):""}function Ae(n){switch(n.tag){case 5:return Q(n.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return n=Ce(n.type,!1),n;case 11:return n=Ce(n.type.render,!1),n;case 1:return n=Ce(n.type,!0),n;default:return""}}function Re(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case we:return"Portal";case C:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case He:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case b:return(n._context.displayName||"Context")+".Provider";case O:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case wt:return s=n.displayName||null,s!==null?s:Re(n.type)||"Memo";case Dt:s=n._payload,n=n._init;try{return Re(n(s))}catch{}}return null}function Fe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Le(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $t(n){var s=Be(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,p.call(this,w)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ti(n){n._valueTracker||(n._valueTracker=$t(n))}function jo(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=Be(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function $r(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ii(n,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ml(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Le(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Si(n,s){s=s.checked,s!=null&&re(n,"checked",s,!1)}function Os(n,s){Si(n,s);var a=Le(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?ut(n,s.type,a):s.hasOwnProperty("defaultValue")&&ut(n,s.type,Le(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Mo(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ut(n,s,a){(s!=="number"||$r(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var it=Array.isArray;function En(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Le(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Fo(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Uo(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(it(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Le(a)}}function gl(n,s){var a=Le(s.value),c=Le(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Hr(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function zo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ci(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?zo(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Wr,yl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Wr=Wr||document.createElement("div"),Wr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Wr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function js(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vl=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(n){vl.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),qr[s]=qr[n]})});function Gr(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||qr.hasOwnProperty(n)&&qr[n]?(""+s).trim():s+"px"}function ki(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Gr(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Bo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xn(n,s){if(s){if(Bo[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ai(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kr=null;function Ri(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var dr=null,fr=null,rt=null;function $o(n){if(n=ga(n)){if(typeof dr!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Wl(s),dr(n.stateNode,n.type,s))}}function Qr(n){fr?rt?rt.push(n):rt=[n]:fr=n}function Yr(){if(fr){var n=fr,s=rt;if(rt=fr=null,$o(n),s)for(n=0;n<s.length;n++)$o(s[n])}}function _l(n,s){return n(s)}function wl(){}var Ln=!1;function El(n,s,a){if(Ln)return n(s,a);Ln=!0;try{return _l(n,s,a)}finally{Ln=!1,(fr!==null||rt!==null)&&(wl(),Yr())}}function Ms(n,s){var a=n.stateNode;if(a===null)return null;var c=Wl(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Xr=!1;if(f)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Xr=!1}function xl(n,s,a,c,d,p,w,I,R){var B=Array.prototype.slice.call(arguments,3);try{s.apply(a,B)}catch(X){this.onError(X)}}var pr=!1,On=null,Pi=!1,cn=null,Tl={onError:function(n){pr=!0,On=n}};function Il(n,s,a,c,d,p,w,I,R){pr=!1,On=null,xl.apply(Tl,arguments)}function Ho(n,s,a,c,d,p,w,I,R){if(Il.apply(this,arguments),pr){if(pr){var B=On;pr=!1,On=null}else throw Error(t(198));Pi||(Pi=!0,cn=B)}}function Tn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Wo(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Sl(n){if(Tn(n)!==n)throw Error(t(188))}function Cl(n){var s=n.alternate;if(!s){if(s=Tn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return Sl(d),n;if(p===c)return Sl(d),s;p=p.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=p;else{for(var w=!1,I=d.child;I;){if(I===a){w=!0,a=d,c=p;break}if(I===c){w=!0,c=d,a=p;break}I=I.sibling}if(!w){for(I=p.child;I;){if(I===a){w=!0,a=p,c=d;break}if(I===c){w=!0,c=p,a=d;break}I=I.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function kl(n){return n=Cl(n),n!==null?Fs(n):null}function Fs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Fs(n);if(s!==null)return s;n=n.sibling}return null}var qo=e.unstable_scheduleCallback,Ni=e.unstable_cancelCallback,Us=e.unstable_shouldYield,mr=e.unstable_requestPaint,qe=e.unstable_now,jc=e.unstable_getCurrentPriorityLevel,bi=e.unstable_ImmediatePriority,Go=e.unstable_UserBlockingPriority,zs=e.unstable_NormalPriority,Ko=e.unstable_LowPriority,Di=e.unstable_IdlePriority,Bs=null,en=null;function Al(n){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Bs,n,void 0,(n.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:$s,jn=Math.log,hn=Math.LN2;function $s(n){return n>>>=0,n===0?32:31-(jn(n)/hn|0)|0}var Mn=64,Zr=4194304;function Me(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function gr(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,p=n.pingedLanes,w=a&268435455;if(w!==0){var I=w&~d;I!==0?c=Me(I):(p&=w,p!==0&&(c=Me(p)))}else w=a&~d,w!==0?c=Me(w):p!==0&&(c=Me(p));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,p=s&-s,d>=p||d===16&&(p&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-tn(s),d=1<<a,c|=n[a],s&=~d;return c}function Hs(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var w=31-tn(p),I=1<<w,R=d[w];R===-1?((I&a)===0||(I&c)!==0)&&(d[w]=Hs(I,s)):R<=s&&(n.expiredLanes|=I),p&=~I}}function Qo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yo(){var n=Mn;return Mn<<=1,(Mn&4194240)===0&&(Mn=64),n}function Xo(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function qs(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-tn(s),n[s]=a}function Mc(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-tn(a),p=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~p}}function Jo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-tn(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var De=0;function Fn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Zo,Vi,ea,ta,na,Un=!1,Li=[],zn=null,Bn=null,Ct=null,Gs=new Map,yr=new Map,nn=[],Rl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function es(n,s){switch(n){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Gs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(s.pointerId)}}function In(n,s,a,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=ga(s),s!==null&&Vi(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Pl(n,s,a,c,d){switch(s){case"focusin":return zn=In(zn,n,s,a,c,d),!0;case"dragenter":return Bn=In(Bn,n,s,a,c,d),!0;case"mouseover":return Ct=In(Ct,n,s,a,c,d),!0;case"pointerover":var p=d.pointerId;return Gs.set(p,In(Gs.get(p)||null,n,s,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,yr.set(p,In(yr.get(p)||null,n,s,a,c,d)),!0}return!1}function Oi(n){var s=Xs(n.target);if(s!==null){var a=Tn(s);if(a!==null){if(s=a.tag,s===13){if(s=Wo(a),s!==null){n.blockedOn=s,na(n.priority,function(){ea(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $e(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=ji(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Kr=c,a.target.dispatchEvent(c),Kr=null}else return s=ga(a),s!==null&&Vi(s),n.blockedOn=a,!1;s.shift()}return!0}function Nl(n,s,a){$e(n)&&a.delete(s)}function Fc(){Un=!1,zn!==null&&$e(zn)&&(zn=null),Bn!==null&&$e(Bn)&&(Bn=null),Ct!==null&&$e(Ct)&&(Ct=null),Gs.forEach(Nl),yr.forEach(Nl)}function ts(n,s){n.blockedOn===s&&(n.blockedOn=null,Un||(Un=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fc)))}function ns(n){function s(d){return ts(d,n)}if(0<Li.length){ts(Li[0],n);for(var a=1;a<Li.length;a++){var c=Li[a];c.blockedOn===n&&(c.blockedOn=null)}}for(zn!==null&&ts(zn,n),Bn!==null&&ts(Bn,n),Ct!==null&&ts(Ct,n),Gs.forEach(s),yr.forEach(s),a=0;a<nn.length;a++)c=nn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<nn.length&&(a=nn[0],a.blockedOn===null);)Oi(a),a.blockedOn===null&&nn.shift()}var vr=ye.ReactCurrentBatchConfig,_r=!0;function $n(n,s,a,c){var d=De,p=vr.transition;vr.transition=null;try{De=1,ra(n,s,a,c)}finally{De=d,vr.transition=p}}function bl(n,s,a,c){var d=De,p=vr.transition;vr.transition=null;try{De=4,ra(n,s,a,c)}finally{De=d,vr.transition=p}}function ra(n,s,a,c){if(_r){var d=ji(n,s,a,c);if(d===null)Yc(n,s,c,Hn,a),es(n,c);else if(Pl(d,n,s,a,c))c.stopPropagation();else if(es(n,c),s&4&&-1<Rl.indexOf(n)){for(;d!==null;){var p=ga(d);if(p!==null&&Zo(p),p=ji(n,s,a,c),p===null&&Yc(n,s,c,Hn,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else Yc(n,s,c,null,a)}}var Hn=null;function ji(n,s,a,c){if(Hn=null,n=Ri(c),n=Xs(n),n!==null)if(s=Tn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Wo(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Hn=n,null}function Mi(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jc()){case bi:return 1;case Go:return 4;case zs:case Ko:return 16;case Di:return 536870912;default:return 16}default:return 16}}var rn=null,Fi=null,wr=null;function Dl(){if(wr)return wr;var n,s=Fi,a=s.length,c,d="value"in rn?rn.value:rn.textContent,p=d.length;for(n=0;n<a&&s[n]===d[n];n++);var w=a-n;for(c=1;c<=w&&s[a-c]===d[p-c];c++);return wr=d.slice(n,1<c?1-c:void 0)}function Ks(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Wn(){return!0}function sa(){return!1}function Vt(n){function s(a,c,d,p,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Wn:sa,this.isPropagationStopped=sa,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),s}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Vt(qn),rs=oe({},qn,{view:0,detail:0}),Ui=Vt(rs),zi,Bi,sn,Ys=oe({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xe,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==sn&&(sn&&n.type==="mousemove"?(zi=n.screenX-sn.screenX,Bi=n.screenY-sn.screenY):Bi=zi=0,sn=n),zi)},movementY:function(n){return"movementY"in n?n.movementY:Bi}}),ia=Vt(Ys),Vl=oe({},Ys,{dataTransfer:0}),Ll=Vt(Vl),$i=oe({},rs,{relatedTarget:0}),kt=Vt($i),Ol=oe({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),jl=Vt(Ol),ss=oe({},qn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),u=Vt(ss),m=oe({},qn,{data:0}),_=Vt(m),x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function te(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=$[n])?!!s[n]:!1}function xe(){return te}var ot=oe({},rs,{key:function(n){if(n.key){var s=x[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ks(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xe,charCode:function(n){return n.type==="keypress"?Ks(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ks(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ze=Vt(ot),ct=oe({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),on=Vt(ct),Er=oe({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xe}),Gn=Vt(Er),Kn=oe({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hi=Vt(Kn),oa=oe({},Ys,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),R0=Vt(oa),P0=[9,13,27,32],Uc=f&&"CompositionEvent"in window,aa=null;f&&"documentMode"in document&&(aa=document.documentMode);var N0=f&&"TextEvent"in window&&!aa,Yf=f&&(!Uc||aa&&8<aa&&11>=aa),Xf=" ",Jf=!1;function Zf(n,s){switch(n){case"keyup":return P0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wi=!1;function b0(n,s){switch(n){case"compositionend":return ep(s);case"keypress":return s.which!==32?null:(Jf=!0,Xf);case"textInput":return n=s.data,n===Xf&&Jf?null:n;default:return null}}function D0(n,s){if(Wi)return n==="compositionend"||!Uc&&Zf(n,s)?(n=Dl(),wr=Fi=rn=null,Wi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yf&&s.locale!=="ko"?null:s.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!V0[n.type]:s==="textarea"}function np(n,s,a,c){Qr(c),s=Bl(s,"onChange"),0<s.length&&(a=new Qs("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var la=null,ua=null;function L0(n){wp(n,0)}function Ml(n){var s=Yi(n);if(jo(s))return n}function O0(n,s){if(n==="change")return s}var rp=!1;if(f){var zc;if(f){var Bc="oninput"in document;if(!Bc){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),Bc=typeof sp.oninput=="function"}zc=Bc}else zc=!1;rp=zc&&(!document.documentMode||9<document.documentMode)}function ip(){la&&(la.detachEvent("onpropertychange",op),ua=la=null)}function op(n){if(n.propertyName==="value"&&Ml(ua)){var s=[];np(s,ua,n,Ri(n)),El(L0,s)}}function j0(n,s,a){n==="focusin"?(ip(),la=s,ua=a,la.attachEvent("onpropertychange",op)):n==="focusout"&&ip()}function M0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ml(ua)}function F0(n,s){if(n==="click")return Ml(s)}function U0(n,s){if(n==="input"||n==="change")return Ml(s)}function z0(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Sn=typeof Object.is=="function"?Object.is:z0;function ca(n,s){if(Sn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(s,d)||!Sn(n[d],s[d]))return!1}return!0}function ap(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lp(n,s){var a=ap(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ap(a)}}function up(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?up(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function cp(){for(var n=window,s=$r();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=$r(n.document)}return s}function $c(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function B0(n){var s=cp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&up(a.ownerDocument.documentElement,a)){if(c!==null&&$c(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!n.extend&&p>c&&(d=c,c=p,p=d),d=lp(a,p);var w=lp(a,c);d&&w&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),p>c?(n.addRange(s),n.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var $0=f&&"documentMode"in document&&11>=document.documentMode,qi=null,Hc=null,ha=null,Wc=!1;function hp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wc||qi==null||qi!==$r(c)||(c=qi,"selectionStart"in c&&$c(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ha&&ca(ha,c)||(ha=c,c=Bl(Hc,"onSelect"),0<c.length&&(s=new Qs("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=qi)))}function Fl(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Gi={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},qc={},dp={};f&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Ul(n){if(qc[n])return qc[n];if(!Gi[n])return n;var s=Gi[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in dp)return qc[n]=s[a];return n}var fp=Ul("animationend"),pp=Ul("animationiteration"),mp=Ul("animationstart"),gp=Ul("transitionend"),yp=new Map,vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(n,s){yp.set(n,s),l(s,[n])}for(var Gc=0;Gc<vp.length;Gc++){var Kc=vp[Gc],H0=Kc.toLowerCase(),W0=Kc[0].toUpperCase()+Kc.slice(1);is(H0,"on"+W0)}is(fp,"onAnimationEnd"),is(pp,"onAnimationIteration"),is(mp,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(gp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q0=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function _p(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,Ho(c,s,void 0,n),n.currentTarget=null}function wp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var w=c.length-1;0<=w;w--){var I=c[w],R=I.instance,B=I.currentTarget;if(I=I.listener,R!==p&&d.isPropagationStopped())break e;_p(d,I,B),p=R}else for(w=0;w<c.length;w++){if(I=c[w],R=I.instance,B=I.currentTarget,I=I.listener,R!==p&&d.isPropagationStopped())break e;_p(d,I,B),p=R}}}if(Pi)throw n=cn,Pi=!1,cn=null,n}function Ge(n,s){var a=s[nh];a===void 0&&(a=s[nh]=new Set);var c=n+"__bubble";a.has(c)||(Ep(s,n,2,!1),a.add(c))}function Qc(n,s,a){var c=0;s&&(c|=4),Ep(a,n,c,s)}var zl="_reactListening"+Math.random().toString(36).slice(2);function fa(n){if(!n[zl]){n[zl]=!0,i.forEach(function(a){a!=="selectionchange"&&(q0.has(a)||Qc(a,!1,n),Qc(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[zl]||(s[zl]=!0,Qc("selectionchange",!1,s))}}function Ep(n,s,a,c){switch(Mi(s)){case 1:var d=$n;break;case 4:d=bl;break;default:d=ra}a=d.bind(null,s,a,n),d=void 0,!Xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function Yc(n,s,a,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var R=w.tag;if((R===3||R===4)&&(R=w.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;w=w.return}for(;I!==null;){if(w=Xs(I),w===null)return;if(R=w.tag,R===5||R===6){c=p=w;continue e}I=I.parentNode}}c=c.return}El(function(){var B=p,X=Ri(a),Z=[];e:{var Y=yp.get(n);if(Y!==void 0){var se=Qs,le=n;switch(n){case"keypress":if(Ks(a)===0)break e;case"keydown":case"keyup":se=ze;break;case"focusin":le="focus",se=kt;break;case"focusout":le="blur",se=kt;break;case"beforeblur":case"afterblur":se=kt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Gn;break;case fp:case pp:case mp:se=jl;break;case gp:se=Hi;break;case"scroll":se=Ui;break;case"wheel":se=R0;break;case"copy":case"cut":case"paste":se=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=on}var ue=(s&4)!==0,at=!ue&&n==="scroll",j=ue?Y!==null?Y+"Capture":null:Y;ue=[];for(var D=B,U;D!==null;){U=D;var ee=U.stateNode;if(U.tag===5&&ee!==null&&(U=ee,j!==null&&(ee=Ms(D,j),ee!=null&&ue.push(pa(D,ee,U)))),at)break;D=D.return}0<ue.length&&(Y=new se(Y,le,null,a,X),Z.push({event:Y,listeners:ue}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",Y&&a!==Kr&&(le=a.relatedTarget||a.fromElement)&&(Xs(le)||le[xr]))break e;if((se||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,se?(le=a.relatedTarget||a.toElement,se=B,le=le?Xs(le):null,le!==null&&(at=Tn(le),le!==at||le.tag!==5&&le.tag!==6)&&(le=null)):(se=null,le=B),se!==le)){if(ue=ia,ee="onMouseLeave",j="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(ue=on,ee="onPointerLeave",j="onPointerEnter",D="pointer"),at=se==null?Y:Yi(se),U=le==null?Y:Yi(le),Y=new ue(ee,D+"leave",se,a,X),Y.target=at,Y.relatedTarget=U,ee=null,Xs(X)===B&&(ue=new ue(j,D+"enter",le,a,X),ue.target=U,ue.relatedTarget=at,ee=ue),at=ee,se&&le)t:{for(ue=se,j=le,D=0,U=ue;U;U=Ki(U))D++;for(U=0,ee=j;ee;ee=Ki(ee))U++;for(;0<D-U;)ue=Ki(ue),D--;for(;0<U-D;)j=Ki(j),U--;for(;D--;){if(ue===j||j!==null&&ue===j.alternate)break t;ue=Ki(ue),j=Ki(j)}ue=null}else ue=null;se!==null&&xp(Z,Y,se,ue,!1),le!==null&&at!==null&&xp(Z,at,le,ue,!0)}}e:{if(Y=B?Yi(B):window,se=Y.nodeName&&Y.nodeName.toLowerCase(),se==="select"||se==="input"&&Y.type==="file")var ce=O0;else if(tp(Y))if(rp)ce=U0;else{ce=M0;var fe=j0}else(se=Y.nodeName)&&se.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(ce=F0);if(ce&&(ce=ce(n,B))){np(Z,ce,a,X);break e}fe&&fe(n,Y,B),n==="focusout"&&(fe=Y._wrapperState)&&fe.controlled&&Y.type==="number"&&ut(Y,"number",Y.value)}switch(fe=B?Yi(B):window,n){case"focusin":(tp(fe)||fe.contentEditable==="true")&&(qi=fe,Hc=B,ha=null);break;case"focusout":ha=Hc=qi=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,hp(Z,a,X);break;case"selectionchange":if($0)break;case"keydown":case"keyup":hp(Z,a,X)}var pe;if(Uc)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Wi?Zf(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(Yf&&a.locale!=="ko"&&(Wi||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Wi&&(pe=Dl()):(rn=X,Fi="value"in rn?rn.value:rn.textContent,Wi=!0)),fe=Bl(B,ve),0<fe.length&&(ve=new _(ve,n,null,a,X),Z.push({event:ve,listeners:fe}),pe?ve.data=pe:(pe=ep(a),pe!==null&&(ve.data=pe)))),(pe=N0?b0(n,a):D0(n,a))&&(B=Bl(B,"onBeforeInput"),0<B.length&&(X=new _("onBeforeInput","beforeinput",null,a,X),Z.push({event:X,listeners:B}),X.data=pe))}wp(Z,s)})}function pa(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Bl(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Ms(n,a),p!=null&&c.unshift(pa(n,p,d)),p=Ms(n,s),p!=null&&c.push(pa(n,p,d))),n=n.return}return c}function Ki(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function xp(n,s,a,c,d){for(var p=s._reactName,w=[];a!==null&&a!==c;){var I=a,R=I.alternate,B=I.stateNode;if(R!==null&&R===c)break;I.tag===5&&B!==null&&(I=B,d?(R=Ms(a,p),R!=null&&w.unshift(pa(a,R,I))):d||(R=Ms(a,p),R!=null&&w.push(pa(a,R,I)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var G0=/\r\n?/g,K0=/\u0000|\uFFFD/g;function Tp(n){return(typeof n=="string"?n:""+n).replace(G0,`
`).replace(K0,"")}function $l(n,s,a){if(s=Tp(s),Tp(n)!==s&&a)throw Error(t(425))}function Hl(){}var Xc=null,Jc=null;function Zc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var eh=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,Y0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(n){return Ip.resolve(null).then(n).catch(X0)}:eh;function X0(n){setTimeout(function(){throw n})}function th(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),ns(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);ns(s)}function os(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Sp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Qi,ma="__reactProps$"+Qi,xr="__reactContainer$"+Qi,nh="__reactEvents$"+Qi,J0="__reactListeners$"+Qi,Z0="__reactHandles$"+Qi;function Xs(n){var s=n[Qn];if(s)return s;for(var a=n.parentNode;a;){if(s=a[xr]||a[Qn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Sp(n);n!==null;){if(a=n[Qn])return a;n=Sp(n)}return s}n=a,a=n.parentNode}return null}function ga(n){return n=n[Qn]||n[xr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Yi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Wl(n){return n[ma]||null}var rh=[],Xi=-1;function as(n){return{current:n}}function Ke(n){0>Xi||(n.current=rh[Xi],rh[Xi]=null,Xi--)}function We(n,s){Xi++,rh[Xi]=n.current,n.current=s}var ls={},Lt=as(ls),qt=as(!1),Js=ls;function Ji(n,s){var a=n.type.contextTypes;if(!a)return ls;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=s[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function Gt(n){return n=n.childContextTypes,n!=null}function ql(){Ke(qt),Ke(Lt)}function Cp(n,s,a){if(Lt.current!==ls)throw Error(t(168));We(Lt,s),We(qt,a)}function kp(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Fe(n)||"Unknown",d));return oe({},a,c)}function Gl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ls,Js=Lt.current,We(Lt,n),We(qt,qt.current),!0}function Ap(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=kp(n,s,Js),c.__reactInternalMemoizedMergedChildContext=n,Ke(qt),Ke(Lt),We(Lt,n)):Ke(qt),We(qt,a)}var Tr=null,Kl=!1,sh=!1;function Rp(n){Tr===null?Tr=[n]:Tr.push(n)}function ew(n){Kl=!0,Rp(n)}function us(){if(!sh&&Tr!==null){sh=!0;var n=0,s=De;try{var a=Tr;for(De=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Tr=null,Kl=!1}catch(d){throw Tr!==null&&(Tr=Tr.slice(n+1)),qo(bi,us),d}finally{De=s,sh=!1}}return null}var Zi=[],eo=0,Ql=null,Yl=0,dn=[],fn=0,Zs=null,Ir=1,Sr="";function ei(n,s){Zi[eo++]=Yl,Zi[eo++]=Ql,Ql=n,Yl=s}function Pp(n,s,a){dn[fn++]=Ir,dn[fn++]=Sr,dn[fn++]=Zs,Zs=n;var c=Ir;n=Sr;var d=32-tn(c)-1;c&=~(1<<d),a+=1;var p=32-tn(s)+d;if(30<p){var w=d-d%5;p=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Ir=1<<32-tn(s)+d|a<<d|c,Sr=p+n}else Ir=1<<p|a<<d|c,Sr=n}function ih(n){n.return!==null&&(ei(n,1),Pp(n,1,0))}function oh(n){for(;n===Ql;)Ql=Zi[--eo],Zi[eo]=null,Yl=Zi[--eo],Zi[eo]=null;for(;n===Zs;)Zs=dn[--fn],dn[fn]=null,Sr=dn[--fn],dn[fn]=null,Ir=dn[--fn],dn[fn]=null}var an=null,ln=null,Xe=!1,Cn=null;function Np(n,s){var a=yn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function bp(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,an=n,ln=os(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,an=n,ln=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Zs!==null?{id:Ir,overflow:Sr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=yn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,an=n,ln=null,!0):!1;default:return!1}}function ah(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lh(n){if(Xe){var s=ln;if(s){var a=s;if(!bp(n,s)){if(ah(n))throw Error(t(418));s=os(a.nextSibling);var c=an;s&&bp(n,s)?Np(c,a):(n.flags=n.flags&-4097|2,Xe=!1,an=n)}}else{if(ah(n))throw Error(t(418));n.flags=n.flags&-4097|2,Xe=!1,an=n}}}function Dp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;an=n}function Xl(n){if(n!==an)return!1;if(!Xe)return Dp(n),Xe=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Zc(n.type,n.memoizedProps)),s&&(s=ln)){if(ah(n))throw Vp(),Error(t(418));for(;s;)Np(n,s),s=os(s.nextSibling)}if(Dp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){ln=os(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}ln=null}}else ln=an?os(n.stateNode.nextSibling):null;return!0}function Vp(){for(var n=ln;n;)n=os(n.nextSibling)}function to(){ln=an=null,Xe=!1}function uh(n){Cn===null?Cn=[n]:Cn.push(n)}var tw=ye.ReactCurrentBatchConfig;function ya(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,p=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(w){var I=d.refs;w===null?delete I[p]:I[p]=w},s._stringRef=p,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Jl(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Lp(n){var s=n._init;return s(n._payload)}function Op(n){function s(j,D){if(n){var U=j.deletions;U===null?(j.deletions=[D],j.flags|=16):U.push(D)}}function a(j,D){if(!n)return null;for(;D!==null;)s(j,D),D=D.sibling;return null}function c(j,D){for(j=new Map;D!==null;)D.key!==null?j.set(D.key,D):j.set(D.index,D),D=D.sibling;return j}function d(j,D){return j=ys(j,D),j.index=0,j.sibling=null,j}function p(j,D,U){return j.index=U,n?(U=j.alternate,U!==null?(U=U.index,U<D?(j.flags|=2,D):U):(j.flags|=2,D)):(j.flags|=1048576,D)}function w(j){return n&&j.alternate===null&&(j.flags|=2),j}function I(j,D,U,ee){return D===null||D.tag!==6?(D=ed(U,j.mode,ee),D.return=j,D):(D=d(D,U),D.return=j,D)}function R(j,D,U,ee){var ce=U.type;return ce===P?X(j,D,U.props.children,ee,U.key):D!==null&&(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Dt&&Lp(ce)===D.type)?(ee=d(D,U.props),ee.ref=ya(j,D,U),ee.return=j,ee):(ee=xu(U.type,U.key,U.props,null,j.mode,ee),ee.ref=ya(j,D,U),ee.return=j,ee)}function B(j,D,U,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=td(U,j.mode,ee),D.return=j,D):(D=d(D,U.children||[]),D.return=j,D)}function X(j,D,U,ee,ce){return D===null||D.tag!==7?(D=li(U,j.mode,ee,ce),D.return=j,D):(D=d(D,U),D.return=j,D)}function Z(j,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return D=ed(""+D,j.mode,U),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ie:return U=xu(D.type,D.key,D.props,null,j.mode,U),U.ref=ya(j,null,D),U.return=j,U;case we:return D=td(D,j.mode,U),D.return=j,D;case Dt:var ee=D._init;return Z(j,ee(D._payload),U)}if(it(D)||de(D))return D=li(D,j.mode,U,null),D.return=j,D;Jl(j,D)}return null}function Y(j,D,U,ee){var ce=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ce!==null?null:I(j,D,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ie:return U.key===ce?R(j,D,U,ee):null;case we:return U.key===ce?B(j,D,U,ee):null;case Dt:return ce=U._init,Y(j,D,ce(U._payload),ee)}if(it(U)||de(U))return ce!==null?null:X(j,D,U,ee,null);Jl(j,U)}return null}function se(j,D,U,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return j=j.get(U)||null,I(D,j,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ie:return j=j.get(ee.key===null?U:ee.key)||null,R(D,j,ee,ce);case we:return j=j.get(ee.key===null?U:ee.key)||null,B(D,j,ee,ce);case Dt:var fe=ee._init;return se(j,D,U,fe(ee._payload),ce)}if(it(ee)||de(ee))return j=j.get(U)||null,X(D,j,ee,ce,null);Jl(D,ee)}return null}function le(j,D,U,ee){for(var ce=null,fe=null,pe=D,ve=D=0,Tt=null;pe!==null&&ve<U.length;ve++){pe.index>ve?(Tt=pe,pe=null):Tt=pe.sibling;var je=Y(j,pe,U[ve],ee);if(je===null){pe===null&&(pe=Tt);break}n&&pe&&je.alternate===null&&s(j,pe),D=p(je,D,ve),fe===null?ce=je:fe.sibling=je,fe=je,pe=Tt}if(ve===U.length)return a(j,pe),Xe&&ei(j,ve),ce;if(pe===null){for(;ve<U.length;ve++)pe=Z(j,U[ve],ee),pe!==null&&(D=p(pe,D,ve),fe===null?ce=pe:fe.sibling=pe,fe=pe);return Xe&&ei(j,ve),ce}for(pe=c(j,pe);ve<U.length;ve++)Tt=se(pe,j,ve,U[ve],ee),Tt!==null&&(n&&Tt.alternate!==null&&pe.delete(Tt.key===null?ve:Tt.key),D=p(Tt,D,ve),fe===null?ce=Tt:fe.sibling=Tt,fe=Tt);return n&&pe.forEach(function(vs){return s(j,vs)}),Xe&&ei(j,ve),ce}function ue(j,D,U,ee){var ce=de(U);if(typeof ce!="function")throw Error(t(150));if(U=ce.call(U),U==null)throw Error(t(151));for(var fe=ce=null,pe=D,ve=D=0,Tt=null,je=U.next();pe!==null&&!je.done;ve++,je=U.next()){pe.index>ve?(Tt=pe,pe=null):Tt=pe.sibling;var vs=Y(j,pe,je.value,ee);if(vs===null){pe===null&&(pe=Tt);break}n&&pe&&vs.alternate===null&&s(j,pe),D=p(vs,D,ve),fe===null?ce=vs:fe.sibling=vs,fe=vs,pe=Tt}if(je.done)return a(j,pe),Xe&&ei(j,ve),ce;if(pe===null){for(;!je.done;ve++,je=U.next())je=Z(j,je.value,ee),je!==null&&(D=p(je,D,ve),fe===null?ce=je:fe.sibling=je,fe=je);return Xe&&ei(j,ve),ce}for(pe=c(j,pe);!je.done;ve++,je=U.next())je=se(pe,j,ve,je.value,ee),je!==null&&(n&&je.alternate!==null&&pe.delete(je.key===null?ve:je.key),D=p(je,D,ve),fe===null?ce=je:fe.sibling=je,fe=je);return n&&pe.forEach(function(Vw){return s(j,Vw)}),Xe&&ei(j,ve),ce}function at(j,D,U,ee){if(typeof U=="object"&&U!==null&&U.type===P&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ie:e:{for(var ce=U.key,fe=D;fe!==null;){if(fe.key===ce){if(ce=U.type,ce===P){if(fe.tag===7){a(j,fe.sibling),D=d(fe,U.props.children),D.return=j,j=D;break e}}else if(fe.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Dt&&Lp(ce)===fe.type){a(j,fe.sibling),D=d(fe,U.props),D.ref=ya(j,fe,U),D.return=j,j=D;break e}a(j,fe);break}else s(j,fe);fe=fe.sibling}U.type===P?(D=li(U.props.children,j.mode,ee,U.key),D.return=j,j=D):(ee=xu(U.type,U.key,U.props,null,j.mode,ee),ee.ref=ya(j,D,U),ee.return=j,j=ee)}return w(j);case we:e:{for(fe=U.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(j,D.sibling),D=d(D,U.children||[]),D.return=j,j=D;break e}else{a(j,D);break}else s(j,D);D=D.sibling}D=td(U,j.mode,ee),D.return=j,j=D}return w(j);case Dt:return fe=U._init,at(j,D,fe(U._payload),ee)}if(it(U))return le(j,D,U,ee);if(de(U))return ue(j,D,U,ee);Jl(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,D!==null&&D.tag===6?(a(j,D.sibling),D=d(D,U),D.return=j,j=D):(a(j,D),D=ed(U,j.mode,ee),D.return=j,j=D),w(j)):a(j,D)}return at}var no=Op(!0),jp=Op(!1),Zl=as(null),eu=null,ro=null,ch=null;function hh(){ch=ro=eu=null}function dh(n){var s=Zl.current;Ke(Zl),n._currentValue=s}function fh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function so(n,s){eu=n,ch=ro=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Kt=!0),n.firstContext=null)}function pn(n){var s=n._currentValue;if(ch!==n)if(n={context:n,memoizedValue:s,next:null},ro===null){if(eu===null)throw Error(t(308));ro=n,eu.dependencies={lanes:0,firstContext:n}}else ro=ro.next=n;return s}var ti=null;function ph(n){ti===null?ti=[n]:ti.push(n)}function Mp(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,ph(s)):(a.next=d.next,d.next=a),s.interleaved=a,Cr(n,c)}function Cr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var cs=!1;function mh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function kr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function hs(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Oe&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Cr(n,a)}return d=c.interleaved,d===null?(s.next=s,ph(c)):(s.next=d.next,d.next=s),c.interleaved=s,Cr(n,a)}function tu(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Jo(n,a)}}function Up(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=w:p=p.next=w,a=a.next}while(a!==null);p===null?d=p=s:p=p.next=s}else d=p=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function nu(n,s,a,c){var d=n.updateQueue;cs=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var R=I,B=R.next;R.next=null,w===null?p=B:w.next=B,w=R;var X=n.alternate;X!==null&&(X=X.updateQueue,I=X.lastBaseUpdate,I!==w&&(I===null?X.firstBaseUpdate=B:I.next=B,X.lastBaseUpdate=R))}if(p!==null){var Z=d.baseState;w=0,X=B=R=null,I=p;do{var Y=I.lane,se=I.eventTime;if((c&Y)===Y){X!==null&&(X=X.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var le=n,ue=I;switch(Y=s,se=a,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){Z=le.call(se,Z,Y);break e}Z=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,Y=typeof le=="function"?le.call(se,Z,Y):le,Y==null)break e;Z=oe({},Z,Y);break e;case 2:cs=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,Y=d.effects,Y===null?d.effects=[I]:Y.push(I))}else se={eventTime:se,lane:Y,tag:I.tag,payload:I.payload,callback:I.callback,next:null},X===null?(B=X=se,R=Z):X=X.next=se,w|=Y;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;Y=I,I=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(X===null&&(R=Z),d.baseState=R,d.firstBaseUpdate=B,d.lastBaseUpdate=X,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else p===null&&(d.shared.lanes=0);si|=w,n.lanes=w,n.memoizedState=Z}}function zp(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var va={},Yn=as(va),_a=as(va),wa=as(va);function ni(n){if(n===va)throw Error(t(174));return n}function gh(n,s){switch(We(wa,s),We(_a,n),We(Yn,va),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ci(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Ci(s,n)}Ke(Yn),We(Yn,s)}function io(){Ke(Yn),Ke(_a),Ke(wa)}function Bp(n){ni(wa.current);var s=ni(Yn.current),a=Ci(s,n.type);s!==a&&(We(_a,n),We(Yn,a))}function yh(n){_a.current===n&&(Ke(Yn),Ke(_a))}var Je=as(0);function ru(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vh=[];function _h(){for(var n=0;n<vh.length;n++)vh[n]._workInProgressVersionPrimary=null;vh.length=0}var su=ye.ReactCurrentDispatcher,wh=ye.ReactCurrentBatchConfig,ri=0,Ze=null,gt=null,Et=null,iu=!1,Ea=!1,xa=0,nw=0;function Ot(){throw Error(t(321))}function Eh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Sn(n[a],s[a]))return!1;return!0}function xh(n,s,a,c,d,p){if(ri=p,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,su.current=n===null||n.memoizedState===null?ow:aw,n=a(c,d),Ea){p=0;do{if(Ea=!1,xa=0,25<=p)throw Error(t(301));p+=1,Et=gt=null,s.updateQueue=null,su.current=lw,n=a(c,d)}while(Ea)}if(su.current=lu,s=gt!==null&&gt.next!==null,ri=0,Et=gt=Ze=null,iu=!1,s)throw Error(t(300));return n}function Th(){var n=xa!==0;return xa=0,n}function Xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ze.memoizedState=Et=n:Et=Et.next=n,Et}function mn(){if(gt===null){var n=Ze.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var s=Et===null?Ze.memoizedState:Et.next;if(s!==null)Et=s,gt=n;else{if(n===null)throw Error(t(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Et===null?Ze.memoizedState=Et=n:Et=Et.next=n}return Et}function Ta(n,s){return typeof s=="function"?s(n):s}function Ih(n){var s=mn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=gt,d=c.baseQueue,p=a.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}c.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,c=c.baseState;var I=w=null,R=null,B=p;do{var X=B.lane;if((ri&X)===X)R!==null&&(R=R.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var Z={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};R===null?(I=R=Z,w=c):R=R.next=Z,Ze.lanes|=X,si|=X}B=B.next}while(B!==null&&B!==p);R===null?w=c:R.next=I,Sn(c,s.memoizedState)||(Kt=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=R,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do p=d.lane,Ze.lanes|=p,si|=p,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Sh(n){var s=mn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,p=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do p=n(p,w.action),w=w.next;while(w!==d);Sn(p,s.memoizedState)||(Kt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,c]}function $p(){}function Hp(n,s){var a=Ze,c=mn(),d=s(),p=!Sn(c.memoizedState,d);if(p&&(c.memoizedState=d,Kt=!0),c=c.queue,Ch(Gp.bind(null,a,c,n),[n]),c.getSnapshot!==s||p||Et!==null&&Et.memoizedState.tag&1){if(a.flags|=2048,Ia(9,qp.bind(null,a,c,d,s),void 0,null),xt===null)throw Error(t(349));(ri&30)!==0||Wp(a,s,d)}return d}function Wp(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function qp(n,s,a,c){s.value=a,s.getSnapshot=c,Kp(s)&&Qp(n)}function Gp(n,s,a){return a(function(){Kp(s)&&Qp(n)})}function Kp(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Sn(n,a)}catch{return!0}}function Qp(n){var s=Cr(n,1);s!==null&&Pn(s,n,1,-1)}function Yp(n){var s=Xn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:n},s.queue=n,n=n.dispatch=iw.bind(null,Ze,n),[s.memoizedState,n]}function Ia(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function Xp(){return mn().memoizedState}function ou(n,s,a,c){var d=Xn();Ze.flags|=n,d.memoizedState=Ia(1|s,a,void 0,c===void 0?null:c)}function au(n,s,a,c){var d=mn();c=c===void 0?null:c;var p=void 0;if(gt!==null){var w=gt.memoizedState;if(p=w.destroy,c!==null&&Eh(c,w.deps)){d.memoizedState=Ia(s,a,p,c);return}}Ze.flags|=n,d.memoizedState=Ia(1|s,a,p,c)}function Jp(n,s){return ou(8390656,8,n,s)}function Ch(n,s){return au(2048,8,n,s)}function Zp(n,s){return au(4,2,n,s)}function em(n,s){return au(4,4,n,s)}function tm(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function nm(n,s,a){return a=a!=null?a.concat([n]):null,au(4,4,tm.bind(null,s,n),a)}function kh(){}function rm(n,s){var a=mn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Eh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function sm(n,s){var a=mn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Eh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function im(n,s,a){return(ri&21)===0?(n.baseState&&(n.baseState=!1,Kt=!0),n.memoizedState=a):(Sn(a,s)||(a=Yo(),Ze.lanes|=a,si|=a,n.baseState=!0),s)}function rw(n,s){var a=De;De=a!==0&&4>a?a:4,n(!0);var c=wh.transition;wh.transition={};try{n(!1),s()}finally{De=a,wh.transition=c}}function om(){return mn().memoizedState}function sw(n,s,a){var c=ms(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},am(n))lm(s,a);else if(a=Mp(n,s,a,c),a!==null){var d=Wt();Pn(a,n,c,d),um(a,s,c)}}function iw(n,s,a){var c=ms(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(am(n))lm(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var w=s.lastRenderedState,I=p(w,a);if(d.hasEagerState=!0,d.eagerState=I,Sn(I,w)){var R=s.interleaved;R===null?(d.next=d,ph(s)):(d.next=R.next,R.next=d),s.interleaved=d;return}}catch{}finally{}a=Mp(n,s,d,c),a!==null&&(d=Wt(),Pn(a,n,c,d),um(a,s,c))}}function am(n){var s=n.alternate;return n===Ze||s!==null&&s===Ze}function lm(n,s){Ea=iu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function um(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Jo(n,a)}}var lu={readContext:pn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},ow={readContext:pn,useCallback:function(n,s){return Xn().memoizedState=[n,s===void 0?null:s],n},useContext:pn,useEffect:Jp,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,ou(4194308,4,tm.bind(null,s,n),a)},useLayoutEffect:function(n,s){return ou(4194308,4,n,s)},useInsertionEffect:function(n,s){return ou(4,2,n,s)},useMemo:function(n,s){var a=Xn();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Xn();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=sw.bind(null,Ze,n),[c.memoizedState,n]},useRef:function(n){var s=Xn();return n={current:n},s.memoizedState=n},useState:Yp,useDebugValue:kh,useDeferredValue:function(n){return Xn().memoizedState=n},useTransition:function(){var n=Yp(!1),s=n[0];return n=rw.bind(null,n[1]),Xn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=Ze,d=Xn();if(Xe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),xt===null)throw Error(t(349));(ri&30)!==0||Wp(c,s,a)}d.memoizedState=a;var p={value:a,getSnapshot:s};return d.queue=p,Jp(Gp.bind(null,c,p,n),[n]),c.flags|=2048,Ia(9,qp.bind(null,c,p,a,s),void 0,null),a},useId:function(){var n=Xn(),s=xt.identifierPrefix;if(Xe){var a=Sr,c=Ir;a=(c&~(1<<32-tn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=xa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=nw++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},aw={readContext:pn,useCallback:rm,useContext:pn,useEffect:Ch,useImperativeHandle:nm,useInsertionEffect:Zp,useLayoutEffect:em,useMemo:sm,useReducer:Ih,useRef:Xp,useState:function(){return Ih(Ta)},useDebugValue:kh,useDeferredValue:function(n){var s=mn();return im(s,gt.memoizedState,n)},useTransition:function(){var n=Ih(Ta)[0],s=mn().memoizedState;return[n,s]},useMutableSource:$p,useSyncExternalStore:Hp,useId:om,unstable_isNewReconciler:!1},lw={readContext:pn,useCallback:rm,useContext:pn,useEffect:Ch,useImperativeHandle:nm,useInsertionEffect:Zp,useLayoutEffect:em,useMemo:sm,useReducer:Sh,useRef:Xp,useState:function(){return Sh(Ta)},useDebugValue:kh,useDeferredValue:function(n){var s=mn();return gt===null?s.memoizedState=n:im(s,gt.memoizedState,n)},useTransition:function(){var n=Sh(Ta)[0],s=mn().memoizedState;return[n,s]},useMutableSource:$p,useSyncExternalStore:Hp,useId:om,unstable_isNewReconciler:!1};function kn(n,s){if(n&&n.defaultProps){s=oe({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Ah(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:oe({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var uu={isMounted:function(n){return(n=n._reactInternals)?Tn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Wt(),d=ms(n),p=kr(c,d);p.payload=s,a!=null&&(p.callback=a),s=hs(n,p,d),s!==null&&(Pn(s,n,d,c),tu(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Wt(),d=ms(n),p=kr(c,d);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=hs(n,p,d),s!==null&&(Pn(s,n,d,c),tu(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Wt(),c=ms(n),d=kr(a,c);d.tag=2,s!=null&&(d.callback=s),s=hs(n,d,c),s!==null&&(Pn(s,n,c,a),tu(s,n,c))}};function cm(n,s,a,c,d,p,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,w):s.prototype&&s.prototype.isPureReactComponent?!ca(a,c)||!ca(d,p):!0}function hm(n,s,a){var c=!1,d=ls,p=s.contextType;return typeof p=="object"&&p!==null?p=pn(p):(d=Gt(s)?Js:Lt.current,c=s.contextTypes,p=(c=c!=null)?Ji(n,d):ls),s=new s(a,p),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=uu,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),s}function dm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&uu.enqueueReplaceState(s,s.state,null)}function Rh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},mh(n);var p=s.contextType;typeof p=="object"&&p!==null?d.context=pn(p):(p=Gt(s)?Js:Lt.current,d.context=Ji(n,p)),d.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Ah(n,s,p,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&uu.enqueueReplaceState(d,d.state,null),nu(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function oo(n,s){try{var a="",c=s;do a+=Ae(c),c=c.return;while(c);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:s,stack:d,digest:null}}function Ph(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Nh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var uw=typeof WeakMap=="function"?WeakMap:Map;function fm(n,s,a){a=kr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){gu||(gu=!0,qh=c),Nh(n,s)},a}function pm(n,s,a){a=kr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Nh(n,s)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){Nh(n,s),typeof c!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function mm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new uw;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=Tw.bind(null,n,s,a),s.then(n,n))}function gm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function ym(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=kr(-1,1),s.tag=2,hs(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var cw=ye.ReactCurrentOwner,Kt=!1;function Ht(n,s,a,c){s.child=n===null?jp(s,null,a,c):no(s,n.child,a,c)}function vm(n,s,a,c,d){a=a.render;var p=s.ref;return so(s,d),c=xh(n,s,a,c,p,d),a=Th(),n!==null&&!Kt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Ar(n,s,d)):(Xe&&a&&ih(s),s.flags|=1,Ht(n,s,c,d),s.child)}function _m(n,s,a,c,d){if(n===null){var p=a.type;return typeof p=="function"&&!Zh(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=p,wm(n,s,p,c,d)):(n=xu(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,(n.lanes&d)===0){var w=p.memoizedProps;if(a=a.compare,a=a!==null?a:ca,a(w,c)&&n.ref===s.ref)return Ar(n,s,d)}return s.flags|=1,n=ys(p,c),n.ref=s.ref,n.return=s,s.child=n}function wm(n,s,a,c,d){if(n!==null){var p=n.memoizedProps;if(ca(p,c)&&n.ref===s.ref)if(Kt=!1,s.pendingProps=c=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Kt=!0);else return s.lanes=n.lanes,Ar(n,s,d)}return bh(n,s,a,c,d)}function Em(n,s,a){var c=s.pendingProps,d=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(lo,un),un|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,We(lo,un),un|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,We(lo,un),un|=c}else p!==null?(c=p.baseLanes|a,s.memoizedState=null):c=a,We(lo,un),un|=c;return Ht(n,s,d,a),s.child}function xm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function bh(n,s,a,c,d){var p=Gt(a)?Js:Lt.current;return p=Ji(s,p),so(s,d),a=xh(n,s,a,c,p,d),c=Th(),n!==null&&!Kt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Ar(n,s,d)):(Xe&&c&&ih(s),s.flags|=1,Ht(n,s,a,d),s.child)}function Tm(n,s,a,c,d){if(Gt(a)){var p=!0;Gl(s)}else p=!1;if(so(s,d),s.stateNode===null)hu(n,s),hm(s,a,c),Rh(s,a,c,d),c=!0;else if(n===null){var w=s.stateNode,I=s.memoizedProps;w.props=I;var R=w.context,B=a.contextType;typeof B=="object"&&B!==null?B=pn(B):(B=Gt(a)?Js:Lt.current,B=Ji(s,B));var X=a.getDerivedStateFromProps,Z=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==c||R!==B)&&dm(s,w,c,B),cs=!1;var Y=s.memoizedState;w.state=Y,nu(s,c,w,d),R=s.memoizedState,I!==c||Y!==R||qt.current||cs?(typeof X=="function"&&(Ah(s,a,X,c),R=s.memoizedState),(I=cs||cm(s,a,I,c,Y,R,B))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=R),w.props=c,w.state=R,w.context=B,c=I):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,Fp(n,s),I=s.memoizedProps,B=s.type===s.elementType?I:kn(s.type,I),w.props=B,Z=s.pendingProps,Y=w.context,R=a.contextType,typeof R=="object"&&R!==null?R=pn(R):(R=Gt(a)?Js:Lt.current,R=Ji(s,R));var se=a.getDerivedStateFromProps;(X=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==Z||Y!==R)&&dm(s,w,c,R),cs=!1,Y=s.memoizedState,w.state=Y,nu(s,c,w,d);var le=s.memoizedState;I!==Z||Y!==le||qt.current||cs?(typeof se=="function"&&(Ah(s,a,se,c),le=s.memoizedState),(B=cs||cm(s,a,B,c,Y,le,R)||!1)?(X||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,le,R),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,le,R)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=le),w.props=c,w.state=le,w.context=R,c=B):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),c=!1)}return Dh(n,s,a,c,p,d)}function Dh(n,s,a,c,d,p){xm(n,s);var w=(s.flags&128)!==0;if(!c&&!w)return d&&Ap(s,a,!1),Ar(n,s,p);c=s.stateNode,cw.current=s;var I=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&w?(s.child=no(s,n.child,null,p),s.child=no(s,null,I,p)):Ht(n,s,I,p),s.memoizedState=c.state,d&&Ap(s,a,!0),s.child}function Im(n){var s=n.stateNode;s.pendingContext?Cp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Cp(n,s.context,!1),gh(n,s.containerInfo)}function Sm(n,s,a,c,d){return to(),uh(d),s.flags|=256,Ht(n,s,a,c),s.child}var Vh={dehydrated:null,treeContext:null,retryLane:0};function Lh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Cm(n,s,a){var c=s.pendingProps,d=Je.current,p=!1,w=(s.flags&128)!==0,I;if((I=w)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(p=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),We(Je,d&1),n===null)return lh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,n=c.fallback,p?(c=s.mode,p=s.child,w={mode:"hidden",children:w},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=Tu(w,c,0,null),n=li(n,c,a,null),p.return=s,n.return=s,p.sibling=n,s.child=p,s.child.memoizedState=Lh(a),s.memoizedState=Vh,n):Oh(s,w));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return hw(n,s,w,c,I,d,a);if(p){p=c.fallback,w=s.mode,d=n.child,I=d.sibling;var R={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=R,s.deletions=null):(c=ys(d,R),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?p=ys(I,p):(p=li(p,w,a,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,w=n.child.memoizedState,w=w===null?Lh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=n.childLanes&~a,s.memoizedState=Vh,c}return p=n.child,n=p.sibling,c=ys(p,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Oh(n,s){return s=Tu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function cu(n,s,a,c){return c!==null&&uh(c),no(s,n.child,null,a),n=Oh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function hw(n,s,a,c,d,p,w){if(a)return s.flags&256?(s.flags&=-257,c=Ph(Error(t(422))),cu(n,s,w,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(p=c.fallback,d=s.mode,c=Tu({mode:"visible",children:c.children},d,0,null),p=li(p,d,w,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,(s.mode&1)!==0&&no(s,n.child,null,w),s.child.memoizedState=Lh(w),s.memoizedState=Vh,p);if((s.mode&1)===0)return cu(n,s,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,p=Error(t(419)),c=Ph(p,c,void 0),cu(n,s,w,c)}if(I=(w&n.childLanes)!==0,Kt||I){if(c=xt,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,Cr(n,d),Pn(c,n,d,-1))}return Jh(),c=Ph(Error(t(421))),cu(n,s,w,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=Iw.bind(null,n),d._reactRetry=s,null):(n=p.treeContext,ln=os(d.nextSibling),an=s,Xe=!0,Cn=null,n!==null&&(dn[fn++]=Ir,dn[fn++]=Sr,dn[fn++]=Zs,Ir=n.id,Sr=n.overflow,Zs=s),s=Oh(s,c.children),s.flags|=4096,s)}function km(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),fh(n.return,s,a)}function jh(n,s,a,c,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=d)}function Am(n,s,a){var c=s.pendingProps,d=c.revealOrder,p=c.tail;if(Ht(n,s,c.children,a),c=Je.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&km(n,a,s);else if(n.tag===19)km(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(We(Je,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&ru(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),jh(s,!1,d,a,p);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&ru(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}jh(s,!0,a,null,p);break;case"together":jh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Ar(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),si|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=ys(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ys(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function dw(n,s,a){switch(s.tag){case 3:Im(s),to();break;case 5:Bp(s);break;case 1:Gt(s.type)&&Gl(s);break;case 4:gh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;We(Zl,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(We(Je,Je.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Cm(n,s,a):(We(Je,Je.current&1),n=Ar(n,s,a),n!==null?n.sibling:null);We(Je,Je.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return Am(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(Je,Je.current),c)break;return null;case 22:case 23:return s.lanes=0,Em(n,s,a)}return Ar(n,s,a)}var Rm,Mh,Pm,Nm;Rm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Mh=function(){},Pm=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,ni(Yn.current);var p=null;switch(a){case"input":d=Ii(n,d),c=Ii(n,c),p=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),p=[];break;case"textarea":d=Fo(n,d),c=Fo(n,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Hl)}xn(a,c);var w;a=null;for(B in d)if(!c.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var I=d[B];for(w in I)I.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in c){var R=c[B];if(I=d?.[B],c.hasOwnProperty(B)&&R!==I&&(R!=null||I!=null))if(B==="style")if(I){for(w in I)!I.hasOwnProperty(w)||R&&R.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in R)R.hasOwnProperty(w)&&I[w]!==R[w]&&(a||(a={}),a[w]=R[w])}else a||(p||(p=[]),p.push(B,a)),a=R;else B==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,I=I?I.__html:void 0,R!=null&&I!==R&&(p=p||[]).push(B,R)):B==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(B,""+R):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(R!=null&&B==="onScroll"&&Ge("scroll",n),p||I===R||(p=[])):(p=p||[]).push(B,R))}a&&(p=p||[]).push("style",a);var B=p;(s.updateQueue=B)&&(s.flags|=4)}},Nm=function(n,s,a,c){a!==c&&(s.flags|=4)};function Sa(n,s){if(!Xe)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function jt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function fw(n,s,a){var c=s.pendingProps;switch(oh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return Gt(s.type)&&ql(),jt(s),null;case 3:return c=s.stateNode,io(),Ke(qt),Ke(Lt),_h(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Xl(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cn!==null&&(Qh(Cn),Cn=null))),Mh(n,s),jt(s),null;case 5:yh(s);var d=ni(wa.current);if(a=s.type,n!==null&&s.stateNode!=null)Pm(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return jt(s),null}if(n=ni(Yn.current),Xl(s)){c=s.stateNode,a=s.type;var p=s.memoizedProps;switch(c[Qn]=s,c[ma]=p,n=(s.mode&1)!==0,a){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(d=0;d<da.length;d++)Ge(da[d],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":ml(c,p),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ge("invalid",c);break;case"textarea":Uo(c,p),Ge("invalid",c)}xn(a,p),d=null;for(var w in p)if(p.hasOwnProperty(w)){var I=p[w];w==="children"?typeof I=="string"?c.textContent!==I&&(p.suppressHydrationWarning!==!0&&$l(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&$l(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&Ge("scroll",c)}switch(a){case"input":Ti(c),Mo(c,p,!0);break;case"textarea":Ti(c),Hr(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Hl)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=zo(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(a,{is:c.is}):(n=w.createElement(a),a==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,a),n[Qn]=s,n[ma]=c,Rm(n,s,!1,!1),s.stateNode=n;e:{switch(w=Ai(a,c),a){case"dialog":Ge("cancel",n),Ge("close",n),d=c;break;case"iframe":case"object":case"embed":Ge("load",n),d=c;break;case"video":case"audio":for(d=0;d<da.length;d++)Ge(da[d],n);d=c;break;case"source":Ge("error",n),d=c;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),d=c;break;case"details":Ge("toggle",n),d=c;break;case"input":ml(n,c),d=Ii(n,c),Ge("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),Ge("invalid",n);break;case"textarea":Uo(n,c),d=Fo(n,c),Ge("invalid",n);break;default:d=c}xn(a,d),I=d;for(p in I)if(I.hasOwnProperty(p)){var R=I[p];p==="style"?ki(n,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&yl(n,R)):p==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&js(n,R):typeof R=="number"&&js(n,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?R!=null&&p==="onScroll"&&Ge("scroll",n):R!=null&&re(n,p,R,w))}switch(a){case"input":Ti(n),Mo(n,c,!1);break;case"textarea":Ti(n),Hr(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Le(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?En(n,!!c.multiple,p,!1):c.defaultValue!=null&&En(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Hl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return jt(s),null;case 6:if(n&&s.stateNode!=null)Nm(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=ni(wa.current),ni(Yn.current),Xl(s)){if(c=s.stateNode,a=s.memoizedProps,c[Qn]=s,(p=c.nodeValue!==a)&&(n=an,n!==null))switch(n.tag){case 3:$l(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&$l(c.nodeValue,a,(n.mode&1)!==0)}p&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Qn]=s,s.stateNode=c}return jt(s),null;case 13:if(Ke(Je),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xe&&ln!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Vp(),to(),s.flags|=98560,p=!1;else if(p=Xl(s),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[Qn]=s}else to(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),p=!1}else Cn!==null&&(Qh(Cn),Cn=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Je.current&1)!==0?yt===0&&(yt=3):Jh())),s.updateQueue!==null&&(s.flags|=4),jt(s),null);case 4:return io(),Mh(n,s),n===null&&fa(s.stateNode.containerInfo),jt(s),null;case 10:return dh(s.type._context),jt(s),null;case 17:return Gt(s.type)&&ql(),jt(s),null;case 19:if(Ke(Je),p=s.memoizedState,p===null)return jt(s),null;if(c=(s.flags&128)!==0,w=p.rendering,w===null)if(c)Sa(p,!1);else{if(yt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(w=ru(n),w!==null){for(s.flags|=128,Sa(p,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)p=a,n=c,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,n=w.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return We(Je,Je.current&1|2),s.child}n=n.sibling}p.tail!==null&&qe()>uo&&(s.flags|=128,c=!0,Sa(p,!1),s.lanes=4194304)}else{if(!c)if(n=ru(w),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Sa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Xe)return jt(s),null}else 2*qe()-p.renderingStartTime>uo&&a!==1073741824&&(s.flags|=128,c=!0,Sa(p,!1),s.lanes=4194304);p.isBackwards?(w.sibling=s.child,s.child=w):(a=p.last,a!==null?a.sibling=w:s.child=w,p.last=w)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=qe(),s.sibling=null,a=Je.current,We(Je,c?a&1|2:a&1),s):(jt(s),null);case 22:case 23:return Xh(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(un&1073741824)!==0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function pw(n,s){switch(oh(s),s.tag){case 1:return Gt(s.type)&&ql(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return io(),Ke(qt),Ke(Lt),_h(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return yh(s),null;case 13:if(Ke(Je),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));to()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ke(Je),null;case 4:return io(),null;case 10:return dh(s.type._context),null;case 22:case 23:return Xh(),null;case 24:return null;default:return null}}var du=!1,Mt=!1,mw=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ao(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(n,s,c)}else a.current=null}function Fh(n,s,a){try{a()}catch(c){st(n,s,c)}}var bm=!1;function gw(n,s){if(Xc=_r,n=cp(),$c(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var w=0,I=-1,R=-1,B=0,X=0,Z=n,Y=null;t:for(;;){for(var se;Z!==a||d!==0&&Z.nodeType!==3||(I=w+d),Z!==p||c!==0&&Z.nodeType!==3||(R=w+c),Z.nodeType===3&&(w+=Z.nodeValue.length),(se=Z.firstChild)!==null;)Y=Z,Z=se;for(;;){if(Z===n)break t;if(Y===a&&++B===d&&(I=w),Y===p&&++X===c&&(R=w),(se=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=se}a=I===-1||R===-1?null:{start:I,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jc={focusedElem:n,selectionRange:a},_r=!1,ae=s;ae!==null;)if(s=ae,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ae=n;else for(;ae!==null;){s=ae;try{var le=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,at=le.memoizedState,j=s.stateNode,D=j.getSnapshotBeforeUpdate(s.elementType===s.type?ue:kn(s.type,ue),at);j.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){st(s,s.return,ee)}if(n=s.sibling,n!==null){n.return=s.return,ae=n;break}ae=s.return}return le=bm,bm=!1,le}function Ca(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&Fh(s,a,p)}d=d.next}while(d!==c)}}function fu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Uh(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function Dm(n){var s=n.alternate;s!==null&&(n.alternate=null,Dm(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Qn],delete s[ma],delete s[nh],delete s[J0],delete s[Z0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Vm(n){return n.tag===5||n.tag===3||n.tag===4}function Lm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Vm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Hl));else if(c!==4&&(n=n.child,n!==null))for(zh(n,s,a),n=n.sibling;n!==null;)zh(n,s,a),n=n.sibling}function Bh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Bh(n,s,a),n=n.sibling;n!==null;)Bh(n,s,a),n=n.sibling}var At=null,An=!1;function ds(n,s,a){for(a=a.child;a!==null;)Om(n,s,a),a=a.sibling}function Om(n,s,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Bs,a)}catch{}switch(a.tag){case 5:Mt||ao(a,s);case 6:var c=At,d=An;At=null,ds(n,s,a),At=c,An=d,At!==null&&(An?(n=At,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):At.removeChild(a.stateNode));break;case 18:At!==null&&(An?(n=At,a=a.stateNode,n.nodeType===8?th(n.parentNode,a):n.nodeType===1&&th(n,a),ns(n)):th(At,a.stateNode));break;case 4:c=At,d=An,At=a.stateNode.containerInfo,An=!0,ds(n,s,a),At=c,An=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&Fh(a,s,w),d=d.next}while(d!==c)}ds(n,s,a);break;case 1:if(!Mt&&(ao(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){st(a,s,I)}ds(n,s,a);break;case 21:ds(n,s,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,ds(n,s,a),Mt=c):ds(n,s,a);break;default:ds(n,s,a)}}function jm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new mw),s.forEach(function(c){var d=Sw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Rn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var p=n,w=s,I=w;e:for(;I!==null;){switch(I.tag){case 5:At=I.stateNode,An=!1;break e;case 3:At=I.stateNode.containerInfo,An=!0;break e;case 4:At=I.stateNode.containerInfo,An=!0;break e}I=I.return}if(At===null)throw Error(t(160));Om(p,w,d),At=null,An=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch(B){st(d,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Mm(s,n),s=s.sibling}function Mm(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Rn(s,n),Jn(n),c&4){try{Ca(3,n,n.return),fu(3,n)}catch(ue){st(n,n.return,ue)}try{Ca(5,n,n.return)}catch(ue){st(n,n.return,ue)}}break;case 1:Rn(s,n),Jn(n),c&512&&a!==null&&ao(a,a.return);break;case 5:if(Rn(s,n),Jn(n),c&512&&a!==null&&ao(a,a.return),n.flags&32){var d=n.stateNode;try{js(d,"")}catch(ue){st(n,n.return,ue)}}if(c&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,w=a!==null?a.memoizedProps:p,I=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&Si(d,p),Ai(I,w);var B=Ai(I,p);for(w=0;w<R.length;w+=2){var X=R[w],Z=R[w+1];X==="style"?ki(d,Z):X==="dangerouslySetInnerHTML"?yl(d,Z):X==="children"?js(d,Z):re(d,X,Z,B)}switch(I){case"input":Os(d,p);break;case"textarea":gl(d,p);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var se=p.value;se!=null?En(d,!!p.multiple,se,!1):Y!==!!p.multiple&&(p.defaultValue!=null?En(d,!!p.multiple,p.defaultValue,!0):En(d,!!p.multiple,p.multiple?[]:"",!1))}d[ma]=p}catch(ue){st(n,n.return,ue)}}break;case 6:if(Rn(s,n),Jn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(ue){st(n,n.return,ue)}}break;case 3:if(Rn(s,n),Jn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ns(s.containerInfo)}catch(ue){st(n,n.return,ue)}break;case 4:Rn(s,n),Jn(n);break;case 13:Rn(s,n),Jn(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Wh=qe())),c&4&&jm(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(Mt=(B=Mt)||X,Rn(s,n),Mt=B):Rn(s,n),Jn(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!X&&(n.mode&1)!==0)for(ae=n,X=n.child;X!==null;){for(Z=ae=X;ae!==null;){switch(Y=ae,se=Y.child,Y.tag){case 0:case 11:case 14:case 15:Ca(4,Y,Y.return);break;case 1:ao(Y,Y.return);var le=Y.stateNode;if(typeof le.componentWillUnmount=="function"){c=Y,a=Y.return;try{s=c,le.props=s.memoizedProps,le.state=s.memoizedState,le.componentWillUnmount()}catch(ue){st(c,a,ue)}}break;case 5:ao(Y,Y.return);break;case 22:if(Y.memoizedState!==null){zm(Z);continue}}se!==null?(se.return=Y,ae=se):zm(Z)}X=X.sibling}e:for(X=null,Z=n;;){if(Z.tag===5){if(X===null){X=Z;try{d=Z.stateNode,B?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=Z.stateNode,R=Z.memoizedProps.style,w=R!=null&&R.hasOwnProperty("display")?R.display:null,I.style.display=Gr("display",w))}catch(ue){st(n,n.return,ue)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(ue){st(n,n.return,ue)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Rn(s,n),Jn(n),c&4&&jm(n);break;case 21:break;default:Rn(s,n),Jn(n)}}function Jn(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(Vm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(js(d,""),c.flags&=-33);var p=Lm(n);Bh(n,p,d);break;case 3:case 4:var w=c.stateNode.containerInfo,I=Lm(n);zh(n,I,w);break;default:throw Error(t(161))}}catch(R){st(n,n.return,R)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function yw(n,s,a){ae=n,Fm(n)}function Fm(n,s,a){for(var c=(n.mode&1)!==0;ae!==null;){var d=ae,p=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||du;if(!w){var I=d.alternate,R=I!==null&&I.memoizedState!==null||Mt;I=du;var B=Mt;if(du=w,(Mt=R)&&!B)for(ae=d;ae!==null;)w=ae,R=w.child,w.tag===22&&w.memoizedState!==null?Bm(d):R!==null?(R.return=w,ae=R):Bm(d);for(;p!==null;)ae=p,Fm(p),p=p.sibling;ae=d,du=I,Mt=B}Um(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,ae=p):Um(n)}}function Um(n){for(;ae!==null;){var s=ae;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Mt||fu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:kn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&zp(s,p,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}zp(s,w,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&ns(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||s.flags&512&&Uh(s)}catch(Y){st(s,s.return,Y)}}if(s===n){ae=null;break}if(a=s.sibling,a!==null){a.return=s.return,ae=a;break}ae=s.return}}function zm(n){for(;ae!==null;){var s=ae;if(s===n){ae=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ae=a;break}ae=s.return}}function Bm(n){for(;ae!==null;){var s=ae;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{fu(4,s)}catch(R){st(s,a,R)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(R){st(s,d,R)}}var p=s.return;try{Uh(s)}catch(R){st(s,p,R)}break;case 5:var w=s.return;try{Uh(s)}catch(R){st(s,w,R)}}}catch(R){st(s,s.return,R)}if(s===n){ae=null;break}var I=s.sibling;if(I!==null){I.return=s.return,ae=I;break}ae=s.return}}var vw=Math.ceil,pu=ye.ReactCurrentDispatcher,$h=ye.ReactCurrentOwner,gn=ye.ReactCurrentBatchConfig,Oe=0,xt=null,ht=null,Rt=0,un=0,lo=as(0),yt=0,ka=null,si=0,mu=0,Hh=0,Aa=null,Qt=null,Wh=0,uo=1/0,Rr=null,gu=!1,qh=null,fs=null,yu=!1,ps=null,vu=0,Ra=0,Gh=null,_u=-1,wu=0;function Wt(){return(Oe&6)!==0?qe():_u!==-1?_u:_u=qe()}function ms(n){return(n.mode&1)===0?1:(Oe&2)!==0&&Rt!==0?Rt&-Rt:tw.transition!==null?(wu===0&&(wu=Yo()),wu):(n=De,n!==0||(n=window.event,n=n===void 0?16:Mi(n.type)),n)}function Pn(n,s,a,c){if(50<Ra)throw Ra=0,Gh=null,Error(t(185));qs(n,a,c),((Oe&2)===0||n!==xt)&&(n===xt&&((Oe&2)===0&&(mu|=a),yt===4&&gs(n,Rt)),Yt(n,c),a===1&&Oe===0&&(s.mode&1)===0&&(uo=qe()+500,Kl&&us()))}function Yt(n,s){var a=n.callbackNode;Ws(n,s);var c=gr(n,n===xt?Rt:0);if(c===0)a!==null&&Ni(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&Ni(a),s===1)n.tag===0?ew(Hm.bind(null,n)):Rp(Hm.bind(null,n)),Y0(function(){(Oe&6)===0&&us()}),a=null;else{switch(Fn(c)){case 1:a=bi;break;case 4:a=Go;break;case 16:a=zs;break;case 536870912:a=Di;break;default:a=zs}a=Jm(a,$m.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function $m(n,s){if(_u=-1,wu=0,(Oe&6)!==0)throw Error(t(327));var a=n.callbackNode;if(co()&&n.callbackNode!==a)return null;var c=gr(n,n===xt?Rt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=Eu(n,c);else{s=c;var d=Oe;Oe|=2;var p=qm();(xt!==n||Rt!==s)&&(Rr=null,uo=qe()+500,oi(n,s));do try{Ew();break}catch(I){Wm(n,I)}while(!0);hh(),pu.current=p,Oe=d,ht!==null?s=0:(xt=null,Rt=0,s=yt)}if(s!==0){if(s===2&&(d=Qo(n),d!==0&&(c=d,s=Kh(n,d))),s===1)throw a=ka,oi(n,0),gs(n,c),Yt(n,qe()),a;if(s===6)gs(n,c);else{if(d=n.current.alternate,(c&30)===0&&!_w(d)&&(s=Eu(n,c),s===2&&(p=Qo(n),p!==0&&(c=p,s=Kh(n,p))),s===1))throw a=ka,oi(n,0),gs(n,c),Yt(n,qe()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:ai(n,Qt,Rr);break;case 3:if(gs(n,c),(c&130023424)===c&&(s=Wh+500-qe(),10<s)){if(gr(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Wt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=eh(ai.bind(null,n,Qt,Rr),s);break}ai(n,Qt,Rr);break;case 4:if(gs(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var w=31-tn(c);p=1<<w,w=s[w],w>d&&(d=w),c&=~p}if(c=d,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*vw(c/1960))-c,10<c){n.timeoutHandle=eh(ai.bind(null,n,Qt,Rr),c);break}ai(n,Qt,Rr);break;case 5:ai(n,Qt,Rr);break;default:throw Error(t(329))}}}return Yt(n,qe()),n.callbackNode===a?$m.bind(null,n):null}function Kh(n,s){var a=Aa;return n.current.memoizedState.isDehydrated&&(oi(n,s).flags|=256),n=Eu(n,s),n!==2&&(s=Qt,Qt=a,s!==null&&Qh(s)),n}function Qh(n){Qt===null?Qt=n:Qt.push.apply(Qt,n)}function _w(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!Sn(p(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gs(n,s){for(s&=~Hh,s&=~mu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-tn(s),c=1<<a;n[a]=-1,s&=~c}}function Hm(n){if((Oe&6)!==0)throw Error(t(327));co();var s=gr(n,0);if((s&1)===0)return Yt(n,qe()),null;var a=Eu(n,s);if(n.tag!==0&&a===2){var c=Qo(n);c!==0&&(s=c,a=Kh(n,c))}if(a===1)throw a=ka,oi(n,0),gs(n,s),Yt(n,qe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,ai(n,Qt,Rr),Yt(n,qe()),null}function Yh(n,s){var a=Oe;Oe|=1;try{return n(s)}finally{Oe=a,Oe===0&&(uo=qe()+500,Kl&&us())}}function ii(n){ps!==null&&ps.tag===0&&(Oe&6)===0&&co();var s=Oe;Oe|=1;var a=gn.transition,c=De;try{if(gn.transition=null,De=1,n)return n()}finally{De=c,gn.transition=a,Oe=s,(Oe&6)===0&&us()}}function Xh(){un=lo.current,Ke(lo)}function oi(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Q0(a)),ht!==null)for(a=ht.return;a!==null;){var c=a;switch(oh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ql();break;case 3:io(),Ke(qt),Ke(Lt),_h();break;case 5:yh(c);break;case 4:io();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:dh(c.type._context);break;case 22:case 23:Xh()}a=a.return}if(xt=n,ht=n=ys(n.current,null),Rt=un=s,yt=0,ka=null,Hh=mu=si=0,Qt=Aa=null,ti!==null){for(s=0;s<ti.length;s++)if(a=ti[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,p=a.pending;if(p!==null){var w=p.next;p.next=d,c.next=w}a.pending=c}ti=null}return n}function Wm(n,s){do{var a=ht;try{if(hh(),su.current=lu,iu){for(var c=Ze.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}iu=!1}if(ri=0,Et=gt=Ze=null,Ea=!1,xa=0,$h.current=null,a===null||a.return===null){yt=1,ka=s,ht=null;break}e:{var p=n,w=a.return,I=a,R=s;if(s=Rt,I.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=R,X=I,Z=X.tag;if((X.mode&1)===0&&(Z===0||Z===11||Z===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var se=gm(w);if(se!==null){se.flags&=-257,ym(se,w,I,p,s),se.mode&1&&mm(p,B,s),s=se,R=B;var le=s.updateQueue;if(le===null){var ue=new Set;ue.add(R),s.updateQueue=ue}else le.add(R);break e}else{if((s&1)===0){mm(p,B,s),Jh();break e}R=Error(t(426))}}else if(Xe&&I.mode&1){var at=gm(w);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),ym(at,w,I,p,s),uh(oo(R,I));break e}}p=R=oo(R,I),yt!==4&&(yt=2),Aa===null?Aa=[p]:Aa.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var j=fm(p,R,s);Up(p,j);break e;case 1:I=R;var D=p.type,U=p.stateNode;if((p.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(fs===null||!fs.has(U)))){p.flags|=65536,s&=-s,p.lanes|=s;var ee=pm(p,I,s);Up(p,ee);break e}}p=p.return}while(p!==null)}Km(a)}catch(ce){s=ce,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function qm(){var n=pu.current;return pu.current=lu,n===null?lu:n}function Jh(){(yt===0||yt===3||yt===2)&&(yt=4),xt===null||(si&268435455)===0&&(mu&268435455)===0||gs(xt,Rt)}function Eu(n,s){var a=Oe;Oe|=2;var c=qm();(xt!==n||Rt!==s)&&(Rr=null,oi(n,s));do try{ww();break}catch(d){Wm(n,d)}while(!0);if(hh(),Oe=a,pu.current=c,ht!==null)throw Error(t(261));return xt=null,Rt=0,yt}function ww(){for(;ht!==null;)Gm(ht)}function Ew(){for(;ht!==null&&!Us();)Gm(ht)}function Gm(n){var s=Xm(n.alternate,n,un);n.memoizedProps=n.pendingProps,s===null?Km(n):ht=s,$h.current=null}function Km(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=fw(a,s,un),a!==null){ht=a;return}}else{if(a=pw(a,s),a!==null){a.flags&=32767,ht=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{yt=6,ht=null;return}}if(s=s.sibling,s!==null){ht=s;return}ht=s=n}while(s!==null);yt===0&&(yt=5)}function ai(n,s,a){var c=De,d=gn.transition;try{gn.transition=null,De=1,xw(n,s,a,c)}finally{gn.transition=d,De=c}return null}function xw(n,s,a,c){do co();while(ps!==null);if((Oe&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(Mc(n,p),n===xt&&(ht=xt=null,Rt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||yu||(yu=!0,Jm(zs,function(){return co(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=gn.transition,gn.transition=null;var w=De;De=1;var I=Oe;Oe|=4,$h.current=null,gw(n,a),Mm(a,n),B0(Jc),_r=!!Xc,Jc=Xc=null,n.current=a,yw(a),mr(),Oe=I,De=w,gn.transition=p}else n.current=a;if(yu&&(yu=!1,ps=n,vu=d),p=n.pendingLanes,p===0&&(fs=null),Al(a.stateNode),Yt(n,qe()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(gu)throw gu=!1,n=qh,qh=null,n;return(vu&1)!==0&&n.tag!==0&&co(),p=n.pendingLanes,(p&1)!==0?n===Gh?Ra++:(Ra=0,Gh=n):Ra=0,us(),null}function co(){if(ps!==null){var n=Fn(vu),s=gn.transition,a=De;try{if(gn.transition=null,De=16>n?16:n,ps===null)var c=!1;else{if(n=ps,ps=null,vu=0,(Oe&6)!==0)throw Error(t(331));var d=Oe;for(Oe|=4,ae=n.current;ae!==null;){var p=ae,w=p.child;if((ae.flags&16)!==0){var I=p.deletions;if(I!==null){for(var R=0;R<I.length;R++){var B=I[R];for(ae=B;ae!==null;){var X=ae;switch(X.tag){case 0:case 11:case 15:Ca(8,X,p)}var Z=X.child;if(Z!==null)Z.return=X,ae=Z;else for(;ae!==null;){X=ae;var Y=X.sibling,se=X.return;if(Dm(X),X===B){ae=null;break}if(Y!==null){Y.return=se,ae=Y;break}ae=se}}}var le=p.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var at=ue.sibling;ue.sibling=null,ue=at}while(ue!==null)}}ae=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,ae=w;else e:for(;ae!==null;){if(p=ae,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Ca(9,p,p.return)}var j=p.sibling;if(j!==null){j.return=p.return,ae=j;break e}ae=p.return}}var D=n.current;for(ae=D;ae!==null;){w=ae;var U=w.child;if((w.subtreeFlags&2064)!==0&&U!==null)U.return=w,ae=U;else e:for(w=D;ae!==null;){if(I=ae,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:fu(9,I)}}catch(ce){st(I,I.return,ce)}if(I===w){ae=null;break e}var ee=I.sibling;if(ee!==null){ee.return=I.return,ae=ee;break e}ae=I.return}}if(Oe=d,us(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Bs,n)}catch{}c=!0}return c}finally{De=a,gn.transition=s}}return!1}function Qm(n,s,a){s=oo(a,s),s=fm(n,s,1),n=hs(n,s,1),s=Wt(),n!==null&&(qs(n,1,s),Yt(n,s))}function st(n,s,a){if(n.tag===3)Qm(n,n,a);else for(;s!==null;){if(s.tag===3){Qm(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fs===null||!fs.has(c))){n=oo(a,n),n=pm(s,n,1),s=hs(s,n,1),n=Wt(),s!==null&&(qs(s,1,n),Yt(s,n));break}}s=s.return}}function Tw(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Wt(),n.pingedLanes|=n.suspendedLanes&a,xt===n&&(Rt&a)===a&&(yt===4||yt===3&&(Rt&130023424)===Rt&&500>qe()-Wh?oi(n,0):Hh|=a),Yt(n,s)}function Ym(n,s){s===0&&((n.mode&1)===0?s=1:(s=Zr,Zr<<=1,(Zr&130023424)===0&&(Zr=4194304)));var a=Wt();n=Cr(n,s),n!==null&&(qs(n,s,a),Yt(n,a))}function Iw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Ym(n,a)}function Sw(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Ym(n,a)}var Xm;Xm=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||qt.current)Kt=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Kt=!1,dw(n,s,a);Kt=(n.flags&131072)!==0}else Kt=!1,Xe&&(s.flags&1048576)!==0&&Pp(s,Yl,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;hu(n,s),n=s.pendingProps;var d=Ji(s,Lt.current);so(s,a),d=xh(null,s,c,n,d,a);var p=Th();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Gt(c)?(p=!0,Gl(s)):p=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,mh(s),d.updater=uu,s.stateNode=d,d._reactInternals=s,Rh(s,c,n,a),s=Dh(null,s,c,!0,p,a)):(s.tag=0,Xe&&p&&ih(s),Ht(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(hu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=kw(c),n=kn(c,n),d){case 0:s=bh(null,s,c,n,a);break e;case 1:s=Tm(null,s,c,n,a);break e;case 11:s=vm(null,s,c,n,a);break e;case 14:s=_m(null,s,c,kn(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:kn(c,d),bh(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:kn(c,d),Tm(n,s,c,d,a);case 3:e:{if(Im(s),n===null)throw Error(t(387));c=s.pendingProps,p=s.memoizedState,d=p.element,Fp(n,s),nu(s,c,null,a);var w=s.memoizedState;if(c=w.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){d=oo(Error(t(423)),s),s=Sm(n,s,c,a,d);break e}else if(c!==d){d=oo(Error(t(424)),s),s=Sm(n,s,c,a,d);break e}else for(ln=os(s.stateNode.containerInfo.firstChild),an=s,Xe=!0,Cn=null,a=jp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(to(),c===d){s=Ar(n,s,a);break e}Ht(n,s,c,a)}s=s.child}return s;case 5:return Bp(s),n===null&&lh(s),c=s.type,d=s.pendingProps,p=n!==null?n.memoizedProps:null,w=d.children,Zc(c,d)?w=null:p!==null&&Zc(c,p)&&(s.flags|=32),xm(n,s),Ht(n,s,w,a),s.child;case 6:return n===null&&lh(s),null;case 13:return Cm(n,s,a);case 4:return gh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=no(s,null,c,a):Ht(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:kn(c,d),vm(n,s,c,d,a);case 7:return Ht(n,s,s.pendingProps,a),s.child;case 8:return Ht(n,s,s.pendingProps.children,a),s.child;case 12:return Ht(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,p=s.memoizedProps,w=d.value,We(Zl,c._currentValue),c._currentValue=w,p!==null)if(Sn(p.value,w)){if(p.children===d.children&&!qt.current){s=Ar(n,s,a);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var I=p.dependencies;if(I!==null){w=p.child;for(var R=I.firstContext;R!==null;){if(R.context===c){if(p.tag===1){R=kr(-1,a&-a),R.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?R.next=R:(R.next=X.next,X.next=R),B.pending=R}}p.lanes|=a,R=p.alternate,R!==null&&(R.lanes|=a),fh(p.return,a,s),I.lanes|=a;break}R=R.next}}else if(p.tag===10)w=p.type===s.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(t(341));w.lanes|=a,I=w.alternate,I!==null&&(I.lanes|=a),fh(w,a,s),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}Ht(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,so(s,a),d=pn(d),c=c(d),s.flags|=1,Ht(n,s,c,a),s.child;case 14:return c=s.type,d=kn(c,s.pendingProps),d=kn(c.type,d),_m(n,s,c,d,a);case 15:return wm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:kn(c,d),hu(n,s),s.tag=1,Gt(c)?(n=!0,Gl(s)):n=!1,so(s,a),hm(s,c,d),Rh(s,c,d,a),Dh(null,s,c,!0,n,a);case 19:return Am(n,s,a);case 22:return Em(n,s,a)}throw Error(t(156,s.tag))};function Jm(n,s){return qo(n,s)}function Cw(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(n,s,a,c){return new Cw(n,s,a,c)}function Zh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kw(n){if(typeof n=="function")return Zh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===wt)return 14}return 2}function ys(n,s){var a=n.alternate;return a===null?(a=yn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function xu(n,s,a,c,d,p){var w=2;if(c=n,typeof n=="function")Zh(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case P:return li(a.children,d,p,s);case S:w=8,d|=8;break;case C:return n=yn(12,a,s,d|2),n.elementType=C,n.lanes=p,n;case k:return n=yn(13,a,s,d),n.elementType=k,n.lanes=p,n;case He:return n=yn(19,a,s,d),n.elementType=He,n.lanes=p,n;case Ye:return Tu(a,d,p,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:w=10;break e;case N:w=9;break e;case O:w=11;break e;case wt:w=14;break e;case Dt:w=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=yn(w,a,s,d),s.elementType=n,s.type=c,s.lanes=p,s}function li(n,s,a,c){return n=yn(7,n,c,s),n.lanes=a,n}function Tu(n,s,a,c){return n=yn(22,n,c,s),n.elementType=Ye,n.lanes=a,n.stateNode={isHidden:!1},n}function ed(n,s,a){return n=yn(6,n,null,s),n.lanes=a,n}function td(n,s,a){return s=yn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Aw(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function nd(n,s,a,c,d,p,w,I,R){return n=new Aw(n,s,a,I,R),s===1?(s=1,p===!0&&(s|=8)):s=0,p=yn(3,null,null,s),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},mh(p),n}function Rw(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Zm(n){if(!n)return ls;n=n._reactInternals;e:{if(Tn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Gt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Gt(a))return kp(n,a,s)}return s}function eg(n,s,a,c,d,p,w,I,R){return n=nd(a,c,!0,n,d,p,w,I,R),n.context=Zm(null),a=n.current,c=Wt(),d=ms(a),p=kr(c,d),p.callback=s??null,hs(a,p,d),n.current.lanes=d,qs(n,d,c),Yt(n,c),n}function Iu(n,s,a,c){var d=s.current,p=Wt(),w=ms(d);return a=Zm(a),s.context===null?s.context=a:s.pendingContext=a,s=kr(p,w),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=hs(d,s,w),n!==null&&(Pn(n,d,w,p),tu(n,d,w)),w}function Su(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function tg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function rd(n,s){tg(n,s),(n=n.alternate)&&tg(n,s)}function Pw(){return null}var ng=typeof reportError=="function"?reportError:function(n){console.error(n)};function sd(n){this._internalRoot=n}Cu.prototype.render=sd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Iu(n,s,null,null)},Cu.prototype.unmount=sd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ii(function(){Iu(null,n,null,null)}),s[xr]=null}};function Cu(n){this._internalRoot=n}Cu.prototype.unstable_scheduleHydration=function(n){if(n){var s=ta();n={blockedOn:null,target:n,priority:s};for(var a=0;a<nn.length&&s!==0&&s<nn[a].priority;a++);nn.splice(a,0,n),a===0&&Oi(n)}};function id(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ku(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function rg(){}function Nw(n,s,a,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var B=Su(w);p.call(B)}}var w=eg(s,c,n,0,null,!1,!1,"",rg);return n._reactRootContainer=w,n[xr]=w.current,fa(n.nodeType===8?n.parentNode:n),ii(),w}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var B=Su(R);I.call(B)}}var R=nd(n,0,!1,null,null,!1,!1,"",rg);return n._reactRootContainer=R,n[xr]=R.current,fa(n.nodeType===8?n.parentNode:n),ii(function(){Iu(s,R,a,c)}),R}function Au(n,s,a,c,d){var p=a._reactRootContainer;if(p){var w=p;if(typeof d=="function"){var I=d;d=function(){var R=Su(w);I.call(R)}}Iu(s,w,n,d)}else w=Nw(a,s,n,d,c);return Su(w)}Zo=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Me(s.pendingLanes);a!==0&&(Jo(s,a|1),Yt(s,qe()),(Oe&6)===0&&(uo=qe()+500,us()))}break;case 13:ii(function(){var c=Cr(n,1);if(c!==null){var d=Wt();Pn(c,n,1,d)}}),rd(n,1)}},Vi=function(n){if(n.tag===13){var s=Cr(n,134217728);if(s!==null){var a=Wt();Pn(s,n,134217728,a)}rd(n,134217728)}},ea=function(n){if(n.tag===13){var s=ms(n),a=Cr(n,s);if(a!==null){var c=Wt();Pn(a,n,s,c)}rd(n,s)}},ta=function(){return De},na=function(n,s){var a=De;try{return De=n,s()}finally{De=a}},dr=function(n,s,a){switch(s){case"input":if(Os(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=Wl(c);if(!d)throw Error(t(90));jo(c),Os(c,d)}}}break;case"textarea":gl(n,a);break;case"select":s=a.value,s!=null&&En(n,!!a.multiple,s,!1)}},_l=Yh,wl=ii;var bw={usingClientEntryPoint:!1,Events:[ga,Yi,Wl,Qr,Yr,Yh]},Pa={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dw={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=kl(n),n===null?null:n.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||Pw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Bs=Ru.inject(Dw),en=Ru}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bw,Xt.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!id(s))throw Error(t(200));return Rw(n,s,null,a)},Xt.createRoot=function(n,s){if(!id(n))throw Error(t(299));var a=!1,c="",d=ng;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=nd(n,1,!1,null,null,a,!1,c,d),n[xr]=s.current,fa(n.nodeType===8?n.parentNode:n),new sd(s)},Xt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=kl(s),n=n===null?null:n.stateNode,n},Xt.flushSync=function(n){return ii(n)},Xt.hydrate=function(n,s,a){if(!ku(s))throw Error(t(200));return Au(null,n,s,!0,a)},Xt.hydrateRoot=function(n,s,a){if(!id(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,p="",w=ng;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=eg(s,null,n,1,a??null,d,!1,p,w),n[xr]=s.current,fa(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Cu(s)},Xt.render=function(n,s,a){if(!ku(s))throw Error(t(200));return Au(null,n,s,!1,a)},Xt.unmountComponentAtNode=function(n){if(!ku(n))throw Error(t(40));return n._reactRootContainer?(ii(function(){Au(null,null,n,!1,function(){n._reactRootContainer=null,n[xr]=null})}),!0):!1},Xt.unstable_batchedUpdates=Yh,Xt.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!ku(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Au(n,s,a,!1,c)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var hg;function Bw(){if(hg)return ld.exports;hg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ld.exports=zw(),ld.exports}var dg;function $w(){if(dg)return Pu;dg=1;var r=Bw();return Pu.createRoot=r.createRoot,Pu.hydrateRoot=r.hydrateRoot,Pu}var Hw=$w();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fg="popstate";function Ww(r={}){function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return Cd("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Wa(o)}return Gw(e,t,null,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ar(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qw(){return Math.random().toString(36).substring(2,10)}function pg(r,e){return{usr:r.state,key:r.key,idx:e}}function Cd(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:t,key:e&&e.key||i||qw()}}function Wa({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ao(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function Gw(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function T(){f="POP";let F=E(),q=F==null?null:F-v;v=F,g&&g({action:f,location:H.location,delta:q})}function A(F,q){f="PUSH";let K=Cd(H.location,F,q);v=E()+1;let re=pg(K,v),ye=H.createHref(K);try{h.pushState(re,"",ye)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(ye)}l&&g&&g({action:f,location:H.location,delta:1})}function V(F,q){f="REPLACE";let K=Cd(H.location,F,q);v=E();let re=pg(K,v),ye=H.createHref(K);h.replaceState(re,"",ye),l&&g&&g({action:f,location:H.location,delta:0})}function W(F){return Kw(F)}let H={get action(){return f},get location(){return r(o,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(fg,T),g=F,()=>{o.removeEventListener(fg,T),g=null}},createHref(F){return e(o,F)},createURL:W,encodeLocation(F){let q=W(F);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:V,go(F){return h.go(F)}};return H}function Kw(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Wa(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function qy(r,e,t="/"){return Qw(r,e,t,!1)}function Qw(r,e,t,i){let o=typeof e=="string"?Ao(e):e,l=Lr(o.pathname||"/",t);if(l==null)return null;let h=Gy(r);Yw(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let v=aE(l);f=iE(h[g],v,i)}return f}function Gy(r,e=[],t=[],i="",o=!1){let l=(h,f,g=o,v)=>{let E={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(i)&&g)return;tt(E.relativePath.startsWith(i),`Absolute route path "${E.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(i.length)}let T=Dr([i,E.relativePath]),A=t.concat(E);h.children&&h.children.length>0&&(tt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Gy(h.children,e,A,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:rE(T,h.index),routesMeta:A})};return r.forEach((h,f)=>{if(h.path===""||!h.path?.includes("?"))l(h,f);else for(let g of Ky(h.path))l(h,f,!0,g)}),e}function Ky(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=Ky(i.join("/")),f=[];return f.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&f.push(...h),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function Yw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:sE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Xw=/^:[\w-]+$/,Jw=3,Zw=2,eE=1,tE=10,nE=-2,mg=r=>r==="*";function rE(r,e){let t=r.split("/"),i=t.length;return t.some(mg)&&(i+=nE),e&&(i+=Zw),t.filter(o=>!mg(o)).reduce((o,l)=>o+(Xw.test(l)?Jw:l===""?eE:tE),i)}function sE(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function iE(r,e,t=!1){let{routesMeta:i}=r,o={},l="/",h=[];for(let f=0;f<i.length;++f){let g=i[f],v=f===i.length-1,E=l==="/"?e:e.slice(l.length)||"/",T=Yu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),A=g.route;if(!T&&v&&t&&!i[i.length-1].route.index&&(T=Yu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Dr([l,T.pathname]),pathnameBase:hE(Dr([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=Dr([l,T.pathnameBase]))}return h}function Yu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=oE(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((v,{paramName:E,isOptional:T},A)=>{if(E==="*"){let W=f[A]||"";h=l.slice(0,l.length-W.length).replace(/(.)\/+$/,"$1")}const V=f[A];return T&&!V?v[E]=void 0:v[E]=(V||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:r}}function oE(r,e=!1,t=!0){ar(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(i.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function aE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Lr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function lE(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Ao(r):r;return{pathname:t?t.startsWith("/")?t:uE(t,e):e,search:dE(i),hash:fE(o)}}function uE(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function hd(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cE(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qy(r){let e=cE(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Yy(r,e,t,i=!1){let o;typeof r=="string"?o=Ao(r):(o={...r},tt(!o.pathname||!o.pathname.includes("?"),hd("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),hd("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),hd("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}f=T>=0?e[T]:"/"}let g=lE(o,f),v=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var Dr=r=>r.join("/").replace(/\/\/+/g,"/"),hE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),dE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fE=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function pE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Xy=["POST","PUT","PATCH","DELETE"];new Set(Xy);var mE=["GET",...Xy];new Set(mE);var Ro=z.createContext(null);Ro.displayName="DataRouter";var yc=z.createContext(null);yc.displayName="DataRouterState";z.createContext(!1);var Jy=z.createContext({isTransitioning:!1});Jy.displayName="ViewTransition";var gE=z.createContext(new Map);gE.displayName="Fetchers";var yE=z.createContext(null);yE.displayName="Await";var hr=z.createContext(null);hr.displayName="Navigation";var nl=z.createContext(null);nl.displayName="Location";var Ur=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var Zd=z.createContext(null);Zd.displayName="RouteError";function vE(r,{relative:e}={}){tt(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(hr),{hash:o,pathname:l,search:h}=sl(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Dr([t,l])),i.createHref({pathname:f,search:h,hash:o})}function rl(){return z.useContext(nl)!=null}function Ls(){return tt(rl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(nl).location}var Zy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ev(r){z.useContext(hr).static||z.useLayoutEffect(r)}function vc(){let{isDataRoute:r}=z.useContext(Ur);return r?NE():_E()}function _E(){tt(rl(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Ro),{basename:e,navigator:t}=z.useContext(hr),{matches:i}=z.useContext(Ur),{pathname:o}=Ls(),l=JSON.stringify(Qy(i)),h=z.useRef(!1);return ev(()=>{h.current=!0}),z.useCallback((g,v={})=>{if(ar(h.current,Zy),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=Yy(g,JSON.parse(l),o,v.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Dr([e,E.pathname])),(v.replace?t.replace:t.push)(E,v.state,v)},[e,t,l,o,r])}z.createContext(null);function sl(r,{relative:e}={}){let{matches:t}=z.useContext(Ur),{pathname:i}=Ls(),o=JSON.stringify(Qy(t));return z.useMemo(()=>Yy(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function wE(r,e){return tv(r,e)}function tv(r,e,t,i,o){tt(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=z.useContext(hr),{matches:h}=z.useContext(Ur),f=h[h.length-1],g=f?f.params:{},v=f?f.pathname:"/",E=f?f.pathnameBase:"/",T=f&&f.route;{let K=T&&T.path||"";nv(v,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let A=Ls(),V;if(e){let K=typeof e=="string"?Ao(e):e;tt(E==="/"||K.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),V=K}else V=A;let W=V.pathname||"/",H=W;if(E!=="/"){let K=E.replace(/^\//,"").split("/");H="/"+W.replace(/^\//,"").split("/").slice(K.length).join("/")}let F=qy(r,{pathname:H});ar(T||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),ar(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=SE(F&&F.map(K=>Object.assign({},K,{params:Object.assign({},g,K.params),pathname:Dr([E,l.encodeLocation?l.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:Dr([E,l.encodeLocation?l.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),h,t,i,o);return e&&q?z.createElement(nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},q):q}function EE(){let r=PE(),e=pE(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,h)}var xE=z.createElement(EE,null),TE=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(Ur.Provider,{value:this.props.routeContext},z.createElement(Zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IE({routeContext:r,match:e,children:t}){let i=z.useContext(Ro);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Ur.Provider,{value:r},t)}function SE(r,e=[],t=null,i=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,h=t?.errors;if(h!=null){let v=l.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,g=-1;if(t)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=v),E.route.id){let{loaderData:T,errors:A}=t,V=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!A||A[E.route.id]===void 0);if(E.route.lazy||V){f=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((v,E,T)=>{let A,V=!1,W=null,H=null;t&&(A=h&&E.route.id?h[E.route.id]:void 0,W=E.route.errorElement||xE,f&&(g<0&&T===0?(nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,H=null):g===T&&(V=!0,H=E.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,T+1)),q=()=>{let K;return A?K=W:V?K=H:E.route.Component?K=z.createElement(E.route.Component,null):E.route.element?K=E.route.element:K=v,z.createElement(IE,{match:E,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:K})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?z.createElement(TE,{location:t.location,revalidation:t.revalidation,component:W,error:A,children:q(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:i}):q()},null)}function ef(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CE(r){let e=z.useContext(Ro);return tt(e,ef(r)),e}function kE(r){let e=z.useContext(yc);return tt(e,ef(r)),e}function AE(r){let e=z.useContext(Ur);return tt(e,ef(r)),e}function tf(r){let e=AE(r),t=e.matches[e.matches.length-1];return tt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function RE(){return tf("useRouteId")}function PE(){let r=z.useContext(Zd),e=kE("useRouteError"),t=tf("useRouteError");return r!==void 0?r:e.errors?.[t]}function NE(){let{router:r}=CE("useNavigate"),e=tf("useNavigate"),t=z.useRef(!1);return ev(()=>{t.current=!0}),z.useCallback(async(o,l={})=>{ar(t.current,Zy),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var gg={};function nv(r,e,t){!e&&!gg[r]&&(gg[r]=!0,ar(!1,t))}z.memo(bE);function bE({routes:r,future:e,state:t,unstable_onError:i}){return tv(r,void 0,t,i,e)}function Jt(r){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DE({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){tt(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=z.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Ao(t));let{pathname:g="/",search:v="",hash:E="",state:T=null,key:A="default"}=t,V=z.useMemo(()=>{let W=Lr(g,h);return W==null?null:{location:{pathname:W,search:v,hash:E,state:T,key:A},navigationType:i}},[h,g,v,E,T,A,i]);return ar(V!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:z.createElement(hr.Provider,{value:f},z.createElement(nl.Provider,{children:e,value:V}))}function VE({children:r,location:e}){return wE(kd(r),e)}function kd(r,e=[]){let t=[];return z.Children.forEach(r,(i,o)=>{if(!z.isValidElement(i))return;let l=[...e,o];if(i.type===z.Fragment){t.push.apply(t,kd(i.props.children,l));return}tt(i.type===Jt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=kd(i.props.children,l)),t.push(h)}),t}var Mu="get",Fu="application/x-www-form-urlencoded";function _c(r){return r!=null&&typeof r.tagName=="string"}function LE(r){return _c(r)&&r.tagName.toLowerCase()==="button"}function OE(r){return _c(r)&&r.tagName.toLowerCase()==="form"}function jE(r){return _c(r)&&r.tagName.toLowerCase()==="input"}function ME(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function FE(r,e){return r.button===0&&(!e||e==="_self")&&!ME(r)}var Nu=null;function UE(){if(Nu===null)try{new FormData(document.createElement("form"),0),Nu=!1}catch{Nu=!0}return Nu}var zE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dd(r){return r!=null&&!zE.has(r)?(ar(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fu}"`),null):r}function BE(r,e){let t,i,o,l,h;if(OE(r)){let f=r.getAttribute("action");i=f?Lr(f,e):null,t=r.getAttribute("method")||Mu,o=dd(r.getAttribute("enctype"))||Fu,l=new FormData(r)}else if(LE(r)||jE(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||f.getAttribute("action");if(i=g?Lr(g,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Mu,o=dd(r.getAttribute("formenctype"))||dd(f.getAttribute("enctype"))||Fu,l=new FormData(f,r),!UE()){let{name:v,type:E,value:T}=r;if(E==="image"){let A=v?`${v}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else v&&l.append(v,T)}}else{if(_c(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mu,i=null,o=Fu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $E(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Lr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function HE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qE(r,e,t){let i=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await HE(l,t);return h.links?h.links():[]}return[]}));return YE(i.flat(1).filter(WE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yg(r,e,t,i,o,l){let h=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,f=(g,v)=>t[v].pathname!==g.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,v)=>h(g,v)||f(g,v)):l==="data"?e.filter((g,v)=>{let E=i.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||f(g,v))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function GE(r,e,{includeHydrateFallback:t}={}){return KE(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function KE(r){return[...new Set(r)]}function QE(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function YE(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let l=JSON.stringify(QE(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function rv(){let r=z.useContext(Ro);return nf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function XE(){let r=z.useContext(yc);return nf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rf=z.createContext(void 0);rf.displayName="FrameworkContext";function sv(){let r=z.useContext(rf);return nf(r,"You must render this element inside a <HydratedRouter> element"),r}function JE(r,e){let t=z.useContext(rf),[i,o]=z.useState(!1),[l,h]=z.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:T}=e,A=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let H=q=>{q.forEach(K=>{h(K.isIntersecting)})},F=new IntersectionObserver(H,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[r]),z.useEffect(()=>{if(i){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[i]);let V=()=>{o(!0)},W=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,A,{}]:[l,A,{onFocus:ba(f,V),onBlur:ba(g,W),onMouseEnter:ba(v,V),onMouseLeave:ba(E,W),onTouchStart:ba(T,V)}]:[!1,A,{}]}function ba(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function ZE({page:r,...e}){let{router:t}=rv(),i=z.useMemo(()=>qy(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?z.createElement(tx,{page:r,matches:i,...e}):null}function ex(r){let{manifest:e,routeModules:t}=sv(),[i,o]=z.useState([]);return z.useEffect(()=>{let l=!1;return qE(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),i}function tx({page:r,matches:e,...t}){let i=Ls(),{manifest:o,routeModules:l}=sv(),{basename:h}=rv(),{loaderData:f,matches:g}=XE(),v=z.useMemo(()=>yg(r,e,g,o,i,"data"),[r,e,g,o,i]),E=z.useMemo(()=>yg(r,e,g,o,i,"assets"),[r,e,g,o,i]),T=z.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let W=new Set,H=!1;if(e.forEach(q=>{let K=o.routes[q.route.id];!K||!K.hasLoader||(!v.some(re=>re.route.id===q.route.id)&&q.route.id in f&&l[q.route.id]?.shouldRevalidate||K.hasClientLoader?H=!0:W.add(q.route.id))}),W.size===0)return[];let F=$E(r,h,"data");return H&&W.size>0&&F.searchParams.set("_routes",e.filter(q=>W.has(q.route.id)).map(q=>q.route.id).join(",")),[F.pathname+F.search]},[h,f,i,o,v,e,r,l]),A=z.useMemo(()=>GE(E,o),[E,o]),V=ex(E);return z.createElement(z.Fragment,null,T.map(W=>z.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...t})),A.map(W=>z.createElement("link",{key:W,rel:"modulepreload",href:W,...t})),V.map(({key:W,link:H})=>z.createElement("link",{key:W,nonce:t.nonce,...H})))}function nx(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iv&&(window.__reactRouterVersion="7.9.2")}catch{}function rx({basename:r,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=Ww({window:t,v5Compat:!0}));let o=i.current,[l,h]=z.useState({action:o.action,location:o.location}),f=z.useCallback(g=>{z.startTransition(()=>h(g))},[h]);return z.useLayoutEffect(()=>o.listen(f),[o,f]),z.createElement(DE,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:f,target:g,to:v,preventScrollReset:E,viewTransition:T,...A},V){let{basename:W}=z.useContext(hr),H=typeof v=="string"&&ov.test(v),F,q=!1;if(typeof v=="string"&&H&&(F=v,iv))try{let C=new URL(window.location.href),b=v.startsWith("//")?new URL(C.protocol+v):new URL(v),N=Lr(b.pathname,W);b.origin===C.origin&&N!=null?v=N+b.search+b.hash:q=!0}catch{ar(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=vE(v,{relative:o}),[re,ye,Ie]=JE(i,A),we=ax(v,{replace:h,state:f,target:g,preventScrollReset:E,relative:o,viewTransition:T});function P(C){e&&e(C),C.defaultPrevented||we(C)}let S=z.createElement("a",{...A,...Ie,href:F||K,onClick:q||l?e:P,ref:nx(V,ye),target:g,"data-discover":!H&&t==="render"?"true":void 0});return re&&!H?z.createElement(z.Fragment,null,S,z.createElement(ZE,{page:K})):S});ft.displayName="Link";var sx=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:f,children:g,...v},E){let T=sl(h,{relative:v.relative}),A=Ls(),V=z.useContext(yc),{navigator:W,basename:H}=z.useContext(hr),F=V!=null&&dx(T)&&f===!0,q=W.encodeLocation?W.encodeLocation(T).pathname:T.pathname,K=A.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(K=K.toLowerCase(),re=re?re.toLowerCase():null,q=q.toLowerCase()),re&&H&&(re=Lr(re,H)||re);const ye=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let Ie=K===q||!o&&K.startsWith(q)&&K.charAt(ye)==="/",we=re!=null&&(re===q||!o&&re.startsWith(q)&&re.charAt(q.length)==="/"),P={isActive:Ie,isPending:we,isTransitioning:F},S=Ie?e:void 0,C;typeof i=="function"?C=i(P):C=[i,Ie?"active":null,we?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let b=typeof l=="function"?l(P):l;return z.createElement(ft,{...v,"aria-current":S,className:C,ref:E,style:b,to:h,viewTransition:f},typeof g=="function"?g(P):g)});sx.displayName="NavLink";var ix=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=Mu,action:f,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:T,...A},V)=>{let W=cx(),H=hx(f,{relative:v}),F=h.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&ov.test(f),K=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let ye=re.nativeEvent.submitter,Ie=ye?.getAttribute("formmethod")||h;W(ye||re.currentTarget,{fetcherKey:e,method:Ie,navigate:t,replace:o,state:l,relative:v,preventScrollReset:E,viewTransition:T})};return z.createElement("form",{ref:V,method:F,action:H,onSubmit:i?g:K,...A,"data-discover":!q&&r==="render"?"true":void 0})});ix.displayName="Form";function ox(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function av(r){let e=z.useContext(Ro);return tt(e,ox(r)),e}function ax(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=vc(),g=Ls(),v=sl(r,{relative:l});return z.useCallback(E=>{if(FE(E,e)){E.preventDefault();let T=t!==void 0?t:Wa(g)===Wa(v);f(r,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[g,f,v,t,i,e,r,o,l,h])}var lx=0,ux=()=>`__${String(++lx)}__`;function cx(){let{router:r}=av("useSubmit"),{basename:e}=z.useContext(hr),t=RE();return z.useCallback(async(i,o={})=>{let{action:l,method:h,encType:f,formData:g,body:v}=BE(i,e);if(o.navigate===!1){let E=o.fetcherKey||ux();await r.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function hx(r,{relative:e}={}){let{basename:t}=z.useContext(hr),i=z.useContext(Ur);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...sl(r||".",{relative:e})},h=Ls();if(r==null){l.search=h.search;let f=new URLSearchParams(l.search),g=f.getAll("index");if(g.some(E=>E==="")){f.delete("index"),g.filter(T=>T).forEach(T=>f.append("index",T));let E=f.toString();l.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Dr([t,l.pathname])),Wa(l)}function dx(r,{relative:e}={}){let t=z.useContext(Jy);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=av("useViewTransitionState"),o=sl(r,{relative:e});if(!t.isTransitioning)return!1;let l=Lr(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Lr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Yu(o.pathname,h)!=null||Yu(o.pathname,l)!=null}const fx="/assets/fnd-B8xR8oYh.png",px=({text:r,className:e="",animationDelayStep:t=.1})=>y.jsx("span",{className:`font-extrabold ${e}`,style:{display:"block"},children:r.split("").map((i,o)=>y.jsx("span",{className:"inline-block letter-wave",style:{animationDelay:`${o*t}s`},children:i===" "?" ":i},o))});function mx(){const[r,e]=z.useState(!0);return z.useEffect(()=>{const t=setTimeout(()=>e(!1),2500);return()=>clearTimeout(t)},[]),y.jsxs("div",{children:[r&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pointer-events-none",children:Ha.createElement("dotlottie-wc",{src:"https://lottie.host/81653027-58d6-47e3-9de5-491db6a527a5/TWNyD5vQVe.lottie",style:{width:"150px",height:"150px",opacity:.3},autoplay:!0,loop:!0})}),y.jsx("div",{className:"relative min-h-screen gradient-bg-warm",children:y.jsxs("div",{className:"relative z-20 pt-[80px]",children:[y.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:y.jsxs("div",{className:"text-center mb-16 px-6",children:[y.jsx("h2",{className:"text-5xl font-serif vibrant-text mb-8 font-bold",children:y.jsx(px,{text:"Bee Bridge",animationDelayStep:.1})}),y.jsx("p",{className:"text-xl text-honeybee-dark max-w-2xl mx-auto mb-10 font-medium",children:"We're the bridge between the farmer's field, the beekeeper's hive, to the honey in your home."}),y.jsxs("div",{className:"flex justify-center gap-6",children:[y.jsx(ft,{to:"/shop",className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Shop Now"}),y.jsx(ft,{to:"/about",className:"glass-effect bright-border text-honeybee-dark hover:bg-honeybee-primary hover:text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Learn More"})]})]})}),y.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[y.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-6 text-center",children:"Connecting Farmers and Consumers"}),y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[y.jsx("img",{src:fx,alt:"Farmers and Consumers",className:"w-full md:w-1/2 rounded-lg shadow-lg"}),y.jsx("p",{className:"text-lg text-honeybee-dark-brown max-w-xl",children:"Our platform bridges the gap between farmers and consumers, ensuring fresh, organic produce reaches your table directly from the source or become a seller through our marketplace and sell/rent the bee colonies."})]})]})]})})]})}const gx=()=>y.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"About Bee Bridge"}),y.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"Our passion for honey is rooted in a deep respect for nature and the incredible work of bees."})]}),y.jsxs("div",{className:"mt-20 grid md:grid-cols-2 gap-16 items-center",children:[y.jsx("div",{children:y.jsx("img",{src:"https://static.vecteezy.com/system/resources/thumbnails/004/454/157/small_2x/honey-can-realistic-composition-vector.jpg",alt:"Beekeeper",className:"rounded-lg shadow-lg"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-serif font-bold mb-4",children:"Our Story"}),y.jsx("p",{className:"mb-4",children:"Bee Bridge was founded with a simple mission: to bring the purest, most delicious honey from our hives to your home. We believe in sustainable beekeeping practices that prioritize the health of our bees and the environment."}),y.jsx("p",{children:"Our farms are dedicated to sustainable practices, and through our website, we connect consumers directly with the source, fostering transparency and trust in every jar of honey."})]})]}),y.jsxs("div",{className:"mt-20 text-center",children:[y.jsx("h2",{className:"text-3xl font-serif font-bold mb-8",children:"Our Values"}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[y.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[y.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Sustainability"}),y.jsx("p",{children:"We are committed to protecting our planet and its precious pollinators."})]}),y.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[y.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Quality"}),y.jsx("p",{children:"We deliver only the finest, 100% pure and raw honey."})]}),y.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[y.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Community"}),y.jsx("p",{children:"We support local beekeepers and educate our community about the importance of bees."})]})]})]})]})}),yx={primary:"gradient-bg-primary hover:shadow-2xl text-black hover:text-black border-0 modern-shadow-hover transform hover:scale-105",secondary:"bg-honeybee-secondary hover:bg-honeybee-accent text-white modern-shadow-hover",accent:"gradient-bg-accent hover:shadow-xl text-white modern-shadow-hover transform hover:scale-105",ghost:"hover:bg-gray-100/10 text-honeybee-primary hover:text-honeybee-accent",light:"glass-effect text-honeybee-dark hover:bg-honeybee-primary hover:text-black modern-shadow-hover"},vx={default:"py-3 px-6",icon:"h-10 w-10"},pt=({children:r,variant:e="primary",size:t="default",className:i="",onClick:o,...l})=>{const[h,f]=z.useState(!1),[g,v]=z.useState({}),E=T=>{const V=T.currentTarget.getBoundingClientRect(),W=Math.max(V.width,V.height),H=T.clientX-V.left-W/2,F=T.clientY-V.top-W/2;v({width:W,height:W,left:H,top:F}),f(!0),setTimeout(()=>f(!1),600),o&&o(T)};return y.jsxs("button",{className:`relative overflow-hidden rounded-lg shadow-lg transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1) focus:outline-none focus:ring-4 focus:ring-honeybee-accent ${yx[e]} ${vx[t]} ${i}`,onClick:E,...l,children:[r,h&&y.jsx("span",{className:"button-ripple absolute",style:g})]})},_x=()=>y.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"Contact Us"}),y.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"We'd love to hear from you! Whether you have a question about our products, our practices, or anything else, our team is ready to answer all your questions."})]}),y.jsxs("div",{className:"mt-20 grid md:grid-cols-2 gap-16",children:[y.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[y.jsx("h2",{className:"text-2xl font-serif font-bold mb-6",children:"Send us a message"}),y.jsxs("form",{children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Name"}),y.jsx("input",{type:"text",id:"name",className:"w-full px-4 py-2 border border-honeybee-light rounded-md focus:ring-honeybee-primary focus:border-honeybee-primary"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),y.jsx("input",{type:"email",id:"email",className:"w-full px-4 py-2 border border-honeybee-light rounded-md focus:ring-honeybee-primary focus:border-honeybee-primary"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-1",children:"Message"}),y.jsx("textarea",{id:"message",rows:4,className:"w-full px-4 py-2 border border-honeybee-light rounded-md focus:ring-honeybee-primary focus:border-honeybee-primary"})]}),y.jsx(pt,{type:"submit",variant:"primary",className:"w-full",children:"Send Message"})]})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Email Us"}),y.jsx("p",{children:"beebridgeshop@gmail.com"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Call Us"}),y.jsx("p",{children:"(123) 456-7890"})]})]})]})]})}),lv=z.createContext(void 0),wc=()=>{const r=z.useContext(lv);if(!r)throw new Error("useCart must be used within a CartProvider");return r},wx=({children:r})=>{const[e,t]=z.useState([]),i=g=>{t(v=>v.find(T=>T.id===g.id)?v.map(T=>T.id===g.id?{...T,quantity:T.quantity+1}:T):[...v,{...g,quantity:1}])},o=g=>{t(v=>v.filter(E=>E.id!==g))},l=(g,v)=>{if(v<=0){o(g);return}t(E=>E.map(T=>T.id===g?{...T,quantity:v}:T))},h=()=>{t([])},f=()=>e.reduce((g,v)=>{const E=parseFloat(v.price.replace(/[$₹]/g,""));return g+E*v.quantity},0);return y.jsx(lv.Provider,{value:{cartItems:e,addToCart:i,removeFromCart:o,updateQuantity:l,clearCart:h,getTotal:f},children:r})},Ex=[{id:1,name:"Wildflower Honey",price:"₹399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Pure organic honey from wildflower meadows"},{id:2,name:"Acacia Honey",price:"₹499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Light and delicate honey with subtle floral notes"},{id:3,name:"Manuka Honey",price:"₹599",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Premium therapeutic honey from New Zealand"},{id:4,name:"Honeycomb",price:"₹799",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Raw honeycomb straight from our sustainable apiaries"},{id:5,name:"Clover Honey",price:"₹399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"A classic, mild honey perfect for everyday use."},{id:6,name:"Lavender Honey",price:"₹499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Infused with the calming aroma of lavender blossoms."}],xx=()=>{const{addToCart:r}=wc(),e=t=>{r(t)};return y.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"Our Honey Selection"}),y.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"Explore our collection of premium, all-natural honey. Each jar is a testament to the hard work of our bees and the richness of the land they forage."})]}),y.jsx("div",{className:"mt-16 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:Ex.map(t=>y.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition duration-300",children:[y.jsx("div",{className:"h-56 overflow-hidden",children:y.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transform hover:scale-105 transition duration-500"})}),y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-medium text-honeybee-secondary",children:t.name}),y.jsx("p",{className:"text-honeybee-dark-brown mt-2 text-sm",children:t.description}),y.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[y.jsx("span",{className:"text-black font-bold",children:t.price}),y.jsx("button",{onClick:()=>e(t),className:"bg-honeybee-primary hover:bg-honeybee-accent text-white rounded-full p-2 transition duration-300",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})]},t.id))})]})})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),zr=(r,e)=>{const t=z.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:h,className:f="",children:g,...v},E)=>z.createElement("svg",{ref:E,...Tx,width:o,height:o,stroke:i,strokeWidth:h?Number(l)*24/Number(o):l,className:["lucide",`lucide-${Ix(r)}`,f].join(" "),...v},[...e.map(([T,A])=>z.createElement(T,A)),...Array.isArray(g)?g:[g]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=zr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=zr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=zr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=zr("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=zr("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=zr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=zr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=zr("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=zr("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Nx=()=>{const{cartItems:r,removeFromCart:e,updateQuantity:t,getTotal:i}=wc(),o=vc(),l=i(),h=()=>{o("/checkout")};return y.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Shopping Cart"}),y.jsx("div",{className:"group",children:y.jsx("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6",children:r.length===0?y.jsx("p",{className:"text-center text-gray-500",children:"Your cart is empty"}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"space-y-4",children:r.map(f=>y.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:f.name}),y.jsxs("p",{className:"text-gray-600",children:["₹",parseFloat(f.price.replace(/[$₹]/g,""))," x ",f.quantity]})]}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("input",{type:"number",min:1,value:f.quantity,onChange:g=>t(f.id,parseInt(g.target.value)),className:"w-16 border border-gray-300 rounded px-2 py-1"}),y.jsxs("span",{className:"text-lg font-semibold text-gray-800",children:["₹",(parseFloat(f.price.replace(/[$₹]/g,""))*f.quantity).toFixed(2)]}),y.jsx(pt,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>e(f.id),children:y.jsx(Ax,{size:20})})]})]},f.id))}),y.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("span",{className:"text-xl font-bold text-gray-800",children:["Total: ₹",l.toFixed(2)]}),y.jsx("div",{className:"group",children:y.jsx(pt,{variant:"primary",onClick:h,children:"Checkout"})})]})})]})})})]})},vg="/assets/success%20confetti-DC1AmzHE.gif",_g={HONEY10:.1,BEE20:.2,OFFER:.1},bx=()=>{const{cartItems:r,getTotal:e,clearCart:t}=wc(),[i,o]=z.useState(""),[l,h]=z.useState(0),[f,g]=z.useState(""),[v,E]=z.useState(!1),[T,A]=z.useState(!1),V=e(),W=V-V*l;z.useEffect(()=>{if(T){const q=setTimeout(()=>{A(!1)},2e3);return()=>clearTimeout(q)}},[T]);const H=()=>{const q=i.toUpperCase();_g[q]?(h(_g[q]),g("")):(h(0),g("Invalid coupon code"))},F=()=>{A(!0),E(!0),t()};return v?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"max-w-4xl mx-auto p-6 text-center",children:[y.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Thank you for your order!"}),y.jsx("p",{children:"Your order has been placed successfully."})]}),T&&y.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50",children:y.jsx("img",{src:vg,alt:"Success",className:"w-64 h-64 object-cover"})})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-honeybee-background text-honeybee-secondary rounded-lg shadow-lg",children:[y.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Checkout"}),y.jsxs("div",{children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"font-semibold mb-2",children:"Order Summary"}),r.map(q=>y.jsxs("div",{className:"flex justify-between mb-2",children:[y.jsxs("span",{children:[q.name," x ",q.quantity]}),y.jsxs("span",{children:["₹",(parseFloat(q.price.replace(/[$₹]/g,""))*q.quantity).toFixed(2)]})]},q.id)),y.jsxs("div",{className:"flex justify-between font-bold border-t border-gray-300 pt-2",children:[y.jsx("span",{children:"Total:"}),y.jsxs("span",{children:["₹",V.toFixed(2)]})]}),l>0&&y.jsxs("div",{className:"flex justify-between font-bold text-green-600 pt-2",children:[y.jsx("span",{children:"Discount:"}),y.jsxs("span",{children:["-₹",(V*l).toFixed(2)]})]}),l>0&&y.jsxs("div",{className:"flex justify-between font-bold border-t border-gray-300 pt-2",children:[y.jsx("span",{children:"Amount to Pay:"}),y.jsxs("span",{children:["₹",W.toFixed(2)]})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"coupon",className:"block font-semibold mb-1",children:"Have a coupon?"}),y.jsx("input",{id:"coupon",type:"text",value:i,onChange:q=>o(q.target.value),className:"border border-gray-300 rounded px-3 py-2 w-full",placeholder:"Enter coupon code"}),f&&y.jsx("p",{className:"text-red-600 mt-1",children:f}),y.jsx(pt,{onClick:H,variant:"accent",className:"mt-2",children:"Apply Coupon"})]}),y.jsx("div",{children:y.jsx(pt,{onClick:F,variant:"primary",className:"w-full",children:"Place Order"})})]})]}),T&&y.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50",children:y.jsx("img",{src:vg,alt:"Success",className:"w-64 h-64 object-cover"})})]})},Dx=()=>{};var wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Vx=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,v=g?r[o+2]:0,E=l>>2,T=(l&3)<<4|f>>4;let A=(f&15)<<2|v>>6,V=v&63;g||(V=64,h||(A=64)),i.push(t[E],t[T],t[A],t[V])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Vx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||v==null||T==null)throw new Lx;const A=l<<2|f>>4;if(i.push(A),v!==64){const V=f<<4&240|v>>2;if(i.push(V),T!==64){const W=v<<6&192|T;i.push(W)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Lx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ox=function(r){const e=hv(r);return dv.encodeByteArray(e,!0)},Xu=function(r){return Ox(r).replace(/\./g,"")},fv=function(r){try{return dv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=()=>jx().__FIREBASE_DEFAULTS__,Fx=()=>{if(typeof process>"u"||typeof wg>"u")return;const r=wg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ux=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fv(r[1]);return e&&JSON.parse(e)},Ec=()=>{try{return Dx()||Mx()||Fx()||Ux()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pv=r=>Ec()?.emulatorHosts?.[r],zx=r=>{const e=pv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},mv=()=>Ec()?.config,gv=r=>Ec()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xu(JSON.stringify(t)),Xu(JSON.stringify(h)),""].join(".")}const ja={};function Hx(){const r={prod:[],emulator:[]};for(const e of Object.keys(ja))ja[e]?r.emulator.push(e):r.prod.push(e);return r}function Wx(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Eg=!1;function vv(r,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||ja[r]===e||ja[r]||Eg)return;ja[r]=e;function t(A){return`__firebase__banner__${A}`}const i="__firebase__banner",l=Hx().prod.length>0;function h(){const A=document.getElementById(i);A&&A.remove()}function f(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Eg=!0,h()},A}function E(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=Wx(i),V=t("text"),W=document.getElementById(V)||document.createElement("span"),H=t("learnmore"),F=document.getElementById(H)||document.createElement("a"),q=t("preprendIcon"),K=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;f(re),E(F,H);const ye=v();g(K,q),re.append(K,W,F,ye),document.body.appendChild(re)}l?(W.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function Gx(){const r=Ec()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Yx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xx(){const r=Bt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Jx(){return!Gx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zx(){try{return typeof indexedDB=="object"}catch{return!1}}function eT(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="FirebaseError";class Br extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=tT,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,il.prototype.create)}}class il{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?nT(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Br(o,f,i)}}function nT(r,e){return r.replace(rT,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const rT=/\{\$([^}]+)}/g;function sT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function pi(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(xg(l)&&xg(h)){if(!pi(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function xg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function iT(r,e){const t=new oT(r,e);return t.subscribe.bind(t)}class oT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");aT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=fd),o.error===void 0&&(o.error=fd),o.complete===void 0&&(o.complete=fd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aT(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(r){return r&&r._delegate?r._delegate:r}class mi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Bx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cT(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uT(r){return r===ui?void 0:r}function cT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const dT={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},fT=Pe.INFO,pT={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},mT=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=pT[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sf{constructor(e){this.name=e,this._logLevel=fT,this._logHandler=mT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const gT=(r,e)=>e.some(t=>r instanceof t);let Tg,Ig;function yT(){return Tg||(Tg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vT(){return Ig||(Ig=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _v=new WeakMap,Ad=new WeakMap,wv=new WeakMap,pd=new WeakMap,of=new WeakMap;function _T(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(Is(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&_v.set(t,r)}).catch(()=>{}),of.set(e,r),e}function wT(r){if(Ad.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Ad.set(r,e)}let Rd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ad.get(r);if(e==="objectStoreNames")return r.objectStoreNames||wv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ET(r){Rd=r(Rd)}function xT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(md(this),e,...t);return wv.set(i,e.sort?e.sort():[e]),Is(i)}:vT().includes(r)?function(...e){return r.apply(md(this),e),Is(_v.get(this))}:function(...e){return Is(r.apply(md(this),e))}}function TT(r){return typeof r=="function"?xT(r):(r instanceof IDBTransaction&&wT(r),gT(r,yT())?new Proxy(r,Rd):r)}function Is(r){if(r instanceof IDBRequest)return _T(r);if(pd.has(r))return pd.get(r);const e=TT(r);return e!==r&&(pd.set(r,e),of.set(e,r)),e}const md=r=>of.get(r);function IT(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=Is(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Is(h.result),g.oldVersion,g.newVersion,Is(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const ST=["get","getKey","getAll","getAllKeys","count"],CT=["put","add","delete","clear"],gd=new Map;function Sg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=CT.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||ST.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return i&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return gd.set(e,l),l}ET(r=>({...r,get:(e,t,i)=>Sg(e,t)||r.get(e,t,i),has:(e,t)=>!!Sg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AT(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function AT(r){return r.getComponent()?.type==="VERSION"}const Pd="@firebase/app",Cg="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new sf("@firebase/app"),RT="@firebase/app-compat",PT="@firebase/analytics-compat",NT="@firebase/analytics",bT="@firebase/app-check-compat",DT="@firebase/app-check",VT="@firebase/auth",LT="@firebase/auth-compat",OT="@firebase/database",jT="@firebase/data-connect",MT="@firebase/database-compat",FT="@firebase/functions",UT="@firebase/functions-compat",zT="@firebase/installations",BT="@firebase/installations-compat",$T="@firebase/messaging",HT="@firebase/messaging-compat",WT="@firebase/performance",qT="@firebase/performance-compat",GT="@firebase/remote-config",KT="@firebase/remote-config-compat",QT="@firebase/storage",YT="@firebase/storage-compat",XT="@firebase/firestore",JT="@firebase/ai",ZT="@firebase/firestore-compat",e1="firebase",t1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="[DEFAULT]",n1={[Pd]:"fire-core",[RT]:"fire-core-compat",[NT]:"fire-analytics",[PT]:"fire-analytics-compat",[DT]:"fire-app-check",[bT]:"fire-app-check-compat",[VT]:"fire-auth",[LT]:"fire-auth-compat",[OT]:"fire-rtdb",[jT]:"fire-data-connect",[MT]:"fire-rtdb-compat",[FT]:"fire-fn",[UT]:"fire-fn-compat",[zT]:"fire-iid",[BT]:"fire-iid-compat",[$T]:"fire-fcm",[HT]:"fire-fcm-compat",[WT]:"fire-perf",[qT]:"fire-perf-compat",[GT]:"fire-rc",[KT]:"fire-rc-compat",[QT]:"fire-gcs",[YT]:"fire-gcs-compat",[XT]:"fire-fst",[ZT]:"fire-fst-compat",[JT]:"fire-vertex","fire-js":"fire-js",[e1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,r1=new Map,bd=new Map;function kg(r,e){try{r.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function wo(r){const e=r.name;if(bd.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;bd.set(e,r);for(const t of Ju.values())kg(t,r);for(const t of r1.values())kg(t,r);return!0}function af(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Nn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new il("app","Firebase",s1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=t1;function Ev(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Nd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(t||(t=mv()),!t)throw Ss.create("no-options");const l=Ju.get(o);if(l){if(pi(t,l.options)&&pi(i,l.config))return l;throw Ss.create("duplicate-app",{appName:o})}const h=new hT(o);for(const g of bd.values())h.addComponent(g);const f=new i1(t,i,h);return Ju.set(o,f),f}function xv(r=Nd){const e=Ju.get(r);if(!e&&r===Nd&&mv())return Ev();if(!e)throw Ss.create("no-app",{appName:r});return e}function Cs(r,e,t){let i=n1[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(h.join(" "));return}wo(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebase-heartbeat-database",a1=1,qa="firebase-heartbeat-store";let yd=null;function Tv(){return yd||(yd=IT(o1,a1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(qa)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ss.create("idb-open",{originalErrorMessage:r.message})})),yd}async function l1(r){try{const t=(await Tv()).transaction(qa),i=await t.objectStore(qa).get(Iv(r));return await t.done,i}catch(e){if(e instanceof Br)Or.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e?.message});Or.warn(t.message)}}}async function Ag(r,e){try{const i=(await Tv()).transaction(qa,"readwrite");await i.objectStore(qa).put(e,Iv(r)),await i.done}catch(t){if(t instanceof Br)Or.warn(t.message);else{const i=Ss.create("idb-set",{originalErrorMessage:t?.message});Or.warn(i.message)}}}function Iv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=1024,c1=30;class h1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new f1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Rg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>c1){const o=p1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rg(),{heartbeatsToSend:t,unsentEntries:i}=d1(this._heartbeatsCache.heartbeats),o=Xu(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Or.warn(e),""}}}function Rg(){return new Date().toISOString().substring(0,10)}function d1(r,e=u1){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Pg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Pg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class f1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zx()?eT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await l1(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ag(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ag(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Pg(r){return Xu(JSON.stringify({version:2,heartbeats:r})).length}function p1(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r){wo(new mi("platform-logger",e=>new kT(e),"PRIVATE")),wo(new mi("heartbeat",e=>new h1(e),"PRIVATE")),Cs(Pd,Cg,r),Cs(Pd,Cg,"esm2020"),Cs("fire-js","")}m1("");var g1="firebase",y1="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(g1,y1,"app");function Sv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v1=Sv,Cv=new il("auth","Firebase",Sv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new sf("@firebase/auth");function _1(r,...e){Zu.logLevel<=Pe.WARN&&Zu.warn(`Auth (${No}): ${r}`,...e)}function Uu(r,...e){Zu.logLevel<=Pe.ERROR&&Zu.error(`Auth (${No}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(r,...e){throw uf(r,...e)}function Vn(r,...e){return uf(r,...e)}function lf(r,e,t){const i={...v1(),[e]:t};return new il("auth","Firebase",i).create(e,{appName:r.name})}function di(r){return lf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w1(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&lr(r,"argument-error"),lf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uf(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return Cv.create(r,...e)}function _e(r,e,...t){if(!r)throw uf(e,...t)}function Nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Uu(e),new Error(e)}function jr(r,e){r||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(){return typeof self<"u"&&self.location?.href||""}function E1(){return Ng()==="http:"||Ng()==="https:"}function Ng(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E1()||Qx()||"connection"in navigator)?navigator.onLine:!0}function T1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=qx()||Yx()}get(){return x1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(r,e){jr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C1=new al(3e4,6e4);function hf(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function bo(r,e,t,i,o={}){return Av(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=ol({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:g,...l};return Kx()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Po(r.emulatorConfig.host)&&(v.credentials="include"),kv.fetch()(await Rv(r,r.config.apiHost,t,f),v)})}async function Av(r,e,t){r._canInitEmulator=!1;const i={...I1,...e};try{const o=new A1(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw bu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,v]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw bu(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw bu(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw bu(r,"user-disabled",h);const E=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw lf(r,E,v);lr(r,E)}}catch(o){if(o instanceof Br)throw o;lr(r,"network-request-failed",{message:String(o)})}}async function k1(r,e,t,i,o={}){const l=await bo(r,e,t,i,o);return"mfaPendingCredential"in l&&lr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function Rv(r,e,t,i){const o=`${e}${t}?${i}`,l=r,h=l.config.emulator?cf(r.config,o):`${r.config.apiScheme}://${o}`;return S1.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class A1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),C1.get())})}}function bu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Vn(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(r,e){return bo(r,"POST","/v1/accounts:delete",e)}async function ec(r,e){return bo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P1(r,e=!1){const t=wn(r),i=await t.getIdToken(e),o=df(i);_e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:i,authTime:Ma(vd(o.auth_time)),issuedAtTime:Ma(vd(o.iat)),expirationTime:Ma(vd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function vd(r){return Number(r)*1e3}function df(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const o=fv(t);return o?JSON.parse(o):(Uu("Failed to decode base64 JWT payload"),null)}catch(o){return Uu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bg(r){const e=df(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Br&&N1(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function N1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(r){const e=r.auth,t=await r.getIdToken(),i=await Ga(r,ec(e,{idToken:t}));_e(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?Pv(o.providerUserInfo):[],h=V1(r.providerData,l),f=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,v=f?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Vd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,E)}async function D1(r){const e=wn(r);await tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V1(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Pv(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(r,e){const t=await Av(r,{},async()=>{const i=ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await Rv(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:i};return r.emulatorConfig&&Po(r.emulatorConfig.host)&&(g.credentials="include"),kv.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function O1(r,e){return bo(r,"POST","/v2/accounts:revokeToken",hf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=bg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await L1(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new go;return i&&(_e(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(_e(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class bn{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new b1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return P1(this,e)}reload(){return D1(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await tc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await Ga(this,R1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,f=t.tenantId??void 0,g=t._redirectEventId??void 0,v=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:V,providerData:W,stsTokenManager:H}=t;_e(T&&H,e,"internal-error");const F=go.fromJSON(this.name,H);_e(typeof T=="string",e,"internal-error"),_s(i,e.name),_s(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof V=="boolean",e,"internal-error"),_s(l,e.name),_s(h,e.name),_s(f,e.name),_s(g,e.name),_s(v,e.name),_s(E,e.name);const q=new bn({uid:T,auth:e,email:o,emailVerified:A,displayName:i,isAnonymous:V,photoURL:h,phoneNumber:l,tenantId:f,stsTokenManager:F,createdAt:v,lastLoginAt:E});return W&&Array.isArray(W)&&(q.providerData=W.map(K=>({...K}))),g&&(q._redirectEventId=g),q}static async _fromIdTokenResponse(e,t,i=!1){const o=new go;o.updateFromServerResponse(t);const l=new bn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await tc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];_e(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Pv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,f=new go;f.updateFromIdToken(i);const g=new bn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Vd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new Map;function br(r){jr(r instanceof Function,"Expected a class definition");let e=Dg.get(r);return e?(jr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Dg.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Nv.type="NONE";const Vg=Nv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(r,e,t){return`firebase:${r}:${e}:${t}`}class yo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=zu(this.userKey,o.apiKey,l),this.fullPersistenceKey=zu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ec(this.auth,{idToken:e}).catch(()=>{});return t?bn._fromGetAccountInfoResponse(this.auth,t,e):null}return bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new yo(br(Vg),e,i);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||br(Vg);const h=zu(i,e.config.apiKey,e.name);let f=null;for(const v of t)try{const E=await v._get(h);if(E){let T;if(typeof E=="string"){const A=await ec(e,{idToken:E}).catch(()=>{});if(!A)break;T=await bn._fromGetAccountInfoResponse(e,A,E)}else T=bn._fromJSON(e,E);v!==l&&(f=T),l=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new yo(l,e,i):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new yo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jv(e))return"Blackberry";if(Mv(e))return"Webos";if(Dv(e))return"Safari";if((e.includes("chrome/")||Vv(e))&&!e.includes("edge/"))return"Chrome";if(Ov(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function bv(r=Bt()){return/firefox\//i.test(r)}function Dv(r=Bt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vv(r=Bt()){return/crios\//i.test(r)}function Lv(r=Bt()){return/iemobile/i.test(r)}function Ov(r=Bt()){return/android/i.test(r)}function jv(r=Bt()){return/blackberry/i.test(r)}function Mv(r=Bt()){return/webos/i.test(r)}function ff(r=Bt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function j1(r=Bt()){return ff(r)&&!!window.navigator?.standalone}function M1(){return Xx()&&document.documentMode===10}function Fv(r=Bt()){return ff(r)||Ov(r)||Mv(r)||jv(r)||/windows phone/i.test(r)||Lv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(r,e=[]){let t;switch(r){case"Browser":t=Lg(Bt());break;case"Worker":t=`${Lg(Bt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${No}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(r,e={}){return bo(r,"GET","/v2/passwordPolicy",hf(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=6;class B1{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??z1,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Og(this),this.idTokenSubscription=new Og(this),this.beforeStateQueue=new F1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=br(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ec(this,{idToken:e}),i=await bn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,h=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===h)&&f?.user&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(di(this));const t=e?wn(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U1(this),t=new B1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new il("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await O1(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&br(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xc(r){return wn(r)}let Og=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=iT(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H1(r){pf=r}function W1(r){return pf.loadJS(r)}function q1(){return pf.gapiScript}function G1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r,e){const t=af(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(pi(l,e??{}))return o;lr(o,"already-initialized")}return t.initialize({options:e})}function Q1(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(br);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function Y1(r,e,t){const i=xc(r);_e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=zv(e),{host:h,port:f}=X1(e),g=f===null?"":`:${f}`,v={url:`${l}//${h}${g}/`},E=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){_e(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),_e(pi(v,i.config.emulator)&&pi(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,Po(h)?(yv(`${l}//${h}${g}`),vv("Auth",!0)):J1()}function zv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function X1(r){const e=zv(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:jg(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:jg(h)}}}function jg(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function J1(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,t){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r,e){return k1(r,"POST","/v1/accounts:signInWithIdp",hf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="http://localhost";class gi extends Bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const h=new gi(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return vo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,vo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vo(e,t)}buildRequest(){const e={requestUri:Z1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ol(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends mf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends ll{constructor(){super("facebook.com")}static credential(e){return gi._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Pr.credential(t,i)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends ll{constructor(){super("github.com")}static credential(e){return gi._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends ll{constructor(){super("twitter.com")}static credential(e,t){return gi._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return xs.credential(t,i)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await bn._fromIdTokenResponse(e,i,o),h=Mg(i);return new Eo({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Mg(i);return new Eo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Mg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Br{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,nc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new nc(e,t,i,o)}}function $v(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?nc._fromErrorAndOperation(r,l,e,i):l})}async function eI(r,e,t=!1){const i=await Ga(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Eo._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(r,e,t=!1){const{auth:i}=r;if(Nn(i.app))return Promise.reject(di(i));const o="reauthenticate";try{const l=await Ga(r,$v(i,o,e,r),t);_e(l.idToken,i,"internal-error");const h=df(l.idToken);_e(h,i,"internal-error");const{sub:f}=h;return _e(r.uid===f,i,"user-mismatch"),Eo._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&lr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,e,t=!1){if(Nn(r.app))return Promise.reject(di(r));const i="signIn",o=await $v(r,i,e),l=await Eo._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function rI(r,e,t,i){return wn(r).onIdTokenChanged(e,t,i)}function sI(r,e,t){return wn(r).beforeAuthStateChanged(e,t)}function iI(r,e,t,i){return wn(r).onAuthStateChanged(e,t,i)}function oI(r){return wn(r).signOut()}const rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rc,"1"),this.storage.removeItem(rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=1e3,lI=10;class Wv extends Hv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);M1()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lI):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wv.type="LOCAL";const uI=Wv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends Hv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qv.type="SESSION";const Gv=qv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Tc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async v=>v(t.origin,l)),g=await cI(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const v=gf("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(E),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function dI(r){nr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function fI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pI(){return navigator?.serviceWorker?.controller||null}function mI(){return Kv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="firebaseLocalStorageDb",gI=1,sc="firebaseLocalStorage",Yv="fbase_key";class ul{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ic(r,e){return r.transaction([sc],e?"readwrite":"readonly").objectStore(sc)}function yI(){const r=indexedDB.deleteDatabase(Qv);return new ul(r).toPromise()}function Ld(){const r=indexedDB.open(Qv,gI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(sc,{keyPath:Yv})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(sc)?e(i):(i.close(),await yI(),e(await Ld()))})})}async function Fg(r,e,t){const i=Ic(r,!0).put({[Yv]:e,value:t});return new ul(i).toPromise()}async function vI(r,e){const t=Ic(r,!1).get(e),i=await new ul(t).toPromise();return i===void 0?null:i.value}function Ug(r,e){const t=Ic(r,!0).delete(e);return new ul(t).toPromise()}const _I=800,wI=3;class Xv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ld(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>wI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tc._getInstance(mI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fI(),!this.activeServiceWorker)return;this.sender=new hI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ld();return await Fg(e,rc,"1"),await Ug(e,rc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fg(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>vI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ug(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Ic(o,!1).getAll();return new ul(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xv.type="LOCAL";const EI=Xv;new al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(r,e){return e?br(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Bv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xI(r){return nI(r.auth,new yf(r),r.bypassAuthState)}function TI(r){const{auth:e,user:t}=r;return _e(t,e,"internal-error"),tI(t,new yf(r),r.bypassAuthState)}async function II(r){const{auth:e,user:t}=r;return _e(t,e,"internal-error"),eI(t,new yf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xI;case"linkViaPopup":case"linkViaRedirect":return II;case"reauthViaPopup":case"reauthViaRedirect":return TI;default:lr(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new al(2e3,1e4);async function CI(r,e,t){if(Nn(r.app))return Promise.reject(Vn(r,"operation-not-supported-in-this-environment"));const i=xc(r);w1(r,e,mf);const o=Jv(i,t);return new ci(i,"signInViaPopup",e,o).executeNotNull()}class ci extends Zv{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,ci.currentPopupAction&&ci.currentPopupAction.cancel(),ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=gf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SI.get())};e()}}ci.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="pendingRedirect",Bu=new Map;class AI extends Zv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const i=await RI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RI(r,e){const t=bI(e),i=NI(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function PI(r,e){Bu.set(r._key(),e)}function NI(r){return br(r._redirectPersistence)}function bI(r){return zu(kI,r.config.apiKey,r.name)}async function DI(r,e,t=!1){if(Nn(r.app))return Promise.reject(di(r));const i=xc(r),o=Jv(i,e),h=await new AI(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=600*1e3;class LI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!e_(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Vn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VI&&this.cachedEventUids.clear(),this.cachedEventUids.has(zg(e))}saveEventToCache(e){this.cachedEventUids.add(zg(e)),this.lastProcessedEventTime=Date.now()}}function zg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function e_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function OI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,e={}){return bo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FI=/^https?/;async function UI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await jI(r);for(const t of e)try{if(zI(t))return}catch{}lr(r,"unauthorized-domain")}function zI(r){const e=Dd(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!FI.test(t))return!1;if(MI.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new al(3e4,6e4);function Bg(){const r=nr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function $I(r){return new Promise((e,t)=>{function i(){Bg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bg(),t(Vn(r,"network-request-failed"))},timeout:BI.get()})}if(nr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(nr().gapi?.load)i();else{const o=G1("iframefcb");return nr()[o]=()=>{gapi.load?i():t(Vn(r,"network-request-failed"))},W1(`${q1()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw $u=null,e})}let $u=null;function HI(r){return $u=$u||$I(r),$u}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new al(5e3,15e3),qI="__/auth/iframe",GI="emulator/auth/iframe",KI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YI(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?cf(e,GI):`https://${r.config.authDomain}/${qI}`,i={apiKey:e.apiKey,appName:r.name,v:No},o=QI.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${ol(i).slice(1)}`}async function XI(r){const e=await HI(r),t=nr().gapi;return _e(t,r,"internal-error"),e.open({where:document.body,url:YI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KI,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=Vn(r,"network-request-failed"),f=nr().setTimeout(()=>{l(h)},WI.get());function g(){nr().clearTimeout(f),o(i)}i.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZI=500,eS=600,tS="_blank",nS="http://localhost";class $g{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rS(r,e,t,i=ZI,o=eS){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const g={...JI,width:i.toString(),height:o.toString(),top:l,left:h},v=Bt().toLowerCase();t&&(f=Vv(v)?tS:t),bv(v)&&(e=e||nS,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[V,W])=>`${A}${V}=${W},`,"");if(j1(v)&&f!=="_self")return sS(e||"",f),new $g(null);const T=window.open(e||"",f,E);_e(T,r,"popup-blocked");try{T.focus()}catch{}return new $g(T)}function sS(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="__/auth/handler",oS="emulator/auth/handler",aS=encodeURIComponent("fac");async function Hg(r,e,t,i,o,l){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:No,eventId:o};if(e instanceof mf){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",sT(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof ll){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const g=await r._getAppCheckToken(),v=g?`#${aS}=${encodeURIComponent(g)}`:"";return`${lS(r)}?${ol(f).slice(1)}${v}`}function lS({config:r}){return r.emulator?cf(r,oS):`https://${r.authDomain}/${iS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="webStorageSupport";class uS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gv,this._completeRedirectFn=DI,this._overrideRedirectResult=PI}async _openPopup(e,t,i,o){jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Hg(e,t,i,Dd(),o);return rS(e,l,gf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Hg(e,t,i,Dd(),o);return dI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(jr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await XI(e),i=new LI(e);return t.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_d,{type:_d},o=>{const l=o?.[0]?.[_d];l!==void 0&&t(!!l),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fv()||Dv()||ff()}}const cS=uS;var Wg="@firebase/auth",qg="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fS(r){wo(new mi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uv(r)},v=new $1(i,o,l,g);return Q1(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wo(new mi("auth-internal",e=>{const t=xc(e.getProvider("auth").getImmediate());return(i=>new hS(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(Wg,qg,dS(r)),Cs(Wg,qg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=300,mS=gv("authIdTokenMaxAge")||pS;let Gg=null;const gS=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>mS)return;const o=t?.token;Gg!==o&&(Gg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yS(r=xv()){const e=af(r,"auth");if(e.isInitialized())return e.getImmediate();const t=K1(r,{popupRedirectResolver:cS,persistence:[EI,uI,Gv]}),i=gv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=gS(l.toString());sI(t,h,()=>h(t.currentUser)),rI(t,f=>h(f))}}const o=pv("auth");return o&&Y1(t,`http://${o}`),t}function vS(){return document.getElementsByTagName("head")?.[0]??document}H1({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=Vn("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",vS().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fS("Browser");var Kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,t_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function C(){}C.prototype=S.prototype,P.F=S.prototype,P.prototype=new C,P.prototype.constructor=P,P.D=function(b,N,O){for(var k=Array(arguments.length-2),He=2;He<arguments.length;He++)k[He-2]=arguments[He];return S.prototype[N].apply(b,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,C){C||(C=0);const b=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)b[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)b[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=P.g[0],C=P.g[1],N=P.g[2];let O=P.g[3],k;k=S+(O^C&(N^O))+b[0]+3614090360&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(N^S&(C^N))+b[1]+3905402710&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(C^O&(S^C))+b[2]+606105819&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(S^N&(O^S))+b[3]+3250441966&4294967295,C=N+(k<<22&4294967295|k>>>10),k=S+(O^C&(N^O))+b[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(N^S&(C^N))+b[5]+1200080426&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(C^O&(S^C))+b[6]+2821735955&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(S^N&(O^S))+b[7]+4249261313&4294967295,C=N+(k<<22&4294967295|k>>>10),k=S+(O^C&(N^O))+b[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(N^S&(C^N))+b[9]+2336552879&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(C^O&(S^C))+b[10]+4294925233&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(S^N&(O^S))+b[11]+2304563134&4294967295,C=N+(k<<22&4294967295|k>>>10),k=S+(O^C&(N^O))+b[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(N^S&(C^N))+b[13]+4254626195&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(C^O&(S^C))+b[14]+2792965006&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(S^N&(O^S))+b[15]+1236535329&4294967295,C=N+(k<<22&4294967295|k>>>10),k=S+(N^O&(C^N))+b[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(S^C))+b[6]+3225465664&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^C&(O^S))+b[11]+643717713&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(N^O))+b[0]+3921069994&4294967295,C=N+(k<<20&4294967295|k>>>12),k=S+(N^O&(C^N))+b[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(S^C))+b[10]+38016083&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^C&(O^S))+b[15]+3634488961&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(N^O))+b[4]+3889429448&4294967295,C=N+(k<<20&4294967295|k>>>12),k=S+(N^O&(C^N))+b[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(S^C))+b[14]+3275163606&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^C&(O^S))+b[3]+4107603335&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(N^O))+b[8]+1163531501&4294967295,C=N+(k<<20&4294967295|k>>>12),k=S+(N^O&(C^N))+b[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(S^C))+b[2]+4243563512&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^C&(O^S))+b[7]+1735328473&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(N^O))+b[12]+2368359562&4294967295,C=N+(k<<20&4294967295|k>>>12),k=S+(C^N^O)+b[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^N)+b[8]+2272392833&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^C)+b[11]+1839030562&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^S)+b[14]+4259657740&4294967295,C=N+(k<<23&4294967295|k>>>9),k=S+(C^N^O)+b[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^N)+b[4]+1272893353&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^C)+b[7]+4139469664&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^S)+b[10]+3200236656&4294967295,C=N+(k<<23&4294967295|k>>>9),k=S+(C^N^O)+b[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^N)+b[0]+3936430074&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^C)+b[3]+3572445317&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^S)+b[6]+76029189&4294967295,C=N+(k<<23&4294967295|k>>>9),k=S+(C^N^O)+b[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^N)+b[12]+3873151461&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^C)+b[15]+530742520&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^S)+b[2]+3299628645&4294967295,C=N+(k<<23&4294967295|k>>>9),k=S+(N^(C|~O))+b[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~N))+b[7]+1126891415&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~C))+b[14]+2878612391&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~S))+b[5]+4237533241&4294967295,C=N+(k<<21&4294967295|k>>>11),k=S+(N^(C|~O))+b[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~N))+b[3]+2399980690&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~C))+b[10]+4293915773&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~S))+b[1]+2240044497&4294967295,C=N+(k<<21&4294967295|k>>>11),k=S+(N^(C|~O))+b[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~N))+b[15]+4264355552&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~C))+b[6]+2734768916&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~S))+b[13]+1309151649&4294967295,C=N+(k<<21&4294967295|k>>>11),k=S+(N^(C|~O))+b[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~N))+b[11]+3174756917&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~C))+b[2]+718787259&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~S))+b[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+O&4294967295}i.prototype.v=function(P,S){S===void 0&&(S=P.length);const C=S-this.blockSize,b=this.C;let N=this.h,O=0;for(;O<S;){if(N==0)for(;O<=C;)o(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<S;)if(b[N++]=P.charCodeAt(O++),N==this.blockSize){o(this,b),N=0;break}}else for(;O<S;)if(b[N++]=P[O++],N==this.blockSize){o(this,b),N=0;break}}this.h=N,this.o+=S},i.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;S=this.o*8;for(var C=P.length-8;C<P.length;++C)P[C]=S&255,S/=256;for(this.v(P),P=Array(16),S=0,C=0;C<4;++C)for(let b=0;b<32;b+=8)P[S++]=this.g[C]>>>b&255;return P};function l(P,S){var C=f;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=S(P)}function h(P,S){this.h=S;const C=[];let b=!0;for(let N=P.length-1;N>=0;N--){const O=P[N]|0;b&&O==S||(C[N]=O,b=!1)}this.g=C}var f={};function g(P){return-128<=P&&P<128?l(P,function(S){return new h([S|0],S<0?-1:0)}):new h([P|0],P<0?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return T;if(P<0)return F(v(-P));const S=[];let C=1;for(let b=0;P>=C;b++)S[b]=P/C|0,C*=4294967296;return new h(S,0)}function E(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return F(E(P.substring(1),S));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(S,8));let b=T;for(let O=0;O<P.length;O+=8){var N=Math.min(8,P.length-O);const k=parseInt(P.substring(O,O+N),S);N<8?(N=v(Math.pow(S,N)),b=b.j(N).add(v(k))):(b=b.j(C),b=b.add(v(k)))}return b}var T=g(0),A=g(1),V=g(16777216);r=h.prototype,r.m=function(){if(H(this))return-F(this).m();let P=0,S=1;for(let C=0;C<this.g.length;C++){const b=this.i(C);P+=(b>=0?b:4294967296+b)*S,S*=4294967296}return P},r.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(W(this))return"0";if(H(this))return"-"+F(this).toString(P);const S=v(Math.pow(P,6));var C=this;let b="";for(;;){const N=ye(C,S).g;C=q(C,N.j(S));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(P);if(C=N,W(C))return O+b;for(;O.length<6;)O="0"+O;b=O+b}},r.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function W(P){if(P.h!=0)return!1;for(let S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function H(P){return P.h==-1}r.l=function(P){return P=q(this,P),H(P)?-1:W(P)?0:1};function F(P){const S=P.g.length,C=[];for(let b=0;b<S;b++)C[b]=~P.g[b];return new h(C,~P.h).add(A)}r.abs=function(){return H(this)?F(this):this},r.add=function(P){const S=Math.max(this.g.length,P.g.length),C=[];let b=0;for(let N=0;N<=S;N++){let O=b+(this.i(N)&65535)+(P.i(N)&65535),k=(O>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);b=k>>>16,O&=65535,k&=65535,C[N]=k<<16|O}return new h(C,C[C.length-1]&-2147483648?-1:0)};function q(P,S){return P.add(F(S))}r.j=function(P){if(W(this)||W(P))return T;if(H(this))return H(P)?F(this).j(F(P)):F(F(this).j(P));if(H(P))return F(this.j(F(P)));if(this.l(V)<0&&P.l(V)<0)return v(this.m()*P.m());const S=this.g.length+P.g.length,C=[];for(var b=0;b<2*S;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(let N=0;N<P.g.length;N++){const O=this.i(b)>>>16,k=this.i(b)&65535,He=P.i(N)>>>16,wt=P.i(N)&65535;C[2*b+2*N]+=k*wt,K(C,2*b+2*N),C[2*b+2*N+1]+=O*wt,K(C,2*b+2*N+1),C[2*b+2*N+1]+=k*He,K(C,2*b+2*N+1),C[2*b+2*N+2]+=O*He,K(C,2*b+2*N+2)}for(P=0;P<S;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=S;P<2*S;P++)C[P]=0;return new h(C,0)};function K(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function re(P,S){this.g=P,this.h=S}function ye(P,S){if(W(S))throw Error("division by zero");if(W(P))return new re(T,T);if(H(P))return S=ye(F(P),S),new re(F(S.g),F(S.h));if(H(S))return S=ye(P,F(S)),new re(F(S.g),S.h);if(P.g.length>30){if(H(P)||H(S))throw Error("slowDivide_ only works with positive integers.");for(var C=A,b=S;b.l(P)<=0;)C=Ie(C),b=Ie(b);var N=we(C,1),O=we(b,1);for(b=we(b,2),C=we(C,2);!W(b);){var k=O.add(b);k.l(P)<=0&&(N=N.add(C),O=k),b=we(b,1),C=we(C,1)}return S=q(P,N.j(S)),new re(N,S)}for(N=T;P.l(S)>=0;){for(C=Math.max(1,Math.floor(P.m()/S.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),O=v(C),k=O.j(S);H(k)||k.l(P)>0;)C-=b,O=v(C),k=O.j(S);W(O)&&(O=A),N=N.add(O),P=q(P,k)}return new re(N,P)}r.B=function(P){return ye(this,P).h},r.and=function(P){const S=Math.max(this.g.length,P.g.length),C=[];for(let b=0;b<S;b++)C[b]=this.i(b)&P.i(b);return new h(C,this.h&P.h)},r.or=function(P){const S=Math.max(this.g.length,P.g.length),C=[];for(let b=0;b<S;b++)C[b]=this.i(b)|P.i(b);return new h(C,this.h|P.h)},r.xor=function(P){const S=Math.max(this.g.length,P.g.length),C=[];for(let b=0;b<S;b++)C[b]=this.i(b)^P.i(b);return new h(C,this.h^P.h)};function Ie(P){const S=P.g.length+1,C=[];for(let b=0;b<S;b++)C[b]=P.i(b)<<1|P.i(b-1)>>>31;return new h(C,P.h)}function we(P,S){const C=S>>5;S%=32;const b=P.g.length-C,N=[];for(let O=0;O<b;O++)N[O]=S>0?P.i(O+C)>>>S|P.i(O+C+1)<<32-S:P.i(O+C);return new h(N,P.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,t_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,ks=h}).apply(typeof Kg<"u"?Kg:typeof self<"u"?self:typeof window<"u"?window:{});var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n_,Da,r_,Hu,Od,s_,i_,o_;(function(){var r,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Du=="object"&&Du];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var x=0;x<u.length-1;x++){var M=u[x];if(!(M in _))break e;_=_[M]}u=u[u.length-1],x=_[u],m=m(x),m!=x&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&_.push([x,m[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function f(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=g,v.apply(null,arguments)}function E(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function T(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,M,$){for(var te=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)te[xe-2]=arguments[xe];return m.prototype[M].apply(x,te)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const m=u.length;if(m>0){const _=Array(m);for(let x=0;x<m;x++)_[x]=u[x];return _}return[]}function W(u,m){for(let x=1;x<arguments.length;x++){const M=arguments[x];var _=typeof M;if(_=_!="object"?_:M?Array.isArray(M)?"array":_:"null",_=="array"||_=="object"&&typeof M.length=="number"){_=u.length||0;const $=M.length||0;u.length=_+$;for(let te=0;te<$;te++)u[_+te]=M[te]}else u.push(M)}}class H{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(u){h.setTimeout(()=>{throw u},0)}function q(){var u=P;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class K{constructor(){this.h=this.g=null}add(m,_){const x=re.get();x.set(m,_),this.h?this.h.next=x:this.g=x,this.h=x}}var re=new H(()=>new ye,u=>u.reset());class ye{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,we=!1,P=new K,S=()=>{const u=Promise.resolve(void 0);Ie=()=>{u.then(C)}};function C(){for(var u;u=q();){try{u.h.call(u.g)}catch(_){F(_)}var m=re;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}we=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,m),h.removeEventListener("test",_,m)}catch{}return u})();function k(u){return/^[\s\xa0]*$/.test(u)}function He(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}T(He,N),He.prototype.init=function(u,m){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),Dt=0;function Ye(u,m,_,x,M){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!x,this.ha=M,this.key=++Dt,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function de(u,m,_){for(const x in u)m.call(_,u[x],x,u)}function oe(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function L(u){const m={};for(const _ in u)m[_]=u[_];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(u,m){let _,x;for(let M=1;M<arguments.length;M++){x=arguments[M];for(_ in x)u[_]=x[_];for(let $=0;$<Q.length;$++)_=Q[$],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function Ce(u){this.src=u,this.g={},this.h=0}Ce.prototype.add=function(u,m,_,x,M){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const te=Re(u,m,x,M);return te>-1?(m=u[te],_||(m.fa=!1)):(m=new Ye(m,this.src,$,!!x,M),m.fa=_,u.push(m)),m};function Ae(u,m){const _=m.type;if(_ in u.g){var x=u.g[_],M=Array.prototype.indexOf.call(x,m,void 0),$;($=M>=0)&&Array.prototype.splice.call(x,M,1),$&&(ne(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Re(u,m,_,x){for(let M=0;M<u.length;++M){const $=u[M];if(!$.da&&$.listener==m&&$.capture==!!_&&$.ha==x)return M}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Le={};function Be(u,m,_,x,M){if(Array.isArray(m)){for(let $=0;$<m.length;$++)Be(u,m[$],_,x,M);return null}return _=Mo(_),u&&u[wt]?u.J(m,_,f(x)?!!x.capture:!1,M):$t(u,m,_,!1,x,M)}function $t(u,m,_,x,M,$){if(!m)throw Error("Invalid event type");const te=f(M)?!!M.capture:!!M;let xe=Si(u);if(xe||(u[Fe]=xe=new Ce(u)),_=xe.add(m,_,x,te,$),_.proxy)return _;if(x=Ti(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)O||(M=te),M===void 0&&(M=!1),u.addEventListener(m.toString(),x,M);else if(u.attachEvent)u.attachEvent(Ii(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ti(){function u(_){return m.call(u.src,u.listener,_)}const m=ml;return u}function jo(u,m,_,x,M){if(Array.isArray(m))for(var $=0;$<m.length;$++)jo(u,m[$],_,x,M);else x=f(x)?!!x.capture:!!x,_=Mo(_),u&&u[wt]?(u=u.i,$=String(m).toString(),$ in u.g&&(m=u.g[$],_=Re(m,_,x,M),_>-1&&(ne(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[$],u.h--)))):u&&(u=Si(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,_,x,M)),(_=u>-1?m[u]:null)&&$r(_))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[wt])Ae(m.i,u);else{var _=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(_,x,u.capture):m.detachEvent?m.detachEvent(Ii(_),x):m.addListener&&m.removeListener&&m.removeListener(x),(_=Si(m))?(Ae(_,u),_.h==0&&(_.src=null,m[Fe]=null)):ne(u)}}}function Ii(u){return u in Le?Le[u]:Le[u]="on"+u}function ml(u,m){if(u.da)u=!0;else{m=new He(m,this);const _=u.listener,x=u.ha||u.src;u.fa&&$r(u),u=_.call(x,m)}return u}function Si(u){return u=u[Fe],u instanceof Ce?u:null}var Os="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(u){return typeof u=="function"?u:(u[Os]||(u[Os]=function(m){return u.handleEvent(m)}),u[Os])}function ut(){b.call(this),this.i=new Ce(this),this.M=this,this.G=null}T(ut,b),ut.prototype[wt]=!0,ut.prototype.removeEventListener=function(u,m,_,x){jo(this,u,m,_,x)};function it(u,m){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var M=m;m=new N(x,u),Se(m,M)}M=!0;let $,te;if(_)for(te=_.length-1;te>=0;te--)$=m.g=_[te],M=En($,x,!0,m)&&M;if($=m.g=u,M=En($,x,!0,m)&&M,M=En($,x,!1,m)&&M,_)for(te=0;te<_.length;te++)$=m.g=_[te],M=En($,x,!1,m)&&M}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let x=0;x<_.length;x++)ne(_[x]);delete u.g[m],u.h--}}this.G=null},ut.prototype.J=function(u,m,_,x){return this.i.add(String(u),m,!1,_,x)},ut.prototype.K=function(u,m,_,x){return this.i.add(String(u),m,!0,_,x)};function En(u,m,_,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let M=!0;for(let $=0;$<m.length;++$){const te=m[$];if(te&&!te.da&&te.capture==_){const xe=te.listener,ot=te.ha||te.src;te.fa&&Ae(u.i,te),M=xe.call(ot,x)!==!1&&M}}return M&&!x.defaultPrevented}function Fo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:h.setTimeout(u,m||0)}function Uo(u){u.g=Fo(()=>{u.g=null,u.i&&(u.i=!1,Uo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class gl extends b{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){b.call(this),this.h=u,this.g={}}T(Hr,b);var zo=[];function Ci(u){de(u.g,function(m,_){this.g.hasOwnProperty(_)&&$r(m)},u),u.g={}}Hr.prototype.N=function(){Hr.Z.N.call(this),Ci(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wr=h.JSON.stringify,yl=h.JSON.parse,js=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function qr(){}function vl(){}var Gr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ki(){N.call(this,"d")}T(ki,N);function Bo(){N.call(this,"c")}T(Bo,N);var xn={},Ai=null;function Kr(){return Ai=Ai||new ut}xn.Ia="serverreachability";function Ri(u){N.call(this,xn.Ia,u)}T(Ri,N);function dr(u){const m=Kr();it(m,new Ri(m))}xn.STAT_EVENT="statevent";function fr(u,m){N.call(this,xn.STAT_EVENT,u),this.stat=m}T(fr,N);function rt(u){const m=Kr();it(m,new fr(m,u))}xn.Ja="timingevent";function $o(u,m){N.call(this,xn.Ja,u),this.size=m}T($o,N);function Qr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function Yr(){this.g=!0}Yr.prototype.ua=function(){this.g=!1};function _l(u,m,_,x,M,$){u.info(function(){if(u.g)if($){var te="",xe=$.split("&");for(let ze=0;ze<xe.length;ze++){var ot=xe[ze].split("=");if(ot.length>1){const ct=ot[0];ot=ot[1];const on=ct.split("_");te=on.length>=2&&on[1]=="type"?te+(ct+"="+ot+"&"):te+(ct+"=redacted&")}}}else te=null;else te=$;return"XMLHTTP REQ ("+x+") [attempt "+M+"]: "+m+`
`+_+`
`+te})}function wl(u,m,_,x,M,$,te){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+M+"]: "+m+`
`+_+`
`+$+" "+te})}function Ln(u,m,_,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ms(u,_)+(x?" "+x:"")})}function El(u,m){u.info(function(){return"TIMEOUT: "+m})}Yr.prototype.info=function(){};function Ms(u,m){if(!u.g)return m;if(!m)return null;try{const $=JSON.parse(m);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var _=$[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var M=x[0];if(M!="noop"&&M!="stop"&&M!="close")for(let te=1;te<x.length;te++)x[te]=""}}}}return Wr($)}catch{return m}}var Xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xl;function pr(){}T(pr,qr),pr.prototype.g=function(){return new XMLHttpRequest},xl=new pr;function On(u){return encodeURIComponent(String(u))}function Pi(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function cn(u,m,_,x){this.j=u,this.i=m,this.l=_,this.S=x||1,this.V=new Hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Tl}function Tl(){this.i=null,this.g="",this.h=!1}var Il={},Ho={};function Tn(u,m,_){u.M=1,u.A=gr(hn(m)),u.u=_,u.R=!0,Wo(u,null)}function Wo(u,m){u.F=Date.now(),Fs(u),u.B=hn(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),ta(_.i,"t",x),u.C=0,_=u.j.L,u.h=new Tl,u.g=Vl(u.j,_?m:null,!u.u),u.P>0&&(u.O=new gl(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,x=u.ba;var M="readystatechange";Array.isArray(M)||(M&&(zo[0]=M.toString()),M=zo);for(let $=0;$<M.length;$++){const te=Be(_,M[$],x||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?L(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),dr(),_l(u.i,u.v,u.B,u.l,u.S,u.u)}cn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},cn.prototype.Y=function(u){try{if(u==this.g)e:{const xe=$n(this.g),ot=this.g.ya(),ze=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||bl(this.g)))){this.K||xe!=4||ot==7||(ot==8||ze<=0?dr(3):dr(2)),Ni(this);var m=this.g.ca();this.X=m;var _=Sl(this);if(this.o=m==200,wl(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var x,M=this.g;if((x=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(x)){var $=x;break t}}$=null}if(u=$)Ln(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,u);else{this.o=!1,this.m=3,rt(12),mr(this),Us(this);break e}}if(this.R){u=!0;let ct;for(;!this.K&&this.C<_.length;)if(ct=kl(this,_),ct==Ho){xe==4&&(this.m=4,rt(14),u=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Il){this.m=4,rt(15),Ln(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Ln(this.i,this.l,ct,null),qe(this,ct);if(Cl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_.length!=0||this.h.h||(this.m=1,rt(16),u=!1),this.o=this.o&&u,!u)Ln(this.i,this.l,_,"[Invalid Chunked Response]"),mr(this),Us(this);else if(_.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Qs(te),te.P=!0,rt(11))}}else Ln(this.i,this.l,_,null),qe(this,_);xe==4&&mr(this),this.o&&!this.K&&(xe==4?zi(this.j,this):(this.o=!1,Fs(this)))}else ra(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,rt(12)):(this.m=0,rt(13)),mr(this),Us(this)}}}catch{}finally{}};function Sl(u){if(!Cl(u))return u.g.la();const m=bl(u.g);if(m==="")return"";let _="";const x=m.length,M=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mr(u),Us(u),"";u.h.i=new h.TextDecoder}for(let $=0;$<x;$++)u.h.h=!0,_+=u.h.i.decode(m[$],{stream:!(M&&$==x-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Cl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function kl(u,m){var _=u.C,x=m.indexOf(`
`,_);return x==-1?Ho:(_=Number(m.substring(_,x)),isNaN(_)?Il:(x+=1,x+_>m.length?Ho:(m=m.slice(x,x+_),u.C=x+_,m)))}cn.prototype.cancel=function(){this.K=!0,mr(this)};function Fs(u){u.T=Date.now()+u.H,qo(u,u.H)}function qo(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Qr(v(u.aa,u),m)}function Ni(u){u.D&&(h.clearTimeout(u.D),u.D=null)}cn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(El(this.i,this.B),this.M!=2&&(dr(),rt(17)),mr(this),this.m=2,Us(this)):qo(this,this.T-u)};function Us(u){u.j.I==0||u.K||zi(u.j,u)}function mr(u){Ni(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ci(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function qe(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Ko(_.h,u))){if(!u.L&&Ko(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var M=x;if(M[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ui(_),rn(_);else break e;qn(_),rt(18)}}else _.xa=M[1],0<_.xa-_.K&&M[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Qr(v(_.Va,_),6e3));zs(_.h)<=1&&_.ta&&(_.ta=void 0)}else sn(_,11)}else if((u.L||_.g==u)&&Ui(_),!k(m))for(M=_.Ba.g.parse(m),m=0;m<M.length;m++){let ze=M[m];const ct=ze[0];if(!(ct<=_.K))if(_.K=ct,ze=ze[1],_.I==2)if(ze[0]=="c"){_.M=ze[1],_.ba=ze[2];const on=ze[3];on!=null&&(_.ka=on,_.j.info("VER="+_.ka));const Er=ze[4];Er!=null&&(_.za=Er,_.j.info("SVER="+_.za));const Gn=ze[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(x=1.5*Gn,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const Kn=u.g;if(Kn){const Hi=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hi){var $=x.h;$.g||Hi.indexOf("spdy")==-1&&Hi.indexOf("quic")==-1&&Hi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Di($,$.h),$.h=null))}if(x.G){const oa=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(x.wa=oa,Me(x.J,x.G,oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var te=u;if(x.na=ia(x,x.L?x.ba:null,x.W),te.L){Bs(x.h,te);var xe=te,ot=x.O;ot&&(xe.H=ot),xe.D&&(Ni(xe),Fs(xe)),x.g=te}else Vt(x);_.i.length>0&&wr(_)}else ze[0]!="stop"&&ze[0]!="close"||sn(_,7);else _.I==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?sn(_,7):Mi(_):ze[0]!="noop"&&_.l&&_.l.qa(ze),_.A=0)}}dr(4)}catch{}}var jc=class{constructor(u,m){this.g=u,this.map=m}};function bi(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zs(u){return u.h?1:u.g?u.g.size:0}function Ko(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Di(u,m){u.g?u.g.add(m):u.h=m}function Bs(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bi.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function en(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return V(u.i)}var Al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tn(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let M,$=null;x>=0?(M=u[_].substring(0,x),$=u[_].substring(x+1)):M=u[_],m(M,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function jn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof jn?(this.l=u.l,$s(this,u.j),this.o=u.o,this.g=u.g,Mn(this,u.u),this.h=u.h,Zr(this,na(u.i)),this.m=u.m):u&&(m=String(u).match(Al))?(this.l=!1,$s(this,m[1]||"",!0),this.o=Hs(m[2]||""),this.g=Hs(m[3]||"",!0),Mn(this,m[4]),this.h=Hs(m[5]||"",!0),Zr(this,m[6]||"",!0),this.m=Hs(m[7]||"")):(this.l=!1,this.i=new De(null,this.l))}jn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ws(m,Yo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ws(m,Yo,!0),"@"),u.push(On(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ws(_,_.charAt(0)=="/"?qs:Xo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ws(_,Jo)),u.join("")},jn.prototype.resolve=function(u){const m=hn(this);let _=!!u.j;_?$s(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var x=u.h;if(_)Mn(m,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var M=m.h.lastIndexOf("/");M!=-1&&(x=m.h.slice(0,M+1)+x)}if(M=x,M==".."||M==".")x="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){x=M.lastIndexOf("/",0)==0,M=M.split("/");const $=[];for(let te=0;te<M.length;){const xe=M[te++];xe=="."?x&&te==M.length&&$.push(""):xe==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),x&&te==M.length&&$.push("")):($.push(xe),x=!0)}x=$.join("/")}else x=M}return _?m.h=x:_=u.i.toString()!=="",_?Zr(m,na(u.i)):_=!!u.m,_&&(m.m=u.m),m};function hn(u){return new jn(u)}function $s(u,m,_){u.j=_?Hs(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Mn(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Zr(u,m,_){m instanceof De?(u.i=m,Li(u.i,u.l)):(_||(m=Ws(m,Mc)),u.i=new De(m,u.l))}function Me(u,m,_){u.i.set(m,_)}function gr(u){return Me(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Hs(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ws(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Qo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Qo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yo=/[#\/\?@]/g,Xo=/[#\?:]/g,qs=/[#\?]/g,Mc=/[#\?@]/g,Jo=/#/g;function De(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Fn(u){u.g||(u.g=new Map,u.h=0,u.i&&tn(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=De.prototype,r.add=function(u,m){Fn(this),this.i=null,u=Un(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Zo(u,m){Fn(u),m=Un(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vi(u,m){return Fn(u),m=Un(u,m),u.g.has(m)}r.forEach=function(u,m){Fn(this),this.g.forEach(function(_,x){_.forEach(function(M){u.call(m,M,x,this)},this)},this)};function ea(u,m){Fn(u);let _=[];if(typeof m=="string")Vi(u,m)&&(_=_.concat(u.g.get(Un(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return Fn(this),this.i=null,u=Un(this,u),Vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ea(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,_){Zo(u,m),_.length>0&&(u.i=null,u.g.set(Un(u,m),V(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var _=m[x];const M=On(_);_=ea(this,_);for(let $=0;$<_.length;$++){let te=M;_[$]!==""&&(te+="="+On(_[$])),u.push(te)}}return this.i=u.join("&")};function na(u){const m=new De;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Un(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Li(u,m){m&&!u.j&&(Fn(u),u.i=null,u.g.forEach(function(_,x){const M=x.toLowerCase();x!=M&&(Zo(this,x),ta(this,M,_))},u)),u.j=m}function zn(u,m){const _=new Yr;if(h.Image){const x=new Image;x.onload=E(Ct,_,"TestLoadImage: loaded",!0,m,x),x.onerror=E(Ct,_,"TestLoadImage: error",!1,m,x),x.onabort=E(Ct,_,"TestLoadImage: abort",!1,m,x),x.ontimeout=E(Ct,_,"TestLoadImage: timeout",!1,m,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function Bn(u,m){const _=new Yr,x=new AbortController,M=setTimeout(()=>{x.abort(),Ct(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then($=>{clearTimeout(M),$.ok?Ct(_,"TestPingServer: ok",!0,m):Ct(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),Ct(_,"TestPingServer: error",!1,m)})}function Ct(u,m,_,x,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),x(_)}catch{}}function Gs(){this.g=new js}function yr(u){this.i=u.Sb||null,this.h=u.ab||!1}T(yr,qr),yr.prototype.g=function(){return new nn(this.i,this.h)};function nn(u,m){ut.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(nn,ut),r=nn.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,In(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||h).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?es(this):In(this),this.readyState==3&&Rl(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,es(this))},r.Na=function(u){this.g&&(this.response=u,es(this))},r.ga=function(){this.g&&es(this)};function es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,In(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function In(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(nn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pl(u){let m="";return de(u,function(_,x){m+=x,m+=":",m+=_,m+=`\r
`}),m}function Oi(u,m,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=Pl(_),typeof u=="string"?_!=null&&On(_):Me(u,m,_))}function $e(u){ut.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,ut);var Nl=/^https?$/i,Fc=["POST","PUT"];r=$e.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xl.g(),this.g.onreadystatechange=A(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){ts(this,$);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var M in x)_.set(M,x[M]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const $ of x.keys())_.set($,x.get($));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),M=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Fc,m,void 0)>=0)||x||M||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of _)this.g.setRequestHeader($,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){ts(this,$)}};function ts(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ns(u),_r(u)}function ns(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,it(this,"complete"),it(this,"abort"),_r(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof l<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(it(u,"readystatechange"),$n(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var x;if(x=$===0){let te=String(u.D).match(Al)[1]||null;!te&&h.self&&h.self.location&&(te=h.self.location.protocol.slice(0,-1)),x=!Nl.test(te?te.toLowerCase():"")}_=x}if(_)it(u,"complete"),it(u,"success");else{u.o=6;try{var M=$n(u)>2?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.ca()+"]",ns(u)}}finally{_r(u)}}}}function _r(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||it(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),yl(m)}};function bl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ra(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(k(u[x]))continue;var _=Pi(u[x]);const M=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=m[M]||[];m[M]=$,$.push(_)}oe(m,function(x){return x.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ji(u){this.za=0,this.i=[],this.j=new Yr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hn("baseRetryDelayMs",5e3,u),this.Za=Hn("retryDelaySeedMs",1e4,u),this.Ta=Hn("forwardChannelMaxRetries",2,u),this.va=Hn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bi(u&&u.concurrentRequestLimit),this.Ba=new Gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ji.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,x){rt(0),this.W=u,this.H=m||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=ia(this,null,this.W),wr(this)};function Mi(u){if(Fi(u),u.I==3){var m=u.V++,_=hn(u.J);if(Me(_,"SID",u.M),Me(_,"RID",m),Me(_,"TYPE","terminate"),Wn(u,_),m=new cn(u,u.j,m),m.M=2,m.A=gr(hn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=m.A,_=!0),_||(m.g=Vl(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Fs(m)}Ys(u)}function rn(u){u.g&&(Qs(u),u.g.cancel(),u.g=null)}function Fi(u){rn(u),u.v&&(h.clearTimeout(u.v),u.v=null),Ui(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function wr(u){if(!Go(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ie||S(),we||(Ie(),we=!0),P.add(m,u),u.D=0}}function Dl(u,m){return zs(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Qr(v(u.Ea,u,m),Bi(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const M=new cn(this,this.j,u);let $=this.o;if(this.U&&($?($=L($),Se($,this.U)):$=this.U),this.u!==null||this.R||(M.J=$,$=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=sa(this,M,m),_=hn(this.J),Me(_,"RID",u),Me(_,"CVER",22),this.G&&Me(_,"X-HTTP-Session-Id",this.G),Wn(this,_),$&&(this.R?m="headers="+On(Pl($))+"&"+m:this.u&&Oi(_,this.u,$)),Di(this.h,M),this.Ra&&Me(_,"TYPE","init"),this.S?(Me(_,"$req",m),Me(_,"SID","null"),M.U=!0,Tn(M,_,null)):Tn(M,_,m),this.I=2}}else this.I==3&&(u?Ks(this,u):this.i.length==0||Go(this.h)||Ks(this))};function Ks(u,m){var _;m?_=m.l:_=u.V++;const x=hn(u.J);Me(x,"SID",u.M),Me(x,"RID",_),Me(x,"AID",u.K),Wn(u,x),u.u&&u.o&&Oi(x,u.u,u.o),_=new cn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=sa(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Di(u.h,_),Tn(_,x,m)}function Wn(u,m){u.H&&de(u.H,function(_,x){Me(m,x,_)}),u.l&&de({},function(_,x){Me(m,x,_)})}function sa(u,m,_){_=Math.min(u.i.length,_);const x=u.l?v(u.l.Ka,u.l,u):null;e:{var M=u.i;let xe=-1;for(;;){const ot=["count="+_];xe==-1?_>0?(xe=M[0].g,ot.push("ofs="+xe)):xe=0:ot.push("ofs="+xe);let ze=!0;for(let ct=0;ct<_;ct++){var $=M[ct].g;const on=M[ct].map;if($-=xe,$<0)xe=Math.max(0,M[ct].g-100),ze=!1;else try{$="req"+$+"_"||"";try{var te=on instanceof Map?on:Object.entries(on);for(const[Er,Gn]of te){let Kn=Gn;f(Gn)&&(Kn=Wr(Gn)),ot.push($+Er+"="+encodeURIComponent(Kn))}}catch(Er){throw ot.push($+"type="+encodeURIComponent("_badmap")),Er}}catch{x&&x(on)}}if(ze){te=ot.join("&");break e}}te=void 0}return u=u.i.splice(0,_),m.G=u,te}function Vt(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ie||S(),we||(Ie(),we=!0),P.add(m,u),u.A=0}}function qn(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Qr(v(u.Da,u),Bi(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,rs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Qr(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rt(10),rn(this),rs(this))};function Qs(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function rs(u){u.g=new cn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=hn(u.na);Me(m,"RID","rpc"),Me(m,"SID",u.M),Me(m,"AID",u.K),Me(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Me(m,"TO",u.ia),Me(m,"TYPE","xmlhttp"),Wn(u,m),u.u&&u.o&&Oi(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=gr(hn(m)),_.u=null,_.R=!0,Wo(_,u)}r.Va=function(){this.C!=null&&(this.C=null,rn(this),qn(this),rt(19))};function Ui(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function zi(u,m){var _=null;if(u.g==m){Ui(u),Qs(u),u.g=null;var x=2}else if(Ko(u.h,m))_=m.G,Bs(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var M=u.D;x=Kr(),it(x,new $o(x,_)),wr(u)}else Vt(u);else if(M=m.m,M==3||M==0&&m.X>0||!(x==1&&Dl(u,m)||x==2&&qn(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),M){case 1:sn(u,5);break;case 4:sn(u,10);break;case 3:sn(u,6);break;default:sn(u,2)}}}function Bi(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function sn(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),x=u.Ua;const M=!x;x=new jn(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||$s(x,"https"),gr(x),M?zn(x.toString(),_):Bn(x.toString(),_)}else rt(2);u.I=0,u.l&&u.l.pa(m),Ys(u),Fi(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Ys(u){if(u.I=0,u.ja=[],u.l){const m=en(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function ia(u,m,_){var x=_ instanceof jn?hn(_):new jn(_);if(x.g!="")m&&(x.g=m+"."+x.g),Mn(x,x.u);else{var M=h.location;x=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;const $=new jn(null);x&&$s($,x),m&&($.g=m),M&&Mn($,M),_&&($.h=_),x=$}return _=u.G,m=u.wa,_&&m&&Me(x,_,m),Me(x,"VER",u.ka),Wn(u,x),x}function Vl(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $e(new yr({ab:_})):new $e(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ll(){}r=Ll.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function $i(){}$i.prototype.g=function(u,m){return new kt(u,m)};function kt(u,m){ut.call(this),this.g=new ji(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!k(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ss(this)}T(kt,ut),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Mi(this.g)},kt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Wr(u),u=_);m.i.push(new jc(m.Ya++,u)),m.I==3&&wr(m)},kt.prototype.N=function(){this.g.l=null,delete this.j,Mi(this.g),delete this.g,kt.Z.N.call(this)};function Ol(u){ki.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}T(Ol,ki);function jl(){Bo.call(this),this.status=1}T(jl,Bo);function ss(u){this.g=u}T(ss,Ll),ss.prototype.ra=function(){it(this.g,"a")},ss.prototype.qa=function(u){it(this.g,new Ol(u))},ss.prototype.pa=function(u){it(this.g,new jl)},ss.prototype.oa=function(){it(this.g,"b")},$i.prototype.createWebChannel=$i.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,o_=function(){return new $i},i_=function(){return Kr()},s_=xn,Od={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,Hu=Xr,Jr.COMPLETE="complete",r_=Jr,vl.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",ut.prototype.listen=ut.prototype.J,Da=vl,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,n_=$e}).apply(typeof Du<"u"?Du:typeof self<"u"?self:typeof window<"u"?window:{});const Qg="@firebase/firestore",Yg="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new sf("@firebase/firestore");function ho(){return yi.logLevel}function ie(r,...e){if(yi.logLevel<=Pe.DEBUG){const t=e.map(vf);yi.debug(`Firestore (${Do}): ${r}`,...t)}}function Mr(r,...e){if(yi.logLevel<=Pe.ERROR){const t=e.map(vf);yi.error(`Firestore (${Do}): ${r}`,...t)}}function xo(r,...e){if(yi.logLevel<=Pe.WARN){const t=e.map(vf);yi.warn(`Firestore (${Do}): ${r}`,...t)}}function vf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,a_(r,i,t)}function a_(r,e,t){let i=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Mr(i),new Error(i)}function Ue(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||a_(e,o,i)}function Te(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ut.UNAUTHENTICATED)))}shutdown(){}}class wS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ES{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new As;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new As,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new As)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ue(typeof i.accessToken=="string",31837,{l:i}),new l_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class xS{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TS{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new xS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0,3512);const i=l=>{l.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ie("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ue(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Xg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=SS(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Ne(r,e){return r<e?-1:r>e?1:0}function jd(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),l=e.charAt(i);if(o!==l)return wd(o)===wd(l)?Ne(o,l):wd(o)?1:-1}return Ne(r.length,e.length)}const CS=55296,kS=57343;function wd(r){const e=r.charCodeAt(0);return e>=CS&&e<=kS}function To(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="__name__";class tr{constructor(e,t,i){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ge(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=tr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ne(e.length,t.length)}static compareSegments(e,t){const i=tr.isNumericId(e),o=tr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?tr.extractNumericId(e).compare(tr.extractNumericId(t)):jd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class et extends tr{construct(e,t,i){return new et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const AS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends tr{construct(e,t,i){return new Nt(e,t,i)}static isValidIdentifier(e){return AS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jg}static keyField(){return new Nt([Jg])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(r,e,t){if(!t)throw new he(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function PS(r,e,t,i){if(e===!0&&i===!0)throw new he(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Zg(r){if(!me.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function u_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function Ka(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(r);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r,e){const t={typeString:r};return e&&(t.value=e),t}function cl(r,e){if(!u_(r))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new he(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=-62135596800,ty=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ty);return new Qe(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ey)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ty}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cl(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ey;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:mt("string",Qe._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Qe(0,0))}static max(){return new Ee(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=-1;function NS(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(i===1e9?new Qe(t+1,0):new Qe(t,i));return new Rs(o,me.empty(),e)}function bS(r){return new Rs(r.readTime,r.key,Qa)}class Rs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Rs(Ee.min(),me.empty(),Qa)}static max(){return new Rs(Ee.max(),me.empty(),Qa)}}function DS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(r.documentKey,e.documentKey),t!==0?t:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==VS)throw r;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,i)=>{t(e)}))}static reject(e){return new G(((t,i)=>{i(e)}))}static waitFor(e){return new G(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(g=>i(g)))})),h=!0,l===o&&t()}))}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next((o=>o?G.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new G(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const v=g;t(e[v]).next((E=>{h[v]=E,++f,f===l&&i(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new G(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function OS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=-1;function Cc(r){return r==null}function ic(r){return r===0&&1/r==-1/0}function jS(r){return typeof r=="number"&&Number.isInteger(r)&&!ic(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="";function MS(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ny(e)),e=FS(r.get(t),e);return ny(e)}function FS(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case c_:t+="";break;default:t+=l}}return t}function ny(r){return r+c_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function _i(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function h_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Pt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vu(this.root,e,this.comparator,!0)}}class Vu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Pt.RED,this.left=o??Pt.EMPTY,this.right=l??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Pt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Pt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sy(this.data.getIterator())}getIteratorFrom(e){return new sy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class sy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new _t(Nt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new d_("Invalid base64 string: "+l):l}})(e);return new bt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const US=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(r){if(Ue(!!r,39018),typeof r=="string"){let e=0;const t=US.exec(r);if(Ue(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(r.seconds),nanos:lt(r.nanos)}}function lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ns(r){return typeof r=="string"?bt.fromBase64String(r):bt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="server_timestamp",p_="__type__",m_="__previous_value__",g_="__local_write_time__";function xf(r){return(r?.mapValue?.fields||{})[p_]?.stringValue===f_}function kc(r){const e=r.mapValue.fields[m_];return xf(e)?kc(e):e}function Ya(r){const e=Ps(r.mapValue.fields[g_].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t,i,o,l,h,f,g,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const oc="(default)";class Xa{constructor(e,t){this.projectId=e,this.database=t||oc}static empty(){return new Xa("","")}get isDefaultDatabase(){return this.database===oc}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__type__",BS="__max__",Lu={mapValue:{}},v_="__vector__",ac="value";function bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xf(r)?4:HS(r)?9007199254740991:$S(r)?10:11:ge(28295,{value:r})}function ur(r,e){if(r===e)return!0;const t=bs(r);if(t!==bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ya(r).isEqual(Ya(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ps(o.timestampValue),f=Ps(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return Ns(o.bytesValue).isEqual(Ns(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return lt(o.geoPointValue.latitude)===lt(l.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return lt(o.integerValue)===lt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=lt(o.doubleValue),f=lt(l.doubleValue);return h===f?ic(h)===ic(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return To(r.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(ry(h)!==ry(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!ur(h[g],f[g])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function Ja(r,e){return(r.values||[]).find((t=>ur(t,e)))!==void 0}function Io(r,e){if(r===e)return 0;const t=bs(r),i=bs(e);if(t!==i)return Ne(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=lt(l.integerValue||l.doubleValue),g=lt(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(r,e);case 3:return iy(r.timestampValue,e.timestampValue);case 4:return iy(Ya(r),Ya(e));case 5:return jd(r.stringValue,e.stringValue);case 6:return(function(l,h){const f=Ns(l),g=Ns(h);return f.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),g=h.split("/");for(let v=0;v<f.length&&v<g.length;v++){const E=Ne(f[v],g[v]);if(E!==0)return E}return Ne(f.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Ne(lt(l.latitude),lt(h.latitude));return f!==0?f:Ne(lt(l.longitude),lt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return oy(r.arrayValue,e.arrayValue);case 10:return(function(l,h){const f=l.fields||{},g=h.fields||{},v=f[ac]?.arrayValue,E=g[ac]?.arrayValue,T=Ne(v?.values?.length||0,E?.values?.length||0);return T!==0?T:oy(v,E)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Lu.mapValue&&h===Lu.mapValue)return 0;if(l===Lu.mapValue)return 1;if(h===Lu.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const A=jd(g[T],E[T]);if(A!==0)return A;const V=Io(f[g[T]],v[E[T]]);if(V!==0)return V}return Ne(g.length,E.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:t})}}function iy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const t=Ps(r),i=Ps(e),o=Ne(t.seconds,i.seconds);return o!==0?o:Ne(t.nanos,i.nanos)}function oy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Io(t[o],i[o]);if(l)return l}return Ne(t.length,i.length)}function So(r){return Md(r)}function Md(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Ps(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ns(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return me.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Md(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Md(t.fields[h])}`;return o+"}"})(r.mapValue):ge(61005,{value:r})}function Wu(r){switch(bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(r);return e?16+Wu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Wu(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return _i(i.fields,((l,h)=>{o+=l.length+Wu(h)})),o})(r.mapValue);default:throw ge(13486,{value:r})}}function Fd(r){return!!r&&"integerValue"in r}function Tf(r){return!!r&&"arrayValue"in r}function ay(r){return!!r&&"nullValue"in r}function ly(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qu(r){return!!r&&"mapValue"in r}function $S(r){return(r?.mapValue?.fields||{})[y_]?.stringValue===v_}function Fa(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return _i(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Fa(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fa(r.arrayValue.values[t]);return e}return{...r}}function HS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===BS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!qu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fa(t)}setAll(e){let t=Nt.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=Fa(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());qu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){_i(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new vn(Fa(this.value))}}function __(r){const e=[];return _i(r.fields,((t,i)=>{const o=new Nt([t]);if(qu(i)){const l=__(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new zt(e,0,Ee.min(),Ee.min(),Ee.min(),vn.empty(),0)}static newFoundDocument(e,t,i,o){return new zt(e,1,t,Ee.min(),i,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Ee.min(),Ee.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ee.min(),Ee.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t){this.position=e,this.inclusive=t}}function uy(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=me.comparator(me.fromName(h.referenceValue),t.key):i=Io(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function cy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ur(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function WS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{}class vt extends w_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new GS(e,t,i):t==="array-contains"?new YS(e,i):t==="in"?new XS(e,i):t==="not-in"?new JS(e,i):t==="array-contains-any"?new ZS(e,i):new vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new KS(e,i):new QS(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Io(t,this.value)):t!==null&&bs(this.value)===bs(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends w_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new cr(e,t)}matches(e){return E_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E_(r){return r.op==="and"}function x_(r){return qS(r)&&E_(r)}function qS(r){for(const e of r.filters)if(e instanceof cr)return!1;return!0}function Ud(r){if(r instanceof vt)return r.field.canonicalString()+r.op.toString()+So(r.value);if(x_(r))return r.filters.map((e=>Ud(e))).join(",");{const e=r.filters.map((t=>Ud(t))).join(",");return`${r.op}(${e})`}}function T_(r,e){return r instanceof vt?(function(i,o){return o instanceof vt&&i.op===o.op&&i.field.isEqual(o.field)&&ur(i.value,o.value)})(r,e):r instanceof cr?(function(i,o){return o instanceof cr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&T_(h,o.filters[f])),!0):!1})(r,e):void ge(19439)}function I_(r){return r instanceof vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${So(t.value)}`})(r):r instanceof cr?(function(t){return t.op.toString()+" {"+t.getFilters().map(I_).join(" ,")+"}"})(r):"Filter"}class GS extends vt{constructor(e,t,i){super(e,t,i),this.key=me.fromName(i.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class KS extends vt{constructor(e,t){super(e,"in",t),this.keys=S_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class QS extends vt{constructor(e,t){super(e,"not-in",t),this.keys=S_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function S_(r,e){return(e.arrayValue?.values||[]).map((t=>me.fromName(t.referenceValue)))}class YS extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tf(t)&&Ja(t.arrayValue,this.value)}}class XS extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ja(this.value.arrayValue,t)}}class JS extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ja(this.value.arrayValue,t)}}class ZS extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Ja(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Te=null}}function hy(r,e=null,t=[],i=[],o=null,l=null,h=null){return new eC(r,e,t,i,o,l,h)}function If(r){const e=Te(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Ud(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>So(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>So(i))).join(",")),e.Te=t}return e.Te}function Sf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!WS(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!T_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cy(r.startAt,e.startAt)&&cy(r.endAt,e.endAt)}function zd(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tC(r,e,t,i,o,l,h,f){return new Ac(r,e,t,i,o,l,h,f)}function Cf(r){return new Ac(r)}function dy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nC(r){return r.collectionGroup!==null}function Ua(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new _t(Nt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(f=f.add(v.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new uc(l,i))})),t.has(Nt.keyField().canonicalString())||e.Ie.push(new uc(Nt.keyField(),i))}return e.Ie}function rr(r){const e=Te(r);return e.Ee||(e.Ee=rC(e,Ua(r))),e.Ee}function rC(r,e){if(r.limitType==="F")return hy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new uc(o.field,l)}));const t=r.endAt?new lc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new lc(r.startAt.position,r.startAt.inclusive):null;return hy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Bd(r,e,t){return new Ac(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Rc(r,e){return Sf(rr(r),rr(e))&&r.limitType===e.limitType}function C_(r){return`${If(rr(r))}|lt:${r.limitType}`}function fo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>I_(o))).join(", ")}]`),Cc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>So(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>So(o))).join(",")),`Target(${i})`})(rr(r))}; limitType=${r.limitType})`}function Pc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of Ua(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,g){const v=uy(h,f,g);return h.inclusive?v<=0:v<0})(i.startAt,Ua(i),o)||i.endAt&&!(function(h,f,g){const v=uy(h,f,g);return h.inclusive?v>=0:v>0})(i.endAt,Ua(i),o))})(r,e)}function sC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function k_(r){return(e,t)=>{let i=!1;for(const o of Ua(r)){const l=iC(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function iC(r,e,t){const i=r.field.isKeyField()?me.comparator(e.key,t.key):(function(l,h,f){const g=h.data.field(l),v=f.data.field(l);return g!==null&&v!==null?Io(g,v):ge(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return ge(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return h_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new nt(me.comparator);function Fr(){return oC}const A_=new nt(me.comparator);function Va(...r){let e=A_;for(const t of r)e=e.insert(t.key,t);return e}function R_(r){let e=A_;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function hi(){return za()}function P_(){return za()}function za(){return new wi((r=>r.toString()),((r,e)=>r.isEqual(e)))}const aC=new nt(me.comparator),lC=new _t(me.comparator);function be(...r){let e=lC;for(const t of r)e=e.add(t);return e}const uC=new _t(Ne);function cC(){return uC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function N_(r){return{integerValue:""+r}}function hC(r,e){return jS(e)?N_(e):kf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function dC(r,e,t){return r instanceof cc?(function(o,l){const h={fields:{[p_]:{stringValue:f_},[g_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&xf(l)&&(l=kc(l)),l&&(h.fields[m_]=l),{mapValue:h}})(t,e):r instanceof Za?D_(r,e):r instanceof el?V_(r,e):(function(o,l){const h=b_(o,l),f=fy(h)+fy(o.Ae);return Fd(h)&&Fd(o.Ae)?N_(f):kf(o.serializer,f)})(r,e)}function fC(r,e,t){return r instanceof Za?D_(r,e):r instanceof el?V_(r,e):t}function b_(r,e){return r instanceof hc?(function(i){return Fd(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class cc extends Nc{}class Za extends Nc{constructor(e){super(),this.elements=e}}function D_(r,e){const t=L_(e);for(const i of r.elements)t.some((o=>ur(o,i)))||t.push(i);return{arrayValue:{values:t}}}class el extends Nc{constructor(e){super(),this.elements=e}}function V_(r,e){let t=L_(e);for(const i of r.elements)t=t.filter((o=>!ur(o,i)));return{arrayValue:{values:t}}}class hc extends Nc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function fy(r){return lt(r.integerValue||r.doubleValue)}function L_(r){return Tf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pC(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof Za&&o instanceof Za||i instanceof el&&o instanceof el?To(i.elements,o.elements,ur):i instanceof hc&&o instanceof hc?ur(i.Ae,o.Ae):i instanceof cc&&o instanceof cc})(r.transform,e.transform)}class mC{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bc{}function O_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new M_(r.key,Vr.none()):new hl(r.key,r.data,Vr.none());{const t=r.data,i=vn.empty();let o=new _t(Nt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Ei(r.key,i,new Dn(o.toArray()),Vr.none())}}function gC(r,e,t){r instanceof hl?(function(o,l,h){const f=o.value.clone(),g=my(o.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Ei?(function(o,l,h){if(!Gu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=my(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(j_(o)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Ba(r,e,t,i){return r instanceof hl?(function(l,h,f,g){if(!Gu(l.precondition,h))return f;const v=l.value.clone(),E=gy(l.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ei?(function(l,h,f,g){if(!Gu(l.precondition,h))return f;const v=gy(l.fieldTransforms,g,h),E=h.data;return E.setAll(j_(l)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,i):(function(l,h,f){return Gu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function yC(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=b_(i.transform,o||null);l!=null&&(t===null&&(t=vn.empty()),t.set(i.field,l))}return t||null}function py(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&To(i,o,((l,h)=>pC(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hl extends bc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ei extends bc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function j_(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function my(r,e,t){const i=new Map;Ue(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,fC(h,f,t[o]))}return i}function gy(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,dC(l,h,e))}return i}class M_ extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vC extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&gC(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ba(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ba(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=P_();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const g=O_(h,f);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),be())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((t,i)=>py(t,i)))&&To(this.baseMutations,e.baseMutations,((t,i)=>py(t,i)))}}class Af{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ue(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return aC})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Af(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ve;function xC(r){switch(r){case J.OK:return ge(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function F_(r){if(r===void 0)return Mr("GRPC error has no .code"),J.UNKNOWN;switch(r){case dt.OK:return J.OK;case dt.CANCELLED:return J.CANCELLED;case dt.UNKNOWN:return J.UNKNOWN;case dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case dt.INTERNAL:return J.INTERNAL;case dt.UNAVAILABLE:return J.UNAVAILABLE;case dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case dt.NOT_FOUND:return J.NOT_FOUND;case dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case dt.ABORTED:return J.ABORTED;case dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case dt.DATA_LOSS:return J.DATA_LOSS;default:return ge(39323,{code:r})}}(Ve=dt||(dt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new ks([4294967295,4294967295],0);function yy(r){const e=TC().encode(r),t=new t_;return t.update(e),new Uint8Array(t.digest())}function vy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ks([t,i],0),new ks([o,l],0)]}class Rf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new La(`Invalid padding: ${t}`);if(i<0)throw new La(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new La(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new La(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ks.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(ks.fromNumber(i)));return o.compare(IC)===1&&(o=new ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=yy(e),[i,o]=vy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Rf(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.ge===0)return;const t=yy(e),[i,o]=vy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Dc(Ee.min(),o,new nt(Ne),Fr(),be())}}class dl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new dl(i,t,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class U_{constructor(e,t){this.targetId=e,this.Ce=t}}class z_{constructor(e,t,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class _y{constructor(){this.ve=0,this.Fe=wy(),this.Me=bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),t=be(),i=be();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:ge(38017,{changeType:l})}})),new dl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=wy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fr(),this.Je=Ou(),this.He=Ou(),this.Ye=new nt(Ne)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(zd(l))if(i===0){const h=new me(l.path);this.et(t,h,zt.newNoDocument(h,Ee.min()))}else Ue(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const f=this.ut(e),g=f?this.ct(f,e,h):1;if(g!==0){this.it(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Ns(i).toUint8Array()}catch(g){if(g instanceof d_)return xo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Rf(h,o,l)}catch(g){return xo(g instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Ge.ht(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const f=this.ot(h);if(f){if(l.current&&zd(f.target)){const g=new me(f.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,zt.newNoDocument(g,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let i=be();this.He.forEach(((l,h)=>{let f=!0;h.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new Dc(e,t,this.Ye,this.je,i);return this.je=Fr(),this.Je=Ou(),this.He=Ou(),this.Ye=new nt(Ne),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _y,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new _t(Ne),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new _t(Ne),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ie("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _y),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ou(){return new nt(me.comparator)}function wy(){return new nt(me.comparator)}const CC={asc:"ASCENDING",desc:"DESCENDING"},kC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC={and:"AND",or:"OR"};class RC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $d(r,e){return r.useProto3Json||Cc(e)?e:{value:e}}function dc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PC(r,e){return dc(r,e.toTimestamp())}function sr(r){return Ue(!!r,49232),Ee.fromTimestamp((function(t){const i=Ps(t);return new Qe(i.seconds,i.nanos)})(r))}function Pf(r,e){return Hd(r,e).canonicalString()}function Hd(r,e){const t=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function $_(r){const e=et.fromString(r);return Ue(K_(e),10190,{key:e.toString()}),e}function Wd(r,e){return Pf(r.databaseId,e.path)}function Ed(r,e){const t=$_(e);if(t.get(1)!==r.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new me(W_(t))}function H_(r,e){return Pf(r.databaseId,e)}function NC(r){const e=$_(r);return e.length===4?et.emptyPath():W_(e)}function qd(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function W_(r){return Ue(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ey(r,e,t){return{name:Wd(r,e),fields:t.value.mapValue.fields}}function bC(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ge(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,E){return v.useProto3Json?(Ue(E===void 0||typeof E=="string",58123),bt.fromBase64String(E||"")):(Ue(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),bt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(v){const E=v.code===void 0?J.UNKNOWN:F_(v.code);return new he(E,v.message||"")})(h);t=new z_(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ed(r,i.document.name),l=sr(i.document.updateTime),h=i.document.createTime?sr(i.document.createTime):Ee.min(),f=new vn({mapValue:{fields:i.document.fields}}),g=zt.newFoundDocument(o,l,h,f),v=i.targetIds||[],E=i.removedTargetIds||[];t=new Ku(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ed(r,i.document),l=i.readTime?sr(i.readTime):Ee.min(),h=zt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Ku([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ed(r,i.document),l=i.removedTargetIds||[];t=new Ku([],l,o,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new EC(o,l),f=i.targetId;t=new U_(f,h)}}return t}function DC(r,e){let t;if(e instanceof hl)t={update:Ey(r,e.key,e.value)};else if(e instanceof M_)t={delete:Wd(r,e.key)};else if(e instanceof Ei)t={update:Ey(r,e.key,e.data),updateMask:BC(e.fieldMask)};else{if(!(e instanceof vC))return ge(16599,{Vt:e.type});t={verify:Wd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof cc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Za)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof el)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof hc)return{fieldPath:h.field.canonicalString(),increment:f.Ae};throw ge(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:PC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ge(27497)})(r,e.precondition)),t}function VC(r,e){return r&&r.length>0?(Ue(e!==void 0,14353),r.map((t=>(function(o,l){let h=o.updateTime?sr(o.updateTime):sr(l);return h.isEqual(Ee.min())&&(h=sr(l)),new mC(h,o.transformResults||[])})(t,e)))):[]}function LC(r,e){return{documents:[H_(r,e.path)]}}function OC(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=H_(r,o);const l=(function(v){if(v.length!==0)return G_(cr.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(v){if(v.length!==0)return v.map((E=>(function(A){return{field:po(A.field),direction:FC(A.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=$d(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function jC(r){let e=NC(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ue(i===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=(function(T){const A=q_(T);return A instanceof cr&&x_(A)?A.getFilters():[A]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((A=>(function(W){return new uc(mo(W.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(A)))})(t.orderBy));let f=null;t.limit&&(f=(function(T){let A;return A=typeof T=="object"?T.value:T,Cc(A)?null:A})(t.limit));let g=null;t.startAt&&(g=(function(T){const A=!!T.before,V=T.values||[];return new lc(V,A)})(t.startAt));let v=null;return t.endAt&&(v=(function(T){const A=!T.before,V=T.values||[];return new lc(V,A)})(t.endAt)),tC(e,o,h,l,f,"F",g,v)}function MC(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function q_(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=mo(t.unaryFilter.field);return vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=mo(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=mo(t.unaryFilter.field);return vt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(t){return vt.create(mo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return cr.create(t.compositeFilter.filters.map((i=>q_(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(t.compositeFilter.op))})(r):ge(30097,{filter:r})}function FC(r){return CC[r]}function UC(r){return kC[r]}function zC(r){return AC[r]}function po(r){return{fieldPath:r.canonicalString()}}function mo(r){return Nt.fromServerFormat(r.fieldPath)}function G_(r){return r instanceof vt?(function(t){if(t.op==="=="){if(ly(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NAN"}};if(ay(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ly(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NAN"}};if(ay(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(t.field),op:UC(t.op),value:t.value}}})(r):r instanceof cr?(function(t){const i=t.getFilters().map((o=>G_(o)));return i.length===1?i[0]:{compositeFilter:{op:zC(t.op),filters:i}}})(r):ge(54877,{filter:r})}function BC(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function K_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,i,o,l=Ee.min(),h=Ee.min(),f=bt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.yt=e}}function HC(r){const e=jC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.Cn=new qC}addToCollectionParentIndex(e,t){return this.Cn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Rs.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class qC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new _t(et.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new _t(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q_=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(Q_,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LruGarbageCollector",GC=1048576;function Iy([r,e],[t,i]){const o=Ne(r,t);return o===0?Ne(e,i):o}class KC{constructor(e){this.Ir=e,this.buffer=new _t(Iy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Iy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(Ty,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?ie(Ty,"Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.Vr(3e5)}))}}class YC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Sc.ce);const i=new KC(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(xy)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xy):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,h,f,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(i=T,f=Date.now(),this.removeTargets(e,i,t)))).next((T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(v=Date.now(),ho()<=Pe.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${T} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function XC(r,e){return new YC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.changes=new wi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Ba(i.mutation,o,Dn.empty(),Qe.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,be()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=be()){const o=hi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=Va();return l.forEach(((f,g)=>{h=h.insert(f,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=hi();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,be())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=Fr();const h=za(),f=(function(){return za()})();return t.forEach(((g,v)=>{const E=i.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof Ei)?l=l.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),Ba(E.mutation,v,E.mutation.getFieldMask(),Qe.now())):h.set(v.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((v,E)=>h.set(v,E))),t.forEach(((v,E)=>f.set(v,new ZC(E,h.get(v)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=za();let o=new nt(((h,f)=>h-f)),l=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((g=>{const v=t.get(g);if(v===null)return;let E=i.get(g)||Dn.empty();E=f.applyToLocalView(v,E),i.set(g,E);const T=(o.get(f.batchId)||be()).add(g);o=o.insert(f.batchId,T)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,E=g.value,T=P_();E.forEach((A=>{if(!l.has(A)){const V=O_(t.get(A),i.get(A));V!==null&&T.set(A,V),l=l.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return G.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):G.resolve(hi());let f=Qa,g=l;return h.next((v=>G.forEach(v,((E,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(E)?G.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{g=g.insert(E,A)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,g,v,be()))).next((E=>({batchId:f,changes:R_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((i=>{let o=Va();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Va();return this.indexManager.getCollectionParents(e,l).next((f=>G.forEach(f,(g=>{const v=(function(T,A){return new Ac(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,zt.newInvalidDocument(E)))}));let f=Va();return h.forEach(((g,v)=>{const E=l.get(g);E!==void 0&&Ba(E.mutation,v,Dn.empty(),Qe.now()),Pc(t,v)&&(f=f.insert(g,v))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return G.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:sr(o.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:HC(o.bundledQuery),readTime:sr(o.readTime)}})(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.overlays=new nt(me.comparator),this.qr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=hi();return G.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=hi(),l=t.length+1,h=new me(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>i&&o.set(g.getKey(),g)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new nt(((v,E)=>v-E));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let E=l.get(v.largestBatchId);E===null&&(E=hi(),l=l.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const f=hi(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,E)=>f.set(v,E))),!(f.size()>=o)););return G.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new wC(t,i));let l=this.qr.get(t);l===void 0&&(l=be(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this.Qr=new _t(It.$r),this.Ur=new _t(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new It(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new It(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new me(new et([])),i=new It(t,e),o=new It(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new me(new et([])),i=new It(t,e),o=new It(t,e+1);let l=be();return this.Ur.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new It(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class It{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return me.comparator(e.key,t.key)||Ne(e.Yr,t.Yr)}static Kr(e,t){return Ne(e.Yr,t.Yr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new _t(It.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new _C(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Zr=this.Zr.add(new It(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,t){return G.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Ef:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new It(t,0),o=new It(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(h=>{const f=this.Xr(h.Yr);l.push(f)})),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new _t(Ne);return t.forEach((o=>{const l=new It(o,0),h=new It(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(f=>{i=i.add(f.Yr)}))})),G.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;me.isDocumentKey(l)||(l=l.child(""));const h=new It(new me(l),0);let f=new _t(Ne);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.Yr)),!0)}),h),G.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ue(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return G.forEach(t.mutations,(o=>{const l=new It(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new It(t,0),o=this.Zr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.ri=e,this.docs=(function(){return new nt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let i=Fr();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():zt.newInvalidDocument(o))})),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Fr();const h=t.path,f=new me(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||DS(bS(E),i)<=0||(o.has(E.key)||Pc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,i,o){ge(9500)}ii(e,t){return G.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new ok(this)}getSize(e){return G.resolve(this.size)}}class ok extends JC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),G.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.persistence=e,this.si=new wi((t=>If(t)),Sf),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Nf,this.targetCount=0,this.ai=Co.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),G.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Co(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Pr(t),G.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),G.waitFor(l).next((()=>o))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t){this.ui={},this.overlays={},this.ci=new Sc(0),this.li=!1,this.li=!0,this.hi=new rk,this.referenceDelegate=e(this),this.Pi=new ak(this),this.indexManager=new WC,this.remoteDocumentCache=(function(o){return new ik(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new $C(t),this.Ii=new tk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new sk(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ie("MemoryPersistence","Starting transaction:",e);const o=new lk(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return G.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class lk extends LS{constructor(e){super(),this.currentSequenceNumber=e}}class bf{constructor(e){this.persistence=e,this.Ri=new Nf,this.Vi=null}static mi(e){return new bf(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),G.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,(i=>{const o=me.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return G.or([()=>G.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class fc{constructor(e,t){this.persistence=e,this.pi=new wi((i=>MS(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=XC(this,t)}static mi(e,t){return new fc(e,t)}Ei(){}di(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return G.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?G.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((f=>{f||(i++,l.removeEntry(h,Ee.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wu(e.data.value)),t}br(e,t,i){return G.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=be(),o=be();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Df(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Jx()?8:OS(Bt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new uk;return this.Ss(e,t,h).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,h,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(ho()<=Pe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(ho()<=Pe.DEBUG&&ie("QueryEngine","Query:",fo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(ho()<=Pe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(t))):G.resolve())}ys(e,t){if(dy(t))return G.resolve(null);let i=rr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Bd(t,null,"F"),i=rr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=be(...l);return this.ps.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((g=>{const v=this.Ds(t,f);return this.Cs(t,v,h,g.readTime)?this.ys(e,Bd(t,null,"F")):this.vs(e,v,t,g)}))))})))))}ws(e,t,i,o){return dy(t)||o.isEqual(Ee.min())?G.resolve(null):this.ps.getDocuments(e,i).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,i,o)?G.resolve(null):(ho()<=Pe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(t)),this.vs(e,h,t,NS(o,Qa)).next((f=>f)))}))}Ds(e,t){let i=new _t(k_(e));return t.forEach(((o,l)=>{Pc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return ho()<=Pe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",fo(t)),this.ps.getDocumentsMatchingQuery(e,t,Rs.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="LocalStore",hk=3e8;class dk{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new nt(Ne),this.xs=new wi((l=>If(l)),Sf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ek(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function fk(r,e,t,i){return new dk(r,e,t,i)}async function X_(r,e){const t=Te(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let g=be();for(const v of o){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of l){f.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(i,g).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:f})))}))}))}function pk(r,e){const t=Te(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,g,v,E){const T=v.batch,A=T.keys();let V=G.resolve();return A.forEach((W=>{V=V.next((()=>E.getEntry(g,W))).next((H=>{const F=v.docVersions.get(W);Ue(F!==null,48541),H.version.compareTo(F)<0&&(T.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),E.addEntry(H)))}))})),V.next((()=>f.mutationQueue.removeMutationBatch(g,T)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let g=be();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function J_(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function mk(r,e){const t=Te(r),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;f.push(t.Pi.removeMatchingKeys(l,E.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,E.addedDocuments,T))));let V=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(bt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,i)),o=o.insert(T,V),(function(H,F,q){return H.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=hk?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(A,V,E)&&f.push(t.Pi.updateTargetData(l,V))}));let g=Fr(),v=be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))})),f.push(gk(l,h,e.documentUpdates).next((E=>{g=E.ks,v=E.qs}))),!i.isEqual(Ee.min())){const E=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(E)}return G.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,v))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function gk(r,e,t){let i=be(),o=be();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let h=Fr();return t.forEach(((f,g)=>{const v=l.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):ie(Vf,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function yk(r,e){const t=Te(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ef),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function vk(r,e){const t=Te(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,G.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new Ts(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Gd(r,e,t){const i=Te(r),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Lo(h))throw h;ie(Vf,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Sy(r,e,t){const i=Te(r);let o=Ee.min(),l=be();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,v,E){const T=Te(g),A=T.xs.get(E);return A!==void 0?G.resolve(T.Ms.get(A)):T.Pi.getTargetData(v,E)})(i,h,rr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,f.targetId).next((g=>{l=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:Ee.min(),t?l:be()))).next((f=>(_k(i,sC(e),f),{documents:f,Qs:l})))))}function _k(r,e,t){let i=r.Os.get(e)||Ee.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}class Cy{constructor(){this.activeTargetIds=cC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wk{constructor(){this.Mo=new Cy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="ConnectivityMonitor";class Ay{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(ky,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(ky,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function Kd(){return ju===null?ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="RestConnection",xk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===oc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const h=Kd(),f=this.zo(e,t.toUriEncodedString());ie(xd,`Sending RPC '${e}' ${h}:`,f,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:v}=new URL(f),E=Po(v);return this.Jo(e,f,g,i,E).then((T=>(ie(xd,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw xo(xd,`RPC '${e}' ${h} failed with error: `,T,"url: ",f,"request:",i),T}))}Ho(e,t,i,o,l,h){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=xk[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class Sk extends Tk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const h=Kd();return new Promise(((f,g)=>{const v=new n_;v.setWithCredentials(!0),v.listenOnce(r_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Hu.NO_ERROR:const T=v.getResponseJson();ie(Ft,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),f(T);break;case Hu.TIMEOUT:ie(Ft,`RPC '${e}' ${h} timed out`),g(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const A=v.getStatus();if(ie(Ft,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let V=v.getResponseJson();Array.isArray(V)&&(V=V[0]);const W=V?.error;if(W&&W.status&&W.message){const H=(function(q){const K=q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(K)>=0?K:J.UNKNOWN})(W.status);g(new he(H,W.message))}else g(new he(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new he(J.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ie(Ft,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ie(Ft,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",E,i,15)}))}T_(e,t,i){const o=Kd(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=o_(),f=i_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const E=l.join("");ie(Ft,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=h.createWebChannel(E,g);this.I_(T);let A=!1,V=!1;const W=new Ik({Yo:F=>{V?ie(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(ie(Ft,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ie(Ft,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),H=(F,q,K)=>{F.listen(q,(re=>{try{K(re)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return H(T,Da.EventType.OPEN,(()=>{V||(ie(Ft,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),H(T,Da.EventType.CLOSE,(()=>{V||(V=!0,ie(Ft,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(T))})),H(T,Da.EventType.ERROR,(F=>{V||(V=!0,xo(Ft,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),W.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),H(T,Da.EventType.MESSAGE,(F=>{if(!V){const q=F.data[0];Ue(!!q,16349);const K=q,re=K?.error||K[0]?.error;if(re){ie(Ft,`RPC '${e}' stream ${o} received error:`,re);const ye=re.status;let Ie=(function(S){const C=dt[S];if(C!==void 0)return F_(C)})(ye),we=re.message;Ie===void 0&&(Ie=J.INTERNAL,we="Unknown error status: "+ye+" with message "+re.message),V=!0,W.a_(new he(Ie,we)),T.close()}else ie(Ft,`RPC '${e}' stream ${o} received:`,q),W.u_(q)}})),H(f,s_.STAT_EVENT,(F=>{F.stat===Od.PROXY?ie(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Od.NOPROXY&&ie(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r){return new RC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="PersistentStream";class e0{constructor(e,t,i,o,l,h,f,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(Ry,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ie(Ry,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ck extends e0{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=bC(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ee.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?sr(h.readTime):Ee.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=qd(this.serializer),t.addTarget=(function(l,h){let f;const g=h.target;if(f=zd(g)?{documents:LC(l,g)}:{query:OC(l,g).ft},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=B_(l,h.resumeToken);const v=$d(l,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){f.readTime=dc(l,h.snapshotVersion.toTimestamp());const v=$d(l,h.expectedCount);v!==null&&(f.expectedCount=v)}return f})(this.serializer,e);const i=MC(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=qd(this.serializer),t.removeTarget=e,this.q_(t)}}class kk extends e0{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=VC(e.writeResults,e.commitTime),i=sr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=qd(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>DC(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{}class Rk extends Ak{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,Hd(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(J.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Ho(e,Hd(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Pk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(t),this.aa=!1):ie("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="RemoteStore";class Nk{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{xi(this)&&(ie(vi,"Restarting streams for network reachability change."),await(async function(g){const v=Te(g);v.Ea.add(4),await fl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Lc(v)})(this))}))})),this.Ra=new Pk(i,o)}}async function Lc(r){if(xi(r))for(const e of r.da)await e(!0)}async function fl(r){for(const e of r.da)await e(!1)}function t0(r,e){const t=Te(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Mf(t)?jf(t):Oo(t).O_()&&Of(t,e))}function Lf(r,e){const t=Te(r),i=Oo(t);t.Ia.delete(e),i.O_()&&n0(t,e),t.Ia.size===0&&(i.O_()?i.L_():xi(t)&&t.Ra.set("Unknown"))}function Of(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oo(r).Y_(e)}function n0(r,e){r.Va.Ue(e),Oo(r).Z_(e)}function jf(r){r.Va=new SC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Ra.ua()}function Mf(r){return xi(r)&&!Oo(r).x_()&&r.Ia.size>0}function xi(r){return Te(r).Ea.size===0}function r0(r){r.Va=void 0}async function bk(r){r.Ra.set("Online")}async function Dk(r){r.Ia.forEach(((e,t)=>{Of(r,e)}))}async function Vk(r,e){r0(r),Mf(r)?(r.Ra.ha(e),jf(r)):r.Ra.set("Unknown")}async function Lk(r,e,t){if(r.Ra.set("Online"),e instanceof z_&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ia.delete(f),o.Va.removeTarget(f))})(r,e)}catch(i){ie(vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await pc(r,i)}else if(e instanceof Ku?r.Va.Ze(e):e instanceof U_?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ee.min()))try{const i=await J_(r.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.Va.Tt(h);return f.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.Ia.get(v);E&&l.Ia.set(v,E.withResumeToken(g.resumeToken,h))}})),f.targetMismatches.forEach(((g,v)=>{const E=l.Ia.get(g);if(!E)return;l.Ia.set(g,E.withResumeToken(bt.EMPTY_BYTE_STRING,E.snapshotVersion)),n0(l,g);const T=new Ts(E.target,g,v,E.sequenceNumber);Of(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){ie(vi,"Failed to raise snapshot:",i),await pc(r,i)}}async function pc(r,e,t){if(!Lo(e))throw e;r.Ea.add(1),await fl(r),r.Ra.set("Offline"),t||(t=()=>J_(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ie(vi,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Lc(r)}))}function s0(r,e){return e().catch((t=>pc(r,t,e)))}async function Oc(r){const e=Te(r),t=Ds(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ef;for(;Ok(e);)try{const o=await yk(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,jk(e,o)}catch(o){await pc(e,o)}i0(e)&&o0(e)}function Ok(r){return xi(r)&&r.Ta.length<10}function jk(r,e){r.Ta.push(e);const t=Ds(r);t.O_()&&t.X_&&t.ea(e.mutations)}function i0(r){return xi(r)&&!Ds(r).x_()&&r.Ta.length>0}function o0(r){Ds(r).start()}async function Mk(r){Ds(r).ra()}async function Fk(r){const e=Ds(r);for(const t of r.Ta)e.ea(t.mutations)}async function Uk(r,e,t){const i=r.Ta.shift(),o=Af.from(i,e,t);await s0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Oc(r)}async function zk(r,e){e&&Ds(r).X_&&await(async function(i,o){if((function(h){return xC(h)&&h!==J.ABORTED})(o.code)){const l=i.Ta.shift();Ds(i).B_(),await s0(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Oc(i)}})(r,e),i0(r)&&o0(r)}async function Py(r,e){const t=Te(r);t.asyncQueue.verifyOperationInProgress(),ie(vi,"RemoteStore received new credentials");const i=xi(t);t.Ea.add(3),await fl(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lc(t)}async function Bk(r,e){const t=Te(r);e?(t.Ea.delete(2),await Lc(t)):e||(t.Ea.add(2),await fl(t),t.Ra.set("Unknown"))}function Oo(r){return r.ma||(r.ma=(function(t,i,o){const l=Te(t);return l.sa(),new Ck(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:bk.bind(null,r),t_:Dk.bind(null,r),r_:Vk.bind(null,r),H_:Lk.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Mf(r)?jf(r):r.Ra.set("Unknown")):(await r.ma.stop(),r0(r))}))),r.ma}function Ds(r){return r.fa||(r.fa=(function(t,i,o){const l=Te(t);return l.sa(),new kk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Mk.bind(null,r),r_:zk.bind(null,r),ta:Fk.bind(null,r),na:Uk.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Oc(r)):(await r.fa.stop(),r.Ta.length>0&&(ie(vi,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new Ff(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uf(r,e){if(Mr("AsyncQueue",`${e}: ${r}`),Lo(r))return new he(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||me.comparator(t.key,i.key):(t,i)=>me.comparator(t.key,i.key),this.keyedMap=Va(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new _o;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.ga=new nt(me.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class ko{constructor(e,t,i,o,l,h,f,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new ko(e,t,_o.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Hk{constructor(){this.queries=by(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Te(t),l=o.queries;o.queries=by(),l.forEach(((h,f)=>{for(const g of f.Sa)g.onError(i)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function by(){return new wi((r=>C_(r)),Rc)}async function Wk(r,e){const t=Te(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new $k,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Uf(h,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&zf(t)}async function qk(r,e){const t=Te(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Gk(r,e){const t=Te(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.Sa)f.Fa(o)&&(i=!0);h.wa=o}}i&&zf(t)}function Kk(r,e,t){const i=Te(r),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function zf(r){r.Ca.forEach((e=>{e.next()}))}var Qd,Dy;(Dy=Qd||(Qd={})).Ma="default",Dy.Cache="cache";class Qk{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ko(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.key=e}}class l0{constructor(e){this.key=e}}class Yk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=k_(e),this.tu=new _o(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Ny,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),V=Pc(this.query,T)?T:null,W=!!A&&this.mutatedKeys.has(A.key),H=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;A&&V?A.data.isEqual(V.data)?W!==H&&(i.track({type:3,doc:V}),F=!0):this.su(A,V)||(i.track({type:2,doc:V}),F=!0,(g&&this.eu(V,g)>0||v&&this.eu(V,v)<0)&&(f=!0)):!A&&V?(i.track({type:0,doc:V}),F=!0):A&&!V&&(i.track({type:1,doc:A}),F=!0,(g||v)&&(f=!0)),F&&(V?(h=h.add(V),l=H?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{tu:h,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(V,W){const H=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:F})}};return H(V)-H(W)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,v=g!==this.Za;return this.Za=g,h.length!==0||v?{snapshot:new ko(this.query,e.tu,l,h,e.mutatedKeys,g===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ny,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new l0(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new a0(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bf="SyncEngine";class Xk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Jk{constructor(e){this.key=e,this.hu=!1}}class Zk{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new wi((f=>C_(f)),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new nt(me.comparator),this.Au=new Map,this.Ru=new Nf,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eA(r,e,t=!0){const i=p0(r);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await u0(i,e,t,!0),o}async function tA(r,e){const t=p0(r);await u0(t,e,!0,!1)}async function u0(r,e,t,i){const o=await vk(r.localStore,rr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await nA(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&t0(r.remoteStore,o),f}async function nA(r,e,t,i,o){r.pu=(T,A,V)=>(async function(H,F,q,K){let re=F.view.ru(q);re.Cs&&(re=await Sy(H.localStore,F.query,!1).then((({documents:P})=>F.view.ru(P,re))));const ye=K&&K.targetChanges.get(F.targetId),Ie=K&&K.targetMismatches.get(F.targetId)!=null,we=F.view.applyChanges(re,H.isPrimaryClient,ye,Ie);return Ly(H,F.targetId,we.au),we.snapshot})(r,T,A,V);const l=await Sy(r.localStore,e,!0),h=new Yk(e,l.Qs),f=h.ru(l.documents),g=dl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),v=h.applyChanges(f,r.isPrimaryClient,g);Ly(r,t,v.au);const E=new Xk(e,t,h);return r.Tu.set(e,E),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),v.snapshot}async function rA(r,e,t){const i=Te(r),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((h=>!Rc(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Gd(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Lf(i.remoteStore,o.targetId),Yd(i,o.targetId)})).catch(Vo)):(Yd(i,o.targetId),await Gd(i.localStore,o.targetId,!0))}async function sA(r,e){const t=Te(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Lf(t.remoteStore,i.targetId))}async function iA(r,e,t){const i=dA(r);try{const o=await(function(h,f){const g=Te(h),v=Qe.now(),E=f.reduce(((V,W)=>V.add(W.key)),be());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let W=Fr(),H=be();return g.Ns.getEntries(V,E).next((F=>{W=F,W.forEach(((q,K)=>{K.isValidDocument()||(H=H.add(q))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,W))).next((F=>{T=F;const q=[];for(const K of f){const re=yC(K,T.get(K.key).overlayedDocument);re!=null&&q.push(new Ei(K.key,re,__(re.value.mapValue),Vr.exists(!0)))}return g.mutationQueue.addMutationBatch(V,v,q,f)})).next((F=>{A=F;const q=F.applyToLocalDocumentSet(T,H);return g.documentOverlayCache.saveOverlays(V,F.batchId,q)}))})).then((()=>({batchId:A.batchId,changes:R_(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,g){let v=h.Vu[h.currentUser.toKey()];v||(v=new nt(Ne)),v=v.insert(f,g),h.Vu[h.currentUser.toKey()]=v})(i,o.batchId,t),await pl(i,o.changes),await Oc(i.remoteStore)}catch(o){const l=Uf(o,"Failed to persist write");t.reject(l)}}async function c0(r,e){const t=Te(r);try{const i=await mk(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ue(h.hu,14607):o.removedDocuments.size>0&&(Ue(h.hu,42227),h.hu=!1))})),await pl(t,i,e)}catch(i){await Vo(i)}}function Vy(r,e,t){const i=Te(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const g=Te(h);g.onlineState=f;let v=!1;g.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(f)&&(v=!0)})),v&&zf(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oA(r,e,t){const i=Te(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let h=new nt(me.comparator);h=h.insert(l,zt.newNoDocument(l,Ee.min()));const f=be().add(l),g=new Dc(Ee.min(),new Map,new nt(Ne),h,f);await c0(i,g),i.du=i.du.remove(l),i.Au.delete(e),$f(i)}else await Gd(i.localStore,e,!1).then((()=>Yd(i,e,t))).catch(Vo)}async function aA(r,e){const t=Te(r),i=e.batch.batchId;try{const o=await pk(t.localStore,e);d0(t,i,null),h0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await pl(t,o)}catch(o){await Vo(o)}}async function lA(r,e,t){const i=Te(r);try{const o=await(function(h,f){const g=Te(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return g.mutationQueue.lookupMutationBatch(v,f).next((T=>(Ue(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(v,T)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>g.localDocuments.getDocuments(v,E)))}))})(i.localStore,e);d0(i,e,t),h0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await pl(i,o)}catch(o){await Vo(o)}}function h0(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function d0(r,e,t){const i=Te(r);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Yd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||f0(r,i)}))}function f0(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Lf(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),$f(r))}function Ly(r,e,t){for(const i of t)i instanceof a0?(r.Ru.addReference(i.key,e),uA(r,i)):i instanceof l0?(ie(Bf,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||f0(r,i.key)):ge(19791,{wu:i})}function uA(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(ie(Bf,"New document in limbo: "+t),r.Eu.add(i),$f(r))}function $f(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new me(et.fromString(e)),i=r.fu.next();r.Au.set(i,new Jk(t)),r.du=r.du.insert(t,i),t0(r.remoteStore,new Ts(rr(Cf(t.path)),i,"TargetPurposeLimboResolution",Sc.ce))}}async function pl(r,e,t){const i=Te(r),o=[],l=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,g)=>{h.push(i.pu(g,e,t).then((v=>{if((v||t)&&i.isPrimaryClient){const E=v?!v.fromCache:t?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(v){o.push(v);const E=Df.As(g.targetId,v);l.push(E)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(g,v){const E=Te(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>G.forEach(v,(A=>G.forEach(A.Es,(V=>E.persistence.referenceDelegate.addReference(T,A.targetId,V))).next((()=>G.forEach(A.ds,(V=>E.persistence.referenceDelegate.removeReference(T,A.targetId,V)))))))))}catch(T){if(!Lo(T))throw T;ie(Vf,"Failed to update sequence numbers: "+T)}for(const T of v){const A=T.targetId;if(!T.fromCache){const V=E.Ms.get(A),W=V.snapshotVersion,H=V.withLastLimboFreeSnapshotVersion(W);E.Ms=E.Ms.insert(A,H)}}})(i.localStore,l))}async function cA(r,e){const t=Te(r);if(!t.currentUser.isEqual(e)){ie(Bf,"User change. New user:",e.toKey());const i=await X_(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((f=>{f.forEach((g=>{g.reject(new he(J.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await pl(t,i.Ls)}}function hA(r,e){const t=Te(r),i=t.Au.get(e);if(i&&i.hu)return be().add(i.key);{let o=be();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const f=t.Tu.get(h);o=o.unionWith(f.view.nu)}return o}}function p0(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=c0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oA.bind(null,e),e.Pu.H_=Gk.bind(null,e.eventManager),e.Pu.yu=Kk.bind(null,e.eventManager),e}function dA(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lA.bind(null,e),e}class mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return fk(this.persistence,new ck,e.initialUser,this.serializer)}Cu(e){return new Y_(bf.mi,this.serializer)}Du(e){return new wk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mc.provider={build:()=>new mc};class fA extends mc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ue(this.persistence.referenceDelegate instanceof fc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new QC(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new Y_((i=>fc.mi(i,t)),this.serializer)}}class Xd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Vy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cA.bind(null,this.syncEngine),await Bk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Hk})()}createDatastore(e){const t=Vc(e.databaseInfo.databaseId),i=(function(l){return new Sk(l)})(e.databaseInfo);return(function(l,h,f,g){return new Rk(l,h,f,g)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new Nk(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Vy(this.syncEngine,t,0)),(function(){return Ay.v()?new Ay:new Ek})())}createSyncEngine(e,t){return(function(o,l,h,f,g,v,E){const T=new Zk(o,l,h,f,g,v);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Te(t);ie(vi,"RemoteStore shutting down."),i.Ea.add(5),await fl(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xd.provider={build:()=>new Xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class mA{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=_f.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{ie(Vs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(ie(Vs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Uf(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Id(r,e){r.asyncQueue.verifyOperationInProgress(),ie(Vs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await X_(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Oy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await gA(r);ie(Vs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Py(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Py(e.remoteStore,o))),r._onlineComponents=e}async function gA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ie(Vs,"Using user provided OfflineComponentProvider");try{await Id(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;xo("Error using user provided cache. Falling back to memory cache: "+t),await Id(r,new mc)}}else ie(Vs,"Using default OfflineComponentProvider"),await Id(r,new fA(void 0));return r._offlineComponents}async function m0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ie(Vs,"Using user provided OnlineComponentProvider"),await Oy(r,r._uninitializedComponentsProvider._online)):(ie(Vs,"Using default OnlineComponentProvider"),await Oy(r,new Xd))),r._onlineComponents}function yA(r){return m0(r).then((e=>e.syncEngine))}async function vA(r){const e=await m0(r),t=e.eventManager;return t.onListen=eA.bind(null,e.syncEngine),t.onUnlisten=rA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sA.bind(null,e.syncEngine),t}function _A(r,e,t={}){const i=new As;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,g,v){const E=new pA({next:A=>{E.Nu(),h.enqueueAndForget((()=>qk(l,T)));const V=A.docs.has(f);!V&&A.fromCache?v.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&g&&g.source==="server"?v.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),T=new Qk(Cf(f.path),E,{includeMetadataChanges:!0,qa:!0});return Wk(l,T)})(await vA(r),r.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="firestore.googleapis.com",My=!0;class Fy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y0,this.ssl=My}else this.host=e.host,this.ssl=e.ssl??My;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GC)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g0(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new _S;switch(i.type){case"firstParty":return new TS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=jy.get(t);i&&(ie("ComponentProvider","Removing Datastore"),jy.delete(t),i.terminate())})(this),Promise.resolve()}}function wA(r,e,t,i={}){r=Ka(r,Hf);const o=Po(e),l=r._getSettings(),h={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;o&&(yv(`https://${f}`),vv("Firestore",!0)),l.host!==y0&&l.host!==f&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:f,ssl:o,emulatorOptions:i};if(!pi(g,h)&&(r._setSettings(g),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=Ut.MOCK_USER;else{v=$x(i.mockUserToken,r._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ut(T)}r._authCredentials=new wS(new l_(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wf(this.firestore,e,this._query)}}class St{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(cl(t,St._jsonSchema))return new St(e,i||null,new me(et.fromString(t.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:mt("string",St._jsonSchemaVersion),referencePath:mt("string")};class tl extends Wf{constructor(e,t,i){super(e,t,Cf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new me(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function Uy(r,e,...t){if(r=wn(r),arguments.length===1&&(e=_f.newId()),RS("doc","path",e),r instanceof Hf){const i=et.fromString(e,...t);return Zg(i),new St(r,null,new me(i))}{if(!(r instanceof St||r instanceof tl))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(et.fromString(e,...t));return Zg(i),new St(r.firestore,r instanceof tl?r.converter:null,new me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="AsyncQueue";class By{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z_(this,"async_queue_retry"),this._c=()=>{const i=Td();i&&ie(zy,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Td();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Td();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new As;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lo(e))throw e;ie(zy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",$y(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ff.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&ge(47125,{Pc:$y(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $y(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class qf extends Hf{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new By,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new By(e),this._firestoreClient=void 0,await e}}}function EA(r,e){const t=typeof r=="object"?r:xv(),i=typeof r=="string"?r:oc,o=af(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=zx("firestore");l&&wA(o,...l)}return o}function v0(r){if(r._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xA(r),r._firestoreClient}function xA(r){const e=r._freezeSettings(),t=(function(o,l,h,f){return new zS(o,l,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,g0(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new mA(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(bt.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _n(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cl(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:mt("string",_n._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(cl(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:mt("string",ir._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cl(e,or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new or(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}or._jsonSchemaVersion="firestore/vectorValue/1.0",or._jsonSchema={type:mt("string",or._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=/^__.*__$/;class IA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,t,this.fieldTransforms):new hl(e,this.data,t,this.fieldTransforms)}}function w0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:r})}}class Kf{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(w0(this.Ac)&&TA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SA{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Vc(e)}Cc(e,t,i,o=!1){return new Kf({Ac:e,methodName:t,Dc:i,path:Nt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CA(r){const e=r._freezeSettings(),t=Vc(r._databaseId);return new SA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function kA(r,e,t,i,o,l={}){const h=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);I0("Data must be an object, but it was:",h,i);const f=x0(i,h);let g,v;if(l.merge)g=new Dn(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const A=AA(e,T,t);if(!h.contains(A))throw new he(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);PA(E,A)||E.push(A)}g=new Dn(E),v=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,v=h.fieldTransforms;return new IA(new vn(f),g,v)}function E0(r,e){if(T0(r=wn(r)))return I0("Unsupported field value:",e,r),x0(r,e);if(r instanceof _0)return(function(i,o){if(!w0(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let g=E0(f,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=wn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Qe.fromDate(i);return{timestampValue:dc(o.serializer,l)}}if(i instanceof Qe){const l=new Qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dc(o.serializer,l)}}if(i instanceof ir)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _n)return{bytesValue:B_(o.serializer,i._byteString)};if(i instanceof St){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof or)return(function(h,f){return{mapValue:{fields:{[y_]:{stringValue:v_},[ac]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw f.Sc("VectorValues must only contain numeric values.");return kf(f.serializer,v)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${wf(i)}`)})(r,e)}function x0(r,e){const t={};return h_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(r,((i,o)=>{const l=E0(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function T0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qe||r instanceof ir||r instanceof _n||r instanceof St||r instanceof _0||r instanceof or)}function I0(r,e,t){if(!T0(t)||!u_(t)){const i=wf(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function AA(r,e,t){if((e=wn(e))instanceof Gf)return e._internalPath;if(typeof e=="string")return S0(r,e);throw gc("Field path arguments must be of type string or ",r,!1,void 0,t)}const RA=new RegExp("[~\\*/\\[\\]]");function S0(r,e,t){if(e.search(RA)>=0)throw gc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Gf(...e.split("."))._internalPath}catch{throw gc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function gc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new he(J.INVALID_ARGUMENT,f+r+g)}function PA(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(k0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class NA extends C0{data(){return super.data()}}function k0(r,e){return typeof e=="string"?S0(r,e):e instanceof Gf?e._internalPath:e._delegate._internalPath}class bA{convertValue(e,t="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return _i(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[ac].arrayValue?.values?.map((i=>lt(i.doubleValue)));return new or(t)}convertGeoPoint(e){return new ir(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=kc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){const t=Ps(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=et.fromString(e);Ue(K_(i),9688,{name:e});const o=new Xa(i.get(1),i.get(3)),l=new me(i.popFirst(5));return o.isEqual(t)||Mr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Oa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fi extends C0{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(k0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",fi._jsonSchema={type:mt("string",fi._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class Qu extends fi{data(e={}){return super.data(e)}}class $a{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Oa(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Qu(this._firestore,this._userDataWriter,i.key,i,new Oa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const g=new Qu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Oa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const g=new Qu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Oa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:VA(f.type),doc:g,oldIndex:v,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_f.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r){r=Ka(r,St);const e=Ka(r.firestore,qf);return _A(v0(e),r._key).then((t=>FA(e,r,t)))}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:mt("string",$a._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class OA extends bA{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}}function jA(r,e,t){r=Ka(r,St);const i=Ka(r.firestore,qf),o=DA(r.converter,e,t);return MA(i,[kA(CA(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Vr.none())])}function MA(r,e){return(function(i,o){const l=new As;return i.asyncQueue.enqueueAndForget((async()=>iA(await yA(i),o,l))),l.promise})(v0(r),e)}function FA(r,e,t){const i=t.docs.get(e._key),o=new OA(r);return new fi(r,o,e._key,i,new Oa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Do=o})(No),wo(new mi("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new qf(new ES(i.getProvider("auth-internal")),new IS(h,i.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(v.options.projectId,E)})(h,o),h);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Cs(Qg,Yg,e),Cs(Qg,Yg,"esm2020")})();const UA={apiKey:"AIzaSyCvZx_FU_BtRFTVNr9aotQKU_siKGP1v1I",authDomain:"beebridge.firebaseapp.com",projectId:"beebridge",storageBucket:"beebridge.firebasestorage.app",messagingSenderId:"378321462417",appId:"1:378321462417:web:d69bada8dffabedb318b30",measurementId:"G-C0CPML4GKE"},A0=Ev(UA),Sd=yS(A0),zA=new Pr,Hy=EA(A0),Qf=()=>{const[r,e]=z.useState(null),[t,i]=z.useState(!0);return z.useEffect(()=>iI(Sd,f=>{e(f),i(!1)}),[]),{user:r,loading:t,signInWithGoogle:async()=>{try{return(await CI(Sd,zA)).user}catch(h){throw console.error("Error signing in with Google:",h),h}},logout:async()=>{try{await oI(Sd)}catch(h){throw console.error("Error signing out:",h),h}}}},BA=()=>{const{user:r}=Qf(),[e,t]=z.useState({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),[i,o]=z.useState(!0),[l,h]=z.useState(!0),[f,g]=z.useState(e);z.useEffect(()=>{(async()=>{if(r){const H=Uy(Hy,"users",r.uid),F=await LA(H);if(F.exists()){const q=F.data();t(q),g(q),h(!1)}else t({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),g({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),h(!0)}o(!1)})()},[r]);const v=W=>{const{name:H,value:F}=W.target;g(q=>({...q,[H]:F}))},E=async()=>{if(!r){alert("User not authenticated");return}if(!r.providerData.some(H=>H.providerId==="google.com")){alert("Profile saving is only available for Google users");return}try{const H=Uy(Hy,"users",r.uid);console.log("Saving profile data:",f),await jA(H,f,{merge:!0}),t(f),h(!1),alert("Profile saved successfully!")}catch(H){console.error("Error saving profile:",H),alert("Failed to save profile.")}},T=()=>{g(e),h(!0)},A=()=>{g(e),h(!1)};if(i)return y.jsx("div",{children:"Loading profile..."});const V=r&&r.providerData.some(W=>W.providerId==="google.com");return y.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Profile"}),r?V?l?y.jsx("div",{className:"group",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),y.jsx("input",{type:"text",name:"name",value:f.name,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age"}),y.jsx("input",{type:"number",name:"age",value:f.age,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your age"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),y.jsx("input",{type:"text",name:"location",value:f.location,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your location"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),y.jsx("input",{type:"text",name:"pincode",value:f.pincode,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your pincode"})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),y.jsx("input",{type:"email",name:"email",value:f.email,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your email"})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),y.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your phone number"})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),y.jsx("textarea",{name:"address",value:f.address,onChange:v,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your full address"})]})]}),y.jsxs("div",{className:"group",children:[y.jsx(pt,{onClick:E,className:"w-full",variant:"primary",children:"Save Profile"}),y.jsx("button",{onClick:A,className:"w-full mt-2 py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100",children:"Cancel"})]})]})}):y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Name"}),y.jsx("p",{className:"text-gray-900",children:e.name})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Age"}),y.jsx("p",{className:"text-gray-900",children:e.age})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Location"}),y.jsx("p",{className:"text-gray-900",children:e.location})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Pincode"}),y.jsx("p",{className:"text-gray-900",children:e.pincode})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Email"}),y.jsx("p",{className:"text-gray-900",children:e.email})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Phone"}),y.jsx("p",{className:"text-gray-900",children:e.phone})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Address"}),y.jsx("p",{className:"text-gray-900",children:e.address})]})]}),y.jsx("button",{onClick:T,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none","aria-label":"Edit Profile",children:"Edit Profile"})]}):y.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:y.jsx("p",{className:"text-center text-gray-600",children:"Profile access is only available for Google users."})}):y.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:y.jsx("p",{className:"text-center text-gray-600",children:"Please sign in with Google to access your profile."})})]})},$A={email:"",name:"",password:"",confirmPassword:"",country:"",profileUrl:"",acceptTerms:!1,city:"",state:"",zip:"",countryCode:"",formattedEmail:"",phone:"",websiteUrl:""},HA=()=>{const[r,e]=z.useState(0),[t,i]=z.useState($A),[o,l]=z.useState(!1),[h,f]=z.useState(!1),g=K=>{const{name:re,value:ye,type:Ie,checked:we}=K.target;i(P=>({...P,[re]:Ie==="checkbox"?we:ye}))},v=()=>{r<4&&e(r+1)},E=()=>{r>1&&e(r-1)},T=K=>{K.preventDefault(),v()},A=()=>{const K=["Personal Information","Address","Contact","Finish"];return y.jsx("div",{className:"flex justify-center space-x-8 mb-8",children:K.map((re,ye)=>{const Ie=ye+1,we=Ie===r,P=Ie<r;return y.jsxs("div",{className:"flex flex-col items-center text-center",children:[y.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${we||P?"border-purple-700":"border-gray-300"}`,children:P?y.jsx("svg",{className:"w-4 h-4 text-purple-700",fill:"none",stroke:"currentColor",strokeWidth:"3",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):y.jsx("div",{className:`w-3 h-3 rounded-full ${we?"bg-purple-700":"bg-gray-300"}`})}),y.jsx("span",{className:`mt-1 text-xs font-semibold ${we||P?"text-purple-700":"text-gray-400"}`,children:re.split(" ").map((S,C)=>y.jsxs(Ha.Fragment,{children:[S,y.jsx("br",{})]},C))})]},re)})})},V=()=>y.jsxs("div",{className:`max-w-4xl mx-auto p-6 text-center transition-opacity duration-500 ${h?"opacity-0":"opacity-100"}`,children:[y.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-8",children:"Choose an option"}),y.jsxs("div",{className:"flex justify-center gap-8",children:[y.jsx("button",{onClick:()=>{f(!0),setTimeout(()=>{l(!0),f(!1)},500)},className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Sell Honey"}),y.jsx("button",{onClick:()=>{f(!0),setTimeout(()=>{l(!0),f(!1)},500)},className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Sell Bee Hive"})]})]}),W=()=>y.jsxs("form",{onSubmit:T,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[y.jsx("h2",{className:"text-xl font-bold mb-6",children:"Personal Information"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Email"}),y.jsx("input",{type:"email",name:"email",value:t.email,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Name"}),y.jsx("input",{type:"text",name:"name",placeholder:"e.g. John Doe",value:t.name,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Password"}),y.jsx("input",{type:"password",name:"password",value:t.password,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Confirm Password"}),y.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Country"}),y.jsx("input",{type:"text",name:"country",placeholder:"Country...",value:t.country,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsxs("label",{className:"blockmb-2 text-sm font-medium text-gray-700 flex items-center",children:["Profile URL",y.jsx("svg",{className:"ml-1 w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 010 5.656m-1.414-1.414a4 4 0 015.656 0M15 12h.01M9 12h.01M12 15v.01M12 9v.01"})})]}),y.jsx("input",{type:"text",name:"profileUrl",placeholder:"Unique Seller Profile URL handler..",value:t.profileUrl,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsxs("label",{className:"inline-flex items-center mb-4",children:[y.jsx("input",{type:"checkbox",name:"acceptTerms",checked:t.acceptTerms,onChange:g,required:!0,className:"form-checkbox text-purple-700"}),y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I Accept Terms & Conditions"})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("button",{type:"button",onClick:()=>{e(0)},className:"text-purple-700 underline",children:"Back to Options"}),y.jsxs(pt,{type:"submit",variant:"primary",className:"flex items-center space-x-2",children:[y.jsx("span",{children:"Next"}),y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]}),H=()=>y.jsxs("form",{onSubmit:T,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[y.jsx("h2",{className:"text-xl font-bold mb-6",children:"Address"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"City"}),y.jsx("input",{type:"text",name:"city",value:t.city,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"State"}),y.jsx("input",{type:"text",name:"state",value:t.state,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Zip"}),y.jsx("input",{type:"text",name:"zip",value:t.zip,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Country Code"}),y.jsx("input",{type:"text",name:"countryCode",value:t.countryCode,onChange:g,required:!0,className:"w-full mb-6 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("button",{type:"button",onClick:E,className:"text-purple-700 underline",children:"Back"}),y.jsxs(pt,{type:"submit",variant:"primary",className:"flex items-center space-x-2",children:[y.jsx("span",{children:"Next"}),y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]}),F=()=>y.jsxs("form",{onSubmit:T,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[y.jsx("h2",{className:"text-xl font-bold mb-6",children:"Contact"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Formatted Email"}),y.jsx("input",{type:"email",name:"formattedEmail",value:t.formattedEmail,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Phone"}),y.jsx("input",{type:"text",name:"phone",value:t.phone,onChange:g,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Website URL"}),y.jsx("input",{type:"url",name:"websiteUrl",value:t.websiteUrl,onChange:g,required:!0,className:"w-full mb-6 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("button",{type:"button",onClick:E,className:"text-purple-700 underline",children:"Back"}),y.jsx(pt,{type:"submit",variant:"primary",children:"Sign up"})]})]}),q=()=>y.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded shadow text-center",children:[y.jsx("svg",{className:"mx-auto mb-6 w-16 h-16 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),y.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Successfully Submitted"}),y.jsx("p",{className:"mb-4",children:"Your form has been successfully submitted."}),y.jsx("a",{href:"/profile",className:"text-purple-700 underline",children:"Click here to view your profile."})]});return y.jsxs("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:[y.jsx("h1",{className:"text-center font-semibold text-lg mb-4",children:"Register as a Seller"}),o?y.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center z-50",children:y.jsx("video",{src:"/src/assets/last.mp4",autoPlay:!0,muted:!0,ref:K=>{K&&(K.playbackRate=.7)},onEnded:()=>{l(!1),e(1)},className:"w-full h-full object-cover"})}):y.jsxs(y.Fragment,{children:[r===0&&V(),r>0&&A(),r===1&&W(),r===2&&H(),r===3&&F(),r===4&&q()]})]})},WA=()=>y.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Subscription Plans"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsx("div",{className:"group",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center",children:[y.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Basic"}),y.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"₹499"}),y.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[y.jsxs("li",{className:"flex items-center",children:[y.jsx(Zn,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 1"]}),y.jsxs("li",{className:"flex items-center",children:[y.jsx(Zn,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 2"]}),y.jsxs("li",{className:"flex items-center",children:[y.jsx(Zn,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 3"]})]}),y.jsx("div",{className:"group",children:y.jsx(pt,{className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})}),y.jsx("div",{className:"group",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center border-2 border-honeybee-primary",children:[y.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Pro"}),y.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"₹899"}),y.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[y.jsxs("li",{className:"flex items-center",children:[y.jsx(Zn,{className:"w-5 h-5 text-green-500 mr-2"})," All Basic Features"]}),y.jsxs("li",{className:"flex items-center",children:[y.jsx(Zn,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 4"]}),y.jsxs("li",{className:"flex items-center",children:[y.jsx(Zn,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 5"]})]}),y.jsx("div",{className:"group",children:y.jsx(pt,{className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})}),y.jsx("div",{className:"group",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center",children:[y.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Premium"}),y.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"₹1299"}),y.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[y.jsxs("li",{className:"flex items-center",children:[y.jsx(Zn,{className:"w-5 h-5 text-green-500 mr-2"})," All Pro Features"]}),y.jsxs("li",{className:"flex items-center",children:[y.jsx(Zn,{className:"w-5 h-5 text-green-500 mr-2"})," Advanced Analytics"]}),y.jsxs("li",{className:"flex items-center",children:[y.jsx(Zn,{className:"w-5 h-5 text-green-500 mr-2"})," Priority Support"]}),y.jsxs("li",{className:"flex items-center",children:[y.jsx(Zn,{className:"w-5 h-5 text-green-500 mr-2"})," Early access to new features"]})]}),y.jsx("div",{className:"group",children:y.jsx(pt,{className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})})]})]}),qA=()=>y.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-honeybee-secondary mb-6",children:"Settings"}),y.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:y.jsx("p",{className:"text-honeybee-dark-brown",children:"Settings page coming soon..."})})]});function GA(){const[r,e]=z.useState(!1),t=Ls(),{cartItems:i}=wc(),o=()=>{e(!r)};return t.pathname==="/login"||t.pathname==="/signup"?null:y.jsxs("nav",{className:"bg-honeybee-background/95 backdrop-blur-sm shadow-lg fixed w-full z-50",children:[y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex justify-between h-16",children:[y.jsx("div",{className:"flex items-center",children:y.jsx(ft,{to:"/",className:"flex-shrink-0 flex items-center",children:y.jsx("span",{className:"font-serif text-2xl font-bold text-honeybee-primary",children:"Bee Bridge"})})}),y.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[y.jsx(ft,{to:"/home",className:`font-medium ${t.pathname==="/home"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Home"}),y.jsx(ft,{to:"/shop",className:`font-medium ${t.pathname==="/shop"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Shop"}),y.jsx(ft,{to:"/about",className:`font-medium ${t.pathname==="/about"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"About"}),y.jsx(ft,{to:"/contact",className:`font-medium ${t.pathname==="/contact"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Contact"}),y.jsx(ft,{to:"/seller",className:`font-medium ${t.pathname==="/seller"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Seller"}),y.jsx(ft,{to:"/subscription",className:`font-medium ${t.pathname==="/subscription"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Subscription"})]}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs(ft,{to:"/cart",className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 relative",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),i.length>0&&y.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full text-xs w-5 h-5 flex items-center justify-center",children:i.length})]}),y.jsx(ft,{to:"/profile",className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),y.jsxs("div",{className:"relative group",children:[y.jsxs("button",{className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 flex items-center space-x-1 focus:outline-none",children:[y.jsx(kx,{className:"h-6 w-6"}),y.jsx("span",{className:"sr-only",children:"Settings"})]}),y.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-50",children:y.jsx("button",{className:"block w-full text-left px-4 py-2 text-honeybee-dark hover:bg-honeybee-light",onClick:()=>{window.location.href="/"},children:"Logout"})})]}),y.jsx("button",{onClick:o,className:"md:hidden text-honeybee-secondary hover:text-honeybee-primary",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),r&&y.jsx("div",{className:"md:hidden bg-honeybee-background/95 backdrop-blur-sm border-t border-honeybee-light",children:y.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[y.jsx(ft,{to:"/",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Home"}),y.jsx(ft,{to:"/shop",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/shop"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Shop"}),y.jsx(ft,{to:"/about",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/about"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"About"}),y.jsx(ft,{to:"/contact",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/contact"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Contact"}),y.jsx(ft,{to:"/seller",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/seller"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Seller"}),y.jsx(ft,{to:"/subscription",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/subscription"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Subscription"}),y.jsx(ft,{to:"/settings",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/settings"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Settings"})]})})]})}const KA=()=>y.jsxs("footer",{className:"bg-gray-900 text-gray-300 py-10",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 border-b border-gray-700 pb-8",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"About"}),y.jsxs("ul",{className:"space-y-2 text-sm",children:[y.jsx("li",{children:y.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Contact Us"})}),y.jsx("li",{children:y.jsx("a",{href:"/about",className:"hover:text-white font-semibold",children:"About Us"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"Help"}),y.jsxs("ul",{className:"space-y-2 text-sm",children:[y.jsx("li",{children:y.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Payments"})}),y.jsx("li",{children:y.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Shipping"})}),y.jsx("li",{children:y.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Cancellation & Returns"})}),y.jsx("li",{children:y.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"FAQ"})})]})]}),y.jsxs("div",{className:"border-l border-gray-700 pl-6",children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"Mail Us:"}),y.jsx("address",{className:"not-italic text-sm space-y-1",children:y.jsx("p",{children:"beebridgeshop@gmail.com"})}),y.jsxs("div",{className:"mt-4",children:[y.jsx("p",{className:"text-sm font-semibold",children:"Social:"}),y.jsxs("div",{className:"flex space-x-4 mt-2",children:[y.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"hover:text-white",children:y.jsx(Sx,{size:20})}),y.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",className:"hover:text-white",children:y.jsx(Rx,{size:20})}),y.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",className:"hover:text-white",children:y.jsx(Px,{size:20})}),y.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"hover:text-white",children:y.jsx(Cx,{size:20})})]})]})]})]}),y.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between pt-6",children:[y.jsxs("div",{className:"flex space-x-8 text-yellow-400 text-sm font-semibold",children:[y.jsx("a",{href:"/seller",className:"flex items-center space-x-2 hover:underline",children:y.jsx("span",{children:"Become a Seller"})}),y.jsx("a",{href:"/contact",className:"flex items-center space-x-2 hover:underline",children:y.jsx("span",{children:"Help Center"})})]}),y.jsx("div",{className:"text-gray-400 text-sm mt-4 md:mt-0",children:"© 2007-2025 Bee Bridge.com"})]})]}),er=({children:r})=>y.jsxs("div",{className:"min-h-screen",children:[y.jsx(GA,{}),y.jsx("main",{className:"pb-40",children:r}),y.jsx(KA,{})]}),Wy=()=>{const[r,e]=z.useState(""),[t,i]=z.useState(""),[o,l]=z.useState(!1),h=vc(),{signInWithGoogle:f}=Qf(),g=v=>{v.preventDefault(),h("/home")};return y.jsx("div",{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center px-4",children:y.jsxs("div",{className:"max-w-5xl w-full bg-gray-50 rounded-3xl shadow-2xl flex overflow-hidden",children:[y.jsxs("div",{className:"w-full md:w-1/2 p-10 flex flex-col justify-center",children:[y.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Hello Again!"}),y.jsxs("form",{onSubmit:g,className:"space-y-6",children:[y.jsx("div",{children:y.jsx("input",{type:"email",id:"email",value:r,onChange:v=>e(v.target.value),required:!0,placeholder:"Email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),y.jsx("div",{children:y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:o?"text":"password",id:"password",value:t,onChange:v=>i(v.target.value),required:!0,placeholder:"Password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"}),y.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":o?"Hide password":"Show password",children:o?y.jsx(cv,{className:"h-5 w-5"}):y.jsx(uv,{className:"h-5 w-5"})})]})}),y.jsx("div",{children:y.jsx("div",{className:"text-right text-xs text-gray-500 mb-4 cursor-pointer hover:underline",children:"Recovery Password"})}),y.jsx("div",{children:y.jsx(pt,{type:"submit",variant:"primary",className:"w-full font-semibold",children:"Sign In"})})]}),y.jsx(pt,{onClick:()=>h("/home"),variant:"primary",className:"mt-4 w-full",children:"Continue as Guest"}),y.jsx("div",{className:"mt-4 text-center",children:y.jsxs("span",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",y.jsx(pt,{onClick:()=>h("/signup"),variant:"ghost",className:"text-honeybee-primary hover:underline font-semibold p-0",children:"Sign Up"})]})}),y.jsxs("div",{className:"flex items-center my-6",children:[y.jsx("hr",{className:"flex-grow border-gray-300"}),y.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"Or continue with"}),y.jsx("hr",{className:"flex-grow border-gray-300"})]}),y.jsx("div",{className:"flex justify-center",children:y.jsx(pt,{onClick:async()=>{try{await f(),h("/home")}catch{alert("Google login failed. Please try again.")}},variant:"light",size:"icon",className:"p-3 shadow-md bg-white hover:shadow-lg",children:y.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"})})})]}),y.jsx("div",{className:"hidden md:flex md:w-1/2 relative rounded-r-3xl overflow-hidden border-8 border-white shadow-lg",children:Ha.createElement("dotlottie-wc",{src:"https://lottie.host/415db1e3-d9d5-4073-b9fe-099abfe8c66c/XtpXv9SgcE.lottie",style:{width:"100%",height:"100%"},autoplay:!0,loop:!0})})]})})},QA=()=>{const[r,e]=z.useState(""),[t,i]=z.useState(""),[o,l]=z.useState(""),[h,f]=z.useState(!1),[g,v]=z.useState(!1),E=vc(),{signInWithGoogle:T}=Qf(),A=V=>{V.preventDefault(),v(!0),setTimeout(()=>{E("/home")},2500)};return g?y.jsx("div",{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center",children:Ha.createElement("dotlottie-wc",{src:"https://lottie.host/81653027-58d6-47e3-9de5-491db6a527a5/TWNyD5vQVe.lottie",style:{width:"300px",height:"300px"},autoplay:!0,loop:!0})}):y.jsx("div",{className:"min-h-screen gradient-bg-warm flex items-center justify-center px-4",children:y.jsxs("div",{className:"max-w-5xl w-full glass-effect rounded-3xl modern-shadow flex overflow-hidden",children:[y.jsxs("div",{className:"w-full md:w-1/2 p-10 flex flex-col justify-center",children:[y.jsx("h1",{className:"text-4xl font-bold vibrant-text mb-6 text-center",children:"Create Account"}),y.jsxs("form",{onSubmit:A,className:"space-y-6",children:[y.jsx("div",{children:y.jsx("input",{type:"text",id:"name",value:r,onChange:V=>e(V.target.value),required:!0,placeholder:"Your full name",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),y.jsx("div",{children:y.jsx("input",{type:"email",id:"email",value:t,onChange:V=>i(V.target.value),required:!0,placeholder:"Email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),y.jsx("div",{children:y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:h?"text":"password",id:"password",value:o,onChange:V=>l(V.target.value),required:!0,placeholder:"Password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"}),y.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":h?"Hide password":"Show password",children:h?y.jsx(cv,{className:"h-5 w-5"}):y.jsx(uv,{className:"h-5 w-5"})})]})}),y.jsx("div",{children:y.jsx(pt,{type:"submit",variant:"primary",className:"w-full font-semibold",children:"Sign Up"})})]}),y.jsxs("div",{className:"flex items-center my-6",children:[y.jsx("hr",{className:"flex-grow border-gray-300"}),y.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"Or continue with"}),y.jsx("hr",{className:"flex-grow border-gray-300"})]}),y.jsx("div",{className:"flex justify-center",children:y.jsx(pt,{onClick:async()=>{try{await T(),v(!0),setTimeout(()=>E("/home"),2500)}catch{alert("Google login failed. Please try again.")}},variant:"light",size:"icon",className:"p-3 shadow-md bg-white hover:shadow-lg",children:y.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"})})}),y.jsx(pt,{onClick:()=>{v(!0),setTimeout(()=>E("/home"),2500)},variant:"primary",className:"mt-6 w-full",children:"Continue as Guest"}),y.jsx("div",{className:"mt-4 text-center",children:y.jsxs("span",{className:"text-gray-600 text-sm",children:["Already have an account?"," ",y.jsx(pt,{onClick:()=>E("/login"),variant:"ghost",className:"text-honeybee-primary hover:underline font-semibold p-0",children:"Sign In"})]})})]}),y.jsx("div",{className:"hidden md:block md:w-1/2 relative rounded-r-3xl overflow-hidden border-8 border-white shadow-lg",children:Ha.createElement("dotlottie-wc",{src:"https://lottie.host/415db1e3-d9d5-4073-b9fe-099abfe8c66c/XtpXv9SgcE.lottie",style:{width:"100%",height:"100%"},autoplay:!0,loop:!0})})]})})};function YA(){return y.jsxs(VE,{children:[y.jsx(Jt,{path:"/",element:y.jsx(Wy,{})}),y.jsx(Jt,{path:"/login",element:y.jsx(Wy,{})}),y.jsx(Jt,{path:"/signup",element:y.jsx(QA,{})}),y.jsx(Jt,{path:"/home",element:y.jsx(er,{children:y.jsx(mx,{})})}),y.jsx(Jt,{path:"/about",element:y.jsx(er,{children:y.jsx(gx,{})})}),y.jsx(Jt,{path:"/contact",element:y.jsx(er,{children:y.jsx(_x,{})})}),y.jsx(Jt,{path:"/shop",element:y.jsx(er,{children:y.jsx(xx,{})})}),y.jsx(Jt,{path:"/cart",element:y.jsx(er,{children:y.jsx(Nx,{})})}),y.jsx(Jt,{path:"/checkout",element:y.jsx(er,{children:y.jsx(bx,{})})}),y.jsx(Jt,{path:"/profile",element:y.jsx(er,{children:y.jsx(BA,{})})}),y.jsx(Jt,{path:"/seller",element:y.jsx(er,{children:y.jsx(HA,{})})}),y.jsx(Jt,{path:"/subscription",element:y.jsx(er,{children:y.jsx(WA,{})})}),y.jsx(Jt,{path:"/settings",element:y.jsx(er,{children:y.jsx(qA,{})})})]})}function XA(){return y.jsx(wx,{children:y.jsx(rx,{children:y.jsx(YA,{})})})}Hw.createRoot(document.getElementById("root")).render(y.jsx(z.StrictMode,{children:y.jsx(XA,{})}));
