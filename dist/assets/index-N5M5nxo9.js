(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function nx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pd={exports:{}},Va={},md={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function rx(){if(pg)return Ae;pg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,q={};function F(L,Q,Se){this.props=L,this.context=Q,this.refs=q,this.updater=Se||V}F.prototype.isReactComponent={},F.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=F.prototype;function J(L,Q,Se){this.props=L,this.context=Q,this.refs=q,this.updater=Se||V}var re=J.prototype=new G;re.constructor=J,H(re,F.prototype),re.isPureReactComponent=!0;var _e=Array.isArray,me=Object.prototype.hasOwnProperty,ce={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(L,Q,Se){var Ce,ke={},Ne=null,Ue=null;if(Q!=null)for(Ce in Q.ref!==void 0&&(Ue=Q.ref),Q.key!==void 0&&(Ne=""+Q.key),Q)me.call(Q,Ce)&&!N.hasOwnProperty(Ce)&&(ke[Ce]=Q[Ce]);var Ve=arguments.length-2;if(Ve===1)ke.children=Se;else if(1<Ve){for(var $e=Array(Ve),$t=0;$t<Ve;$t++)$e[$t]=arguments[$t+2];ke.children=$e}if(L&&L.defaultProps)for(Ce in Ve=L.defaultProps,Ve)ke[Ce]===void 0&&(ke[Ce]=Ve[Ce]);return{$$typeof:r,type:L,key:Ne,ref:Ue,props:ke,_owner:ce.current}}function A(L,Q){return{$$typeof:r,type:L.type,key:Q,ref:L.ref,props:L.props,_owner:L._owner}}function b(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function P(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Se){return Q[Se]})}var D=/\/+/g;function k(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):Q.toString(36)}function Fe(L,Q,Se,Ce,ke){var Ne=typeof L;(Ne==="undefined"||Ne==="boolean")&&(L=null);var Ue=!1;if(L===null)Ue=!0;else switch(Ne){case"string":case"number":Ue=!0;break;case"object":switch(L.$$typeof){case r:case e:Ue=!0}}if(Ue)return Ue=L,ke=ke(Ue),L=Ce===""?"."+k(Ue,0):Ce,_e(ke)?(Se="",L!=null&&(Se=L.replace(D,"$&/")+"/"),Fe(ke,Q,Se,"",function($t){return $t})):ke!=null&&(b(ke)&&(ke=A(ke,Se+(!ke.key||Ue&&Ue.key===ke.key?"":(""+ke.key).replace(D,"$&/")+"/")+L)),Q.push(ke)),1;if(Ue=0,Ce=Ce===""?".":Ce+":",_e(L))for(var Ve=0;Ve<L.length;Ve++){Ne=L[Ve];var $e=Ce+k(Ne,Ve);Ue+=Fe(Ne,Q,Se,$e,ke)}else if($e=S(L),typeof $e=="function")for(L=$e.call(L),Ve=0;!(Ne=L.next()).done;)Ne=Ne.value,$e=Ce+k(Ne,Ve++),Ue+=Fe(Ne,Q,Se,$e,ke);else if(Ne==="object")throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ue}function rt(L,Q,Se){if(L==null)return L;var Ce=[],ke=0;return Fe(L,Ce,"","",function(Ne){return Q.call(Se,Ne,ke++)}),Ce}function Et(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(Se){(L._status===0||L._status===-1)&&(L._status=1,L._result=Se)},function(Se){(L._status===0||L._status===-1)&&(L._status=2,L._result=Se)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var qe={current:null},ne={transition:null},pe={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:ce};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:rt,forEach:function(L,Q,Se){rt(L,function(){Q.apply(this,arguments)},Se)},count:function(L){var Q=0;return rt(L,function(){Q++}),Q},toArray:function(L){return rt(L,function(Q){return Q})||[]},only:function(L){if(!b(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ae.Component=F,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=J,Ae.StrictMode=i,Ae.Suspense=y,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ae.act=ae,Ae.cloneElement=function(L,Q,Se){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ce=H({},L.props),ke=L.key,Ne=L.ref,Ue=L._owner;if(Q!=null){if(Q.ref!==void 0&&(Ne=Q.ref,Ue=ce.current),Q.key!==void 0&&(ke=""+Q.key),L.type&&L.type.defaultProps)var Ve=L.type.defaultProps;for($e in Q)me.call(Q,$e)&&!N.hasOwnProperty($e)&&(Ce[$e]=Q[$e]===void 0&&Ve!==void 0?Ve[$e]:Q[$e])}var $e=arguments.length-2;if($e===1)Ce.children=Se;else if(1<$e){Ve=Array($e);for(var $t=0;$t<$e;$t++)Ve[$t]=arguments[$t+2];Ce.children=Ve}return{$$typeof:r,type:L.type,key:ke,ref:Ne,props:Ce,_owner:Ue}},Ae.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Ae.createElement=I,Ae.createFactory=function(L){var Q=I.bind(null,L);return Q.type=L,Q},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(L){return{$$typeof:p,render:L}},Ae.isValidElement=b,Ae.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:Et}},Ae.memo=function(L,Q){return{$$typeof:v,type:L,compare:Q===void 0?null:Q}},Ae.startTransition=function(L){var Q=ne.transition;ne.transition={};try{L()}finally{ne.transition=Q}},Ae.unstable_act=ae,Ae.useCallback=function(L,Q){return qe.current.useCallback(L,Q)},Ae.useContext=function(L){return qe.current.useContext(L)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(L){return qe.current.useDeferredValue(L)},Ae.useEffect=function(L,Q){return qe.current.useEffect(L,Q)},Ae.useId=function(){return qe.current.useId()},Ae.useImperativeHandle=function(L,Q,Se){return qe.current.useImperativeHandle(L,Q,Se)},Ae.useInsertionEffect=function(L,Q){return qe.current.useInsertionEffect(L,Q)},Ae.useLayoutEffect=function(L,Q){return qe.current.useLayoutEffect(L,Q)},Ae.useMemo=function(L,Q){return qe.current.useMemo(L,Q)},Ae.useReducer=function(L,Q,Se){return qe.current.useReducer(L,Q,Se)},Ae.useRef=function(L){return qe.current.useRef(L)},Ae.useState=function(L){return qe.current.useState(L)},Ae.useSyncExternalStore=function(L,Q,Se){return qe.current.useSyncExternalStore(L,Q,Se)},Ae.useTransition=function(){return qe.current.useTransition()},Ae.version="18.3.1",Ae}var mg;function uf(){return mg||(mg=1,md.exports=rx()),md.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function sx(){if(gg)return Va;gg=1;var r=uf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(p,y,v){var w,E={},S=null,V=null;v!==void 0&&(S=""+v),y.key!==void 0&&(S=""+y.key),y.ref!==void 0&&(V=y.ref);for(w in y)i.call(y,w)&&!l.hasOwnProperty(w)&&(E[w]=y[w]);if(p&&p.defaultProps)for(w in y=p.defaultProps,y)E[w]===void 0&&(E[w]=y[w]);return{$$typeof:e,type:p,key:S,ref:V,props:E,_owner:o.current}}return Va.Fragment=t,Va.jsx=h,Va.jsxs=h,Va}var yg;function ix(){return yg||(yg=1,pd.exports=sx()),pd.exports}var f=ix(),U=uf();const Ga=nx(U);var ju={},gd={exports:{}},Zt={},yd={exports:{}},vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function ox(){return vg||(vg=1,(function(r){function e(ne,pe){var ae=ne.length;ne.push(pe);e:for(;0<ae;){var L=ae-1>>>1,Q=ne[L];if(0<o(Q,pe))ne[L]=pe,ne[ae]=Q,ae=L;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var pe=ne[0],ae=ne.pop();if(ae!==pe){ne[0]=ae;e:for(var L=0,Q=ne.length,Se=Q>>>1;L<Se;){var Ce=2*(L+1)-1,ke=ne[Ce],Ne=Ce+1,Ue=ne[Ne];if(0>o(ke,ae))Ne<Q&&0>o(Ue,ke)?(ne[L]=Ue,ne[Ne]=ae,L=Ne):(ne[L]=ke,ne[Ce]=ae,L=Ce);else if(Ne<Q&&0>o(Ue,ae))ne[L]=Ue,ne[Ne]=ae,L=Ne;else break e}}return pe}function o(ne,pe){var ae=ne.sortIndex-pe.sortIndex;return ae!==0?ae:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var y=[],v=[],w=1,E=null,S=3,V=!1,H=!1,q=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(ne){for(var pe=t(v);pe!==null;){if(pe.callback===null)i(v);else if(pe.startTime<=ne)i(v),pe.sortIndex=pe.expirationTime,e(y,pe);else break;pe=t(v)}}function _e(ne){if(q=!1,re(ne),!H)if(t(y)!==null)H=!0,Et(me);else{var pe=t(v);pe!==null&&qe(_e,pe.startTime-ne)}}function me(ne,pe){H=!1,q&&(q=!1,G(I),I=-1),V=!0;var ae=S;try{for(re(pe),E=t(y);E!==null&&(!(E.expirationTime>pe)||ne&&!P());){var L=E.callback;if(typeof L=="function"){E.callback=null,S=E.priorityLevel;var Q=L(E.expirationTime<=pe);pe=r.unstable_now(),typeof Q=="function"?E.callback=Q:E===t(y)&&i(y),re(pe)}else i(y);E=t(y)}if(E!==null)var Se=!0;else{var Ce=t(v);Ce!==null&&qe(_e,Ce.startTime-pe),Se=!1}return Se}finally{E=null,S=ae,V=!1}}var ce=!1,N=null,I=-1,A=5,b=-1;function P(){return!(r.unstable_now()-b<A)}function D(){if(N!==null){var ne=r.unstable_now();b=ne;var pe=!0;try{pe=N(!0,ne)}finally{pe?k():(ce=!1,N=null)}}else ce=!1}var k;if(typeof J=="function")k=function(){J(D)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,rt=Fe.port2;Fe.port1.onmessage=D,k=function(){rt.postMessage(null)}}else k=function(){F(D,0)};function Et(ne){N=ne,ce||(ce=!0,k())}function qe(ne,pe){I=F(function(){ne(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){H||V||(H=!0,Et(me))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(y)},r.unstable_next=function(ne){switch(S){case 1:case 2:case 3:var pe=3;break;default:pe=S}var ae=S;S=pe;try{return ne()}finally{S=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ae=S;S=ne;try{return pe()}finally{S=ae}},r.unstable_scheduleCallback=function(ne,pe,ae){var L=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?L+ae:L):ae=L,ne){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,ne={id:w++,callback:pe,priorityLevel:ne,startTime:ae,expirationTime:Q,sortIndex:-1},ae>L?(ne.sortIndex=ae,e(v,ne),t(y)===null&&ne===t(v)&&(q?(G(I),I=-1):q=!0,qe(_e,ae-L))):(ne.sortIndex=Q,e(y,ne),H||V||(H=!0,Et(me))),ne},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(ne){var pe=S;return function(){var ae=S;S=pe;try{return ne.apply(this,arguments)}finally{S=ae}}}})(vd)),vd}var _g;function ax(){return _g||(_g=1,yd.exports=ox()),yd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function lx(){if(wg)return Zt;wg=1;var r=uf(),e=ax();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function S(n){return y.call(E,n)?!0:y.call(w,n)?!1:v.test(n)?E[n]=!0:(w[n]=!0,!1)}function V(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function H(n,s,a,c){if(s===null||typeof s>"u"||V(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function q(n,s,a,c,d,m,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=m,this.removeEmptyString=x}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){F[n]=new q(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];F[s]=new q(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){F[n]=new q(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){F[n]=new q(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){F[n]=new q(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){F[n]=new q(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){F[n]=new q(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){F[n]=new q(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){F[n]=new q(n,5,!1,n.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function J(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(G,J);F[s]=new q(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(G,J);F[s]=new q(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(G,J);F[s]=new q(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){F[n]=new q(n,1,!1,n.toLowerCase(),null,!1,!1)}),F.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){F[n]=new q(n,1,!1,n.toLowerCase(),null,!0,!0)});function re(n,s,a,c){var d=F.hasOwnProperty(s)?F[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(H(s,a,d,c)&&(a=null),c||d===null?S(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var _e=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),ce=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),rt=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),qe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var ae=Object.assign,L;function Q(n){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+n}var Se=!1;function Ce(n,s){if(!n||Se)return"";Se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var c=B}Reflect.construct(n,[],s)}else{try{s.call()}catch(B){c=B}n.call(s.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),m=c.stack.split(`
`),x=d.length-1,C=m.length-1;1<=x&&0<=C&&d[x]!==m[C];)C--;for(;1<=x&&0<=C;x--,C--)if(d[x]!==m[C]){if(x!==1||C!==1)do if(x--,C--,0>C||d[x]!==m[C]){var R=`
`+d[x].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=x&&0<=C);break}}}finally{Se=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Q(n):""}function ke(n){switch(n.tag){case 5:return Q(n.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return n=Ce(n.type,!1),n;case 11:return n=Ce(n.type.render,!1),n;case 1:return n=Ce(n.type,!0),n;default:return""}}function Ne(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case ce:return"Portal";case A:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case Fe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P:return(n.displayName||"Context")+".Consumer";case b:return(n._context.displayName||"Context")+".Provider";case D:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case rt:return s=n.displayName||null,s!==null?s:Ne(n.type)||"Memo";case Et:s=n._payload,n=n._init;try{return Ne(n(s))}catch{}}return null}function Ue(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ve(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $e(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $t(n){var s=$e(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(x){c=""+x,m.call(this,x)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Si(n){n._valueTracker||(n._valueTracker=$t(n))}function zo(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=$e(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function qr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ci(n,s){var a=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function vl(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Ve(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ai(n,s){s=s.checked,s!=null&&re(n,"checked",s,!1)}function Os(n,s){Ai(n,s);var a=Ve(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?ct(n,s.type,a):s.hasOwnProperty("defaultValue")&&ct(n,s.type,Ve(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Bo(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ct(n,s,a){(s!=="number"||qr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ot=Array.isArray;function En(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ve(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function $o(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ho(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(ot(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Ve(a)}}function _l(n,s){var a=Ve(s.value),c=Ve(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Wr(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function qo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ki(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?qo(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Gr,wl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Gr=Gr||document.createElement("div"),Gr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Gr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ms(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xl=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(n){xl.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Kr[s]=Kr[n]})});function Qr(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Kr.hasOwnProperty(n)&&Kr[n]?(""+s).trim():s+"px"}function Ni(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Qr(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Wo=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tn(n,s){if(s){if(Wo[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ri(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Pi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fr=null,pr=null,st=null;function Go(n){if(n=wa(n)){if(typeof fr!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Kl(s),fr(n.stateNode,n.type,s))}}function Xr(n){pr?st?st.push(n):st=[n]:pr=n}function Jr(){if(pr){var n=pr,s=st;if(st=pr=null,Go(n),s)for(n=0;n<s.length;n++)Go(s[n])}}function El(n,s){return n(s)}function Tl(){}var Mn=!1;function Il(n,s,a){if(Mn)return n(s,a);Mn=!0;try{return El(n,s,a)}finally{Mn=!1,(pr!==null||st!==null)&&(Tl(),Jr())}}function Fs(n,s){var a=n.stateNode;if(a===null)return null;var c=Kl(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Zr=!1;if(p)try{var es={};Object.defineProperty(es,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Zr=!1}function Sl(n,s,a,c,d,m,x,C,R){var B=Array.prototype.slice.call(arguments,3);try{s.apply(a,B)}catch(X){this.onError(X)}}var mr=!1,Fn=null,bi=!1,dn=null,Cl={onError:function(n){mr=!0,Fn=n}};function Al(n,s,a,c,d,m,x,C,R){mr=!1,Fn=null,Sl.apply(Cl,arguments)}function Ko(n,s,a,c,d,m,x,C,R){if(Al.apply(this,arguments),mr){if(mr){var B=Fn;mr=!1,Fn=null}else throw Error(t(198));bi||(bi=!0,dn=B)}}function In(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Qo(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function kl(n){if(In(n)!==n)throw Error(t(188))}function Nl(n){var s=n.alternate;if(!s){if(s=In(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return kl(d),n;if(m===c)return kl(d),s;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var x=!1,C=d.child;C;){if(C===a){x=!0,a=d,c=m;break}if(C===c){x=!0,c=d,a=m;break}C=C.sibling}if(!x){for(C=m.child;C;){if(C===a){x=!0,a=m,c=d;break}if(C===c){x=!0,c=m,a=d;break}C=C.sibling}if(!x)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function Rl(n){return n=Nl(n),n!==null?Us(n):null}function Us(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Us(n);if(s!==null)return s;n=n.sibling}return null}var Yo=e.unstable_scheduleCallback,ji=e.unstable_cancelCallback,zs=e.unstable_shouldYield,gr=e.unstable_requestPaint,Ke=e.unstable_now,qc=e.unstable_getCurrentPriorityLevel,Di=e.unstable_ImmediatePriority,Xo=e.unstable_UserBlockingPriority,Bs=e.unstable_NormalPriority,Jo=e.unstable_LowPriority,Vi=e.unstable_IdlePriority,$s=null,nn=null;function Pl(n){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot($s,n,void 0,(n.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Hs,Un=Math.log,fn=Math.LN2;function Hs(n){return n>>>=0,n===0?32:31-(Un(n)/fn|0)|0}var zn=64,ts=4194304;function Me(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function yr(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,x=a&268435455;if(x!==0){var C=x&~d;C!==0?c=Me(C):(m&=x,m!==0&&(c=Me(m)))}else x=a&~d,x!==0?c=Me(x):m!==0&&(c=Me(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,m=s&-s,d>=m||d===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-rn(s),d=1<<a,c|=n[a],s&=~d;return c}function qs(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var x=31-rn(m),C=1<<x,R=d[x];R===-1?((C&a)===0||(C&c)!==0)&&(d[x]=qs(C,s)):R<=s&&(n.expiredLanes|=C),m&=~C}}function Zo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ea(){var n=zn;return zn<<=1,(zn&4194240)===0&&(zn=64),n}function ta(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Gs(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-rn(s),n[s]=a}function Wc(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-rn(a),m=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function na(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-rn(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var je=0;function Bn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ra,Li,sa,ia,oa,$n=!1,Oi=[],Hn=null,qn=null,At=null,Ks=new Map,vr=new Map,sn=[],bl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ns(n,s){switch(n){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ks.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(s.pointerId)}}function Sn(n,s,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=wa(s),s!==null&&Li(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function jl(n,s,a,c,d){switch(s){case"focusin":return Hn=Sn(Hn,n,s,a,c,d),!0;case"dragenter":return qn=Sn(qn,n,s,a,c,d),!0;case"mouseover":return At=Sn(At,n,s,a,c,d),!0;case"pointerover":var m=d.pointerId;return Ks.set(m,Sn(Ks.get(m)||null,n,s,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,vr.set(m,Sn(vr.get(m)||null,n,s,a,c,d)),!0}return!1}function Mi(n){var s=Js(n.target);if(s!==null){var a=In(s);if(a!==null){if(s=a.tag,s===13){if(s=Qo(a),s!==null){n.blockedOn=s,oa(n.priority,function(){sa(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function He(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Fi(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Yr=c,a.target.dispatchEvent(c),Yr=null}else return s=wa(a),s!==null&&Li(s),n.blockedOn=a,!1;s.shift()}return!0}function Dl(n,s,a){He(n)&&a.delete(s)}function Gc(){$n=!1,Hn!==null&&He(Hn)&&(Hn=null),qn!==null&&He(qn)&&(qn=null),At!==null&&He(At)&&(At=null),Ks.forEach(Dl),vr.forEach(Dl)}function rs(n,s){n.blockedOn===s&&(n.blockedOn=null,$n||($n=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gc)))}function ss(n){function s(d){return rs(d,n)}if(0<Oi.length){rs(Oi[0],n);for(var a=1;a<Oi.length;a++){var c=Oi[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Hn!==null&&rs(Hn,n),qn!==null&&rs(qn,n),At!==null&&rs(At,n),Ks.forEach(s),vr.forEach(s),a=0;a<sn.length;a++)c=sn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<sn.length&&(a=sn[0],a.blockedOn===null);)Mi(a),a.blockedOn===null&&sn.shift()}var _r=_e.ReactCurrentBatchConfig,wr=!0;function Wn(n,s,a,c){var d=je,m=_r.transition;_r.transition=null;try{je=1,aa(n,s,a,c)}finally{je=d,_r.transition=m}}function Vl(n,s,a,c){var d=je,m=_r.transition;_r.transition=null;try{je=4,aa(n,s,a,c)}finally{je=d,_r.transition=m}}function aa(n,s,a,c){if(wr){var d=Fi(n,s,a,c);if(d===null)sh(n,s,c,Gn,a),ns(n,c);else if(jl(d,n,s,a,c))c.stopPropagation();else if(ns(n,c),s&4&&-1<bl.indexOf(n)){for(;d!==null;){var m=wa(d);if(m!==null&&ra(m),m=Fi(n,s,a,c),m===null&&sh(n,s,c,Gn,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else sh(n,s,c,null,a)}}var Gn=null;function Fi(n,s,a,c){if(Gn=null,n=Pi(c),n=Js(n),n!==null)if(s=In(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Qo(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Gn=n,null}function Ui(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qc()){case Di:return 1;case Xo:return 4;case Bs:case Jo:return 16;case Vi:return 536870912;default:return 16}default:return 16}}var on=null,zi=null,xr=null;function Ll(){if(xr)return xr;var n,s=zi,a=s.length,c,d="value"in on?on.value:on.textContent,m=d.length;for(n=0;n<a&&s[n]===d[n];n++);var x=a-n;for(c=1;c<=x&&s[a-c]===d[m-c];c++);return xr=d.slice(n,1<c?1-c:void 0)}function Qs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Kn(){return!0}function la(){return!1}function Dt(n){function s(a,c,d,m,x){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Kn:la,this.isPropagationStopped=la,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),s}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Dt(Qn),is=ae({},Qn,{view:0,detail:0}),Bi=Dt(is),$i,Hi,an,Xs=ae({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Te,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==an&&(an&&n.type==="mousemove"?($i=n.screenX-an.screenX,Hi=n.screenY-an.screenY):Hi=$i=0,an=n),$i)},movementY:function(n){return"movementY"in n?n.movementY:Hi}}),ua=Dt(Xs),Ol=ae({},Xs,{dataTransfer:0}),Ml=Dt(Ol),qi=ae({},is,{relatedTarget:0}),kt=Dt(qi),Fl=ae({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ul=Dt(Fl),os=ae({},Qn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),u=Dt(os),g=ae({},Qn,{data:0}),_=Dt(g),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function te(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=$[n])?!!s[n]:!1}function Te(){return te}var at=ae({},is,{key:function(n){if(n.key){var s=T[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Qs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Te,charCode:function(n){return n.type==="keypress"?Qs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Be=Dt(at),ht=ae({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ln=Dt(ht),Er=ae({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Te}),Yn=Dt(Er),Xn=ae({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wi=Dt(Xn),ca=ae({},Xs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y0=Dt(ca),X0=[9,13,27,32],Kc=p&&"CompositionEvent"in window,ha=null;p&&"documentMode"in document&&(ha=document.documentMode);var J0=p&&"TextEvent"in window&&!ha,op=p&&(!Kc||ha&&8<ha&&11>=ha),ap=" ",lp=!1;function up(n,s){switch(n){case"keyup":return X0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gi=!1;function Z0(n,s){switch(n){case"compositionend":return cp(s);case"keypress":return s.which!==32?null:(lp=!0,ap);case"textInput":return n=s.data,n===ap&&lp?null:n;default:return null}}function ew(n,s){if(Gi)return n==="compositionend"||!Kc&&up(n,s)?(n=Ll(),xr=zi=on=null,Gi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return op&&s.locale!=="ko"?null:s.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!tw[n.type]:s==="textarea"}function dp(n,s,a,c){Xr(c),s=ql(s,"onChange"),0<s.length&&(a=new Ys("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var da=null,fa=null;function nw(n){Rp(n,0)}function zl(n){var s=Ji(n);if(zo(s))return n}function rw(n,s){if(n==="change")return s}var fp=!1;if(p){var Qc;if(p){var Yc="oninput"in document;if(!Yc){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),Yc=typeof pp.oninput=="function"}Qc=Yc}else Qc=!1;fp=Qc&&(!document.documentMode||9<document.documentMode)}function mp(){da&&(da.detachEvent("onpropertychange",gp),fa=da=null)}function gp(n){if(n.propertyName==="value"&&zl(fa)){var s=[];dp(s,fa,n,Pi(n)),Il(nw,s)}}function sw(n,s,a){n==="focusin"?(mp(),da=s,fa=a,da.attachEvent("onpropertychange",gp)):n==="focusout"&&mp()}function iw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return zl(fa)}function ow(n,s){if(n==="click")return zl(s)}function aw(n,s){if(n==="input"||n==="change")return zl(s)}function lw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Cn=typeof Object.is=="function"?Object.is:lw;function pa(n,s){if(Cn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!y.call(s,d)||!Cn(n[d],s[d]))return!1}return!0}function yp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vp(n,s){var a=yp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yp(a)}}function _p(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?_p(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function wp(){for(var n=window,s=qr();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=qr(n.document)}return s}function Xc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function uw(n){var s=wp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&_p(a.ownerDocument.documentElement,a)){if(c!==null&&Xc(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=vp(a,m);var x=vp(a,c);d&&x&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==x.node||n.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(s),n.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var cw=p&&"documentMode"in document&&11>=document.documentMode,Ki=null,Jc=null,ma=null,Zc=!1;function xp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zc||Ki==null||Ki!==qr(c)||(c=Ki,"selectionStart"in c&&Xc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ma&&pa(ma,c)||(ma=c,c=ql(Jc,"onSelect"),0<c.length&&(s=new Ys("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Ki)))}function Bl(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Qi={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},eh={},Ep={};p&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function $l(n){if(eh[n])return eh[n];if(!Qi[n])return n;var s=Qi[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ep)return eh[n]=s[a];return n}var Tp=$l("animationend"),Ip=$l("animationiteration"),Sp=$l("animationstart"),Cp=$l("transitionend"),Ap=new Map,kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(n,s){Ap.set(n,s),l(s,[n])}for(var th=0;th<kp.length;th++){var nh=kp[th],hw=nh.toLowerCase(),dw=nh[0].toUpperCase()+nh.slice(1);as(hw,"on"+dw)}as(Tp,"onAnimationEnd"),as(Ip,"onAnimationIteration"),as(Sp,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(Cp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function Np(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,Ko(c,s,void 0,n),n.currentTarget=null}function Rp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var x=c.length-1;0<=x;x--){var C=c[x],R=C.instance,B=C.currentTarget;if(C=C.listener,R!==m&&d.isPropagationStopped())break e;Np(d,C,B),m=R}else for(x=0;x<c.length;x++){if(C=c[x],R=C.instance,B=C.currentTarget,C=C.listener,R!==m&&d.isPropagationStopped())break e;Np(d,C,B),m=R}}}if(bi)throw n=dn,bi=!1,dn=null,n}function Qe(n,s){var a=s[ch];a===void 0&&(a=s[ch]=new Set);var c=n+"__bubble";a.has(c)||(Pp(s,n,2,!1),a.add(c))}function rh(n,s,a){var c=0;s&&(c|=4),Pp(a,n,c,s)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function ya(n){if(!n[Hl]){n[Hl]=!0,i.forEach(function(a){a!=="selectionchange"&&(fw.has(a)||rh(a,!1,n),rh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Hl]||(s[Hl]=!0,rh("selectionchange",!1,s))}}function Pp(n,s,a,c){switch(Ui(s)){case 1:var d=Wn;break;case 4:d=Vl;break;default:d=aa}a=d.bind(null,s,a,n),d=void 0,!Zr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function sh(n,s,a,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(x===4)for(x=c.return;x!==null;){var R=x.tag;if((R===3||R===4)&&(R=x.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;x=x.return}for(;C!==null;){if(x=Js(C),x===null)return;if(R=x.tag,R===5||R===6){c=m=x;continue e}C=C.parentNode}}c=c.return}Il(function(){var B=m,X=Pi(a),Z=[];e:{var Y=Ap.get(n);if(Y!==void 0){var se=Ys,ue=n;switch(n){case"keypress":if(Qs(a)===0)break e;case"keydown":case"keyup":se=Be;break;case"focusin":ue="focus",se=kt;break;case"focusout":ue="blur",se=kt;break;case"beforeblur":case"afterblur":se=kt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Yn;break;case Tp:case Ip:case Sp:se=Ul;break;case Cp:se=Wi;break;case"scroll":se=Bi;break;case"wheel":se=Y0;break;case"copy":case"cut":case"paste":se=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=ln}var he=(s&4)!==0,lt=!he&&n==="scroll",O=he?Y!==null?Y+"Capture":null:Y;he=[];for(var j=B,z;j!==null;){z=j;var ee=z.stateNode;if(z.tag===5&&ee!==null&&(z=ee,O!==null&&(ee=Fs(j,O),ee!=null&&he.push(va(j,ee,z)))),lt)break;j=j.return}0<he.length&&(Y=new se(Y,ue,null,a,X),Z.push({event:Y,listeners:he}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",Y&&a!==Yr&&(ue=a.relatedTarget||a.fromElement)&&(Js(ue)||ue[Tr]))break e;if((se||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=B,ue=ue?Js(ue):null,ue!==null&&(lt=In(ue),ue!==lt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=B),se!==ue)){if(he=ua,ee="onMouseLeave",O="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(he=ln,ee="onPointerLeave",O="onPointerEnter",j="pointer"),lt=se==null?Y:Ji(se),z=ue==null?Y:Ji(ue),Y=new he(ee,j+"leave",se,a,X),Y.target=lt,Y.relatedTarget=z,ee=null,Js(X)===B&&(he=new he(O,j+"enter",ue,a,X),he.target=z,he.relatedTarget=lt,ee=he),lt=ee,se&&ue)t:{for(he=se,O=ue,j=0,z=he;z;z=Yi(z))j++;for(z=0,ee=O;ee;ee=Yi(ee))z++;for(;0<j-z;)he=Yi(he),j--;for(;0<z-j;)O=Yi(O),z--;for(;j--;){if(he===O||O!==null&&he===O.alternate)break t;he=Yi(he),O=Yi(O)}he=null}else he=null;se!==null&&bp(Z,Y,se,he,!1),ue!==null&&lt!==null&&bp(Z,lt,ue,he,!0)}}e:{if(Y=B?Ji(B):window,se=Y.nodeName&&Y.nodeName.toLowerCase(),se==="select"||se==="input"&&Y.type==="file")var de=rw;else if(hp(Y))if(fp)de=aw;else{de=iw;var ge=sw}else(se=Y.nodeName)&&se.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(de=ow);if(de&&(de=de(n,B))){dp(Z,de,a,X);break e}ge&&ge(n,Y,B),n==="focusout"&&(ge=Y._wrapperState)&&ge.controlled&&Y.type==="number"&&ct(Y,"number",Y.value)}switch(ge=B?Ji(B):window,n){case"focusin":(hp(ge)||ge.contentEditable==="true")&&(Ki=ge,Jc=B,ma=null);break;case"focusout":ma=Jc=Ki=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,xp(Z,a,X);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":xp(Z,a,X)}var ye;if(Kc)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Gi?up(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(op&&a.locale!=="ko"&&(Gi||we!=="onCompositionStart"?we==="onCompositionEnd"&&Gi&&(ye=Ll()):(on=X,zi="value"in on?on.value:on.textContent,Gi=!0)),ge=ql(B,we),0<ge.length&&(we=new _(we,n,null,a,X),Z.push({event:we,listeners:ge}),ye?we.data=ye:(ye=cp(a),ye!==null&&(we.data=ye)))),(ye=J0?Z0(n,a):ew(n,a))&&(B=ql(B,"onBeforeInput"),0<B.length&&(X=new _("onBeforeInput","beforeinput",null,a,X),Z.push({event:X,listeners:B}),X.data=ye))}Rp(Z,s)})}function va(n,s,a){return{instance:n,listener:s,currentTarget:a}}function ql(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=Fs(n,a),m!=null&&c.unshift(va(n,m,d)),m=Fs(n,s),m!=null&&c.push(va(n,m,d))),n=n.return}return c}function Yi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bp(n,s,a,c,d){for(var m=s._reactName,x=[];a!==null&&a!==c;){var C=a,R=C.alternate,B=C.stateNode;if(R!==null&&R===c)break;C.tag===5&&B!==null&&(C=B,d?(R=Fs(a,m),R!=null&&x.unshift(va(a,R,C))):d||(R=Fs(a,m),R!=null&&x.push(va(a,R,C)))),a=a.return}x.length!==0&&n.push({event:s,listeners:x})}var pw=/\r\n?/g,mw=/\u0000|\uFFFD/g;function jp(n){return(typeof n=="string"?n:""+n).replace(pw,`
`).replace(mw,"")}function Wl(n,s,a){if(s=jp(s),jp(n)!==s&&a)throw Error(t(425))}function Gl(){}var ih=null,oh=null;function ah(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,gw=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,yw=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(n){return Dp.resolve(null).then(n).catch(vw)}:lh;function vw(n){setTimeout(function(){throw n})}function uh(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),ss(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);ss(s)}function ls(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Vp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Xi,_a="__reactProps$"+Xi,Tr="__reactContainer$"+Xi,ch="__reactEvents$"+Xi,_w="__reactListeners$"+Xi,ww="__reactHandles$"+Xi;function Js(n){var s=n[Jn];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Tr]||a[Jn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Vp(n);n!==null;){if(a=n[Jn])return a;n=Vp(n)}return s}n=a,a=n.parentNode}return null}function wa(n){return n=n[Jn]||n[Tr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ji(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Kl(n){return n[_a]||null}var hh=[],Zi=-1;function us(n){return{current:n}}function Ye(n){0>Zi||(n.current=hh[Zi],hh[Zi]=null,Zi--)}function We(n,s){Zi++,hh[Zi]=n.current,n.current=s}var cs={},Vt=us(cs),Kt=us(!1),Zs=cs;function eo(n,s){var a=n.type.contextTypes;if(!a)return cs;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=s[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function Qt(n){return n=n.childContextTypes,n!=null}function Ql(){Ye(Kt),Ye(Vt)}function Lp(n,s,a){if(Vt.current!==cs)throw Error(t(168));We(Vt,s),We(Kt,a)}function Op(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Ue(n)||"Unknown",d));return ae({},a,c)}function Yl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||cs,Zs=Vt.current,We(Vt,n),We(Kt,Kt.current),!0}function Mp(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Op(n,s,Zs),c.__reactInternalMemoizedMergedChildContext=n,Ye(Kt),Ye(Vt),We(Vt,n)):Ye(Kt),We(Kt,a)}var Ir=null,Xl=!1,dh=!1;function Fp(n){Ir===null?Ir=[n]:Ir.push(n)}function xw(n){Xl=!0,Fp(n)}function hs(){if(!dh&&Ir!==null){dh=!0;var n=0,s=je;try{var a=Ir;for(je=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Ir=null,Xl=!1}catch(d){throw Ir!==null&&(Ir=Ir.slice(n+1)),Yo(Di,hs),d}finally{je=s,dh=!1}}return null}var to=[],no=0,Jl=null,Zl=0,pn=[],mn=0,ei=null,Sr=1,Cr="";function ti(n,s){to[no++]=Zl,to[no++]=Jl,Jl=n,Zl=s}function Up(n,s,a){pn[mn++]=Sr,pn[mn++]=Cr,pn[mn++]=ei,ei=n;var c=Sr;n=Cr;var d=32-rn(c)-1;c&=~(1<<d),a+=1;var m=32-rn(s)+d;if(30<m){var x=d-d%5;m=(c&(1<<x)-1).toString(32),c>>=x,d-=x,Sr=1<<32-rn(s)+d|a<<d|c,Cr=m+n}else Sr=1<<m|a<<d|c,Cr=n}function fh(n){n.return!==null&&(ti(n,1),Up(n,1,0))}function ph(n){for(;n===Jl;)Jl=to[--no],to[no]=null,Zl=to[--no],to[no]=null;for(;n===ei;)ei=pn[--mn],pn[mn]=null,Cr=pn[--mn],pn[mn]=null,Sr=pn[--mn],pn[mn]=null}var un=null,cn=null,Je=!1,An=null;function zp(n,s){var a=_n(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function Bp(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,un=n,cn=ls(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,un=n,cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ei!==null?{id:Sr,overflow:Cr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=_n(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,un=n,cn=null,!0):!1;default:return!1}}function mh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function gh(n){if(Je){var s=cn;if(s){var a=s;if(!Bp(n,s)){if(mh(n))throw Error(t(418));s=ls(a.nextSibling);var c=un;s&&Bp(n,s)?zp(c,a):(n.flags=n.flags&-4097|2,Je=!1,un=n)}}else{if(mh(n))throw Error(t(418));n.flags=n.flags&-4097|2,Je=!1,un=n}}}function $p(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;un=n}function eu(n){if(n!==un)return!1;if(!Je)return $p(n),Je=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!ah(n.type,n.memoizedProps)),s&&(s=cn)){if(mh(n))throw Hp(),Error(t(418));for(;s;)zp(n,s),s=ls(s.nextSibling)}if($p(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){cn=ls(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}cn=null}}else cn=un?ls(n.stateNode.nextSibling):null;return!0}function Hp(){for(var n=cn;n;)n=ls(n.nextSibling)}function ro(){cn=un=null,Je=!1}function yh(n){An===null?An=[n]:An.push(n)}var Ew=_e.ReactCurrentBatchConfig;function xa(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(x){var C=d.refs;x===null?delete C[m]:C[m]=x},s._stringRef=m,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function tu(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function qp(n){var s=n._init;return s(n._payload)}function Wp(n){function s(O,j){if(n){var z=O.deletions;z===null?(O.deletions=[j],O.flags|=16):z.push(j)}}function a(O,j){if(!n)return null;for(;j!==null;)s(O,j),j=j.sibling;return null}function c(O,j){for(O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function d(O,j){return O=_s(O,j),O.index=0,O.sibling=null,O}function m(O,j,z){return O.index=z,n?(z=O.alternate,z!==null?(z=z.index,z<j?(O.flags|=2,j):z):(O.flags|=2,j)):(O.flags|=1048576,j)}function x(O){return n&&O.alternate===null&&(O.flags|=2),O}function C(O,j,z,ee){return j===null||j.tag!==6?(j=ld(z,O.mode,ee),j.return=O,j):(j=d(j,z),j.return=O,j)}function R(O,j,z,ee){var de=z.type;return de===N?X(O,j,z.props.children,ee,z.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Et&&qp(de)===j.type)?(ee=d(j,z.props),ee.ref=xa(O,j,z),ee.return=O,ee):(ee=Su(z.type,z.key,z.props,null,O.mode,ee),ee.ref=xa(O,j,z),ee.return=O,ee)}function B(O,j,z,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==z.containerInfo||j.stateNode.implementation!==z.implementation?(j=ud(z,O.mode,ee),j.return=O,j):(j=d(j,z.children||[]),j.return=O,j)}function X(O,j,z,ee,de){return j===null||j.tag!==7?(j=ui(z,O.mode,ee,de),j.return=O,j):(j=d(j,z),j.return=O,j)}function Z(O,j,z){if(typeof j=="string"&&j!==""||typeof j=="number")return j=ld(""+j,O.mode,z),j.return=O,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case me:return z=Su(j.type,j.key,j.props,null,O.mode,z),z.ref=xa(O,null,j),z.return=O,z;case ce:return j=ud(j,O.mode,z),j.return=O,j;case Et:var ee=j._init;return Z(O,ee(j._payload),z)}if(ot(j)||pe(j))return j=ui(j,O.mode,z,null),j.return=O,j;tu(O,j)}return null}function Y(O,j,z,ee){var de=j!==null?j.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return de!==null?null:C(O,j,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case me:return z.key===de?R(O,j,z,ee):null;case ce:return z.key===de?B(O,j,z,ee):null;case Et:return de=z._init,Y(O,j,de(z._payload),ee)}if(ot(z)||pe(z))return de!==null?null:X(O,j,z,ee,null);tu(O,z)}return null}function se(O,j,z,ee,de){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return O=O.get(z)||null,C(j,O,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case me:return O=O.get(ee.key===null?z:ee.key)||null,R(j,O,ee,de);case ce:return O=O.get(ee.key===null?z:ee.key)||null,B(j,O,ee,de);case Et:var ge=ee._init;return se(O,j,z,ge(ee._payload),de)}if(ot(ee)||pe(ee))return O=O.get(z)||null,X(j,O,ee,de,null);tu(j,ee)}return null}function ue(O,j,z,ee){for(var de=null,ge=null,ye=j,we=j=0,St=null;ye!==null&&we<z.length;we++){ye.index>we?(St=ye,ye=null):St=ye.sibling;var Oe=Y(O,ye,z[we],ee);if(Oe===null){ye===null&&(ye=St);break}n&&ye&&Oe.alternate===null&&s(O,ye),j=m(Oe,j,we),ge===null?de=Oe:ge.sibling=Oe,ge=Oe,ye=St}if(we===z.length)return a(O,ye),Je&&ti(O,we),de;if(ye===null){for(;we<z.length;we++)ye=Z(O,z[we],ee),ye!==null&&(j=m(ye,j,we),ge===null?de=ye:ge.sibling=ye,ge=ye);return Je&&ti(O,we),de}for(ye=c(O,ye);we<z.length;we++)St=se(ye,O,we,z[we],ee),St!==null&&(n&&St.alternate!==null&&ye.delete(St.key===null?we:St.key),j=m(St,j,we),ge===null?de=St:ge.sibling=St,ge=St);return n&&ye.forEach(function(ws){return s(O,ws)}),Je&&ti(O,we),de}function he(O,j,z,ee){var de=pe(z);if(typeof de!="function")throw Error(t(150));if(z=de.call(z),z==null)throw Error(t(151));for(var ge=de=null,ye=j,we=j=0,St=null,Oe=z.next();ye!==null&&!Oe.done;we++,Oe=z.next()){ye.index>we?(St=ye,ye=null):St=ye.sibling;var ws=Y(O,ye,Oe.value,ee);if(ws===null){ye===null&&(ye=St);break}n&&ye&&ws.alternate===null&&s(O,ye),j=m(ws,j,we),ge===null?de=ws:ge.sibling=ws,ge=ws,ye=St}if(Oe.done)return a(O,ye),Je&&ti(O,we),de;if(ye===null){for(;!Oe.done;we++,Oe=z.next())Oe=Z(O,Oe.value,ee),Oe!==null&&(j=m(Oe,j,we),ge===null?de=Oe:ge.sibling=Oe,ge=Oe);return Je&&ti(O,we),de}for(ye=c(O,ye);!Oe.done;we++,Oe=z.next())Oe=se(ye,O,we,Oe.value,ee),Oe!==null&&(n&&Oe.alternate!==null&&ye.delete(Oe.key===null?we:Oe.key),j=m(Oe,j,we),ge===null?de=Oe:ge.sibling=Oe,ge=Oe);return n&&ye.forEach(function(tx){return s(O,tx)}),Je&&ti(O,we),de}function lt(O,j,z,ee){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case me:e:{for(var de=z.key,ge=j;ge!==null;){if(ge.key===de){if(de=z.type,de===N){if(ge.tag===7){a(O,ge.sibling),j=d(ge,z.props.children),j.return=O,O=j;break e}}else if(ge.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Et&&qp(de)===ge.type){a(O,ge.sibling),j=d(ge,z.props),j.ref=xa(O,ge,z),j.return=O,O=j;break e}a(O,ge);break}else s(O,ge);ge=ge.sibling}z.type===N?(j=ui(z.props.children,O.mode,ee,z.key),j.return=O,O=j):(ee=Su(z.type,z.key,z.props,null,O.mode,ee),ee.ref=xa(O,j,z),ee.return=O,O=ee)}return x(O);case ce:e:{for(ge=z.key;j!==null;){if(j.key===ge)if(j.tag===4&&j.stateNode.containerInfo===z.containerInfo&&j.stateNode.implementation===z.implementation){a(O,j.sibling),j=d(j,z.children||[]),j.return=O,O=j;break e}else{a(O,j);break}else s(O,j);j=j.sibling}j=ud(z,O.mode,ee),j.return=O,O=j}return x(O);case Et:return ge=z._init,lt(O,j,ge(z._payload),ee)}if(ot(z))return ue(O,j,z,ee);if(pe(z))return he(O,j,z,ee);tu(O,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,j!==null&&j.tag===6?(a(O,j.sibling),j=d(j,z),j.return=O,O=j):(a(O,j),j=ld(z,O.mode,ee),j.return=O,O=j),x(O)):a(O,j)}return lt}var so=Wp(!0),Gp=Wp(!1),nu=us(null),ru=null,io=null,vh=null;function _h(){vh=io=ru=null}function wh(n){var s=nu.current;Ye(nu),n._currentValue=s}function xh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function oo(n,s){ru=n,vh=io=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Yt=!0),n.firstContext=null)}function gn(n){var s=n._currentValue;if(vh!==n)if(n={context:n,memoizedValue:s,next:null},io===null){if(ru===null)throw Error(t(308));io=n,ru.dependencies={lanes:0,firstContext:n}}else io=io.next=n;return s}var ni=null;function Eh(n){ni===null?ni=[n]:ni.push(n)}function Kp(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Eh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Ar(n,c)}function Ar(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ds=!1;function Th(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function kr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function fs(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Le&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Ar(n,a)}return d=c.interleaved,d===null?(s.next=s,Eh(c)):(s.next=d.next,d.next=s),c.interleaved=s,Ar(n,a)}function su(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,na(n,a)}}function Yp(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function iu(n,s,a,c){var d=n.updateQueue;ds=!1;var m=d.firstBaseUpdate,x=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var R=C,B=R.next;R.next=null,x===null?m=B:x.next=B,x=R;var X=n.alternate;X!==null&&(X=X.updateQueue,C=X.lastBaseUpdate,C!==x&&(C===null?X.firstBaseUpdate=B:C.next=B,X.lastBaseUpdate=R))}if(m!==null){var Z=d.baseState;x=0,X=B=R=null,C=m;do{var Y=C.lane,se=C.eventTime;if((c&Y)===Y){X!==null&&(X=X.next={eventTime:se,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ue=n,he=C;switch(Y=s,se=a,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){Z=ue.call(se,Z,Y);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,Y=typeof ue=="function"?ue.call(se,Z,Y):ue,Y==null)break e;Z=ae({},Z,Y);break e;case 2:ds=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,Y=d.effects,Y===null?d.effects=[C]:Y.push(C))}else se={eventTime:se,lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},X===null?(B=X=se,R=Z):X=X.next=se,x|=Y;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(X===null&&(R=Z),d.baseState=R,d.firstBaseUpdate=B,d.lastBaseUpdate=X,s=d.shared.interleaved,s!==null){d=s;do x|=d.lane,d=d.next;while(d!==s)}else m===null&&(d.shared.lanes=0);ii|=x,n.lanes=x,n.memoizedState=Z}}function Xp(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Ea={},Zn=us(Ea),Ta=us(Ea),Ia=us(Ea);function ri(n){if(n===Ea)throw Error(t(174));return n}function Ih(n,s){switch(We(Ia,s),We(Ta,n),We(Zn,Ea),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ki(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=ki(s,n)}Ye(Zn),We(Zn,s)}function ao(){Ye(Zn),Ye(Ta),Ye(Ia)}function Jp(n){ri(Ia.current);var s=ri(Zn.current),a=ki(s,n.type);s!==a&&(We(Ta,n),We(Zn,a))}function Sh(n){Ta.current===n&&(Ye(Zn),Ye(Ta))}var Ze=us(0);function ou(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ch=[];function Ah(){for(var n=0;n<Ch.length;n++)Ch[n]._workInProgressVersionPrimary=null;Ch.length=0}var au=_e.ReactCurrentDispatcher,kh=_e.ReactCurrentBatchConfig,si=0,et=null,vt=null,Tt=null,lu=!1,Sa=!1,Ca=0,Tw=0;function Lt(){throw Error(t(321))}function Nh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Cn(n[a],s[a]))return!1;return!0}function Rh(n,s,a,c,d,m){if(si=m,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,au.current=n===null||n.memoizedState===null?Aw:kw,n=a(c,d),Sa){m=0;do{if(Sa=!1,Ca=0,25<=m)throw Error(t(301));m+=1,Tt=vt=null,s.updateQueue=null,au.current=Nw,n=a(c,d)}while(Sa)}if(au.current=hu,s=vt!==null&&vt.next!==null,si=0,Tt=vt=et=null,lu=!1,s)throw Error(t(300));return n}function Ph(){var n=Ca!==0;return Ca=0,n}function er(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?et.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function yn(){if(vt===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var s=Tt===null?et.memoizedState:Tt.next;if(s!==null)Tt=s,vt=n;else{if(n===null)throw Error(t(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Tt===null?et.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function Aa(n,s){return typeof s=="function"?s(n):s}function bh(n){var s=yn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=vt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var x=d.next;d.next=m.next,m.next=x}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var C=x=null,R=null,B=m;do{var X=B.lane;if((si&X)===X)R!==null&&(R=R.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var Z={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};R===null?(C=R=Z,x=c):R=R.next=Z,et.lanes|=X,ii|=X}B=B.next}while(B!==null&&B!==m);R===null?x=c:R.next=C,Cn(c,s.memoizedState)||(Yt=!0),s.memoizedState=c,s.baseState=x,s.baseQueue=R,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,et.lanes|=m,ii|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function jh(n){var s=yn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var x=d=d.next;do m=n(m,x.action),x=x.next;while(x!==d);Cn(m,s.memoizedState)||(Yt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function Zp(){}function em(n,s){var a=et,c=yn(),d=s(),m=!Cn(c.memoizedState,d);if(m&&(c.memoizedState=d,Yt=!0),c=c.queue,Dh(rm.bind(null,a,c,n),[n]),c.getSnapshot!==s||m||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,ka(9,nm.bind(null,a,c,d,s),void 0,null),It===null)throw Error(t(349));(si&30)!==0||tm(a,s,d)}return d}function tm(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function nm(n,s,a,c){s.value=a,s.getSnapshot=c,sm(s)&&im(n)}function rm(n,s,a){return a(function(){sm(s)&&im(n)})}function sm(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Cn(n,a)}catch{return!0}}function im(n){var s=Ar(n,1);s!==null&&Pn(s,n,1,-1)}function om(n){var s=er();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:n},s.queue=n,n=n.dispatch=Cw.bind(null,et,n),[s.memoizedState,n]}function ka(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function am(){return yn().memoizedState}function uu(n,s,a,c){var d=er();et.flags|=n,d.memoizedState=ka(1|s,a,void 0,c===void 0?null:c)}function cu(n,s,a,c){var d=yn();c=c===void 0?null:c;var m=void 0;if(vt!==null){var x=vt.memoizedState;if(m=x.destroy,c!==null&&Nh(c,x.deps)){d.memoizedState=ka(s,a,m,c);return}}et.flags|=n,d.memoizedState=ka(1|s,a,m,c)}function lm(n,s){return uu(8390656,8,n,s)}function Dh(n,s){return cu(2048,8,n,s)}function um(n,s){return cu(4,2,n,s)}function cm(n,s){return cu(4,4,n,s)}function hm(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function dm(n,s,a){return a=a!=null?a.concat([n]):null,cu(4,4,hm.bind(null,s,n),a)}function Vh(){}function fm(n,s){var a=yn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Nh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function pm(n,s){var a=yn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Nh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function mm(n,s,a){return(si&21)===0?(n.baseState&&(n.baseState=!1,Yt=!0),n.memoizedState=a):(Cn(a,s)||(a=ea(),et.lanes|=a,ii|=a,n.baseState=!0),s)}function Iw(n,s){var a=je;je=a!==0&&4>a?a:4,n(!0);var c=kh.transition;kh.transition={};try{n(!1),s()}finally{je=a,kh.transition=c}}function gm(){return yn().memoizedState}function Sw(n,s,a){var c=ys(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},ym(n))vm(s,a);else if(a=Kp(n,s,a,c),a!==null){var d=qt();Pn(a,n,c,d),_m(a,s,c)}}function Cw(n,s,a){var c=ys(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(ym(n))vm(s,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var x=s.lastRenderedState,C=m(x,a);if(d.hasEagerState=!0,d.eagerState=C,Cn(C,x)){var R=s.interleaved;R===null?(d.next=d,Eh(s)):(d.next=R.next,R.next=d),s.interleaved=d;return}}catch{}finally{}a=Kp(n,s,d,c),a!==null&&(d=qt(),Pn(a,n,c,d),_m(a,s,c))}}function ym(n){var s=n.alternate;return n===et||s!==null&&s===et}function vm(n,s){Sa=lu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function _m(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,na(n,a)}}var hu={readContext:gn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},Aw={readContext:gn,useCallback:function(n,s){return er().memoizedState=[n,s===void 0?null:s],n},useContext:gn,useEffect:lm,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,uu(4194308,4,hm.bind(null,s,n),a)},useLayoutEffect:function(n,s){return uu(4194308,4,n,s)},useInsertionEffect:function(n,s){return uu(4,2,n,s)},useMemo:function(n,s){var a=er();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=er();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=Sw.bind(null,et,n),[c.memoizedState,n]},useRef:function(n){var s=er();return n={current:n},s.memoizedState=n},useState:om,useDebugValue:Vh,useDeferredValue:function(n){return er().memoizedState=n},useTransition:function(){var n=om(!1),s=n[0];return n=Iw.bind(null,n[1]),er().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=et,d=er();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));(si&30)!==0||tm(c,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,lm(rm.bind(null,c,m,n),[n]),c.flags|=2048,ka(9,nm.bind(null,c,m,a,s),void 0,null),a},useId:function(){var n=er(),s=It.identifierPrefix;if(Je){var a=Cr,c=Sr;a=(c&~(1<<32-rn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ca++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Tw++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},kw={readContext:gn,useCallback:fm,useContext:gn,useEffect:Dh,useImperativeHandle:dm,useInsertionEffect:um,useLayoutEffect:cm,useMemo:pm,useReducer:bh,useRef:am,useState:function(){return bh(Aa)},useDebugValue:Vh,useDeferredValue:function(n){var s=yn();return mm(s,vt.memoizedState,n)},useTransition:function(){var n=bh(Aa)[0],s=yn().memoizedState;return[n,s]},useMutableSource:Zp,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1},Nw={readContext:gn,useCallback:fm,useContext:gn,useEffect:Dh,useImperativeHandle:dm,useInsertionEffect:um,useLayoutEffect:cm,useMemo:pm,useReducer:jh,useRef:am,useState:function(){return jh(Aa)},useDebugValue:Vh,useDeferredValue:function(n){var s=yn();return vt===null?s.memoizedState=n:mm(s,vt.memoizedState,n)},useTransition:function(){var n=jh(Aa)[0],s=yn().memoizedState;return[n,s]},useMutableSource:Zp,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1};function kn(n,s){if(n&&n.defaultProps){s=ae({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Lh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:ae({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var du={isMounted:function(n){return(n=n._reactInternals)?In(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=qt(),d=ys(n),m=kr(c,d);m.payload=s,a!=null&&(m.callback=a),s=fs(n,m,d),s!==null&&(Pn(s,n,d,c),su(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=qt(),d=ys(n),m=kr(c,d);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=fs(n,m,d),s!==null&&(Pn(s,n,d,c),su(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=qt(),c=ys(n),d=kr(a,c);d.tag=2,s!=null&&(d.callback=s),s=fs(n,d,c),s!==null&&(Pn(s,n,c,a),su(s,n,c))}};function wm(n,s,a,c,d,m,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,x):s.prototype&&s.prototype.isPureReactComponent?!pa(a,c)||!pa(d,m):!0}function xm(n,s,a){var c=!1,d=cs,m=s.contextType;return typeof m=="object"&&m!==null?m=gn(m):(d=Qt(s)?Zs:Vt.current,c=s.contextTypes,m=(c=c!=null)?eo(n,d):cs),s=new s(a,m),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=du,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),s}function Em(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&du.enqueueReplaceState(s,s.state,null)}function Oh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Th(n);var m=s.contextType;typeof m=="object"&&m!==null?d.context=gn(m):(m=Qt(s)?Zs:Vt.current,d.context=eo(n,m)),d.state=n.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Lh(n,s,m,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&du.enqueueReplaceState(d,d.state,null),iu(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function lo(n,s){try{var a="",c=s;do a+=ke(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:s,stack:d,digest:null}}function Mh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Fh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Rw=typeof WeakMap=="function"?WeakMap:Map;function Tm(n,s,a){a=kr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){_u||(_u=!0,ed=c),Fh(n,s)},a}function Im(n,s,a){a=kr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Fh(n,s)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Fh(n,s),typeof c!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),a}function Sm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Rw;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=Hw.bind(null,n,s,a),s.then(n,n))}function Cm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Am(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=kr(-1,1),s.tag=2,fs(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var Pw=_e.ReactCurrentOwner,Yt=!1;function Ht(n,s,a,c){s.child=n===null?Gp(s,null,a,c):so(s,n.child,a,c)}function km(n,s,a,c,d){a=a.render;var m=s.ref;return oo(s,d),c=Rh(n,s,a,c,m,d),a=Ph(),n!==null&&!Yt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Nr(n,s,d)):(Je&&a&&fh(s),s.flags|=1,Ht(n,s,c,d),s.child)}function Nm(n,s,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!ad(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,Rm(n,s,m,c,d)):(n=Su(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,(n.lanes&d)===0){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:pa,a(x,c)&&n.ref===s.ref)return Nr(n,s,d)}return s.flags|=1,n=_s(m,c),n.ref=s.ref,n.return=s,s.child=n}function Rm(n,s,a,c,d){if(n!==null){var m=n.memoizedProps;if(pa(m,c)&&n.ref===s.ref)if(Yt=!1,s.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Yt=!0);else return s.lanes=n.lanes,Nr(n,s,d)}return Uh(n,s,a,c,d)}function Pm(n,s,a){var c=s.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(co,hn),hn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,We(co,hn),hn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,We(co,hn),hn|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,We(co,hn),hn|=c;return Ht(n,s,d,a),s.child}function bm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Uh(n,s,a,c,d){var m=Qt(a)?Zs:Vt.current;return m=eo(s,m),oo(s,d),a=Rh(n,s,a,c,m,d),c=Ph(),n!==null&&!Yt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Nr(n,s,d)):(Je&&c&&fh(s),s.flags|=1,Ht(n,s,a,d),s.child)}function jm(n,s,a,c,d){if(Qt(a)){var m=!0;Yl(s)}else m=!1;if(oo(s,d),s.stateNode===null)pu(n,s),xm(s,a,c),Oh(s,a,c,d),c=!0;else if(n===null){var x=s.stateNode,C=s.memoizedProps;x.props=C;var R=x.context,B=a.contextType;typeof B=="object"&&B!==null?B=gn(B):(B=Qt(a)?Zs:Vt.current,B=eo(s,B));var X=a.getDerivedStateFromProps,Z=typeof X=="function"||typeof x.getSnapshotBeforeUpdate=="function";Z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==c||R!==B)&&Em(s,x,c,B),ds=!1;var Y=s.memoizedState;x.state=Y,iu(s,c,x,d),R=s.memoizedState,C!==c||Y!==R||Kt.current||ds?(typeof X=="function"&&(Lh(s,a,X,c),R=s.memoizedState),(C=ds||wm(s,a,C,c,Y,R,B))?(Z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=R),x.props=c,x.state=R,x.context=B,c=C):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{x=s.stateNode,Qp(n,s),C=s.memoizedProps,B=s.type===s.elementType?C:kn(s.type,C),x.props=B,Z=s.pendingProps,Y=x.context,R=a.contextType,typeof R=="object"&&R!==null?R=gn(R):(R=Qt(a)?Zs:Vt.current,R=eo(s,R));var se=a.getDerivedStateFromProps;(X=typeof se=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==Z||Y!==R)&&Em(s,x,c,R),ds=!1,Y=s.memoizedState,x.state=Y,iu(s,c,x,d);var ue=s.memoizedState;C!==Z||Y!==ue||Kt.current||ds?(typeof se=="function"&&(Lh(s,a,se,c),ue=s.memoizedState),(B=ds||wm(s,a,B,c,Y,ue,R)||!1)?(X||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,ue,R),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,ue,R)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ue),x.props=c,x.state=ue,x.context=R,c=B):(typeof x.componentDidUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),c=!1)}return zh(n,s,a,c,m,d)}function zh(n,s,a,c,d,m){bm(n,s);var x=(s.flags&128)!==0;if(!c&&!x)return d&&Mp(s,a,!1),Nr(n,s,m);c=s.stateNode,Pw.current=s;var C=x&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&x?(s.child=so(s,n.child,null,m),s.child=so(s,null,C,m)):Ht(n,s,C,m),s.memoizedState=c.state,d&&Mp(s,a,!0),s.child}function Dm(n){var s=n.stateNode;s.pendingContext?Lp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Lp(n,s.context,!1),Ih(n,s.containerInfo)}function Vm(n,s,a,c,d){return ro(),yh(d),s.flags|=256,Ht(n,s,a,c),s.child}var Bh={dehydrated:null,treeContext:null,retryLane:0};function $h(n){return{baseLanes:n,cachePool:null,transitions:null}}function Lm(n,s,a){var c=s.pendingProps,d=Ze.current,m=!1,x=(s.flags&128)!==0,C;if((C=x)||(C=n!==null&&n.memoizedState===null?!1:(d&2)!==0),C?(m=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),We(Ze,d&1),n===null)return gh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(x=c.children,n=c.fallback,m?(c=s.mode,m=s.child,x={mode:"hidden",children:x},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=Cu(x,c,0,null),n=ui(n,c,a,null),m.return=s,n.return=s,m.sibling=n,s.child=m,s.child.memoizedState=$h(a),s.memoizedState=Bh,n):Hh(s,x));if(d=n.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return bw(n,s,x,c,C,d,a);if(m){m=c.fallback,x=s.mode,d=n.child,C=d.sibling;var R={mode:"hidden",children:c.children};return(x&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=R,s.deletions=null):(c=_s(d,R),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?m=_s(C,m):(m=ui(m,x,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,x=n.child.memoizedState,x=x===null?$h(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=n.childLanes&~a,s.memoizedState=Bh,c}return m=n.child,n=m.sibling,c=_s(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Hh(n,s){return s=Cu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function fu(n,s,a,c){return c!==null&&yh(c),so(s,n.child,null,a),n=Hh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function bw(n,s,a,c,d,m,x){if(a)return s.flags&256?(s.flags&=-257,c=Mh(Error(t(422))),fu(n,s,x,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(m=c.fallback,d=s.mode,c=Cu({mode:"visible",children:c.children},d,0,null),m=ui(m,d,x,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&so(s,n.child,null,x),s.child.memoizedState=$h(x),s.memoizedState=Bh,m);if((s.mode&1)===0)return fu(n,s,x,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(t(419)),c=Mh(m,c,void 0),fu(n,s,x,c)}if(C=(x&n.childLanes)!==0,Yt||C){if(c=It,c!==null){switch(x&-x){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|x))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Ar(n,d),Pn(c,n,d,-1))}return od(),c=Mh(Error(t(421))),fu(n,s,x,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=qw.bind(null,n),d._reactRetry=s,null):(n=m.treeContext,cn=ls(d.nextSibling),un=s,Je=!0,An=null,n!==null&&(pn[mn++]=Sr,pn[mn++]=Cr,pn[mn++]=ei,Sr=n.id,Cr=n.overflow,ei=s),s=Hh(s,c.children),s.flags|=4096,s)}function Om(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),xh(n.return,s,a)}function qh(n,s,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Mm(n,s,a){var c=s.pendingProps,d=c.revealOrder,m=c.tail;if(Ht(n,s,c.children,a),c=Ze.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Om(n,a,s);else if(n.tag===19)Om(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(We(Ze,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&ou(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),qh(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&ou(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}qh(s,!0,a,null,m);break;case"together":qh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function pu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Nr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),ii|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=_s(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=_s(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function jw(n,s,a){switch(s.tag){case 3:Dm(s),ro();break;case 5:Jp(s);break;case 1:Qt(s.type)&&Yl(s);break;case 4:Ih(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;We(nu,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(We(Ze,Ze.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Lm(n,s,a):(We(Ze,Ze.current&1),n=Nr(n,s,a),n!==null?n.sibling:null);We(Ze,Ze.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return Mm(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(Ze,Ze.current),c)break;return null;case 22:case 23:return s.lanes=0,Pm(n,s,a)}return Nr(n,s,a)}var Fm,Wh,Um,zm;Fm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Wh=function(){},Um=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,ri(Zn.current);var m=null;switch(a){case"input":d=Ci(n,d),c=Ci(n,c),m=[];break;case"select":d=ae({},d,{value:void 0}),c=ae({},c,{value:void 0}),m=[];break;case"textarea":d=$o(n,d),c=$o(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Gl)}Tn(a,c);var x;a=null;for(B in d)if(!c.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var C=d[B];for(x in C)C.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var R=c[B];if(C=d?.[B],c.hasOwnProperty(B)&&R!==C&&(R!=null||C!=null))if(B==="style")if(C){for(x in C)!C.hasOwnProperty(x)||R&&R.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in R)R.hasOwnProperty(x)&&C[x]!==R[x]&&(a||(a={}),a[x]=R[x])}else a||(m||(m=[]),m.push(B,a)),a=R;else B==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,C=C?C.__html:void 0,R!=null&&C!==R&&(m=m||[]).push(B,R)):B==="children"?typeof R!="string"&&typeof R!="number"||(m=m||[]).push(B,""+R):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(R!=null&&B==="onScroll"&&Qe("scroll",n),m||C===R||(m=[])):(m=m||[]).push(B,R))}a&&(m=m||[]).push("style",a);var B=m;(s.updateQueue=B)&&(s.flags|=4)}},zm=function(n,s,a,c){a!==c&&(s.flags|=4)};function Na(n,s){if(!Je)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function Dw(n,s,a){var c=s.pendingProps;switch(ph(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(s),null;case 1:return Qt(s.type)&&Ql(),Ot(s),null;case 3:return c=s.stateNode,ao(),Ye(Kt),Ye(Vt),Ah(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(eu(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,An!==null&&(rd(An),An=null))),Wh(n,s),Ot(s),null;case 5:Sh(s);var d=ri(Ia.current);if(a=s.type,n!==null&&s.stateNode!=null)Um(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Ot(s),null}if(n=ri(Zn.current),eu(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[Jn]=s,c[_a]=m,n=(s.mode&1)!==0,a){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(d=0;d<ga.length;d++)Qe(ga[d],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":vl(c,m),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Qe("invalid",c);break;case"textarea":Ho(c,m),Qe("invalid",c)}Tn(a,m),d=null;for(var x in m)if(m.hasOwnProperty(x)){var C=m[x];x==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&Wl(c.textContent,C,n),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&Wl(c.textContent,C,n),d=["children",""+C]):o.hasOwnProperty(x)&&C!=null&&x==="onScroll"&&Qe("scroll",c)}switch(a){case"input":Si(c),Bo(c,m,!0);break;case"textarea":Si(c),Wr(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Gl)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{x=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=qo(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=x.createElement(a,{is:c.is}):(n=x.createElement(a),a==="select"&&(x=n,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):n=x.createElementNS(n,a),n[Jn]=s,n[_a]=c,Fm(n,s,!1,!1),s.stateNode=n;e:{switch(x=Ri(a,c),a){case"dialog":Qe("cancel",n),Qe("close",n),d=c;break;case"iframe":case"object":case"embed":Qe("load",n),d=c;break;case"video":case"audio":for(d=0;d<ga.length;d++)Qe(ga[d],n);d=c;break;case"source":Qe("error",n),d=c;break;case"img":case"image":case"link":Qe("error",n),Qe("load",n),d=c;break;case"details":Qe("toggle",n),d=c;break;case"input":vl(n,c),d=Ci(n,c),Qe("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ae({},c,{value:void 0}),Qe("invalid",n);break;case"textarea":Ho(n,c),d=$o(n,c),Qe("invalid",n);break;default:d=c}Tn(a,d),C=d;for(m in C)if(C.hasOwnProperty(m)){var R=C[m];m==="style"?Ni(n,R):m==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&wl(n,R)):m==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&Ms(n,R):typeof R=="number"&&Ms(n,""+R):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?R!=null&&m==="onScroll"&&Qe("scroll",n):R!=null&&re(n,m,R,x))}switch(a){case"input":Si(n),Bo(n,c,!1);break;case"textarea":Si(n),Wr(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ve(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?En(n,!!c.multiple,m,!1):c.defaultValue!=null&&En(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Gl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ot(s),null;case 6:if(n&&s.stateNode!=null)zm(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=ri(Ia.current),ri(Zn.current),eu(s)){if(c=s.stateNode,a=s.memoizedProps,c[Jn]=s,(m=c.nodeValue!==a)&&(n=un,n!==null))switch(n.tag){case 3:Wl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Wl(c.nodeValue,a,(n.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Jn]=s,s.stateNode=c}return Ot(s),null;case 13:if(Ye(Ze),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Je&&cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Hp(),ro(),s.flags|=98560,m=!1;else if(m=eu(s),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Jn]=s}else ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),m=!1}else An!==null&&(rd(An),An=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Ze.current&1)!==0?_t===0&&(_t=3):od())),s.updateQueue!==null&&(s.flags|=4),Ot(s),null);case 4:return ao(),Wh(n,s),n===null&&ya(s.stateNode.containerInfo),Ot(s),null;case 10:return wh(s.type._context),Ot(s),null;case 17:return Qt(s.type)&&Ql(),Ot(s),null;case 19:if(Ye(Ze),m=s.memoizedState,m===null)return Ot(s),null;if(c=(s.flags&128)!==0,x=m.rendering,x===null)if(c)Na(m,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=ou(n),x!==null){for(s.flags|=128,Na(m,!1),c=x.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,n=c,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,n=x.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return We(Ze,Ze.current&1|2),s.child}n=n.sibling}m.tail!==null&&Ke()>ho&&(s.flags|=128,c=!0,Na(m,!1),s.lanes=4194304)}else{if(!c)if(n=ou(x),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Na(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Je)return Ot(s),null}else 2*Ke()-m.renderingStartTime>ho&&a!==1073741824&&(s.flags|=128,c=!0,Na(m,!1),s.lanes=4194304);m.isBackwards?(x.sibling=s.child,s.child=x):(a=m.last,a!==null?a.sibling=x:s.child=x,m.last=x)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ke(),s.sibling=null,a=Ze.current,We(Ze,c?a&1|2:a&1),s):(Ot(s),null);case 22:case 23:return id(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(hn&1073741824)!==0&&(Ot(s),s.subtreeFlags&6&&(s.flags|=8192)):Ot(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Vw(n,s){switch(ph(s),s.tag){case 1:return Qt(s.type)&&Ql(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ao(),Ye(Kt),Ye(Vt),Ah(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Sh(s),null;case 13:if(Ye(Ze),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ro()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ye(Ze),null;case 4:return ao(),null;case 10:return wh(s.type._context),null;case 22:case 23:return id(),null;case 24:return null;default:return null}}var mu=!1,Mt=!1,Lw=typeof WeakSet=="function"?WeakSet:Set,le=null;function uo(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){it(n,s,c)}else a.current=null}function Gh(n,s,a){try{a()}catch(c){it(n,s,c)}}var Bm=!1;function Ow(n,s){if(ih=wr,n=wp(),Xc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,C=-1,R=-1,B=0,X=0,Z=n,Y=null;t:for(;;){for(var se;Z!==a||d!==0&&Z.nodeType!==3||(C=x+d),Z!==m||c!==0&&Z.nodeType!==3||(R=x+c),Z.nodeType===3&&(x+=Z.nodeValue.length),(se=Z.firstChild)!==null;)Y=Z,Z=se;for(;;){if(Z===n)break t;if(Y===a&&++B===d&&(C=x),Y===m&&++X===c&&(R=x),(se=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=se}a=C===-1||R===-1?null:{start:C,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(oh={focusedElem:n,selectionRange:a},wr=!1,le=s;le!==null;)if(s=le,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,le=n;else for(;le!==null;){s=le;try{var ue=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,lt=ue.memoizedState,O=s.stateNode,j=O.getSnapshotBeforeUpdate(s.elementType===s.type?he:kn(s.type,he),lt);O.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){it(s,s.return,ee)}if(n=s.sibling,n!==null){n.return=s.return,le=n;break}le=s.return}return ue=Bm,Bm=!1,ue}function Ra(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&Gh(s,a,m)}d=d.next}while(d!==c)}}function gu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Kh(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function $m(n){var s=n.alternate;s!==null&&(n.alternate=null,$m(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Jn],delete s[_a],delete s[ch],delete s[_w],delete s[ww])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Hm(n){return n.tag===5||n.tag===3||n.tag===4}function qm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Hm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Gl));else if(c!==4&&(n=n.child,n!==null))for(Qh(n,s,a),n=n.sibling;n!==null;)Qh(n,s,a),n=n.sibling}function Yh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Yh(n,s,a),n=n.sibling;n!==null;)Yh(n,s,a),n=n.sibling}var Nt=null,Nn=!1;function ps(n,s,a){for(a=a.child;a!==null;)Wm(n,s,a),a=a.sibling}function Wm(n,s,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount($s,a)}catch{}switch(a.tag){case 5:Mt||uo(a,s);case 6:var c=Nt,d=Nn;Nt=null,ps(n,s,a),Nt=c,Nn=d,Nt!==null&&(Nn?(n=Nt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(Nn?(n=Nt,a=a.stateNode,n.nodeType===8?uh(n.parentNode,a):n.nodeType===1&&uh(n,a),ss(n)):uh(Nt,a.stateNode));break;case 4:c=Nt,d=Nn,Nt=a.stateNode.containerInfo,Nn=!0,ps(n,s,a),Nt=c,Nn=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&Gh(a,s,x),d=d.next}while(d!==c)}ps(n,s,a);break;case 1:if(!Mt&&(uo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){it(a,s,C)}ps(n,s,a);break;case 21:ps(n,s,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,ps(n,s,a),Mt=c):ps(n,s,a);break;default:ps(n,s,a)}}function Gm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Lw),s.forEach(function(c){var d=Ww.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Rn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,x=s,C=x;e:for(;C!==null;){switch(C.tag){case 5:Nt=C.stateNode,Nn=!1;break e;case 3:Nt=C.stateNode.containerInfo,Nn=!0;break e;case 4:Nt=C.stateNode.containerInfo,Nn=!0;break e}C=C.return}if(Nt===null)throw Error(t(160));Wm(m,x,d),Nt=null,Nn=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch(B){it(d,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Km(s,n),s=s.sibling}function Km(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Rn(s,n),tr(n),c&4){try{Ra(3,n,n.return),gu(3,n)}catch(he){it(n,n.return,he)}try{Ra(5,n,n.return)}catch(he){it(n,n.return,he)}}break;case 1:Rn(s,n),tr(n),c&512&&a!==null&&uo(a,a.return);break;case 5:if(Rn(s,n),tr(n),c&512&&a!==null&&uo(a,a.return),n.flags&32){var d=n.stateNode;try{Ms(d,"")}catch(he){it(n,n.return,he)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,x=a!==null?a.memoizedProps:m,C=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&Ai(d,m),Ri(C,x);var B=Ri(C,m);for(x=0;x<R.length;x+=2){var X=R[x],Z=R[x+1];X==="style"?Ni(d,Z):X==="dangerouslySetInnerHTML"?wl(d,Z):X==="children"?Ms(d,Z):re(d,X,Z,B)}switch(C){case"input":Os(d,m);break;case"textarea":_l(d,m);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?En(d,!!m.multiple,se,!1):Y!==!!m.multiple&&(m.defaultValue!=null?En(d,!!m.multiple,m.defaultValue,!0):En(d,!!m.multiple,m.multiple?[]:"",!1))}d[_a]=m}catch(he){it(n,n.return,he)}}break;case 6:if(Rn(s,n),tr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(he){it(n,n.return,he)}}break;case 3:if(Rn(s,n),tr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ss(s.containerInfo)}catch(he){it(n,n.return,he)}break;case 4:Rn(s,n),tr(n);break;case 13:Rn(s,n),tr(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Zh=Ke())),c&4&&Gm(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(Mt=(B=Mt)||X,Rn(s,n),Mt=B):Rn(s,n),tr(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!X&&(n.mode&1)!==0)for(le=n,X=n.child;X!==null;){for(Z=le=X;le!==null;){switch(Y=le,se=Y.child,Y.tag){case 0:case 11:case 14:case 15:Ra(4,Y,Y.return);break;case 1:uo(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Y,a=Y.return;try{s=c,ue.props=s.memoizedProps,ue.state=s.memoizedState,ue.componentWillUnmount()}catch(he){it(c,a,he)}}break;case 5:uo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Xm(Z);continue}}se!==null?(se.return=Y,le=se):Xm(Z)}X=X.sibling}e:for(X=null,Z=n;;){if(Z.tag===5){if(X===null){X=Z;try{d=Z.stateNode,B?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=Z.stateNode,R=Z.memoizedProps.style,x=R!=null&&R.hasOwnProperty("display")?R.display:null,C.style.display=Qr("display",x))}catch(he){it(n,n.return,he)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(he){it(n,n.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Rn(s,n),tr(n),c&4&&Gm(n);break;case 21:break;default:Rn(s,n),tr(n)}}function tr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(Hm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Ms(d,""),c.flags&=-33);var m=qm(n);Yh(n,m,d);break;case 3:case 4:var x=c.stateNode.containerInfo,C=qm(n);Qh(n,C,x);break;default:throw Error(t(161))}}catch(R){it(n,n.return,R)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Mw(n,s,a){le=n,Qm(n)}function Qm(n,s,a){for(var c=(n.mode&1)!==0;le!==null;){var d=le,m=d.child;if(d.tag===22&&c){var x=d.memoizedState!==null||mu;if(!x){var C=d.alternate,R=C!==null&&C.memoizedState!==null||Mt;C=mu;var B=Mt;if(mu=x,(Mt=R)&&!B)for(le=d;le!==null;)x=le,R=x.child,x.tag===22&&x.memoizedState!==null?Jm(d):R!==null?(R.return=x,le=R):Jm(d);for(;m!==null;)le=m,Qm(m),m=m.sibling;le=d,mu=C,Mt=B}Ym(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,le=m):Ym(n)}}function Ym(n){for(;le!==null;){var s=le;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Mt||gu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:kn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Xp(s,m,c);break;case 3:var x=s.updateQueue;if(x!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Xp(s,x,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&ss(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||s.flags&512&&Kh(s)}catch(Y){it(s,s.return,Y)}}if(s===n){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function Xm(n){for(;le!==null;){var s=le;if(s===n){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function Jm(n){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{gu(4,s)}catch(R){it(s,a,R)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(R){it(s,d,R)}}var m=s.return;try{Kh(s)}catch(R){it(s,m,R)}break;case 5:var x=s.return;try{Kh(s)}catch(R){it(s,x,R)}}}catch(R){it(s,s.return,R)}if(s===n){le=null;break}var C=s.sibling;if(C!==null){C.return=s.return,le=C;break}le=s.return}}var Fw=Math.ceil,yu=_e.ReactCurrentDispatcher,Xh=_e.ReactCurrentOwner,vn=_e.ReactCurrentBatchConfig,Le=0,It=null,dt=null,Rt=0,hn=0,co=us(0),_t=0,Pa=null,ii=0,vu=0,Jh=0,ba=null,Xt=null,Zh=0,ho=1/0,Rr=null,_u=!1,ed=null,ms=null,wu=!1,gs=null,xu=0,ja=0,td=null,Eu=-1,Tu=0;function qt(){return(Le&6)!==0?Ke():Eu!==-1?Eu:Eu=Ke()}function ys(n){return(n.mode&1)===0?1:(Le&2)!==0&&Rt!==0?Rt&-Rt:Ew.transition!==null?(Tu===0&&(Tu=ea()),Tu):(n=je,n!==0||(n=window.event,n=n===void 0?16:Ui(n.type)),n)}function Pn(n,s,a,c){if(50<ja)throw ja=0,td=null,Error(t(185));Gs(n,a,c),((Le&2)===0||n!==It)&&(n===It&&((Le&2)===0&&(vu|=a),_t===4&&vs(n,Rt)),Jt(n,c),a===1&&Le===0&&(s.mode&1)===0&&(ho=Ke()+500,Xl&&hs()))}function Jt(n,s){var a=n.callbackNode;Ws(n,s);var c=yr(n,n===It?Rt:0);if(c===0)a!==null&&ji(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&ji(a),s===1)n.tag===0?xw(eg.bind(null,n)):Fp(eg.bind(null,n)),yw(function(){(Le&6)===0&&hs()}),a=null;else{switch(Bn(c)){case 1:a=Di;break;case 4:a=Xo;break;case 16:a=Bs;break;case 536870912:a=Vi;break;default:a=Bs}a=lg(a,Zm.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function Zm(n,s){if(Eu=-1,Tu=0,(Le&6)!==0)throw Error(t(327));var a=n.callbackNode;if(fo()&&n.callbackNode!==a)return null;var c=yr(n,n===It?Rt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=Iu(n,c);else{s=c;var d=Le;Le|=2;var m=ng();(It!==n||Rt!==s)&&(Rr=null,ho=Ke()+500,ai(n,s));do try{Bw();break}catch(C){tg(n,C)}while(!0);_h(),yu.current=m,Le=d,dt!==null?s=0:(It=null,Rt=0,s=_t)}if(s!==0){if(s===2&&(d=Zo(n),d!==0&&(c=d,s=nd(n,d))),s===1)throw a=Pa,ai(n,0),vs(n,c),Jt(n,Ke()),a;if(s===6)vs(n,c);else{if(d=n.current.alternate,(c&30)===0&&!Uw(d)&&(s=Iu(n,c),s===2&&(m=Zo(n),m!==0&&(c=m,s=nd(n,m))),s===1))throw a=Pa,ai(n,0),vs(n,c),Jt(n,Ke()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:li(n,Xt,Rr);break;case 3:if(vs(n,c),(c&130023424)===c&&(s=Zh+500-Ke(),10<s)){if(yr(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){qt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=lh(li.bind(null,n,Xt,Rr),s);break}li(n,Xt,Rr);break;case 4:if(vs(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var x=31-rn(c);m=1<<x,x=s[x],x>d&&(d=x),c&=~m}if(c=d,c=Ke()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Fw(c/1960))-c,10<c){n.timeoutHandle=lh(li.bind(null,n,Xt,Rr),c);break}li(n,Xt,Rr);break;case 5:li(n,Xt,Rr);break;default:throw Error(t(329))}}}return Jt(n,Ke()),n.callbackNode===a?Zm.bind(null,n):null}function nd(n,s){var a=ba;return n.current.memoizedState.isDehydrated&&(ai(n,s).flags|=256),n=Iu(n,s),n!==2&&(s=Xt,Xt=a,s!==null&&rd(s)),n}function rd(n){Xt===null?Xt=n:Xt.push.apply(Xt,n)}function Uw(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Cn(m(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vs(n,s){for(s&=~Jh,s&=~vu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-rn(s),c=1<<a;n[a]=-1,s&=~c}}function eg(n){if((Le&6)!==0)throw Error(t(327));fo();var s=yr(n,0);if((s&1)===0)return Jt(n,Ke()),null;var a=Iu(n,s);if(n.tag!==0&&a===2){var c=Zo(n);c!==0&&(s=c,a=nd(n,c))}if(a===1)throw a=Pa,ai(n,0),vs(n,s),Jt(n,Ke()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,li(n,Xt,Rr),Jt(n,Ke()),null}function sd(n,s){var a=Le;Le|=1;try{return n(s)}finally{Le=a,Le===0&&(ho=Ke()+500,Xl&&hs())}}function oi(n){gs!==null&&gs.tag===0&&(Le&6)===0&&fo();var s=Le;Le|=1;var a=vn.transition,c=je;try{if(vn.transition=null,je=1,n)return n()}finally{je=c,vn.transition=a,Le=s,(Le&6)===0&&hs()}}function id(){hn=co.current,Ye(co)}function ai(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,gw(a)),dt!==null)for(a=dt.return;a!==null;){var c=a;switch(ph(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ql();break;case 3:ao(),Ye(Kt),Ye(Vt),Ah();break;case 5:Sh(c);break;case 4:ao();break;case 13:Ye(Ze);break;case 19:Ye(Ze);break;case 10:wh(c.type._context);break;case 22:case 23:id()}a=a.return}if(It=n,dt=n=_s(n.current,null),Rt=hn=s,_t=0,Pa=null,Jh=vu=ii=0,Xt=ba=null,ni!==null){for(s=0;s<ni.length;s++)if(a=ni[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var x=m.next;m.next=d,c.next=x}a.pending=c}ni=null}return n}function tg(n,s){do{var a=dt;try{if(_h(),au.current=hu,lu){for(var c=et.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}lu=!1}if(si=0,Tt=vt=et=null,Sa=!1,Ca=0,Xh.current=null,a===null||a.return===null){_t=1,Pa=s,dt=null;break}e:{var m=n,x=a.return,C=a,R=s;if(s=Rt,C.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=R,X=C,Z=X.tag;if((X.mode&1)===0&&(Z===0||Z===11||Z===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var se=Cm(x);if(se!==null){se.flags&=-257,Am(se,x,C,m,s),se.mode&1&&Sm(m,B,s),s=se,R=B;var ue=s.updateQueue;if(ue===null){var he=new Set;he.add(R),s.updateQueue=he}else ue.add(R);break e}else{if((s&1)===0){Sm(m,B,s),od();break e}R=Error(t(426))}}else if(Je&&C.mode&1){var lt=Cm(x);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),Am(lt,x,C,m,s),yh(lo(R,C));break e}}m=R=lo(R,C),_t!==4&&(_t=2),ba===null?ba=[m]:ba.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var O=Tm(m,R,s);Yp(m,O);break e;case 1:C=R;var j=m.type,z=m.stateNode;if((m.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ms===null||!ms.has(z)))){m.flags|=65536,s&=-s,m.lanes|=s;var ee=Im(m,C,s);Yp(m,ee);break e}}m=m.return}while(m!==null)}sg(a)}catch(de){s=de,dt===a&&a!==null&&(dt=a=a.return);continue}break}while(!0)}function ng(){var n=yu.current;return yu.current=hu,n===null?hu:n}function od(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||(ii&268435455)===0&&(vu&268435455)===0||vs(It,Rt)}function Iu(n,s){var a=Le;Le|=2;var c=ng();(It!==n||Rt!==s)&&(Rr=null,ai(n,s));do try{zw();break}catch(d){tg(n,d)}while(!0);if(_h(),Le=a,yu.current=c,dt!==null)throw Error(t(261));return It=null,Rt=0,_t}function zw(){for(;dt!==null;)rg(dt)}function Bw(){for(;dt!==null&&!zs();)rg(dt)}function rg(n){var s=ag(n.alternate,n,hn);n.memoizedProps=n.pendingProps,s===null?sg(n):dt=s,Xh.current=null}function sg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=Dw(a,s,hn),a!==null){dt=a;return}}else{if(a=Vw(a,s),a!==null){a.flags&=32767,dt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_t=6,dt=null;return}}if(s=s.sibling,s!==null){dt=s;return}dt=s=n}while(s!==null);_t===0&&(_t=5)}function li(n,s,a){var c=je,d=vn.transition;try{vn.transition=null,je=1,$w(n,s,a,c)}finally{vn.transition=d,je=c}return null}function $w(n,s,a,c){do fo();while(gs!==null);if((Le&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Wc(n,m),n===It&&(dt=It=null,Rt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||wu||(wu=!0,lg(Bs,function(){return fo(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=vn.transition,vn.transition=null;var x=je;je=1;var C=Le;Le|=4,Xh.current=null,Ow(n,a),Km(a,n),uw(oh),wr=!!ih,oh=ih=null,n.current=a,Mw(a),gr(),Le=C,je=x,vn.transition=m}else n.current=a;if(wu&&(wu=!1,gs=n,xu=d),m=n.pendingLanes,m===0&&(ms=null),Pl(a.stateNode),Jt(n,Ke()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(_u)throw _u=!1,n=ed,ed=null,n;return(xu&1)!==0&&n.tag!==0&&fo(),m=n.pendingLanes,(m&1)!==0?n===td?ja++:(ja=0,td=n):ja=0,hs(),null}function fo(){if(gs!==null){var n=Bn(xu),s=vn.transition,a=je;try{if(vn.transition=null,je=16>n?16:n,gs===null)var c=!1;else{if(n=gs,gs=null,xu=0,(Le&6)!==0)throw Error(t(331));var d=Le;for(Le|=4,le=n.current;le!==null;){var m=le,x=m.child;if((le.flags&16)!==0){var C=m.deletions;if(C!==null){for(var R=0;R<C.length;R++){var B=C[R];for(le=B;le!==null;){var X=le;switch(X.tag){case 0:case 11:case 15:Ra(8,X,m)}var Z=X.child;if(Z!==null)Z.return=X,le=Z;else for(;le!==null;){X=le;var Y=X.sibling,se=X.return;if($m(X),X===B){le=null;break}if(Y!==null){Y.return=se,le=Y;break}le=se}}}var ue=m.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var lt=he.sibling;he.sibling=null,he=lt}while(he!==null)}}le=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,le=x;else e:for(;le!==null;){if(m=le,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Ra(9,m,m.return)}var O=m.sibling;if(O!==null){O.return=m.return,le=O;break e}le=m.return}}var j=n.current;for(le=j;le!==null;){x=le;var z=x.child;if((x.subtreeFlags&2064)!==0&&z!==null)z.return=x,le=z;else e:for(x=j;le!==null;){if(C=le,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:gu(9,C)}}catch(de){it(C,C.return,de)}if(C===x){le=null;break e}var ee=C.sibling;if(ee!==null){ee.return=C.return,le=ee;break e}le=C.return}}if(Le=d,hs(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot($s,n)}catch{}c=!0}return c}finally{je=a,vn.transition=s}}return!1}function ig(n,s,a){s=lo(a,s),s=Tm(n,s,1),n=fs(n,s,1),s=qt(),n!==null&&(Gs(n,1,s),Jt(n,s))}function it(n,s,a){if(n.tag===3)ig(n,n,a);else for(;s!==null;){if(s.tag===3){ig(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ms===null||!ms.has(c))){n=lo(a,n),n=Im(s,n,1),s=fs(s,n,1),n=qt(),s!==null&&(Gs(s,1,n),Jt(s,n));break}}s=s.return}}function Hw(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=qt(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Rt&a)===a&&(_t===4||_t===3&&(Rt&130023424)===Rt&&500>Ke()-Zh?ai(n,0):Jh|=a),Jt(n,s)}function og(n,s){s===0&&((n.mode&1)===0?s=1:(s=ts,ts<<=1,(ts&130023424)===0&&(ts=4194304)));var a=qt();n=Ar(n,s),n!==null&&(Gs(n,s,a),Jt(n,a))}function qw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),og(n,a)}function Ww(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),og(n,a)}var ag;ag=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Kt.current)Yt=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Yt=!1,jw(n,s,a);Yt=(n.flags&131072)!==0}else Yt=!1,Je&&(s.flags&1048576)!==0&&Up(s,Zl,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;pu(n,s),n=s.pendingProps;var d=eo(s,Vt.current);oo(s,a),d=Rh(null,s,c,n,d,a);var m=Ph();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Qt(c)?(m=!0,Yl(s)):m=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Th(s),d.updater=du,s.stateNode=d,d._reactInternals=s,Oh(s,c,n,a),s=zh(null,s,c,!0,m,a)):(s.tag=0,Je&&m&&fh(s),Ht(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(pu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=Kw(c),n=kn(c,n),d){case 0:s=Uh(null,s,c,n,a);break e;case 1:s=jm(null,s,c,n,a);break e;case 11:s=km(null,s,c,n,a);break e;case 14:s=Nm(null,s,c,kn(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:kn(c,d),Uh(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:kn(c,d),jm(n,s,c,d,a);case 3:e:{if(Dm(s),n===null)throw Error(t(387));c=s.pendingProps,m=s.memoizedState,d=m.element,Qp(n,s),iu(s,c,null,a);var x=s.memoizedState;if(c=x.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){d=lo(Error(t(423)),s),s=Vm(n,s,c,a,d);break e}else if(c!==d){d=lo(Error(t(424)),s),s=Vm(n,s,c,a,d);break e}else for(cn=ls(s.stateNode.containerInfo.firstChild),un=s,Je=!0,An=null,a=Gp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ro(),c===d){s=Nr(n,s,a);break e}Ht(n,s,c,a)}s=s.child}return s;case 5:return Jp(s),n===null&&gh(s),c=s.type,d=s.pendingProps,m=n!==null?n.memoizedProps:null,x=d.children,ah(c,d)?x=null:m!==null&&ah(c,m)&&(s.flags|=32),bm(n,s),Ht(n,s,x,a),s.child;case 6:return n===null&&gh(s),null;case 13:return Lm(n,s,a);case 4:return Ih(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=so(s,null,c,a):Ht(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:kn(c,d),km(n,s,c,d,a);case 7:return Ht(n,s,s.pendingProps,a),s.child;case 8:return Ht(n,s,s.pendingProps.children,a),s.child;case 12:return Ht(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,m=s.memoizedProps,x=d.value,We(nu,c._currentValue),c._currentValue=x,m!==null)if(Cn(m.value,x)){if(m.children===d.children&&!Kt.current){s=Nr(n,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var C=m.dependencies;if(C!==null){x=m.child;for(var R=C.firstContext;R!==null;){if(R.context===c){if(m.tag===1){R=kr(-1,a&-a),R.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?R.next=R:(R.next=X.next,X.next=R),B.pending=R}}m.lanes|=a,R=m.alternate,R!==null&&(R.lanes|=a),xh(m.return,a,s),C.lanes|=a;break}R=R.next}}else if(m.tag===10)x=m.type===s.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(t(341));x.lanes|=a,C=x.alternate,C!==null&&(C.lanes|=a),xh(x,a,s),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}Ht(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,oo(s,a),d=gn(d),c=c(d),s.flags|=1,Ht(n,s,c,a),s.child;case 14:return c=s.type,d=kn(c,s.pendingProps),d=kn(c.type,d),Nm(n,s,c,d,a);case 15:return Rm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:kn(c,d),pu(n,s),s.tag=1,Qt(c)?(n=!0,Yl(s)):n=!1,oo(s,a),xm(s,c,d),Oh(s,c,d,a),zh(null,s,c,!0,n,a);case 19:return Mm(n,s,a);case 22:return Pm(n,s,a)}throw Error(t(156,s.tag))};function lg(n,s){return Yo(n,s)}function Gw(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,s,a,c){return new Gw(n,s,a,c)}function ad(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Kw(n){if(typeof n=="function")return ad(n)?1:0;if(n!=null){if(n=n.$$typeof,n===D)return 11;if(n===rt)return 14}return 2}function _s(n,s){var a=n.alternate;return a===null?(a=_n(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Su(n,s,a,c,d,m){var x=2;if(c=n,typeof n=="function")ad(n)&&(x=1);else if(typeof n=="string")x=5;else e:switch(n){case N:return ui(a.children,d,m,s);case I:x=8,d|=8;break;case A:return n=_n(12,a,s,d|2),n.elementType=A,n.lanes=m,n;case k:return n=_n(13,a,s,d),n.elementType=k,n.lanes=m,n;case Fe:return n=_n(19,a,s,d),n.elementType=Fe,n.lanes=m,n;case qe:return Cu(a,d,m,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:x=10;break e;case P:x=9;break e;case D:x=11;break e;case rt:x=14;break e;case Et:x=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=_n(x,a,s,d),s.elementType=n,s.type=c,s.lanes=m,s}function ui(n,s,a,c){return n=_n(7,n,c,s),n.lanes=a,n}function Cu(n,s,a,c){return n=_n(22,n,c,s),n.elementType=qe,n.lanes=a,n.stateNode={isHidden:!1},n}function ld(n,s,a){return n=_n(6,n,null,s),n.lanes=a,n}function ud(n,s,a){return s=_n(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Qw(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ta(0),this.expirationTimes=ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function cd(n,s,a,c,d,m,x,C,R){return n=new Qw(n,s,a,C,R),s===1?(s=1,m===!0&&(s|=8)):s=0,m=_n(3,null,null,s),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(m),n}function Yw(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function ug(n){if(!n)return cs;n=n._reactInternals;e:{if(In(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Qt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Qt(a))return Op(n,a,s)}return s}function cg(n,s,a,c,d,m,x,C,R){return n=cd(a,c,!0,n,d,m,x,C,R),n.context=ug(null),a=n.current,c=qt(),d=ys(a),m=kr(c,d),m.callback=s??null,fs(a,m,d),n.current.lanes=d,Gs(n,d,c),Jt(n,c),n}function Au(n,s,a,c){var d=s.current,m=qt(),x=ys(d);return a=ug(a),s.context===null?s.context=a:s.pendingContext=a,s=kr(m,x),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=fs(d,s,x),n!==null&&(Pn(n,d,x,m),su(n,d,x)),x}function ku(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function hg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function hd(n,s){hg(n,s),(n=n.alternate)&&hg(n,s)}function Xw(){return null}var dg=typeof reportError=="function"?reportError:function(n){console.error(n)};function dd(n){this._internalRoot=n}Nu.prototype.render=dd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Au(n,s,null,null)},Nu.prototype.unmount=dd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;oi(function(){Au(null,n,null,null)}),s[Tr]=null}};function Nu(n){this._internalRoot=n}Nu.prototype.unstable_scheduleHydration=function(n){if(n){var s=ia();n={blockedOn:null,target:n,priority:s};for(var a=0;a<sn.length&&s!==0&&s<sn[a].priority;a++);sn.splice(a,0,n),a===0&&Mi(n)}};function fd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ru(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function fg(){}function Jw(n,s,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var B=ku(x);m.call(B)}}var x=cg(s,c,n,0,null,!1,!1,"",fg);return n._reactRootContainer=x,n[Tr]=x.current,ya(n.nodeType===8?n.parentNode:n),oi(),x}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var B=ku(R);C.call(B)}}var R=cd(n,0,!1,null,null,!1,!1,"",fg);return n._reactRootContainer=R,n[Tr]=R.current,ya(n.nodeType===8?n.parentNode:n),oi(function(){Au(s,R,a,c)}),R}function Pu(n,s,a,c,d){var m=a._reactRootContainer;if(m){var x=m;if(typeof d=="function"){var C=d;d=function(){var R=ku(x);C.call(R)}}Au(s,x,n,d)}else x=Jw(a,s,n,d,c);return ku(x)}ra=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Me(s.pendingLanes);a!==0&&(na(s,a|1),Jt(s,Ke()),(Le&6)===0&&(ho=Ke()+500,hs()))}break;case 13:oi(function(){var c=Ar(n,1);if(c!==null){var d=qt();Pn(c,n,1,d)}}),hd(n,1)}},Li=function(n){if(n.tag===13){var s=Ar(n,134217728);if(s!==null){var a=qt();Pn(s,n,134217728,a)}hd(n,134217728)}},sa=function(n){if(n.tag===13){var s=ys(n),a=Ar(n,s);if(a!==null){var c=qt();Pn(a,n,s,c)}hd(n,s)}},ia=function(){return je},oa=function(n,s){var a=je;try{return je=n,s()}finally{je=a}},fr=function(n,s,a){switch(s){case"input":if(Os(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=Kl(c);if(!d)throw Error(t(90));zo(c),Os(c,d)}}}break;case"textarea":_l(n,a);break;case"select":s=a.value,s!=null&&En(n,!!a.multiple,s,!1)}},El=sd,Tl=oi;var Zw={usingClientEntryPoint:!1,Events:[wa,Ji,Kl,Xr,Jr,sd]},Da={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ex={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_e.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Rl(n),n===null?null:n.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||Xw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{$s=bu.inject(ex),nn=bu}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zw,Zt.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fd(s))throw Error(t(200));return Yw(n,s,null,a)},Zt.createRoot=function(n,s){if(!fd(n))throw Error(t(299));var a=!1,c="",d=dg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=cd(n,1,!1,null,null,a,!1,c,d),n[Tr]=s.current,ya(n.nodeType===8?n.parentNode:n),new dd(s)},Zt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Rl(s),n=n===null?null:n.stateNode,n},Zt.flushSync=function(n){return oi(n)},Zt.hydrate=function(n,s,a){if(!Ru(s))throw Error(t(200));return Pu(null,n,s,!0,a)},Zt.hydrateRoot=function(n,s,a){if(!fd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",x=dg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),s=cg(s,null,n,1,a??null,d,!1,m,x),n[Tr]=s.current,ya(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Nu(s)},Zt.render=function(n,s,a){if(!Ru(s))throw Error(t(200));return Pu(null,n,s,!1,a)},Zt.unmountComponentAtNode=function(n){if(!Ru(n))throw Error(t(40));return n._reactRootContainer?(oi(function(){Pu(null,null,n,!1,function(){n._reactRootContainer=null,n[Tr]=null})}),!0):!1},Zt.unstable_batchedUpdates=sd,Zt.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Ru(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Pu(n,s,a,!1,c)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var xg;function ux(){if(xg)return gd.exports;xg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gd.exports=lx(),gd.exports}var Eg;function cx(){if(Eg)return ju;Eg=1;var r=ux();return ju.createRoot=r.createRoot,ju.hydrateRoot=r.hydrateRoot,ju}var hx=cx();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tg="popstate";function dx(r={}){function e(i,o){let{pathname:l,search:h,hash:p}=i.location;return Dd("",{pathname:l,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Ka(o)}return px(e,t,null,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ur(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fx(){return Math.random().toString(36).substring(2,10)}function Ig(r,e){return{usr:r.state,key:r.key,idx:e}}function Dd(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Po(e):e,state:t,key:e&&e.key||i||fx()}}function Ka({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Po(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function px(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,p="POP",y=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function E(){p="POP";let F=w(),G=F==null?null:F-v;v=F,y&&y({action:p,location:q.location,delta:G})}function S(F,G){p="PUSH";let J=Dd(q.location,F,G);v=w()+1;let re=Ig(J,v),_e=q.createHref(J);try{h.pushState(re,"",_e)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(_e)}l&&y&&y({action:p,location:q.location,delta:1})}function V(F,G){p="REPLACE";let J=Dd(q.location,F,G);v=w();let re=Ig(J,v),_e=q.createHref(J);h.replaceState(re,"",_e),l&&y&&y({action:p,location:q.location,delta:0})}function H(F){return mx(F)}let q={get action(){return p},get location(){return r(o,h)},listen(F){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Tg,E),y=F,()=>{o.removeEventListener(Tg,E),y=null}},createHref(F){return e(o,F)},createURL:H,encodeLocation(F){let G=H(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:S,replace:V,go(F){return h.go(F)}};return q}function mx(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Ka(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function iv(r,e,t="/"){return gx(r,e,t,!1)}function gx(r,e,t,i){let o=typeof e=="string"?Po(e):e,l=Or(o.pathname||"/",t);if(l==null)return null;let h=ov(r);yx(h);let p=null;for(let y=0;p==null&&y<h.length;++y){let v=kx(l);p=Cx(h[y],v,i)}return p}function ov(r,e=[],t=[],i="",o=!1){let l=(h,p,y=o,v)=>{let w={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(i)&&y)return;tt(w.relativePath.startsWith(i),`Absolute route path "${w.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(i.length)}let E=Dr([i,w.relativePath]),S=t.concat(w);h.children&&h.children.length>0&&(tt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),ov(h.children,e,S,E,y)),!(h.path==null&&!h.index)&&e.push({path:E,score:Ix(E,h.index),routesMeta:S})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))l(h,p);else for(let y of av(h.path))l(h,p,!0,y)}),e}function av(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=av(i.join("/")),p=[];return p.push(...h.map(y=>y===""?l:[l,y].join("/"))),o&&p.push(...h),p.map(y=>r.startsWith("/")&&y===""?"/":y)}function yx(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Sx(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var vx=/^:[\w-]+$/,_x=3,wx=2,xx=1,Ex=10,Tx=-2,Sg=r=>r==="*";function Ix(r,e){let t=r.split("/"),i=t.length;return t.some(Sg)&&(i+=Tx),e&&(i+=wx),t.filter(o=>!Sg(o)).reduce((o,l)=>o+(vx.test(l)?_x:l===""?xx:Ex),i)}function Sx(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function Cx(r,e,t=!1){let{routesMeta:i}=r,o={},l="/",h=[];for(let p=0;p<i.length;++p){let y=i[p],v=p===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",E=ec({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},w),S=y.route;if(!E&&v&&t&&!i[i.length-1].route.index&&(E=ec({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:Dr([l,E.pathname]),pathnameBase:bx(Dr([l,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(l=Dr([l,E.pathnameBase]))}return h}function ec(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=Ax(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((v,{paramName:w,isOptional:E},S)=>{if(w==="*"){let H=p[S]||"";h=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const V=p[S];return E&&!V?v[w]=void 0:v[w]=(V||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:r}}function Ax(r,e=!1,t=!0){ur(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,y)=>(i.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function kx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function Nx(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Po(r):r;return{pathname:t?t.startsWith("/")?t:Rx(t,e):e,search:jx(i),hash:Dx(o)}}function Rx(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function _d(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Px(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lv(r){let e=Px(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function uv(r,e,t,i=!1){let o;typeof r=="string"?o=Po(r):(o={...r},tt(!o.pathname||!o.pathname.includes("?"),_d("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),_d("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),_d("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,p;if(h==null)p=t;else{let E=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}p=E>=0?e[E]:"/"}let y=Nx(o,p),v=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(v||w)&&(y.pathname+="/"),y}var Dr=r=>r.join("/").replace(/\/\/+/g,"/"),bx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Dx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Vx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var cv=["POST","PUT","PATCH","DELETE"];new Set(cv);var Lx=["GET",...cv];new Set(Lx);var bo=U.createContext(null);bo.displayName="DataRouter";var Ec=U.createContext(null);Ec.displayName="DataRouterState";U.createContext(!1);var hv=U.createContext({isTransitioning:!1});hv.displayName="ViewTransition";var Ox=U.createContext(new Map);Ox.displayName="Fetchers";var Mx=U.createContext(null);Mx.displayName="Await";var dr=U.createContext(null);dr.displayName="Navigation";var rl=U.createContext(null);rl.displayName="Location";var Br=U.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var cf=U.createContext(null);cf.displayName="RouteError";function Fx(r,{relative:e}={}){tt(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(dr),{hash:o,pathname:l,search:h}=il(r,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Dr([t,l])),i.createHref({pathname:p,search:h,hash:o})}function sl(){return U.useContext(rl)!=null}function $r(){return tt(sl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(rl).location}var dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fv(r){U.useContext(dr).static||U.useLayoutEffect(r)}function Tc(){let{isDataRoute:r}=U.useContext(Br);return r?Jx():Ux()}function Ux(){tt(sl(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(bo),{basename:e,navigator:t}=U.useContext(dr),{matches:i}=U.useContext(Br),{pathname:o}=$r(),l=JSON.stringify(lv(i)),h=U.useRef(!1);return fv(()=>{h.current=!0}),U.useCallback((y,v={})=>{if(ur(h.current,dv),!h.current)return;if(typeof y=="number"){t.go(y);return}let w=uv(y,JSON.parse(l),o,v.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Dr([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,l,o,r])}U.createContext(null);function il(r,{relative:e}={}){let{matches:t}=U.useContext(Br),{pathname:i}=$r(),o=JSON.stringify(lv(t));return U.useMemo(()=>uv(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function zx(r,e){return pv(r,e)}function pv(r,e,t,i,o){tt(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext(dr),{matches:h}=U.useContext(Br),p=h[h.length-1],y=p?p.params:{},v=p?p.pathname:"/",w=p?p.pathnameBase:"/",E=p&&p.route;{let J=E&&E.path||"";mv(v,!E||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let S=$r(),V;if(e){let J=typeof e=="string"?Po(e):e;tt(w==="/"||J.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${J.pathname}" was given in the \`location\` prop.`),V=J}else V=S;let H=V.pathname||"/",q=H;if(w!=="/"){let J=w.replace(/^\//,"").split("/");q="/"+H.replace(/^\//,"").split("/").slice(J.length).join("/")}let F=iv(r,{pathname:q});ur(E||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),ur(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=Wx(F&&F.map(J=>Object.assign({},J,{params:Object.assign({},y,J.params),pathname:Dr([w,l.encodeLocation?l.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?w:Dr([w,l.encodeLocation?l.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),h,t,i,o);return e&&G?U.createElement(rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},G):G}function Bx(){let r=Xx(),e=Vx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,h)}var $x=U.createElement(Bx,null),Hx=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(Br.Provider,{value:this.props.routeContext},U.createElement(cf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qx({routeContext:r,match:e,children:t}){let i=U.useContext(bo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Br.Provider,{value:r},t)}function Wx(r,e=[],t=null,i=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,h=t?.errors;if(h!=null){let v=l.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let p=!1,y=-1;if(t)for(let v=0;v<l.length;v++){let w=l[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=v),w.route.id){let{loaderData:E,errors:S}=t,V=w.route.loader&&!E.hasOwnProperty(w.route.id)&&(!S||S[w.route.id]===void 0);if(w.route.lazy||V){p=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}return l.reduceRight((v,w,E)=>{let S,V=!1,H=null,q=null;t&&(S=h&&w.route.id?h[w.route.id]:void 0,H=w.route.errorElement||$x,p&&(y<0&&E===0?(mv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,q=null):y===E&&(V=!0,q=w.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,E+1)),G=()=>{let J;return S?J=H:V?J=q:w.route.Component?J=U.createElement(w.route.Component,null):w.route.element?J=w.route.element:J=v,U.createElement(qx,{match:w,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:J})};return t&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?U.createElement(Hx,{location:t.location,revalidation:t.revalidation,component:H,error:S,children:G(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:i}):G()},null)}function hf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gx(r){let e=U.useContext(bo);return tt(e,hf(r)),e}function Kx(r){let e=U.useContext(Ec);return tt(e,hf(r)),e}function Qx(r){let e=U.useContext(Br);return tt(e,hf(r)),e}function df(r){let e=Qx(r),t=e.matches[e.matches.length-1];return tt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Yx(){return df("useRouteId")}function Xx(){let r=U.useContext(cf),e=Kx("useRouteError"),t=df("useRouteError");return r!==void 0?r:e.errors?.[t]}function Jx(){let{router:r}=Gx("useNavigate"),e=df("useNavigate"),t=U.useRef(!1);return fv(()=>{t.current=!0}),U.useCallback(async(o,l={})=>{ur(t.current,dv),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Cg={};function mv(r,e,t){!e&&!Cg[r]&&(Cg[r]=!0,ur(!1,t))}U.memo(Zx);function Zx({routes:r,future:e,state:t,unstable_onError:i}){return pv(r,void 0,t,i,e)}function Wt(r){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eE({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){tt(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Po(t));let{pathname:y="/",search:v="",hash:w="",state:E=null,key:S="default"}=t,V=U.useMemo(()=>{let H=Or(y,h);return H==null?null:{location:{pathname:H,search:v,hash:w,state:E,key:S},navigationType:i}},[h,y,v,w,E,S,i]);return ur(V!=null,`<Router basename="${h}"> is not able to match the URL "${y}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:U.createElement(dr.Provider,{value:p},U.createElement(rl.Provider,{children:e,value:V}))}function tE({children:r,location:e}){return zx(Vd(r),e)}function Vd(r,e=[]){let t=[];return U.Children.forEach(r,(i,o)=>{if(!U.isValidElement(i))return;let l=[...e,o];if(i.type===U.Fragment){t.push.apply(t,Vd(i.props.children,l));return}tt(i.type===Wt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Vd(i.props.children,l)),t.push(h)}),t}var Bu="get",$u="application/x-www-form-urlencoded";function Ic(r){return r!=null&&typeof r.tagName=="string"}function nE(r){return Ic(r)&&r.tagName.toLowerCase()==="button"}function rE(r){return Ic(r)&&r.tagName.toLowerCase()==="form"}function sE(r){return Ic(r)&&r.tagName.toLowerCase()==="input"}function iE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function oE(r,e){return r.button===0&&(!e||e==="_self")&&!iE(r)}var Du=null;function aE(){if(Du===null)try{new FormData(document.createElement("form"),0),Du=!1}catch{Du=!0}return Du}var lE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wd(r){return r!=null&&!lE.has(r)?(ur(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$u}"`),null):r}function uE(r,e){let t,i,o,l,h;if(rE(r)){let p=r.getAttribute("action");i=p?Or(p,e):null,t=r.getAttribute("method")||Bu,o=wd(r.getAttribute("enctype"))||$u,l=new FormData(r)}else if(nE(r)||sE(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||p.getAttribute("action");if(i=y?Or(y,e):null,t=r.getAttribute("formmethod")||p.getAttribute("method")||Bu,o=wd(r.getAttribute("formenctype"))||wd(p.getAttribute("enctype"))||$u,l=new FormData(p,r),!aE()){let{name:v,type:w,value:E}=r;if(w==="image"){let S=v?`${v}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else v&&l.append(v,E)}}else{if(Ic(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bu,i=null,o=$u,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ff(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function cE(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Or(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function hE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fE(r,e,t){let i=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await hE(l,t);return h.links?h.links():[]}return[]}));return yE(i.flat(1).filter(dE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ag(r,e,t,i,o,l){let h=(y,v)=>t[v]?y.route.id!==t[v].route.id:!0,p=(y,v)=>t[v].pathname!==y.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==y.params["*"];return l==="assets"?e.filter((y,v)=>h(y,v)||p(y,v)):l==="data"?e.filter((y,v)=>{let w=i.routes[y.route.id];if(!w||!w.hasLoader)return!1;if(h(y,v)||p(y,v))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function pE(r,e,{includeHydrateFallback:t}={}){return mE(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function mE(r){return[...new Set(r)]}function gE(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function yE(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let l=JSON.stringify(gE(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function gv(){let r=U.useContext(bo);return ff(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function vE(){let r=U.useContext(Ec);return ff(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var pf=U.createContext(void 0);pf.displayName="FrameworkContext";function yv(){let r=U.useContext(pf);return ff(r,"You must render this element inside a <HydratedRouter> element"),r}function _E(r,e){let t=U.useContext(pf),[i,o]=U.useState(!1),[l,h]=U.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:v,onMouseLeave:w,onTouchStart:E}=e,S=U.useRef(null);U.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let q=G=>{G.forEach(J=>{h(J.isIntersecting)})},F=new IntersectionObserver(q,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),U.useEffect(()=>{if(i){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[i]);let V=()=>{o(!0)},H=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:La(p,V),onBlur:La(y,H),onMouseEnter:La(v,V),onMouseLeave:La(w,H),onTouchStart:La(E,V)}]:[!1,S,{}]}function La(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function wE({page:r,...e}){let{router:t}=gv(),i=U.useMemo(()=>iv(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?U.createElement(EE,{page:r,matches:i,...e}):null}function xE(r){let{manifest:e,routeModules:t}=yv(),[i,o]=U.useState([]);return U.useEffect(()=>{let l=!1;return fE(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),i}function EE({page:r,matches:e,...t}){let i=$r(),{manifest:o,routeModules:l}=yv(),{basename:h}=gv(),{loaderData:p,matches:y}=vE(),v=U.useMemo(()=>Ag(r,e,y,o,i,"data"),[r,e,y,o,i]),w=U.useMemo(()=>Ag(r,e,y,o,i,"assets"),[r,e,y,o,i]),E=U.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let H=new Set,q=!1;if(e.forEach(G=>{let J=o.routes[G.route.id];!J||!J.hasLoader||(!v.some(re=>re.route.id===G.route.id)&&G.route.id in p&&l[G.route.id]?.shouldRevalidate||J.hasClientLoader?q=!0:H.add(G.route.id))}),H.size===0)return[];let F=cE(r,h,"data");return q&&H.size>0&&F.searchParams.set("_routes",e.filter(G=>H.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[h,p,i,o,v,e,r,l]),S=U.useMemo(()=>pE(w,o),[w,o]),V=xE(w);return U.createElement(U.Fragment,null,E.map(H=>U.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...t})),S.map(H=>U.createElement("link",{key:H,rel:"modulepreload",href:H,...t})),V.map(({key:H,link:q})=>U.createElement("link",{key:H,nonce:t.nonce,...q})))}function TE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vv&&(window.__reactRouterVersion="7.9.2")}catch{}function IE({basename:r,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=dx({window:t,v5Compat:!0}));let o=i.current,[l,h]=U.useState({action:o.action,location:o.location}),p=U.useCallback(y=>{U.startTransition(()=>h(y))},[h]);return U.useLayoutEffect(()=>o.listen(p),[o,p]),U.createElement(eE,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var _v=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:p,target:y,to:v,preventScrollReset:w,viewTransition:E,...S},V){let{basename:H}=U.useContext(dr),q=typeof v=="string"&&_v.test(v),F,G=!1;if(typeof v=="string"&&q&&(F=v,vv))try{let A=new URL(window.location.href),b=v.startsWith("//")?new URL(A.protocol+v):new URL(v),P=Or(b.pathname,H);b.origin===A.origin&&P!=null?v=P+b.search+b.hash:G=!0}catch{ur(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=Fx(v,{relative:o}),[re,_e,me]=_E(i,S),ce=kE(v,{replace:h,state:p,target:y,preventScrollReset:w,relative:o,viewTransition:E});function N(A){e&&e(A),A.defaultPrevented||ce(A)}let I=U.createElement("a",{...S,...me,href:F||J,onClick:G||l?e:N,ref:TE(V,_e),target:y,"data-discover":!q&&t==="render"?"true":void 0});return re&&!q?U.createElement(U.Fragment,null,I,U.createElement(wE,{page:J})):I});pt.displayName="Link";var SE=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:p,children:y,...v},w){let E=il(h,{relative:v.relative}),S=$r(),V=U.useContext(Ec),{navigator:H,basename:q}=U.useContext(dr),F=V!=null&&jE(E)&&p===!0,G=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,J=S.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(J=J.toLowerCase(),re=re?re.toLowerCase():null,G=G.toLowerCase()),re&&q&&(re=Or(re,q)||re);const _e=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let me=J===G||!o&&J.startsWith(G)&&J.charAt(_e)==="/",ce=re!=null&&(re===G||!o&&re.startsWith(G)&&re.charAt(G.length)==="/"),N={isActive:me,isPending:ce,isTransitioning:F},I=me?e:void 0,A;typeof i=="function"?A=i(N):A=[i,me?"active":null,ce?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let b=typeof l=="function"?l(N):l;return U.createElement(pt,{...v,"aria-current":I,className:A,ref:w,style:b,to:h,viewTransition:p},typeof y=="function"?y(N):y)});SE.displayName="NavLink";var CE=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=Bu,action:p,onSubmit:y,relative:v,preventScrollReset:w,viewTransition:E,...S},V)=>{let H=PE(),q=bE(p,{relative:v}),F=h.toLowerCase()==="get"?"get":"post",G=typeof p=="string"&&_v.test(p),J=re=>{if(y&&y(re),re.defaultPrevented)return;re.preventDefault();let _e=re.nativeEvent.submitter,me=_e?.getAttribute("formmethod")||h;H(_e||re.currentTarget,{fetcherKey:e,method:me,navigate:t,replace:o,state:l,relative:v,preventScrollReset:w,viewTransition:E})};return U.createElement("form",{ref:V,method:F,action:q,onSubmit:i?y:J,...S,"data-discover":!G&&r==="render"?"true":void 0})});CE.displayName="Form";function AE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wv(r){let e=U.useContext(bo);return tt(e,AE(r)),e}function kE(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let p=Tc(),y=$r(),v=il(r,{relative:l});return U.useCallback(w=>{if(oE(w,e)){w.preventDefault();let E=t!==void 0?t:Ka(y)===Ka(v);p(r,{replace:E,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[y,p,v,t,i,e,r,o,l,h])}var NE=0,RE=()=>`__${String(++NE)}__`;function PE(){let{router:r}=wv("useSubmit"),{basename:e}=U.useContext(dr),t=Yx();return U.useCallback(async(i,o={})=>{let{action:l,method:h,encType:p,formData:y,body:v}=uE(i,e);if(o.navigate===!1){let w=o.fetcherKey||RE();await r.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function bE(r,{relative:e}={}){let{basename:t}=U.useContext(dr),i=U.useContext(Br);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...il(r||".",{relative:e})},h=$r();if(r==null){l.search=h.search;let p=new URLSearchParams(l.search),y=p.getAll("index");if(y.some(w=>w==="")){p.delete("index"),y.filter(E=>E).forEach(E=>p.append("index",E));let w=p.toString();l.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Dr([t,l.pathname])),Ka(l)}function jE(r,{relative:e}={}){let t=U.useContext(hv);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=wv("useViewTransitionState"),o=il(r,{relative:e});if(!t.isTransitioning)return!1;let l=Or(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Or(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ec(o.pathname,h)!=null||ec(o.pathname,l)!=null}const DE="/assets/fnd-B8xR8oYh.png",VE=({text:r,className:e="",animationDelayStep:t=.1})=>f.jsx("span",{className:`font-extrabold ${e}`,style:{display:"block"},children:r.split("").map((i,o)=>f.jsx("span",{className:"inline-block letter-wave",style:{animationDelay:`${o*t}s`},children:i===" "?"":i},o))});function LE(){const[r,e]=U.useState(!0);return U.useEffect(()=>{const t=setTimeout(()=>e(!1),2500);return()=>clearTimeout(t)},[]),f.jsxs("div",{children:[r&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pointer-events-none",children:Ga.createElement("dotlottie-wc",{src:"https://lottie.host/81653027-58d6-47e3-9de5-491db6a527a5/TWNyD5vQVe.lottie",style:{width:"150px",height:"150px",opacity:.3},autoplay:!0,loop:!0})}),f.jsx("div",{className:"relative min-h-screen gradient-bg-warm",children:f.jsxs("div",{className:"relative z-20 pt-[80px]",children:[f.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:f.jsxs("div",{className:"text-center mb-16 px-6",children:[f.jsx("h2",{className:"text-5xl font-serif vibrant-text mb-8 font-bold",children:f.jsx(VE,{text:"Bee Bridge",animationDelayStep:.1})}),f.jsx("p",{className:"text-xl text-honeybee-dark max-w-2xl mx-auto mb-10 font-medium",children:"We're the bridge between the farmer's field, the beekeeper's hive, to the honey in your home."}),f.jsxs("div",{className:"flex justify-center gap-6",children:[f.jsx(pt,{to:"/shop",className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Shop Now"}),f.jsx(pt,{to:"/about",className:"glass-effect bright-border text-honeybee-dark hover:bg-honeybee-primary hover:text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Learn More"})]})]})}),f.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[f.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-10 text-center",children:"Connecting Farmers and Consumers"}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[f.jsx("img",{src:DE,alt:"Farmers and Consumers",className:"w-full md:w-1/2 h-64 md:h-80 object-cover rounded-lg shadow-lg"}),f.jsx("p",{className:"text-lg text-honeybee-dark-brown max-w-xl",children:"Our platform bridges the gap between farmers and consumers, ensuring fresh, organic produce reaches your table directly from the source or become a seller through our marketplace and sell/rent the bee colonies."})]})]})]})}),f.jsx("div",{className:"text-center mb-16",children:f.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-6 text-center",children:"Service"})}),f.jsx("section",{className:"py-20 bg-honeybee-light",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("video",{src:"/assets/cart-animated-icon-gif-download-10270594.mp4",autoPlay:!0,loop:!0,muted:!0,className:"w-48 h-48"}),f.jsx("div",{className:"mx-8",children:f.jsx("svg",{className:"w-12 h-12 text-black",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),f.jsx("video",{src:"/assets/payment-complete-animation-gif-download-4281059.mp4",autoPlay:!0,loop:!0,muted:!0,className:"w-48 h-48"}),f.jsx("div",{className:"mx-8",children:f.jsx("svg",{className:"w-12 h-12 text-black",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),f.jsx("video",{src:"/assets/delivery-animation-gif-download-3434735.mp4",autoPlay:!0,loop:!0,muted:!0,className:"w-48 h-48"}),f.jsx("div",{className:"mx-8",children:f.jsx("svg",{className:"w-12 h-12 text-black",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),f.jsx("video",{src:"/assets/2.mp4",autoPlay:!0,loop:!0,muted:!0,className:"w-48 h-48"})]})})}),f.jsx("section",{className:"py-20 bg-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-6 text-center",children:"Featured Products"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover our selection of premium organic honey products, harvested with care and love."})]}),f.jsx("div",{className:"text-center",children:f.jsx("p",{className:"text-gray-500",children:"[Product images and links will be displayed here.]"})})]})}),f.jsx("section",{className:"py-20 bg-honeybee-light",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsx("div",{className:"text-center mb-16",children:f.jsx("h2",{className:"text-3xl font-bold text-honeybee-dark mb-6 text-center",children:"Our Story"})}),f.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[f.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"At Honybee, our journey began with a deep appreciation for the delicate balance of nature and the hardworking bees that produce nature's golden elixir. We source our honey from sustainable apiaries across the globe, partnering with passionate beekeepers who prioritize environmental stewardship and ethical practices. Each harvest is done with care and love, ensuring that our products not only delight the senses but also support biodiversity and local communities. From the sun-drenched meadows of Europe to the wild landscapes of North America, our commitment to purity and sustainability shines through in every jar. Join us in savoring the authentic taste of organic honey, harvested with respect for the earth and its pollinators."}),f.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"As you explore our collection, you'll feel the warmth of our dedication to quality and the joy of connecting with nature's bounty. We're more than just a marketplace; we're a community united by the love of honey and the bees that make it possible."})]})]})})]})}const OE=()=>f.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"About Bee Bridge"}),f.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"Our passion for honey is rooted in a deep respect for nature and the incredible work of bees."})]}),f.jsxs("div",{className:"mt-20 grid md:grid-cols-2 gap-16 items-center",children:[f.jsx("div",{children:f.jsx("img",{src:"https://static.vecteezy.com/system/resources/thumbnails/004/454/157/small_2x/honey-can-realistic-composition-vector.jpg",alt:"Beekeeper",className:"rounded-lg shadow-lg"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-serif font-bold mb-4",children:"Our Story"}),f.jsx("p",{className:"mb-4",children:"Bee Bridge was founded with a simple mission: to bring the purest, most delicious honey from our hives to your home. We believe in sustainable beekeeping practices that prioritize the health of our bees and the environment."}),f.jsx("p",{children:"Our farms are dedicated to sustainable practices, and through our website, we connect consumers directly with the source, fostering transparency and trust in every jar of honey."})]})]}),f.jsxs("div",{className:"mt-20 text-center",children:[f.jsx("h2",{className:"text-3xl font-serif font-bold mb-8",children:"Our Values"}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[f.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[f.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Sustainability"}),f.jsx("p",{children:"We are committed to protecting our planet and its precious pollinators."})]}),f.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[f.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Quality"}),f.jsx("p",{children:"We deliver only the finest, 100% pure and raw honey."})]}),f.jsxs("div",{className:"p-6 border border-honeybee-light rounded-lg",children:[f.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Community"}),f.jsx("p",{children:"We support local beekeepers and educate our community about the importance of bees."})]})]})]})]})}),ME={primary:"gradient-bg-primary hover:shadow-2xl text-black hover:text-black border-0 modern-shadow-hover transform hover:scale-105",secondary:"bg-honeybee-secondary hover:bg-honeybee-accent text-white modern-shadow-hover",accent:"gradient-bg-accent hover:shadow-xl text-white modern-shadow-hover transform hover:scale-105",ghost:"hover:bg-gray-100/10 text-honeybee-primary hover:text-honeybee-accent",light:"glass-effect text-honeybee-dark hover:bg-honeybee-primary hover:text-black modern-shadow-hover"},FE={default:"py-3 px-6",icon:"h-10 w-10"},wt=({children:r,variant:e="primary",size:t="default",className:i="",onClick:o,...l})=>{const[h,p]=U.useState(!1),[y,v]=U.useState({}),w=E=>{const V=E.currentTarget.getBoundingClientRect(),H=Math.max(V.width,V.height),q=E.clientX-V.left-H/2,F=E.clientY-V.top-H/2;v({width:H,height:H,left:q,top:F}),p(!0),setTimeout(()=>p(!1),600),o&&o(E)};return f.jsxs("button",{className:`relative overflow-hidden rounded-lg shadow-lg transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1) focus:outline-none focus:ring-4 focus:ring-honeybee-accent ${ME[e]} ${FE[t]} ${i}`,onClick:w,...l,children:[r,h&&f.jsx("span",{className:"button-ripple absolute",style:y})]})},UE=()=>f.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"Contact Us"}),f.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"We'd love to hear from you! Whether you have a question about our products, our practices, or anything else, our team is ready to answer all your questions."})]}),f.jsxs("div",{className:"mt-20 grid md:grid-cols-2 gap-16",children:[f.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold mb-6",children:"Send us a message"}),f.jsxs("form",{children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Name"}),f.jsx("input",{type:"text",id:"name",className:"w-full px-4 py-2 border border-honeybee-light rounded-md focus:ring-honeybee-primary focus:border-honeybee-primary"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),f.jsx("input",{type:"email",id:"email",className:"w-full px-4 py-2 border border-honeybee-light rounded-md focus:ring-honeybee-primary focus:border-honeybee-primary"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-1",children:"Message"}),f.jsx("textarea",{id:"message",rows:4,className:"w-full px-4 py-2 border border-honeybee-light rounded-md focus:ring-honeybee-primary focus:border-honeybee-primary"})]}),f.jsx(wt,{type:"submit",variant:"primary",className:"w-full",children:"Send Message"})]})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Email Us"}),f.jsx("p",{children:"beebridgeshop@gmail.com"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Call Us"}),f.jsx("p",{children:"(123) 456-7890"})]})]})]})]})}),xv=U.createContext(void 0),Sc=()=>{const r=U.useContext(xv);if(!r)throw new Error("useCart must be used within a CartProvider");return r},zE=({children:r})=>{const[e,t]=U.useState([]),i=y=>{t(v=>v.find(E=>E.id===y.id)?v.map(E=>E.id===y.id?{...E,quantity:E.quantity+1}:E):[...v,{...y,quantity:1}])},o=y=>{t(v=>v.filter(w=>w.id!==y))},l=(y,v)=>{if(v<=0){o(y);return}t(w=>w.map(E=>E.id===y?{...E,quantity:v}:E))},h=()=>{t([])},p=()=>e.reduce((y,v)=>{const w=parseFloat(v.price.replace(/[$]/g,""));return y+w*v.quantity},0);return f.jsx(xv.Provider,{value:{cartItems:e,addToCart:i,removeFromCart:o,updateQuantity:l,clearCart:h,getTotal:p},children:r})},BE=[{id:1,name:"Wildflower Honey",price:"399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Pure organic honey from wildflower meadows"},{id:2,name:"Acacia Honey",price:"499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Light and delicate honey with subtle floral notes"},{id:3,name:"Manuka Honey",price:"599",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Premium therapeutic honey from New Zealand"},{id:4,name:"Honeycomb",price:"799",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Raw honeycomb straight from our sustainable apiaries"},{id:5,name:"Clover Honey",price:"399",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"A classic, mild honey perfect for everyday use."},{id:6,name:"Lavender Honey",price:"499",image:"https://unblast.com/wp-content/uploads/2019/03/Honey-Jar-Mockup-1.jpg",description:"Infused with the calming aroma of lavender blossoms."}],$E=()=>{const{addToCart:r}=Sc(),e=t=>{r(t)};return f.jsx("div",{className:"bg-honeybee-background text-honeybee-secondary",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-honeybee-primary",children:"Our Honey Selection"}),f.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto",children:"Explore our collection of premium, all-natural honey. Each jar is a testament to the hard work of our bees and the richness of the land they forage."})]}),f.jsx("div",{className:"mt-16 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:BE.map(t=>f.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition duration-300",children:[f.jsx("div",{className:"h-56 overflow-hidden",children:f.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transform hover:scale-105 transition duration-500"})}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-medium text-honeybee-secondary",children:t.name}),f.jsx("p",{className:"text-honeybee-dark-brown mt-2 text-sm",children:t.description}),f.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[f.jsx("span",{className:"text-black font-bold",children:t.price}),f.jsx("button",{onClick:()=>e(t),className:"bg-honeybee-primary hover:bg-honeybee-accent text-white rounded-full p-2 transition duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})]},t.id))})]})})},HE=()=>{const{cartItems:r,getTotal:e}=Sc(),[t,i]=U.useState(1),[o,l]=U.useState(""),[h,p]=U.useState(0),[y,v]=U.useState(""),[w,E]=U.useState({email:"",signUp:!1}),[S,V]=U.useState({firstName:"",lastName:"",company:"",address:"",apartment:"",city:"",country:"",state:"",zip:"",phone:""}),H=e(),q=H-H*h,F={HONEY10:.1,BEE20:.2,OFFER:.1},G=()=>{const D=o.toUpperCase();F[D]?(p(F[D]),v("")):(p(0),v("Invalid coupon code"))},J=()=>{},re=()=>{t<4&&i(t+1)},_e=()=>{t>1&&i(t-1)},me=D=>{const{name:k,value:Fe,type:rt,checked:Et}=D.target;E(qe=>({...qe,[k]:rt==="checkbox"?Et:Fe}))},ce=D=>{const{name:k,value:Fe}=D.target;V(rt=>({...rt,[k]:Fe}))},N=()=>null,I=()=>f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Contact information"}),f.jsx("input",{type:"email",name:"email",value:w.email,onChange:me,placeholder:"Email",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),f.jsxs("label",{className:"inline-flex items-center text-sm mb-4",children:[f.jsx("input",{type:"checkbox",name:"signUp",checked:w.signUp,onChange:me,className:"form-checkbox text-purple-700"}),f.jsx("span",{className:"ml-2",children:"Sign up for exclusive offers and news via text messages & email."})]}),f.jsx("div",{className:"flex justify-between",children:f.jsx("button",{onClick:re,className:"bg-black text-white py-2 px-4 rounded hover:bg-gray-800 transition",children:"Continue to shipping"})})]}),A=()=>f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Shipping address"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[f.jsx("input",{type:"text",name:"firstName",value:S.firstName,onChange:ce,placeholder:"First name",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),f.jsx("input",{type:"text",name:"lastName",value:S.lastName,onChange:ce,placeholder:"Last name",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"})]}),f.jsx("input",{type:"text",name:"company",value:S.company,onChange:ce,placeholder:"Company (optional)",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),f.jsx("input",{type:"text",name:"address",value:S.address,onChange:ce,placeholder:"Address",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),f.jsx("input",{type:"text",name:"apartment",value:S.apartment,onChange:ce,placeholder:"Apartment, suite, etc. (optional)",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),f.jsx("input",{type:"text",name:"city",value:S.city,onChange:ce,placeholder:"City",className:"w-full border border-gray-300 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-2",children:[f.jsxs("select",{name:"country",value:S.country,onChange:ce,className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700",children:[f.jsx("option",{value:"",children:"Country/region"}),f.jsx("option",{value:"United States",children:"United States"}),f.jsx("option",{value:"Canada",children:"Canada"})]}),f.jsxs("select",{name:"state",value:S.state,onChange:ce,className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700",children:[f.jsx("option",{value:"",children:"State"}),f.jsx("option",{value:"State",children:"State"})]}),f.jsx("input",{type:"text",name:"zip",value:S.zip,onChange:ce,placeholder:"ZIP code",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"})]}),f.jsx("input",{type:"text",name:"phone",value:S.phone,onChange:ce,placeholder:"Phone number for shipping updates and offers (optional)",className:"w-full border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-purple-700"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("button",{onClick:_e,className:"underline text-purple-700",children:"Return to cart"}),f.jsx("button",{onClick:re,className:"bg-black text-white py-2 px-4 rounded hover:bg-gray-800 transition",children:"Choose shipping method"})]})]}),b=()=>f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Payment"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"coupon",className:"block font-semibold mb-1",children:"Gift card or discount code"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{id:"coupon",type:"text",value:o,onChange:D=>l(D.target.value),placeholder:"Enter coupon code",className:"flex-grow border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-700"}),f.jsx("button",{onClick:G,className:"bg-gray-300 px-4 rounded hover:bg-gray-400 transition",children:"Apply"})]}),y&&f.jsx("p",{className:"text-red-600 mt-1",children:y})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("p",{className:"flex justify-between font-semibold",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["",H.toFixed(2)]})]}),f.jsxs("p",{className:"flex justify-between font-semibold",children:[f.jsx("span",{children:"Shipping"}),f.jsx("span",{children:"Calculated at next step"})]}),f.jsxs("p",{className:"flex justify-between font-bold text-lg",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["",q.toFixed(2)]})]})]}),f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("button",{className:"bg-white border border-gray-300 rounded flex items-center justify-center py-3 px-6 hover:bg-gray-100 transition",children:f.jsx("img",{src:"https://5.imimg.com/data5/SELLER/Default/2023/9/348603242/KE/OR/XP/29083784/razorpay-software-250x250.png",alt:"Razorpay",className:"h-16 w-auto"})})}),f.jsx(wt,{onClick:J,variant:"primary",className:"w-full",children:"Place Order"}),f.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[f.jsx("p",{children:"Refund policy"}),f.jsx("p",{children:"Shipping policy"}),f.jsx("p",{children:"I consent to receive recurring automated marketing by text message through an automatic telephone dialing system. Consent is not a condition to purchase. STOP to cancel. HELP for help. Message and Data rates may apply. View Privacy Policy & TOS"}),f.jsx("p",{children:"Terms of service"})]})]}),P=()=>f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsx("h3",{className:"font-semibold mb-4",children:"Your cart"}),r.length===0?f.jsx("p",{children:"Your cart is empty"}):f.jsxs(f.Fragment,{children:[r.map(D=>f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsx("img",{src:D.image,alt:D.name,className:"w-16 h-16 object-cover rounded"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-semibold",children:D.name}),f.jsxs("p",{className:"text-xs text-gray-600",children:["Quantity: ",D.quantity]})]}),f.jsxs("p",{className:"font-semibold",children:["",(parseFloat(D.price.replace(/[$]/g,""))*D.quantity).toFixed(2)]})]},D.id)),f.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-2",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["",H.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 pt-2",children:[f.jsx("span",{children:"Shipping"}),f.jsx("span",{children:"Calculated at next step"})]}),f.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-gray-300 pt-2",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["",q.toFixed(2)]})]})]})]});return f.jsxs("div",{className:"max-w-6xl mx-auto p-6 grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"md:col-span-2 bg-white rounded-lg shadow-lg p-6",children:[f.jsx("nav",{className:"text-sm mb-6",children:f.jsxs("ol",{className:"list-reset flex text-gray-600 space-x-2",children:[f.jsxs("li",{children:["Cart ",">"]}),f.jsxs("li",{className:t===1?"font-bold":"",children:["Information ",">"]}),f.jsxs("li",{className:t===2?"font-bold":"",children:["Shipping ",">"]}),f.jsx("li",{className:t===3?"font-bold":"",children:"Payment"})]})}),t===1&&f.jsxs(f.Fragment,{children:[N(),f.jsx("hr",{className:"my-4"}),I()]}),t===2&&A(),t===3&&b()]}),f.jsx("div",{className:"md:col-span-1",children:P()})]})},kg="/assets/success%20confetti-DC1AmzHE.gif",Ng={HONEY10:.1,BEE20:.2,OFFER:.1},qE=()=>{const{cartItems:r,getTotal:e,clearCart:t}=Sc(),[i,o]=U.useState(""),[l,h]=U.useState(0),[p,y]=U.useState(""),[v,w]=U.useState(!1),[E,S]=U.useState(!1),V=e(),H=V-V*l;U.useEffect(()=>{if(E){const G=setTimeout(()=>{S(!1)},2e3);return()=>clearTimeout(G)}},[E]);const q=()=>{const G=i.toUpperCase();Ng[G]?(h(Ng[G]),y("")):(h(0),y("Invalid coupon code"))},F=()=>{S(!0),w(!0),t()};return v?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"max-w-4xl mx-auto p-6 text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Thank you for your order!"}),f.jsx("p",{children:"Your order has been placed successfully."})]}),E&&f.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50",children:f.jsx("img",{src:kg,alt:"Success",className:"w-64 h-64 object-cover"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-honeybee-background text-honeybee-secondary rounded-lg shadow-lg",children:[f.jsx("h2",{className:"text-3xl font-bold text-honeybee-primary mb-6",children:"Checkout"}),f.jsxs("div",{children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Order Summary"}),r.map(G=>f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsxs("span",{children:[G.name," x ",G.quantity]}),f.jsxs("span",{children:["",(parseFloat(G.price.replace(/[$]/g,""))*G.quantity).toFixed(2)]})]},G.id)),f.jsxs("div",{className:"flex justify-between font-bold border-t border-gray-300 pt-2",children:[f.jsx("span",{children:"Total:"}),f.jsxs("span",{children:["",V.toFixed(2)]})]}),l>0&&f.jsxs("div",{className:"flex justify-between font-bold text-green-600 pt-2",children:[f.jsx("span",{children:"Discount:"}),f.jsxs("span",{children:["-",(V*l).toFixed(2)]})]}),l>0&&f.jsxs("div",{className:"flex justify-between font-bold border-t border-gray-300 pt-2",children:[f.jsx("span",{children:"Amount to Pay:"}),f.jsxs("span",{children:["",H.toFixed(2)]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"coupon",className:"block font-semibold mb-1",children:"Have a coupon?"}),f.jsx("input",{id:"coupon",type:"text",value:i,onChange:G=>o(G.target.value),className:"border border-gray-300 rounded px-3 py-2 w-full",placeholder:"Enter coupon code"}),p&&f.jsx("p",{className:"text-red-600 mt-1",children:p}),f.jsx(wt,{onClick:q,variant:"accent",className:"mt-2",children:"Apply Coupon"})]}),f.jsx("div",{children:f.jsx(wt,{onClick:F,variant:"primary",className:"w-full",children:"Place Order"})})]})]}),E&&f.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50",children:f.jsx("img",{src:kg,alt:"Success",className:"w-64 h-64 object-cover"})})]})},WE=()=>{};var Rg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},GE=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],p=r[t++],y=((o&7)<<18|(l&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(y>>10)),e[i++]=String.fromCharCode(56320+(y&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Tv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,p=h?r[o+1]:0,y=o+2<r.length,v=y?r[o+2]:0,w=l>>2,E=(l&3)<<4|p>>4;let S=(p&15)<<2|v>>6,V=v&63;y||(V=64,h||(S=64)),i.push(t[w],t[E],t[S],t[V])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ev(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):GE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],p=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const E=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||p==null||v==null||E==null)throw new KE;const S=l<<2|p>>4;if(i.push(S),v!==64){const V=p<<4&240|v>>2;if(i.push(V),E!==64){const H=v<<6&192|E;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class KE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QE=function(r){const e=Ev(r);return Tv.encodeByteArray(e,!0)},tc=function(r){return QE(r).replace(/\./g,"")},Iv=function(r){try{return Tv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=()=>YE().__FIREBASE_DEFAULTS__,JE=()=>{if(typeof process>"u"||typeof Rg>"u")return;const r=Rg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Iv(r[1]);return e&&JSON.parse(e)},Cc=()=>{try{return WE()||XE()||JE()||ZE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Sv=r=>Cc()?.emulatorHosts?.[r],e1=r=>{const e=Sv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Cv=()=>Cc()?.config,Av=r=>Cc()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[tc(JSON.stringify(t)),tc(JSON.stringify(h)),""].join(".")}const za={};function r1(){const r={prod:[],emulator:[]};for(const e of Object.keys(za))za[e]?r.emulator.push(e):r.prod.push(e);return r}function s1(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Pg=!1;function Nv(r,e){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||za[r]===e||za[r]||Pg)return;za[r]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=r1().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function v(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Pg=!0,h()},S}function w(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=s1(i),V=t("text"),H=document.getElementById(V)||document.createElement("span"),q=t("learnmore"),F=document.getElementById(q)||document.createElement("a"),G=t("preprendIcon"),J=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;p(re),w(F,q);const _e=v();y(J,G),re.append(J,H,F,_e),document.body.appendChild(re)}l?(H.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function o1(){const r=Cc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function u1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c1(){const r=Bt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function h1(){return!o1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d1(){try{return typeof indexedDB=="object"}catch{return!1}}function f1(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="FirebaseError";class Hr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=p1,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?m1(l,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Hr(o,p,i)}}function m1(r,e){return r.replace(g1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const g1=/\{\$([^}]+)}/g;function y1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function mi(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(bg(l)&&bg(h)){if(!mi(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function bg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function v1(r,e){const t=new _1(r,e);return t.subscribe.bind(t)}class _1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");w1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=xd),o.error===void 0&&(o.error=xd),o.complete===void 0&&(o.complete=xd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w1(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(r){return r&&r._delegate?r._delegate:r}class gi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new t1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T1(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);i===p&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:E1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E1(r){return r===ci?void 0:r}function T1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new x1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Re||(Re={}));const S1={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},C1=Re.INFO,A1={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},k1=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=A1[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mf{constructor(e){this.name=e,this._logLevel=C1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const N1=(r,e)=>e.some(t=>r instanceof t);let jg,Dg;function R1(){return jg||(jg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P1(){return Dg||(Dg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rv=new WeakMap,Ld=new WeakMap,Pv=new WeakMap,Ed=new WeakMap,gf=new WeakMap;function b1(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(Cs(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Rv.set(t,r)}).catch(()=>{}),gf.set(e,r),e}function j1(r){if(Ld.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Ld.set(r,e)}let Od={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ld.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Pv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function D1(r){Od=r(Od)}function V1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Td(this),e,...t);return Pv.set(i,e.sort?e.sort():[e]),Cs(i)}:P1().includes(r)?function(...e){return r.apply(Td(this),e),Cs(Rv.get(this))}:function(...e){return Cs(r.apply(Td(this),e))}}function L1(r){return typeof r=="function"?V1(r):(r instanceof IDBTransaction&&j1(r),N1(r,R1())?new Proxy(r,Od):r)}function Cs(r){if(r instanceof IDBRequest)return b1(r);if(Ed.has(r))return Ed.get(r);const e=L1(r);return e!==r&&(Ed.set(r,e),gf.set(e,r)),e}const Td=r=>gf.get(r);function O1(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),p=Cs(h);return i&&h.addEventListener("upgradeneeded",y=>{i(Cs(h.result),y.oldVersion,y.newVersion,Cs(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),p.then(y=>{l&&y.addEventListener("close",()=>l()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const M1=["get","getKey","getAll","getAllKeys","count"],F1=["put","add","delete","clear"],Id=new Map;function Vg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Id.get(e))return Id.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=F1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||M1.includes(t)))return;const l=async function(h,...p){const y=this.transaction(h,o?"readwrite":"readonly");let v=y.store;return i&&(v=v.index(p.shift())),(await Promise.all([v[t](...p),o&&y.done]))[0]};return Id.set(e,l),l}D1(r=>({...r,get:(e,t,i)=>Vg(e,t)||r.get(e,t,i),has:(e,t)=>!!Vg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(z1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function z1(r){return r.getComponent()?.type==="VERSION"}const Md="@firebase/app",Lg="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new mf("@firebase/app"),B1="@firebase/app-compat",$1="@firebase/analytics-compat",H1="@firebase/analytics",q1="@firebase/app-check-compat",W1="@firebase/app-check",G1="@firebase/auth",K1="@firebase/auth-compat",Q1="@firebase/database",Y1="@firebase/data-connect",X1="@firebase/database-compat",J1="@firebase/functions",Z1="@firebase/functions-compat",eT="@firebase/installations",tT="@firebase/installations-compat",nT="@firebase/messaging",rT="@firebase/messaging-compat",sT="@firebase/performance",iT="@firebase/performance-compat",oT="@firebase/remote-config",aT="@firebase/remote-config-compat",lT="@firebase/storage",uT="@firebase/storage-compat",cT="@firebase/firestore",hT="@firebase/ai",dT="@firebase/firestore-compat",fT="firebase",pT="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="[DEFAULT]",mT={[Md]:"fire-core",[B1]:"fire-core-compat",[H1]:"fire-analytics",[$1]:"fire-analytics-compat",[W1]:"fire-app-check",[q1]:"fire-app-check-compat",[G1]:"fire-auth",[K1]:"fire-auth-compat",[Q1]:"fire-rtdb",[Y1]:"fire-data-connect",[X1]:"fire-rtdb-compat",[J1]:"fire-fn",[Z1]:"fire-fn-compat",[eT]:"fire-iid",[tT]:"fire-iid-compat",[nT]:"fire-fcm",[rT]:"fire-fcm-compat",[sT]:"fire-perf",[iT]:"fire-perf-compat",[oT]:"fire-rc",[aT]:"fire-rc-compat",[lT]:"fire-gcs",[uT]:"fire-gcs-compat",[cT]:"fire-fst",[dT]:"fire-fst-compat",[hT]:"fire-vertex","fire-js":"fire-js",[fT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,gT=new Map,Ud=new Map;function Og(r,e){try{r.container.addComponent(e)}catch(t){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function To(r){const e=r.name;if(Ud.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Ud.set(e,r);for(const t of nc.values())Og(t,r);for(const t of gT.values())Og(t,r);return!0}function yf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new ol("app","Firebase",yT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=pT;function bv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Fd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(t||(t=Cv()),!t)throw As.create("no-options");const l=nc.get(o);if(l){if(mi(t,l.options)&&mi(i,l.config))return l;throw As.create("duplicate-app",{appName:o})}const h=new I1(o);for(const y of Ud.values())h.addComponent(y);const p=new vT(t,i,h);return nc.set(o,p),p}function jv(r=Fd){const e=nc.get(r);if(!e&&r===Fd&&Cv())return bv();if(!e)throw As.create("no-app",{appName:r});return e}function ks(r,e,t){let i=mT[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(h.join(" "));return}To(new gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebase-heartbeat-database",wT=1,Qa="firebase-heartbeat-store";let Sd=null;function Dv(){return Sd||(Sd=O1(_T,wT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Qa)}catch(t){console.warn(t)}}}}).catch(r=>{throw As.create("idb-open",{originalErrorMessage:r.message})})),Sd}async function xT(r){try{const t=(await Dv()).transaction(Qa),i=await t.objectStore(Qa).get(Vv(r));return await t.done,i}catch(e){if(e instanceof Hr)Mr.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(t.message)}}}async function Mg(r,e){try{const i=(await Dv()).transaction(Qa,"readwrite");await i.objectStore(Qa).put(e,Vv(r)),await i.done}catch(t){if(t instanceof Hr)Mr.warn(t.message);else{const i=As.create("idb-set",{originalErrorMessage:t?.message});Mr.warn(i.message)}}}function Vv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=1024,TT=30;class IT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CT(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>TT){const o=AT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fg(),{heartbeatsToSend:t,unsentEntries:i}=ST(this._heartbeatsCache.heartbeats),o=tc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Mr.warn(e),""}}}function Fg(){return new Date().toISOString().substring(0,10)}function ST(r,e=ET){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Ug(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ug(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class CT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d1()?f1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Mg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Mg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ug(r){return tc(JSON.stringify({version:2,heartbeats:r})).length}function AT(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r){To(new gi("platform-logger",e=>new U1(e),"PRIVATE")),To(new gi("heartbeat",e=>new IT(e),"PRIVATE")),ks(Md,Lg,r),ks(Md,Lg,"esm2020"),ks("fire-js","")}kT("");var NT="firebase",RT="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(NT,RT,"app");function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PT=Lv,Ov=new ol("auth","Firebase",Lv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new mf("@firebase/auth");function bT(r,...e){rc.logLevel<=Re.WARN&&rc.warn(`Auth (${Do}): ${r}`,...e)}function Hu(r,...e){rc.logLevel<=Re.ERROR&&rc.error(`Auth (${Do}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(r,...e){throw _f(r,...e)}function Ln(r,...e){return _f(r,...e)}function vf(r,e,t){const i={...PT(),[e]:t};return new ol("auth","Firebase",i).create(e,{appName:r.name})}function fi(r){return vf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jT(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&cr(r,"argument-error"),vf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _f(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return Ov.create(r,...e)}function xe(r,e,...t){if(!r)throw _f(e,...t)}function br(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Hu(e),new Error(e)}function Fr(r,e){r||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){return typeof self<"u"&&self.location?.href||""}function DT(){return zg()==="http:"||zg()==="https:"}function zg(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DT()||l1()||"connection"in navigator)?navigator.onLine:!0}function LT(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fr(t>e,"Short delay should be less than long delay!"),this.isMobile=i1()||u1()}get(){return VT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(r,e){Fr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FT=new ll(3e4,6e4);function xf(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Vo(r,e,t,i,o={}){return Fv(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const p=al({key:r.config.apiKey,...h}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:y,...l};return a1()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&jo(r.emulatorConfig.host)&&(v.credentials="include"),Mv.fetch()(await Uv(r,r.config.apiHost,t,p),v)})}async function Fv(r,e,t){r._canInitEmulator=!1;const i={...OT,...e};try{const o=new zT(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Vu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const p=l.ok?h.errorMessage:h.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(r,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw Vu(r,"email-already-in-use",h);if(y==="USER_DISABLED")throw Vu(r,"user-disabled",h);const w=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw vf(r,w,v);cr(r,w)}}catch(o){if(o instanceof Hr)throw o;cr(r,"network-request-failed",{message:String(o)})}}async function UT(r,e,t,i,o={}){const l=await Vo(r,e,t,i,o);return"mfaPendingCredential"in l&&cr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function Uv(r,e,t,i){const o=`${e}${t}?${i}`,l=r,h=l.config.emulator?wf(r.config,o):`${r.config.apiScheme}://${o}`;return MT.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class zT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ln(this.auth,"network-request-failed")),FT.get())})}}function Vu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Ln(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(r,e){return Vo(r,"POST","/v1/accounts:delete",e)}async function sc(r,e){return Vo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $T(r,e=!1){const t=tn(r),i=await t.getIdToken(e),o=Ef(i);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:i,authTime:Ba(Cd(o.auth_time)),issuedAtTime:Ba(Cd(o.iat)),expirationTime:Ba(Cd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Cd(r){return Number(r)*1e3}function Ef(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Iv(t);return o?JSON.parse(o):(Hu("Failed to decode base64 JWT payload"),null)}catch(o){return Hu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bg(r){const e=Ef(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Hr&&HT(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function HT({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ba(this.lastLoginAt),this.creationTime=Ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(r){const e=r.auth,t=await r.getIdToken(),i=await Ya(r,sc(e,{idToken:t}));xe(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?zv(o.providerUserInfo):[],h=GT(r.providerData,l),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!h?.length,v=p?y:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Bd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,w)}async function WT(r){const e=tn(r);await ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GT(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function zv(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(r,e){const t=await Fv(r,{},async()=>{const i=al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await Uv(r,o,"/v1/token",`key=${l}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:i};return r.emulatorConfig&&jo(r.emulatorConfig.host)&&(y.credentials="include"),Mv.fetch()(h,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QT(r,e){return Vo(r,"POST","/v2/accounts:revokeToken",xf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=Bg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await KT(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new vo;return i&&(xe(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(xe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(xe(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Dn{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new qT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ya(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $T(this,e)}reload(){return WT(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ic(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await Ya(this,BT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,p=t.tenantId??void 0,y=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:V,providerData:H,stsTokenManager:q}=t;xe(E&&q,e,"internal-error");const F=vo.fromJSON(this.name,q);xe(typeof E=="string",e,"internal-error"),xs(i,e.name),xs(o,e.name),xe(typeof S=="boolean",e,"internal-error"),xe(typeof V=="boolean",e,"internal-error"),xs(l,e.name),xs(h,e.name),xs(p,e.name),xs(y,e.name),xs(v,e.name),xs(w,e.name);const G=new Dn({uid:E,auth:e,email:o,emailVerified:S,displayName:i,isAnonymous:V,photoURL:h,phoneNumber:l,tenantId:p,stsTokenManager:F,createdAt:v,lastLoginAt:w});return H&&Array.isArray(H)&&(G.providerData=H.map(J=>({...J}))),y&&(G._redirectEventId=y),G}static async _fromIdTokenResponse(e,t,i=!1){const o=new vo;o.updateFromServerResponse(t);const l=new Dn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ic(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?zv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,p=new vo;p.updateFromIdToken(i);const y=new Dn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Bd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new Map;function jr(r){Fr(r instanceof Function,"Expected a class definition");let e=$g.get(r);return e?(Fr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$g.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Bv.type="NONE";const Hg=Bv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(r,e,t){return`firebase:${r}:${e}:${t}`}class _o{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=qu(this.userKey,o.apiKey,l),this.fullPersistenceKey=qu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sc(this.auth,{idToken:e}).catch(()=>{});return t?Dn._fromGetAccountInfoResponse(this.auth,t,e):null}return Dn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new _o(jr(Hg),e,i);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||jr(Hg);const h=qu(i,e.config.apiKey,e.name);let p=null;for(const v of t)try{const w=await v._get(h);if(w){let E;if(typeof w=="string"){const S=await sc(e,{idToken:w}).catch(()=>{});if(!S)break;E=await Dn._fromGetAccountInfoResponse(e,S,w)}else E=Dn._fromJSON(e,w);v!==l&&(p=E),l=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!y.length?new _o(l,e,i):(l=y[0],p&&await l._set(h,p.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new _o(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($v(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kv(e))return"Blackberry";if(Qv(e))return"Webos";if(Hv(e))return"Safari";if((e.includes("chrome/")||qv(e))&&!e.includes("edge/"))return"Chrome";if(Gv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function $v(r=Bt()){return/firefox\//i.test(r)}function Hv(r=Bt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qv(r=Bt()){return/crios\//i.test(r)}function Wv(r=Bt()){return/iemobile/i.test(r)}function Gv(r=Bt()){return/android/i.test(r)}function Kv(r=Bt()){return/blackberry/i.test(r)}function Qv(r=Bt()){return/webos/i.test(r)}function Tf(r=Bt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function YT(r=Bt()){return Tf(r)&&!!window.navigator?.standalone}function XT(){return c1()&&document.documentMode===10}function Yv(r=Bt()){return Tf(r)||Gv(r)||Qv(r)||Kv(r)||/windows phone/i.test(r)||Wv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(r,e=[]){let t;switch(r){case"Browser":t=qg(Bt());break;case"Worker":t=`${qg(Bt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Do}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,p)=>{try{const y=e(l);h(y)}catch(y){p(y)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(r,e={}){return Vo(r,"GET","/v2/passwordPolicy",xf(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=6;class tI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??eI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wg(this),this.idTokenSubscription=new Wg(this),this.beforeStateQueue=new JT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ov,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sc(this,{idToken:e}),i=await Dn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,h=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===h)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ic(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(fi(this));const t=e?tn(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZT(this),t=new tI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ol("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await QT(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&jr(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(p,this,"internal-error"),p.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,i,o);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ac(r){return tn(r)}let Wg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=v1(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rI(r){If=r}function sI(r){return If.loadJS(r)}function iI(){return If.gapiScript}function oI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(r,e){const t=yf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(mi(l,e??{}))return o;cr(o,"already-initialized")}return t.initialize({options:e})}function lI(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(jr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function uI(r,e,t){const i=Ac(r);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Jv(e),{host:h,port:p}=cI(e),y=p===null?"":`:${p}`,v={url:`${l}//${h}${y}/`},w=Object.freeze({host:h,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(mi(v,i.config.emulator)&&mi(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,jo(h)?(kv(`${l}//${h}${y}`),Nv("Auth",!0)):hI()}function Jv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function cI(r){const e=Jv(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Gg(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:Gg(h)}}}function Gg(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function hI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,t){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,e){return UT(r,"POST","/v1/accounts:signInWithIdp",xf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="http://localhost";class yi extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const h=new yi(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,wo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:dI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=al(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Sf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends ul{constructor(){super("facebook.com")}static credential(e){return yi._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Pr.credential(t,i)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends ul{constructor(){super("github.com")}static credential(e){return yi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends ul{constructor(){super("twitter.com")}static credential(e,t){return yi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Is.credential(t,i)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Dn._fromIdTokenResponse(e,i,o),h=Kg(i);return new Io({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Kg(i);return new Io({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Kg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Hr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,oc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new oc(e,t,i,o)}}function e_(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?oc._fromErrorAndOperation(r,l,e,i):l})}async function fI(r,e,t=!1){const i=await Ya(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Io._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e,t=!1){const{auth:i}=r;if(jn(i.app))return Promise.reject(fi(i));const o="reauthenticate";try{const l=await Ya(r,e_(i,o,e,r),t);xe(l.idToken,i,"internal-error");const h=Ef(l.idToken);xe(h,i,"internal-error");const{sub:p}=h;return xe(r.uid===p,i,"user-mismatch"),Io._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&cr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(r,e,t=!1){if(jn(r.app))return Promise.reject(fi(r));const i="signIn",o=await e_(r,i,e),l=await Io._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function gI(r,e,t,i){return tn(r).onIdTokenChanged(e,t,i)}function yI(r,e,t){return tn(r).beforeAuthStateChanged(e,t)}function vI(r,e,t,i){return tn(r).onAuthStateChanged(e,t,i)}function _I(r){return tn(r).signOut()}const ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=1e3,xI=10;class n_ extends t_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,y)=>{this.notifyListeners(h,y)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);XT()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xI):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},wI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}n_.type="LOCAL";const EI=n_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends t_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}r_.type="SESSION";const s_=r_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new kc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async v=>v(t.origin,l)),y=await TI(p);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((p,y)=>{const v=Cf("",20);o.port1.start();const w=setTimeout(()=>{y(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===v)switch(S.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(S.data.response);break;default:clearTimeout(w),clearTimeout(l),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function SI(r){sr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function CI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AI(){return navigator?.serviceWorker?.controller||null}function kI(){return i_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="firebaseLocalStorageDb",NI=1,lc="firebaseLocalStorage",a_="fbase_key";class cl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nc(r,e){return r.transaction([lc],e?"readwrite":"readonly").objectStore(lc)}function RI(){const r=indexedDB.deleteDatabase(o_);return new cl(r).toPromise()}function $d(){const r=indexedDB.open(o_,NI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(lc,{keyPath:a_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(lc)?e(i):(i.close(),await RI(),e(await $d()))})})}async function Qg(r,e,t){const i=Nc(r,!0).put({[a_]:e,value:t});return new cl(i).toPromise()}async function PI(r,e){const t=Nc(r,!1).get(e),i=await new cl(t).toPromise();return i===void 0?null:i.value}function Yg(r,e){const t=Nc(r,!0).delete(e);return new cl(t).toPromise()}const bI=800,jI=3;class l_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>jI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kc._getInstance(kI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CI(),!this.activeServiceWorker)return;this.sender=new II(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $d();return await Qg(e,ac,"1"),await Yg(e,ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qg(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>PI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Nc(o,!1).getAll();return new cl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l_.type="LOCAL";const DI=l_;new ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(r,e){return e?jr(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VI(r){return mI(r.auth,new Af(r),r.bypassAuthState)}function LI(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),pI(t,new Af(r),r.bypassAuthState)}async function OI(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),fI(t,new Af(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:p}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VI;case"linkViaPopup":case"linkViaRedirect":return OI;case"reauthViaPopup":case"reauthViaRedirect":return LI;default:cr(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new ll(2e3,1e4);async function FI(r,e,t){if(jn(r.app))return Promise.reject(Ln(r,"operation-not-supported-in-this-environment"));const i=Ac(r);jT(r,e,Sf);const o=u_(i,t);return new hi(i,"signInViaPopup",e,o).executeNotNull()}class hi extends c_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=Cf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MI.get())};e()}}hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="pendingRedirect",Wu=new Map;class zI extends c_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Wu.get(this.auth._key());if(!e){try{const i=await BI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Wu.set(this.auth._key(),e)}return this.bypassAuthState||Wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BI(r,e){const t=qI(e),i=HI(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function $I(r,e){Wu.set(r._key(),e)}function HI(r){return jr(r._redirectPersistence)}function qI(r){return qu(UI,r.config.apiKey,r.name)}async function WI(r,e,t=!1){if(jn(r.app))return Promise.reject(fi(r));const i=Ac(r),o=u_(i,e),h=await new zI(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=600*1e3;class KI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!h_(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ln(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xg(e))}saveEventToCache(e){this.cachedEventUids.add(Xg(e)),this.lastProcessedEventTime=Date.now()}}function Xg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function h_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function QI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(r,e={}){return Vo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JI=/^https?/;async function ZI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await YI(r);for(const t of e)try{if(eS(t))return}catch{}cr(r,"unauthorized-domain")}function eS(r){const e=zd(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!JI.test(t))return!1;if(XI.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new ll(3e4,6e4);function Jg(){const r=sr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function nS(r){return new Promise((e,t)=>{function i(){Jg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jg(),t(Ln(r,"network-request-failed"))},timeout:tS.get()})}if(sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(sr().gapi?.load)i();else{const o=oI("iframefcb");return sr()[o]=()=>{gapi.load?i():t(Ln(r,"network-request-failed"))},sI(`${iI()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Gu=null,e})}let Gu=null;function rS(r){return Gu=Gu||nS(r),Gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new ll(5e3,15e3),iS="__/auth/iframe",oS="emulator/auth/iframe",aS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uS(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?wf(e,oS):`https://${r.config.authDomain}/${iS}`,i={apiKey:e.apiKey,appName:r.name,v:Do},o=lS.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${al(i).slice(1)}`}async function cS(r){const e=await rS(r),t=sr().gapi;return xe(t,r,"internal-error"),e.open({where:document.body,url:uS(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aS,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=Ln(r,"network-request-failed"),p=sr().setTimeout(()=>{l(h)},sS.get());function y(){sr().clearTimeout(p),o(i)}i.ping(y).then(y,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dS=500,fS=600,pS="_blank",mS="http://localhost";class Zg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gS(r,e,t,i=dS,o=fS){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const y={...hS,width:i.toString(),height:o.toString(),top:l,left:h},v=Bt().toLowerCase();t&&(p=qv(v)?pS:t),$v(v)&&(e=e||mS,y.scrollbars="yes");const w=Object.entries(y).reduce((S,[V,H])=>`${S}${V}=${H},`,"");if(YT(v)&&p!=="_self")return yS(e||"",p),new Zg(null);const E=window.open(e||"",p,w);xe(E,r,"popup-blocked");try{E.focus()}catch{}return new Zg(E)}function yS(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="__/auth/handler",_S="emulator/auth/handler",wS=encodeURIComponent("fac");async function ey(r,e,t,i,o,l){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Do,eventId:o};if(e instanceof Sf){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",y1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))h[w]=E}if(e instanceof ul){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(h.scopes=w.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const y=await r._getAppCheckToken(),v=y?`#${wS}=${encodeURIComponent(y)}`:"";return`${xS(r)}?${al(p).slice(1)}${v}`}function xS({config:r}){return r.emulator?wf(r,_S):`https://${r.authDomain}/${vS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class ES{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s_,this._completeRedirectFn=WI,this._overrideRedirectResult=$I}async _openPopup(e,t,i,o){Fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ey(e,t,i,zd(),o);return gS(e,l,Cf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await ey(e,t,i,zd(),o);return SI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Fr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await cS(e),i=new KI(e);return t.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ad,{type:Ad},o=>{const l=o?.[0]?.[Ad];l!==void 0&&t(!!l),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yv()||Hv()||Tf()}}const TS=ES;var ty="@firebase/auth",ny="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CS(r){To(new gi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;xe(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xv(r)},v=new nI(i,o,l,y);return lI(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),To(new gi("auth-internal",e=>{const t=Ac(e.getProvider("auth").getImmediate());return(i=>new IS(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(ty,ny,SS(r)),ks(ty,ny,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=300,kS=Av("authIdTokenMaxAge")||AS;let ry=null;const NS=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>kS)return;const o=t?.token;ry!==o&&(ry=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RS(r=jv()){const e=yf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=aI(r,{popupRedirectResolver:TS,persistence:[DI,EI,s_]}),i=Av("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=NS(l.toString());yI(t,h,()=>h(t.currentUser)),gI(t,p=>h(p))}}const o=Sv("auth");return o&&uI(t,`http://${o}`),t}function PS(){return document.getElementsByTagName("head")?.[0]??document}rI({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=Ln("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",PS().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CS("Browser");var sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,d_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function A(){}A.prototype=I.prototype,N.F=I.prototype,N.prototype=new A,N.prototype.constructor=N,N.D=function(b,P,D){for(var k=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)k[Fe-2]=arguments[Fe];return I.prototype[P].apply(b,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,I,A){A||(A=0);const b=Array(16);if(typeof I=="string")for(var P=0;P<16;++P)b[P]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(P=0;P<16;++P)b[P]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=N.g[0],A=N.g[1],P=N.g[2];let D=N.g[3],k;k=I+(D^A&(P^D))+b[0]+3614090360&4294967295,I=A+(k<<7&4294967295|k>>>25),k=D+(P^I&(A^P))+b[1]+3905402710&4294967295,D=I+(k<<12&4294967295|k>>>20),k=P+(A^D&(I^A))+b[2]+606105819&4294967295,P=D+(k<<17&4294967295|k>>>15),k=A+(I^P&(D^I))+b[3]+3250441966&4294967295,A=P+(k<<22&4294967295|k>>>10),k=I+(D^A&(P^D))+b[4]+4118548399&4294967295,I=A+(k<<7&4294967295|k>>>25),k=D+(P^I&(A^P))+b[5]+1200080426&4294967295,D=I+(k<<12&4294967295|k>>>20),k=P+(A^D&(I^A))+b[6]+2821735955&4294967295,P=D+(k<<17&4294967295|k>>>15),k=A+(I^P&(D^I))+b[7]+4249261313&4294967295,A=P+(k<<22&4294967295|k>>>10),k=I+(D^A&(P^D))+b[8]+1770035416&4294967295,I=A+(k<<7&4294967295|k>>>25),k=D+(P^I&(A^P))+b[9]+2336552879&4294967295,D=I+(k<<12&4294967295|k>>>20),k=P+(A^D&(I^A))+b[10]+4294925233&4294967295,P=D+(k<<17&4294967295|k>>>15),k=A+(I^P&(D^I))+b[11]+2304563134&4294967295,A=P+(k<<22&4294967295|k>>>10),k=I+(D^A&(P^D))+b[12]+1804603682&4294967295,I=A+(k<<7&4294967295|k>>>25),k=D+(P^I&(A^P))+b[13]+4254626195&4294967295,D=I+(k<<12&4294967295|k>>>20),k=P+(A^D&(I^A))+b[14]+2792965006&4294967295,P=D+(k<<17&4294967295|k>>>15),k=A+(I^P&(D^I))+b[15]+1236535329&4294967295,A=P+(k<<22&4294967295|k>>>10),k=I+(P^D&(A^P))+b[1]+4129170786&4294967295,I=A+(k<<5&4294967295|k>>>27),k=D+(A^P&(I^A))+b[6]+3225465664&4294967295,D=I+(k<<9&4294967295|k>>>23),k=P+(I^A&(D^I))+b[11]+643717713&4294967295,P=D+(k<<14&4294967295|k>>>18),k=A+(D^I&(P^D))+b[0]+3921069994&4294967295,A=P+(k<<20&4294967295|k>>>12),k=I+(P^D&(A^P))+b[5]+3593408605&4294967295,I=A+(k<<5&4294967295|k>>>27),k=D+(A^P&(I^A))+b[10]+38016083&4294967295,D=I+(k<<9&4294967295|k>>>23),k=P+(I^A&(D^I))+b[15]+3634488961&4294967295,P=D+(k<<14&4294967295|k>>>18),k=A+(D^I&(P^D))+b[4]+3889429448&4294967295,A=P+(k<<20&4294967295|k>>>12),k=I+(P^D&(A^P))+b[9]+568446438&4294967295,I=A+(k<<5&4294967295|k>>>27),k=D+(A^P&(I^A))+b[14]+3275163606&4294967295,D=I+(k<<9&4294967295|k>>>23),k=P+(I^A&(D^I))+b[3]+4107603335&4294967295,P=D+(k<<14&4294967295|k>>>18),k=A+(D^I&(P^D))+b[8]+1163531501&4294967295,A=P+(k<<20&4294967295|k>>>12),k=I+(P^D&(A^P))+b[13]+2850285829&4294967295,I=A+(k<<5&4294967295|k>>>27),k=D+(A^P&(I^A))+b[2]+4243563512&4294967295,D=I+(k<<9&4294967295|k>>>23),k=P+(I^A&(D^I))+b[7]+1735328473&4294967295,P=D+(k<<14&4294967295|k>>>18),k=A+(D^I&(P^D))+b[12]+2368359562&4294967295,A=P+(k<<20&4294967295|k>>>12),k=I+(A^P^D)+b[5]+4294588738&4294967295,I=A+(k<<4&4294967295|k>>>28),k=D+(I^A^P)+b[8]+2272392833&4294967295,D=I+(k<<11&4294967295|k>>>21),k=P+(D^I^A)+b[11]+1839030562&4294967295,P=D+(k<<16&4294967295|k>>>16),k=A+(P^D^I)+b[14]+4259657740&4294967295,A=P+(k<<23&4294967295|k>>>9),k=I+(A^P^D)+b[1]+2763975236&4294967295,I=A+(k<<4&4294967295|k>>>28),k=D+(I^A^P)+b[4]+1272893353&4294967295,D=I+(k<<11&4294967295|k>>>21),k=P+(D^I^A)+b[7]+4139469664&4294967295,P=D+(k<<16&4294967295|k>>>16),k=A+(P^D^I)+b[10]+3200236656&4294967295,A=P+(k<<23&4294967295|k>>>9),k=I+(A^P^D)+b[13]+681279174&4294967295,I=A+(k<<4&4294967295|k>>>28),k=D+(I^A^P)+b[0]+3936430074&4294967295,D=I+(k<<11&4294967295|k>>>21),k=P+(D^I^A)+b[3]+3572445317&4294967295,P=D+(k<<16&4294967295|k>>>16),k=A+(P^D^I)+b[6]+76029189&4294967295,A=P+(k<<23&4294967295|k>>>9),k=I+(A^P^D)+b[9]+3654602809&4294967295,I=A+(k<<4&4294967295|k>>>28),k=D+(I^A^P)+b[12]+3873151461&4294967295,D=I+(k<<11&4294967295|k>>>21),k=P+(D^I^A)+b[15]+530742520&4294967295,P=D+(k<<16&4294967295|k>>>16),k=A+(P^D^I)+b[2]+3299628645&4294967295,A=P+(k<<23&4294967295|k>>>9),k=I+(P^(A|~D))+b[0]+4096336452&4294967295,I=A+(k<<6&4294967295|k>>>26),k=D+(A^(I|~P))+b[7]+1126891415&4294967295,D=I+(k<<10&4294967295|k>>>22),k=P+(I^(D|~A))+b[14]+2878612391&4294967295,P=D+(k<<15&4294967295|k>>>17),k=A+(D^(P|~I))+b[5]+4237533241&4294967295,A=P+(k<<21&4294967295|k>>>11),k=I+(P^(A|~D))+b[12]+1700485571&4294967295,I=A+(k<<6&4294967295|k>>>26),k=D+(A^(I|~P))+b[3]+2399980690&4294967295,D=I+(k<<10&4294967295|k>>>22),k=P+(I^(D|~A))+b[10]+4293915773&4294967295,P=D+(k<<15&4294967295|k>>>17),k=A+(D^(P|~I))+b[1]+2240044497&4294967295,A=P+(k<<21&4294967295|k>>>11),k=I+(P^(A|~D))+b[8]+1873313359&4294967295,I=A+(k<<6&4294967295|k>>>26),k=D+(A^(I|~P))+b[15]+4264355552&4294967295,D=I+(k<<10&4294967295|k>>>22),k=P+(I^(D|~A))+b[6]+2734768916&4294967295,P=D+(k<<15&4294967295|k>>>17),k=A+(D^(P|~I))+b[13]+1309151649&4294967295,A=P+(k<<21&4294967295|k>>>11),k=I+(P^(A|~D))+b[4]+4149444226&4294967295,I=A+(k<<6&4294967295|k>>>26),k=D+(A^(I|~P))+b[11]+3174756917&4294967295,D=I+(k<<10&4294967295|k>>>22),k=P+(I^(D|~A))+b[2]+718787259&4294967295,P=D+(k<<15&4294967295|k>>>17),k=A+(D^(P|~I))+b[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+D&4294967295}i.prototype.v=function(N,I){I===void 0&&(I=N.length);const A=I-this.blockSize,b=this.C;let P=this.h,D=0;for(;D<I;){if(P==0)for(;D<=A;)o(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<I;)if(b[P++]=N.charCodeAt(D++),P==this.blockSize){o(this,b),P=0;break}}else for(;D<I;)if(b[P++]=N[D++],P==this.blockSize){o(this,b),P=0;break}}this.h=P,this.o+=I},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var A=N.length-8;A<N.length;++A)N[A]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,A=0;A<4;++A)for(let b=0;b<32;b+=8)N[I++]=this.g[A]>>>b&255;return N};function l(N,I){var A=p;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=I(N)}function h(N,I){this.h=I;const A=[];let b=!0;for(let P=N.length-1;P>=0;P--){const D=N[P]|0;b&&D==I||(A[P]=D,b=!1)}this.g=A}var p={};function y(N){return-128<=N&&N<128?l(N,function(I){return new h([I|0],I<0?-1:0)}):new h([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return F(v(-N));const I=[];let A=1;for(let b=0;N>=A;b++)I[b]=N/A|0,A*=4294967296;return new h(I,0)}function w(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return F(w(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=v(Math.pow(I,8));let b=E;for(let D=0;D<N.length;D+=8){var P=Math.min(8,N.length-D);const k=parseInt(N.substring(D,D+P),I);P<8?(P=v(Math.pow(I,P)),b=b.j(P).add(v(k))):(b=b.j(A),b=b.add(v(k)))}return b}var E=y(0),S=y(1),V=y(16777216);r=h.prototype,r.m=function(){if(q(this))return-F(this).m();let N=0,I=1;for(let A=0;A<this.g.length;A++){const b=this.i(A);N+=(b>=0?b:4294967296+b)*I,I*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(q(this))return"-"+F(this).toString(N);const I=v(Math.pow(N,6));var A=this;let b="";for(;;){const P=_e(A,I).g;A=G(A,P.j(I));let D=((A.g.length>0?A.g[0]:A.h)>>>0).toString(N);if(A=P,H(A))return D+b;for(;D.length<6;)D="0"+D;b=D+b}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function q(N){return N.h==-1}r.l=function(N){return N=G(this,N),q(N)?-1:H(N)?0:1};function F(N){const I=N.g.length,A=[];for(let b=0;b<I;b++)A[b]=~N.g[b];return new h(A,~N.h).add(S)}r.abs=function(){return q(this)?F(this):this},r.add=function(N){const I=Math.max(this.g.length,N.g.length),A=[];let b=0;for(let P=0;P<=I;P++){let D=b+(this.i(P)&65535)+(N.i(P)&65535),k=(D>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);b=k>>>16,D&=65535,k&=65535,A[P]=k<<16|D}return new h(A,A[A.length-1]&-2147483648?-1:0)};function G(N,I){return N.add(F(I))}r.j=function(N){if(H(this)||H(N))return E;if(q(this))return q(N)?F(this).j(F(N)):F(F(this).j(N));if(q(N))return F(this.j(F(N)));if(this.l(V)<0&&N.l(V)<0)return v(this.m()*N.m());const I=this.g.length+N.g.length,A=[];for(var b=0;b<2*I;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(let P=0;P<N.g.length;P++){const D=this.i(b)>>>16,k=this.i(b)&65535,Fe=N.i(P)>>>16,rt=N.i(P)&65535;A[2*b+2*P]+=k*rt,J(A,2*b+2*P),A[2*b+2*P+1]+=D*rt,J(A,2*b+2*P+1),A[2*b+2*P+1]+=k*Fe,J(A,2*b+2*P+1),A[2*b+2*P+2]+=D*Fe,J(A,2*b+2*P+2)}for(N=0;N<I;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=I;N<2*I;N++)A[N]=0;return new h(A,0)};function J(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function re(N,I){this.g=N,this.h=I}function _e(N,I){if(H(I))throw Error("division by zero");if(H(N))return new re(E,E);if(q(N))return I=_e(F(N),I),new re(F(I.g),F(I.h));if(q(I))return I=_e(N,F(I)),new re(F(I.g),I.h);if(N.g.length>30){if(q(N)||q(I))throw Error("slowDivide_ only works with positive integers.");for(var A=S,b=I;b.l(N)<=0;)A=me(A),b=me(b);var P=ce(A,1),D=ce(b,1);for(b=ce(b,2),A=ce(A,2);!H(b);){var k=D.add(b);k.l(N)<=0&&(P=P.add(A),D=k),b=ce(b,1),A=ce(A,1)}return I=G(N,P.j(I)),new re(P,I)}for(P=E;N.l(I)>=0;){for(A=Math.max(1,Math.floor(N.m()/I.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),D=v(A),k=D.j(I);q(k)||k.l(N)>0;)A-=b,D=v(A),k=D.j(I);H(D)&&(D=S),P=P.add(D),N=G(N,k)}return new re(P,N)}r.B=function(N){return _e(this,N).h},r.and=function(N){const I=Math.max(this.g.length,N.g.length),A=[];for(let b=0;b<I;b++)A[b]=this.i(b)&N.i(b);return new h(A,this.h&N.h)},r.or=function(N){const I=Math.max(this.g.length,N.g.length),A=[];for(let b=0;b<I;b++)A[b]=this.i(b)|N.i(b);return new h(A,this.h|N.h)},r.xor=function(N){const I=Math.max(this.g.length,N.g.length),A=[];for(let b=0;b<I;b++)A[b]=this.i(b)^N.i(b);return new h(A,this.h^N.h)};function me(N){const I=N.g.length+1,A=[];for(let b=0;b<I;b++)A[b]=N.i(b)<<1|N.i(b-1)>>>31;return new h(A,N.h)}function ce(N,I){const A=I>>5;I%=32;const b=N.g.length-A,P=[];for(let D=0;D<b;D++)P[D]=I>0?N.i(D+A)>>>I|N.i(D+A+1)<<32-I:N.i(D+A);return new h(P,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,d_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Ns=h}).apply(typeof sy<"u"?sy:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f_,Oa,p_,Ku,Hd,m_,g_,y_;(function(){var r,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var M=u[T];if(!(M in _))break e;_=_[M]}u=u[u.length-1],T=_[u],g=g(T),g!=T&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var _=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&_.push([T,g[T]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,_){return u.call.apply(u.bind,arguments)}function v(u,g,_){return v=y,v.apply(null,arguments)}function w(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,M,$){for(var te=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)te[Te-2]=arguments[Te];return g.prototype[M].apply(T,te)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const g=u.length;if(g>0){const _=Array(g);for(let T=0;T<g;T++)_[T]=u[T];return _}return[]}function H(u,g){for(let T=1;T<arguments.length;T++){const M=arguments[T];var _=typeof M;if(_=_!="object"?_:M?Array.isArray(M)?"array":_:"null",_=="array"||_=="object"&&typeof M.length=="number"){_=u.length||0;const $=M.length||0;u.length=_+$;for(let te=0;te<$;te++)u[_+te]=M[te]}else u.push(M)}}class q{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(u){h.setTimeout(()=>{throw u},0)}function G(){var u=N;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class J{constructor(){this.h=this.g=null}add(g,_){const T=re.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new q(()=>new _e,u=>u.reset());class _e{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ce=!1,N=new J,I=()=>{const u=Promise.resolve(void 0);me=()=>{u.then(A)}};function A(){for(var u;u=G();){try{u.h.call(u.g)}catch(_){F(_)}var g=re;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}ce=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return u})();function k(u){return/^[\s\xa0]*$/.test(u)}function Fe(u,g){P.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}E(Fe,P),Fe.prototype.init=function(u,g){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var rt="closure_listenable_"+(Math.random()*1e6|0),Et=0;function qe(u,g,_,T,M){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=M,this.key=++Et,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u,g,_){for(const T in u)g.call(_,u[T],T,u)}function ae(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function L(u){const g={};for(const _ in u)g[_]=u[_];return g}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(u,g){let _,T;for(let M=1;M<arguments.length;M++){T=arguments[M];for(_ in T)u[_]=T[_];for(let $=0;$<Q.length;$++)_=Q[$],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function Ce(u){this.src=u,this.g={},this.h=0}Ce.prototype.add=function(u,g,_,T,M){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const te=Ne(u,g,T,M);return te>-1?(g=u[te],_||(g.fa=!1)):(g=new qe(g,this.src,$,!!T,M),g.fa=_,u.push(g)),g};function ke(u,g){const _=g.type;if(_ in u.g){var T=u.g[_],M=Array.prototype.indexOf.call(T,g,void 0),$;($=M>=0)&&Array.prototype.splice.call(T,M,1),$&&(ne(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ne(u,g,_,T){for(let M=0;M<u.length;++M){const $=u[M];if(!$.da&&$.listener==g&&$.capture==!!_&&$.ha==T)return M}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ve={};function $e(u,g,_,T,M){if(Array.isArray(g)){for(let $=0;$<g.length;$++)$e(u,g[$],_,T,M);return null}return _=Bo(_),u&&u[rt]?u.J(g,_,p(T)?!!T.capture:!1,M):$t(u,g,_,!1,T,M)}function $t(u,g,_,T,M,$){if(!g)throw Error("Invalid event type");const te=p(M)?!!M.capture:!!M;let Te=Ai(u);if(Te||(u[Ue]=Te=new Ce(u)),_=Te.add(g,_,T,te,$),_.proxy)return _;if(T=Si(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)D||(M=te),M===void 0&&(M=!1),u.addEventListener(g.toString(),T,M);else if(u.attachEvent)u.attachEvent(Ci(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Si(){function u(_){return g.call(u.src,u.listener,_)}const g=vl;return u}function zo(u,g,_,T,M){if(Array.isArray(g))for(var $=0;$<g.length;$++)zo(u,g[$],_,T,M);else T=p(T)?!!T.capture:!!T,_=Bo(_),u&&u[rt]?(u=u.i,$=String(g).toString(),$ in u.g&&(g=u.g[$],_=Ne(g,_,T,M),_>-1&&(ne(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[$],u.h--)))):u&&(u=Ai(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ne(g,_,T,M)),(_=u>-1?g[u]:null)&&qr(_))}function qr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[rt])ke(g.i,u);else{var _=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(_,T,u.capture):g.detachEvent?g.detachEvent(Ci(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=Ai(g))?(ke(_,u),_.h==0&&(_.src=null,g[Ue]=null)):ne(u)}}}function Ci(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function vl(u,g){if(u.da)u=!0;else{g=new Fe(g,this);const _=u.listener,T=u.ha||u.src;u.fa&&qr(u),u=_.call(T,g)}return u}function Ai(u){return u=u[Ue],u instanceof Ce?u:null}var Os="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bo(u){return typeof u=="function"?u:(u[Os]||(u[Os]=function(g){return u.handleEvent(g)}),u[Os])}function ct(){b.call(this),this.i=new Ce(this),this.M=this,this.G=null}E(ct,b),ct.prototype[rt]=!0,ct.prototype.removeEventListener=function(u,g,_,T){zo(this,u,g,_,T)};function ot(u,g){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new P(g,u);else if(g instanceof P)g.target=g.target||u;else{var M=g;g=new P(T,u),Se(g,M)}M=!0;let $,te;if(_)for(te=_.length-1;te>=0;te--)$=g.g=_[te],M=En($,T,!0,g)&&M;if($=g.g=u,M=En($,T,!0,g)&&M,M=En($,T,!1,g)&&M,_)for(te=0;te<_.length;te++)$=g.g=_[te],M=En($,T,!1,g)&&M}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let T=0;T<_.length;T++)ne(_[T]);delete u.g[g],u.h--}}this.G=null},ct.prototype.J=function(u,g,_,T){return this.i.add(String(u),g,!1,_,T)},ct.prototype.K=function(u,g,_,T){return this.i.add(String(u),g,!0,_,T)};function En(u,g,_,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let M=!0;for(let $=0;$<g.length;++$){const te=g[$];if(te&&!te.da&&te.capture==_){const Te=te.listener,at=te.ha||te.src;te.fa&&ke(u.i,te),M=Te.call(at,T)!==!1&&M}}return M&&!T.defaultPrevented}function $o(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:h.setTimeout(u,g||0)}function Ho(u){u.g=$o(()=>{u.g=null,u.i&&(u.i=!1,Ho(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class _l extends b{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ho(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(u){b.call(this),this.h=u,this.g={}}E(Wr,b);var qo=[];function ki(u){pe(u.g,function(g,_){this.g.hasOwnProperty(_)&&qr(g)},u),u.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),ki(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gr=h.JSON.stringify,wl=h.JSON.parse,Ms=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Kr(){}function xl(){}var Qr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ni(){P.call(this,"d")}E(Ni,P);function Wo(){P.call(this,"c")}E(Wo,P);var Tn={},Ri=null;function Yr(){return Ri=Ri||new ct}Tn.Ia="serverreachability";function Pi(u){P.call(this,Tn.Ia,u)}E(Pi,P);function fr(u){const g=Yr();ot(g,new Pi(g))}Tn.STAT_EVENT="statevent";function pr(u,g){P.call(this,Tn.STAT_EVENT,u),this.stat=g}E(pr,P);function st(u){const g=Yr();ot(g,new pr(g,u))}Tn.Ja="timingevent";function Go(u,g){P.call(this,Tn.Ja,u),this.size=g}E(Go,P);function Xr(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function Jr(){this.g=!0}Jr.prototype.ua=function(){this.g=!1};function El(u,g,_,T,M,$){u.info(function(){if(u.g)if($){var te="",Te=$.split("&");for(let Be=0;Be<Te.length;Be++){var at=Te[Be].split("=");if(at.length>1){const ht=at[0];at=at[1];const ln=ht.split("_");te=ln.length>=2&&ln[1]=="type"?te+(ht+"="+at+"&"):te+(ht+"=redacted&")}}}else te=null;else te=$;return"XMLHTTP REQ ("+T+") [attempt "+M+"]: "+g+`
`+_+`
`+te})}function Tl(u,g,_,T,M,$,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+M+"]: "+g+`
`+_+`
`+$+" "+te})}function Mn(u,g,_,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Fs(u,_)+(T?" "+T:"")})}function Il(u,g){u.info(function(){return"TIMEOUT: "+g})}Jr.prototype.info=function(){};function Fs(u,g){if(!u.g)return g;if(!g)return null;try{const $=JSON.parse(g);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var _=$[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var M=T[0];if(M!="noop"&&M!="stop"&&M!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return Gr($)}catch{return g}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},es={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function mr(){}E(mr,Kr),mr.prototype.g=function(){return new XMLHttpRequest},Sl=new mr;function Fn(u){return encodeURIComponent(String(u))}function bi(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function dn(u,g,_,T){this.j=u,this.i=g,this.l=_,this.S=T||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}var Al={},Ko={};function In(u,g,_){u.M=1,u.A=yr(fn(g)),u.u=_,u.R=!0,Qo(u,null)}function Qo(u,g){u.F=Date.now(),Us(u),u.B=fn(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ia(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Cl,u.g=Ol(u.j,_?g:null,!u.u),u.P>0&&(u.O=new _l(v(u.Y,u,u.g),u.P)),g=u.V,_=u.g,T=u.ba;var M="readystatechange";Array.isArray(M)||(M&&(qo[0]=M.toString()),M=qo);for(let $=0;$<M.length;$++){const te=$e(_,M[$],T||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=u.J?L(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),fr(),El(u.i,u.v,u.B,u.l,u.S,u.u)}dn.prototype.ba=function(u){u=u.target;const g=this.O;g&&Wn(u)==3?g.j():this.Y(u)},dn.prototype.Y=function(u){try{if(u==this.g)e:{const Te=Wn(this.g),at=this.g.ya(),Be=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||Vl(this.g)))){this.K||Te!=4||at==7||(at==8||Be<=0?fr(3):fr(2)),ji(this);var g=this.g.ca();this.X=g;var _=kl(this);if(this.o=g==200,Tl(this.i,this.v,this.B,this.l,this.S,Te,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,M=this.g;if((T=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(T)){var $=T;break t}}$=null}if(u=$)Mn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ke(this,u);else{this.o=!1,this.m=3,st(12),gr(this),zs(this);break e}}if(this.R){u=!0;let ht;for(;!this.K&&this.C<_.length;)if(ht=Rl(this,_),ht==Ko){Te==4&&(this.m=4,st(14),u=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Al){this.m=4,st(15),Mn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Mn(this.i,this.l,ht,null),Ke(this,ht);if(Nl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||_.length!=0||this.h.h||(this.m=1,st(16),u=!1),this.o=this.o&&u,!u)Mn(this.i,this.l,_,"[Invalid Chunked Response]"),gr(this),zs(this);else if(_.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ys(te),te.P=!0,st(11))}}else Mn(this.i,this.l,_,null),Ke(this,_);Te==4&&gr(this),this.o&&!this.K&&(Te==4?$i(this.j,this):(this.o=!1,Us(this)))}else aa(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,st(12)):(this.m=0,st(13)),gr(this),zs(this)}}}catch{}finally{}};function kl(u){if(!Nl(u))return u.g.la();const g=Vl(u.g);if(g==="")return"";let _="";const T=g.length,M=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gr(u),zs(u),"";u.h.i=new h.TextDecoder}for(let $=0;$<T;$++)u.h.h=!0,_+=u.h.i.decode(g[$],{stream:!(M&&$==T-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function Nl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Rl(u,g){var _=u.C,T=g.indexOf(`
`,_);return T==-1?Ko:(_=Number(g.substring(_,T)),isNaN(_)?Al:(T+=1,T+_>g.length?Ko:(g=g.slice(T,T+_),u.C=T+_,g)))}dn.prototype.cancel=function(){this.K=!0,gr(this)};function Us(u){u.T=Date.now()+u.H,Yo(u,u.H)}function Yo(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xr(v(u.aa,u),g)}function ji(u){u.D&&(h.clearTimeout(u.D),u.D=null)}dn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Il(this.i,this.B),this.M!=2&&(fr(),st(17)),gr(this),this.m=2,zs(this)):Yo(this,this.T-u)};function zs(u){u.j.I==0||u.K||$i(u.j,u)}function gr(u){ji(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,ki(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Ke(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||Jo(_.h,u))){if(!u.L&&Jo(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var M=T;if(M[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Bi(_),on(_);else break e;Qn(_),st(18)}}else _.xa=M[1],0<_.xa-_.K&&M[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Xr(v(_.Va,_),6e3));Bs(_.h)<=1&&_.ta&&(_.ta=void 0)}else an(_,11)}else if((u.L||_.g==u)&&Bi(_),!k(g))for(M=_.Ba.g.parse(g),g=0;g<M.length;g++){let Be=M[g];const ht=Be[0];if(!(ht<=_.K))if(_.K=ht,Be=Be[1],_.I==2)if(Be[0]=="c"){_.M=Be[1],_.ba=Be[2];const ln=Be[3];ln!=null&&(_.ka=ln,_.j.info("VER="+_.ka));const Er=Be[4];Er!=null&&(_.za=Er,_.j.info("SVER="+_.za));const Yn=Be[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(T=1.5*Yn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Xn=u.g;if(Xn){const Wi=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var $=T.h;$.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Vi($,$.h),$.h=null))}if(T.G){const ca=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Me(T.J,T.G,ca))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var te=u;if(T.na=ua(T,T.L?T.ba:null,T.W),te.L){$s(T.h,te);var Te=te,at=T.O;at&&(Te.H=at),Te.D&&(ji(Te),Us(Te)),T.g=te}else Dt(T);_.i.length>0&&xr(_)}else Be[0]!="stop"&&Be[0]!="close"||an(_,7);else _.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?an(_,7):Ui(_):Be[0]!="noop"&&_.l&&_.l.qa(Be),_.A=0)}}fr(4)}catch{}}var qc=class{constructor(u,g){this.g=u,this.map=g}};function Di(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bs(u){return u.h?1:u.g?u.g.size:0}function Jo(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Vi(u,g){u.g?u.g.add(g):u.h=g}function $s(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Di.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return V(u.i)}var Pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rn(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let M,$=null;T>=0?(M=u[_].substring(0,T),$=u[_].substring(T+1)):M=u[_],g(M,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Un?(this.l=u.l,Hs(this,u.j),this.o=u.o,this.g=u.g,zn(this,u.u),this.h=u.h,ts(this,oa(u.i)),this.m=u.m):u&&(g=String(u).match(Pl))?(this.l=!1,Hs(this,g[1]||"",!0),this.o=qs(g[2]||""),this.g=qs(g[3]||"",!0),zn(this,g[4]),this.h=qs(g[5]||"",!0),ts(this,g[6]||"",!0),this.m=qs(g[7]||"")):(this.l=!1,this.i=new je(null,this.l))}Un.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Ws(g,ea,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ws(g,ea,!0),"@"),u.push(Fn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ws(_,_.charAt(0)=="/"?Gs:ta,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ws(_,na)),u.join("")},Un.prototype.resolve=function(u){const g=fn(this);let _=!!u.j;_?Hs(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var T=u.h;if(_)zn(g,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var M=g.h.lastIndexOf("/");M!=-1&&(T=g.h.slice(0,M+1)+T)}if(M=T,M==".."||M==".")T="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){T=M.lastIndexOf("/",0)==0,M=M.split("/");const $=[];for(let te=0;te<M.length;){const Te=M[te++];Te=="."?T&&te==M.length&&$.push(""):Te==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),T&&te==M.length&&$.push("")):($.push(Te),T=!0)}T=$.join("/")}else T=M}return _?g.h=T:_=u.i.toString()!=="",_?ts(g,oa(u.i)):_=!!u.m,_&&(g.m=u.m),g};function fn(u){return new Un(u)}function Hs(u,g,_){u.j=_?qs(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function zn(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function ts(u,g,_){g instanceof je?(u.i=g,Oi(u.i,u.l)):(_||(g=Ws(g,Wc)),u.i=new je(g,u.l))}function Me(u,g,_){u.i.set(g,_)}function yr(u){return Me(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function qs(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ws(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Zo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Zo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,ta=/[#\?:]/g,Gs=/[#\?]/g,Wc=/[#\?@]/g,na=/#/g;function je(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Bn(u){u.g||(u.g=new Map,u.h=0,u.i&&rn(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=je.prototype,r.add=function(u,g){Bn(this),this.i=null,u=$n(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function ra(u,g){Bn(u),g=$n(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Li(u,g){return Bn(u),g=$n(u,g),u.g.has(g)}r.forEach=function(u,g){Bn(this),this.g.forEach(function(_,T){_.forEach(function(M){u.call(g,M,T,this)},this)},this)};function sa(u,g){Bn(u);let _=[];if(typeof g=="string")Li(u,g)&&(_=_.concat(u.g.get($n(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}r.set=function(u,g){return Bn(this),this.i=null,u=$n(this,u),Li(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=sa(this,u),u.length>0?String(u[0]):g):g};function ia(u,g,_){ra(u,g),_.length>0&&(u.i=null,u.g.set($n(u,g),V(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var _=g[T];const M=Fn(_);_=sa(this,_);for(let $=0;$<_.length;$++){let te=M;_[$]!==""&&(te+="="+Fn(_[$])),u.push(te)}}return this.i=u.join("&")};function oa(u){const g=new je;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function $n(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Oi(u,g){g&&!u.j&&(Bn(u),u.i=null,u.g.forEach(function(_,T){const M=T.toLowerCase();T!=M&&(ra(this,T),ia(this,M,_))},u)),u.j=g}function Hn(u,g){const _=new Jr;if(h.Image){const T=new Image;T.onload=w(At,_,"TestLoadImage: loaded",!0,g,T),T.onerror=w(At,_,"TestLoadImage: error",!1,g,T),T.onabort=w(At,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=w(At,_,"TestLoadImage: timeout",!1,g,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function qn(u,g){const _=new Jr,T=new AbortController,M=setTimeout(()=>{T.abort(),At(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then($=>{clearTimeout(M),$.ok?At(_,"TestPingServer: ok",!0,g):At(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(M),At(_,"TestPingServer: error",!1,g)})}function At(u,g,_,T,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),T(_)}catch{}}function Ks(){this.g=new Ms}function vr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(vr,Kr),vr.prototype.g=function(){return new sn(this.i,this.h)};function sn(u,g){ct.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(sn,ct),r=sn.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Sn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||h).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function bl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ns(this):Sn(this),this.readyState==3&&bl(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ns(this))},r.Na=function(u){this.g&&(this.response=u,ns(this))},r.ga=function(){this.g&&ns(this)};function ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Sn(u)}r.setRequestHeader=function(u,g){this.A.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Sn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(sn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jl(u){let g="";return pe(u,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function Mi(u,g,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=jl(_),typeof u=="string"?_!=null&&Fn(_):Me(u,g,_))}function He(u){ct.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(He,ct);var Dl=/^https?$/i,Gc=["POST","PUT"];r=He.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=S(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch($){rs(this,$);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var M in T)_.set(M,T[M]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const $ of T.keys())_.set($,T.get($));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),M=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Gc,g,void 0)>=0)||T||M||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of _)this.g.setRequestHeader($,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){rs(this,$)}};function rs(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,ss(u),wr(u)}function ss(u){u.A||(u.A=!0,ot(u,"complete"),ot(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ot(this,"complete"),ot(this,"abort"),wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),He.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},r.Xa=function(){_r(this)};function _r(u){if(u.h&&typeof l<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ot(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var T;if(T=$===0){let te=String(u.D).match(Pl)[1]||null;!te&&h.self&&h.self.location&&(te=h.self.location.protocol.slice(0,-1)),T=!Dl.test(te?te.toLowerCase():"")}_=T}if(_)ot(u,"complete"),ot(u,"success");else{u.o=6;try{var M=Wn(u)>2?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.ca()+"]",ss(u)}}finally{wr(u)}}}}function wr(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||ot(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),wl(g)}};function Vl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function aa(u){const g={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(k(u[T]))continue;var _=bi(u[T]);const M=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=g[M]||[];g[M]=$,$.push(_)}ae(g,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gn(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Fi(u){this.za=0,this.i=[],this.j=new Jr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gn("baseRetryDelayMs",5e3,u),this.Za=Gn("retryDelaySeedMs",1e4,u),this.Ta=Gn("forwardChannelMaxRetries",2,u),this.va=Gn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Di(u&&u.concurrentRequestLimit),this.Ba=new Ks,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Fi.prototype,r.ka=8,r.I=1,r.connect=function(u,g,_,T){st(0),this.W=u,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=ua(this,null,this.W),xr(this)};function Ui(u){if(zi(u),u.I==3){var g=u.V++,_=fn(u.J);if(Me(_,"SID",u.M),Me(_,"RID",g),Me(_,"TYPE","terminate"),Kn(u,_),g=new dn(u,u.j,g),g.M=2,g.A=yr(fn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.A,_=!0),_||(g.g=Ol(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Us(g)}Xs(u)}function on(u){u.g&&(Ys(u),u.g.cancel(),u.g=null)}function zi(u){on(u),u.v&&(h.clearTimeout(u.v),u.v=null),Bi(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function xr(u){if(!Xo(u.h)&&!u.m){u.m=!0;var g=u.Ea;me||I(),ce||(me(),ce=!0),N.add(g,u),u.D=0}}function Ll(u,g){return Bs(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xr(v(u.Ea,u,g),Hi(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const M=new dn(this,this.j,u);let $=this.o;if(this.U&&($?($=L($),Se($,this.U)):$=this.U),this.u!==null||this.R||(M.J=$,$=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=la(this,M,g),_=fn(this.J),Me(_,"RID",u),Me(_,"CVER",22),this.G&&Me(_,"X-HTTP-Session-Id",this.G),Kn(this,_),$&&(this.R?g="headers="+Fn(jl($))+"&"+g:this.u&&Mi(_,this.u,$)),Vi(this.h,M),this.Ra&&Me(_,"TYPE","init"),this.S?(Me(_,"$req",g),Me(_,"SID","null"),M.U=!0,In(M,_,null)):In(M,_,g),this.I=2}}else this.I==3&&(u?Qs(this,u):this.i.length==0||Xo(this.h)||Qs(this))};function Qs(u,g){var _;g?_=g.l:_=u.V++;const T=fn(u.J);Me(T,"SID",u.M),Me(T,"RID",_),Me(T,"AID",u.K),Kn(u,T),u.u&&u.o&&Mi(T,u.u,u.o),_=new dn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=la(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vi(u.h,_),In(_,T,g)}function Kn(u,g){u.H&&pe(u.H,function(_,T){Me(g,T,_)}),u.l&&pe({},function(_,T){Me(g,T,_)})}function la(u,g,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;e:{var M=u.i;let Te=-1;for(;;){const at=["count="+_];Te==-1?_>0?(Te=M[0].g,at.push("ofs="+Te)):Te=0:at.push("ofs="+Te);let Be=!0;for(let ht=0;ht<_;ht++){var $=M[ht].g;const ln=M[ht].map;if($-=Te,$<0)Te=Math.max(0,M[ht].g-100),Be=!1;else try{$="req"+$+"_"||"";try{var te=ln instanceof Map?ln:Object.entries(ln);for(const[Er,Yn]of te){let Xn=Yn;p(Yn)&&(Xn=Gr(Yn)),at.push($+Er+"="+encodeURIComponent(Xn))}}catch(Er){throw at.push($+"type="+encodeURIComponent("_badmap")),Er}}catch{T&&T(ln)}}if(Be){te=at.join("&");break e}}te=void 0}return u=u.i.splice(0,_),g.G=u,te}function Dt(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;me||I(),ce||(me(),ce=!0),N.add(g,u),u.A=0}}function Qn(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xr(v(u.Da,u),Hi(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,is(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xr(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,st(10),on(this),is(this))};function Ys(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function is(u){u.g=new dn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=fn(u.na);Me(g,"RID","rpc"),Me(g,"SID",u.M),Me(g,"AID",u.K),Me(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Me(g,"TO",u.ia),Me(g,"TYPE","xmlhttp"),Kn(u,g),u.u&&u.o&&Mi(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=yr(fn(g)),_.u=null,_.R=!0,Qo(_,u)}r.Va=function(){this.C!=null&&(this.C=null,on(this),Qn(this),st(19))};function Bi(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function $i(u,g){var _=null;if(u.g==g){Bi(u),Ys(u),u.g=null;var T=2}else if(Jo(u.h,g))_=g.G,$s(u.h,g),T=1;else return;if(u.I!=0){if(g.o)if(T==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var M=u.D;T=Yr(),ot(T,new Go(T,_)),xr(u)}else Dt(u);else if(M=g.m,M==3||M==0&&g.X>0||!(T==1&&Ll(u,g)||T==2&&Qn(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),M){case 1:an(u,5);break;case 4:an(u,10);break;case 3:an(u,6);break;default:an(u,2)}}}function Hi(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function an(u,g){if(u.j.info("Error code "+g),g==2){var _=v(u.bb,u),T=u.Ua;const M=!T;T=new Un(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Hs(T,"https"),yr(T),M?Hn(T.toString(),_):qn(T.toString(),_)}else st(2);u.I=0,u.l&&u.l.pa(g),Xs(u),zi(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Xs(u){if(u.I=0,u.ja=[],u.l){const g=nn(u.h);(g.length!=0||u.i.length!=0)&&(H(u.ja,g),H(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function ua(u,g,_){var T=_ instanceof Un?fn(_):new Un(_);if(T.g!="")g&&(T.g=g+"."+T.g),zn(T,T.u);else{var M=h.location;T=M.protocol,g=g?g+"."+M.hostname:M.hostname,M=+M.port;const $=new Un(null);T&&Hs($,T),g&&($.g=g),M&&zn($,M),_&&($.h=_),T=$}return _=u.G,g=u.wa,_&&g&&Me(T,_,g),Me(T,"VER",u.ka),Kn(u,T),T}function Ol(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new He(new vr({ab:_})):new He(u.ma),g.Fa(u.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ml(){}r=Ml.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function qi(){}qi.prototype.g=function(u,g){return new kt(u,g)};function kt(u,g){ct.call(this),this.g=new Fi(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!k(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!k(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new os(this)}E(kt,ct),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Ui(this.g)},kt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Gr(u),u=_);g.i.push(new qc(g.Ya++,u)),g.I==3&&xr(g)},kt.prototype.N=function(){this.g.l=null,delete this.j,Ui(this.g),delete this.g,kt.Z.N.call(this)};function Fl(u){Ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}E(Fl,Ni);function Ul(){Wo.call(this),this.status=1}E(Ul,Wo);function os(u){this.g=u}E(os,Ml),os.prototype.ra=function(){ot(this.g,"a")},os.prototype.qa=function(u){ot(this.g,new Fl(u))},os.prototype.pa=function(u){ot(this.g,new Ul)},os.prototype.oa=function(){ot(this.g,"b")},qi.prototype.createWebChannel=qi.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,y_=function(){return new qi},g_=function(){return Yr()},m_=Tn,Hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,Ku=Zr,es.COMPLETE="complete",p_=es,xl.EventType=Qr,Qr.OPEN="a",Qr.CLOSE="b",Qr.ERROR="c",Qr.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Oa=xl,He.prototype.listenOnce=He.prototype.K,He.prototype.getLastError=He.prototype.Ha,He.prototype.getLastErrorCode=He.prototype.ya,He.prototype.getStatus=He.prototype.ca,He.prototype.getResponseJson=He.prototype.La,He.prototype.getResponseText=He.prototype.la,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Fa,f_=He}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});const iy="@firebase/firestore",oy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new mf("@firebase/firestore");function po(){return vi.logLevel}function oe(r,...e){if(vi.logLevel<=Re.DEBUG){const t=e.map(kf);vi.debug(`Firestore (${Lo}): ${r}`,...t)}}function Ur(r,...e){if(vi.logLevel<=Re.ERROR){const t=e.map(kf);vi.error(`Firestore (${Lo}): ${r}`,...t)}}function So(r,...e){if(vi.logLevel<=Re.WARN){const t=e.map(kf);vi.warn(`Firestore (${Lo}): ${r}`,...t)}}function kf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,v_(r,i,t)}function v_(r,e,t){let i=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ur(i),new Error(i)}function ze(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||v_(e,o,i)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ut.UNAUTHENTICATED)))}shutdown(){}}class jS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class DS{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let i=this.i;const o=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let l=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vr)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string",31837,{l:i}),new __(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class VS{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LS{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new VS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ay{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ay(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ay(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=MS(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Pe(r,e){return r<e?-1:r>e?1:0}function qd(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),l=e.charAt(i);if(o!==l)return kd(o)===kd(l)?Pe(o,l):kd(o)?1:-1}return Pe(r.length,e.length)}const FS=55296,US=57343;function kd(r){const e=r.charCodeAt(0);return e>=FS&&e<=US}function Co(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="__name__";class rr{constructor(e,t,i){t===void 0?t=0:t>e.length&&ve(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ve(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=rr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Pe(e.length,t.length)}static compareSegments(e,t){const i=rr.isNumericId(e),o=rr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?rr.extractNumericId(e).compare(rr.extractNumericId(t)):qd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class Ge extends rr{construct(e,t,i){return new Ge(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new Ge(t)}static emptyPath(){return new Ge([])}}const zS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends rr{construct(e,t,i){return new bt(e,t,i)}static isValidIdentifier(e){return zS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ly}static keyField(){return new bt([ly])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ie(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ie(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ie(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(l(),o++)}if(l(),h)throw new ie(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ge.fromString(e))}static fromName(e){return new fe(Ge.fromString(e).popFirst(5))}static empty(){return new fe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(r,e,t){if(!t)throw new ie(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function BS(r,e,t,i){if(e===!0&&i===!0)throw new ie(W.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function uy(r){if(!fe.isDocumentKey(r))throw new ie(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cy(r){if(fe.isDocumentKey(r))throw new ie(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function x_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Rc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function _i(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ie(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rc(r);throw new ie(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,e){const t={typeString:r};return e&&(t.value=e),t}function hl(r,e){if(!x_(r))throw new ie(W.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ie(W.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-62135596800,dy=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*dy);return new Xe(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hy)throw new ie(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dy}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hl(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:gt("string",Xe._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Xe(0,0))}static max(){return new Ee(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=-1;function $S(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(i===1e9?new Xe(t+1,0):new Xe(t,i));return new Ps(o,fe.empty(),e)}function HS(r){return new Ps(r.readTime,r.key,Xa)}class Ps{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ps(Ee.min(),fe.empty(),Xa)}static max(){return new Ps(Ee.max(),fe.empty(),Xa)}}function qS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(r.documentKey,e.documentKey),t!==0?t:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==WS)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,i)=>{t(e)}))}static reject(e){return new K(((t,i)=>{i(e)}))}static waitFor(e){return new K(((t,i)=>{let o=0,l=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++l,h&&l===o&&t()}),(y=>i(y)))})),h=!0,l===o&&t()}))}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next((o=>o?K.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new K(((i,o)=>{const l=e.length,h=new Array(l);let p=0;for(let y=0;y<l;y++){const v=y;t(e[v]).next((w=>{h[v]=w,++p,p===l&&i(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new K(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function KS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=-1;function bc(r){return r==null}function uc(r){return r===0&&1/r==-1/0}function QS(r){return typeof r=="number"&&Number.isInteger(r)&&!uc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="";function YS(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=fy(e)),e=XS(r.get(t),e);return fy(e)}function XS(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case E_:t+="";break;default:t+=l}}return t}function fy(r){return r+E_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function xi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function T_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Pt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Pt.RED,this.left=o??Pt.EMPTY,this.right=l??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Pt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Pt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new my(this.data.getIterator())}getIteratorFrom(e){return new my(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class my{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new xt(bt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new I_("Invalid base64 string: "+l):l}})(e);return new jt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const JS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(r){if(ze(!!r,39018),typeof r=="string"){let e=0;const t=JS.exec(r);if(ze(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ut(r.seconds),nanos:ut(r.nanos)}}function ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function js(r){return typeof r=="string"?jt.fromBase64String(r):jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="server_timestamp",C_="__type__",A_="__previous_value__",k_="__local_write_time__";function Pf(r){return(r?.mapValue?.fields||{})[C_]?.stringValue===S_}function jc(r){const e=r.mapValue.fields[A_];return Pf(e)?jc(e):e}function Ja(r){const e=bs(r.mapValue.fields[k_].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,t,i,o,l,h,p,y,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=w}}const cc="(default)";class Za{constructor(e,t){this.projectId=e,this.database=t||cc}static empty(){return new Za("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__type__",eC="__max__",Mu={mapValue:{}},R_="__vector__",hc="value";function Ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pf(r)?4:nC(r)?9007199254740991:tC(r)?10:11:ve(28295,{value:r})}function hr(r,e){if(r===e)return!0;const t=Ds(r);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ja(r).isEqual(Ja(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=bs(o.timestampValue),p=bs(l.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return js(o.bytesValue).isEqual(js(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ut(o.doubleValue),p=ut(l.doubleValue);return h===p?uc(h)===uc(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return Co(r.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},p=l.mapValue.fields||{};if(py(h)!==py(p))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(p[y]===void 0||!hr(h[y],p[y])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function el(r,e){return(r.values||[]).find((t=>hr(t,e)))!==void 0}function Ao(r,e){if(r===e)return 0;const t=Ds(r),i=Ds(e);if(t!==i)return Pe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const p=ut(l.integerValue||l.doubleValue),y=ut(h.integerValue||h.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return gy(r.timestampValue,e.timestampValue);case 4:return gy(Ja(r),Ja(e));case 5:return qd(r.stringValue,e.stringValue);case 6:return(function(l,h){const p=js(l),y=js(h);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const p=l.split("/"),y=h.split("/");for(let v=0;v<p.length&&v<y.length;v++){const w=Pe(p[v],y[v]);if(w!==0)return w}return Pe(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const p=Pe(ut(l.latitude),ut(h.latitude));return p!==0?p:Pe(ut(l.longitude),ut(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return yy(r.arrayValue,e.arrayValue);case 10:return(function(l,h){const p=l.fields||{},y=h.fields||{},v=p[hc]?.arrayValue,w=y[hc]?.arrayValue,E=Pe(v?.values?.length||0,w?.values?.length||0);return E!==0?E:yy(v,w)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Mu.mapValue&&h===Mu.mapValue)return 0;if(l===Mu.mapValue)return 1;if(h===Mu.mapValue)return-1;const p=l.fields||{},y=Object.keys(p),v=h.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let E=0;E<y.length&&E<w.length;++E){const S=qd(y[E],w[E]);if(S!==0)return S;const V=Ao(p[y[E]],v[w[E]]);if(V!==0)return V}return Pe(y.length,w.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:t})}}function gy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const t=bs(r),i=bs(e),o=Pe(t.seconds,i.seconds);return o!==0?o:Pe(t.nanos,i.nanos)}function yy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Ao(t[o],i[o]);if(l)return l}return Pe(t.length,i.length)}function ko(r){return Wd(r)}function Wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=bs(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return js(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return fe.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Wd(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Wd(t.fields[h])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function Qu(r){switch(Ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jc(r);return e?16+Qu(e):16;case 5:return 2*r.stringValue.length;case 6:return js(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Qu(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return xi(i.fields,((l,h)=>{o+=l.length+Qu(h)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function vy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gd(r){return!!r&&"integerValue"in r}function bf(r){return!!r&&"arrayValue"in r}function _y(r){return!!r&&"nullValue"in r}function wy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yu(r){return!!r&&"mapValue"in r}function tC(r){return(r?.mapValue?.fields||{})[N_]?.stringValue===R_}function $a(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return xi(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=$a(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$a(r.arrayValue.values[t]);return e}return{...r}}function nC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===eC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$a(t)}setAll(e){let t=bt.emptyPath(),i={},o=[];e.forEach(((h,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,i,o),i={},o=[],t=p.popLast()}h?i[p.lastSegment()]=$a(h):o.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Yu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){xi(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new wn($a(this.value))}}function P_(r){const e=[];return xi(r.fields,((t,i)=>{const o=new bt([t]);if(Yu(i)){const l=P_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,i,o,l,h,p){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=p}static newInvalidDocument(e){return new zt(e,0,Ee.min(),Ee.min(),Ee.min(),wn.empty(),0)}static newFoundDocument(e,t,i,o){return new zt(e,1,t,Ee.min(),i,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Ee.min(),Ee.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ee.min(),Ee.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.position=e,this.inclusive=t}}function xy(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=fe.comparator(fe.fromName(h.referenceValue),t.key):i=Ao(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ey(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!hr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function rC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{}class mt extends b_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new iC(e,t,i):t==="array-contains"?new lC(e,i):t==="in"?new uC(e,i):t==="not-in"?new cC(e,i):t==="array-contains-any"?new hC(e,i):new mt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new oC(e,i):new aC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ao(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends b_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new On(e,t)}matches(e){return j_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function j_(r){return r.op==="and"}function D_(r){return sC(r)&&j_(r)}function sC(r){for(const e of r.filters)if(e instanceof On)return!1;return!0}function Kd(r){if(r instanceof mt)return r.field.canonicalString()+r.op.toString()+ko(r.value);if(D_(r))return r.filters.map((e=>Kd(e))).join(",");{const e=r.filters.map((t=>Kd(t))).join(",");return`${r.op}(${e})`}}function V_(r,e){return r instanceof mt?(function(i,o){return o instanceof mt&&i.op===o.op&&i.field.isEqual(o.field)&&hr(i.value,o.value)})(r,e):r instanceof On?(function(i,o){return o instanceof On&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,p)=>l&&V_(h,o.filters[p])),!0):!1})(r,e):void ve(19439)}function L_(r){return r instanceof mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ko(t.value)}`})(r):r instanceof On?(function(t){return t.op.toString()+" {"+t.getFilters().map(L_).join(" ,")+"}"})(r):"Filter"}class iC extends mt{constructor(e,t,i){super(e,t,i),this.key=fe.fromName(i.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class oC extends mt{constructor(e,t){super(e,"in",t),this.keys=O_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aC extends mt{constructor(e,t){super(e,"not-in",t),this.keys=O_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function O_(r,e){return(e.arrayValue?.values||[]).map((t=>fe.fromName(t.referenceValue)))}class lC extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bf(t)&&el(t.arrayValue,this.value)}}class uC extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&el(this.value.arrayValue,t)}}class cC extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(el(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!el(this.value.arrayValue,t)}}class hC extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>el(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t=null,i=[],o=[],l=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=p,this.Te=null}}function Ty(r,e=null,t=[],i=[],o=null,l=null,h=null){return new dC(r,e,t,i,o,l,h)}function jf(r){const e=Ie(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Kd(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ko(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ko(i))).join(",")),e.Te=t}return e.Te}function Df(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!rC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!V_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ey(r.startAt,e.startAt)&&Ey(r.endAt,e.endAt)}function Qd(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t=null,i=[],o=[],l=null,h="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fC(r,e,t,i,o,l,h,p){return new dl(r,e,t,i,o,l,h,p)}function Vf(r){return new dl(r)}function Iy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function M_(r){return r.collectionGroup!==null}function Ha(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new xt(bt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new fc(l,i))})),t.has(bt.keyField().canonicalString())||e.Ie.push(new fc(bt.keyField(),i))}return e.Ie}function ir(r){const e=Ie(r);return e.Ee||(e.Ee=pC(e,Ha(r))),e.Ee}function pC(r,e){if(r.limitType==="F")return Ty(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new fc(o.field,l)}));const t=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return Ty(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Yd(r,e){const t=r.filters.concat([e]);return new dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Xd(r,e,t){return new dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Dc(r,e){return Df(ir(r),ir(e))&&r.limitType===e.limitType}function F_(r){return`${jf(ir(r))}|lt:${r.limitType}`}function mo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>L_(o))).join(", ")}]`),bc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>ko(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>ko(o))).join(",")),`Target(${i})`})(ir(r))}; limitType=${r.limitType})`}function Vc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):fe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of Ha(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,p,y){const v=xy(h,p,y);return h.inclusive?v<=0:v<0})(i.startAt,Ha(i),o)||i.endAt&&!(function(h,p,y){const v=xy(h,p,y);return h.inclusive?v>=0:v>0})(i.endAt,Ha(i),o))})(r,e)}function mC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function U_(r){return(e,t)=>{let i=!1;for(const o of Ha(r)){const l=gC(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function gC(r,e,t){const i=r.field.isKeyField()?fe.comparator(e.key,t.key):(function(l,h,p){const y=h.data.field(l),v=p.data.field(l);return y!==null&&v!==null?Ao(y,v):ve(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return T_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new nt(fe.comparator);function zr(){return yC}const z_=new nt(fe.comparator);function Ma(...r){let e=z_;for(const t of r)e=e.insert(t.key,t);return e}function B_(r){let e=z_;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function di(){return qa()}function $_(){return qa()}function qa(){return new Ei((r=>r.toString()),((r,e)=>r.isEqual(e)))}const vC=new nt(fe.comparator),_C=new xt(fe.comparator);function be(...r){let e=_C;for(const t of r)e=e.add(t);return e}const wC=new xt(Pe);function xC(){return wC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function H_(r){return{integerValue:""+r}}function EC(r,e){return QS(e)?H_(e):Lf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function TC(r,e,t){return r instanceof pc?(function(o,l){const h={fields:{[C_]:{stringValue:S_},[k_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Pf(l)&&(l=jc(l)),l&&(h.fields[A_]=l),{mapValue:h}})(t,e):r instanceof tl?W_(r,e):r instanceof nl?G_(r,e):(function(o,l){const h=q_(o,l),p=Sy(h)+Sy(o.Ae);return Gd(h)&&Gd(o.Ae)?H_(p):Lf(o.serializer,p)})(r,e)}function IC(r,e,t){return r instanceof tl?W_(r,e):r instanceof nl?G_(r,e):t}function q_(r,e){return r instanceof mc?(function(i){return Gd(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class pc extends Lc{}class tl extends Lc{constructor(e){super(),this.elements=e}}function W_(r,e){const t=K_(e);for(const i of r.elements)t.some((o=>hr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class nl extends Lc{constructor(e){super(),this.elements=e}}function G_(r,e){let t=K_(e);for(const i of r.elements)t=t.filter((o=>!hr(o,i)));return{arrayValue:{values:t}}}class mc extends Lc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Sy(r){return ut(r.integerValue||r.doubleValue)}function K_(r){return bf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function SC(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof tl&&o instanceof tl||i instanceof nl&&o instanceof nl?Co(i.elements,o.elements,hr):i instanceof mc&&o instanceof mc?hr(i.Ae,o.Ae):i instanceof pc&&o instanceof pc})(r.transform,e.transform)}class CC{constructor(e,t){this.version=e,this.transformResults=t}}class Lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oc{}function Q_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new X_(r.key,Lr.none()):new fl(r.key,r.data,Lr.none());{const t=r.data,i=wn.empty();let o=new xt(bt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Ti(r.key,i,new Vn(o.toArray()),Lr.none())}}function AC(r,e,t){r instanceof fl?(function(o,l,h){const p=o.value.clone(),y=Ay(o.fieldTransforms,l,h.transformResults);p.setAll(y),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,t):r instanceof Ti?(function(o,l,h){if(!Xu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const p=Ay(o.fieldTransforms,l,h.transformResults),y=l.data;y.setAll(Y_(o)),y.setAll(p),l.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Wa(r,e,t,i){return r instanceof fl?(function(l,h,p,y){if(!Xu(l.precondition,h))return p;const v=l.value.clone(),w=ky(l.fieldTransforms,y,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ti?(function(l,h,p,y){if(!Xu(l.precondition,h))return p;const v=ky(l.fieldTransforms,y,h),w=h.data;return w.setAll(Y_(l)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(r,e,t,i):(function(l,h,p){return Xu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,t)}function kC(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=q_(i.transform,o||null);l!=null&&(t===null&&(t=wn.empty()),t.set(i.field,l))}return t||null}function Cy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Co(i,o,((l,h)=>SC(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fl extends Oc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ti extends Oc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Y_(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function Ay(r,e,t){const i=new Map;ze(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,p=e.data.field(l.field);i.set(l.field,IC(h,p,t[o]))}return i}function ky(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,TC(l,h,e))}return i}class X_ extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NC extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&AC(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Wa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Wa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=$_();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let p=this.applyToLocalView(h,l.mutatedFields);p=t.has(o.key)?null:p;const y=Q_(h,p);y!==null&&i.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),be())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((t,i)=>Cy(t,i)))&&Co(this.baseMutations,e.baseMutations,((t,i)=>Cy(t,i)))}}class Of{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ze(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return vC})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Of(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,De;function jC(r){switch(r){case W.OK:return ve(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function J_(r){if(r===void 0)return Ur("GRPC error has no .code"),W.UNKNOWN;switch(r){case ft.OK:return W.OK;case ft.CANCELLED:return W.CANCELLED;case ft.UNKNOWN:return W.UNKNOWN;case ft.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ft.INTERNAL:return W.INTERNAL;case ft.UNAVAILABLE:return W.UNAVAILABLE;case ft.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ft.NOT_FOUND:return W.NOT_FOUND;case ft.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ft.ABORTED:return W.ABORTED;case ft.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ft.DATA_LOSS:return W.DATA_LOSS;default:return ve(39323,{code:r})}}(De=ft||(ft={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new Ns([4294967295,4294967295],0);function Ny(r){const e=DC().encode(r),t=new d_;return t.update(e),new Uint8Array(t.digest())}function Ry(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ns([t,i],0),new Ns([o,l],0)]}class Mf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Fa(`Invalid padding: ${t}`);if(i<0)throw new Fa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ns.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Ns.fromNumber(i)));return o.compare(VC)===1&&(o=new Ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Ny(e),[i,o]=Ry(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Mf(l,o,t);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const t=Ny(e),[i,o]=Ry(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mc(Ee.min(),o,new nt(Pe),zr(),be())}}class pl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new pl(i,t,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class Z_{constructor(e,t){this.targetId=e,this.Ce=t}}class e0{constructor(e,t,i=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Py{constructor(){this.ve=0,this.Fe=by(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),t=be(),i=be();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:ve(38017,{changeType:l})}})),new pl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=by()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LC{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=Fu(),this.He=Fu(),this.Ye=new nt(Pe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Qd(l))if(i===0){const h=new fe(l.path);this.et(t,h,zt.newNoDocument(h,Ee.min()))}else ze(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const p=this.ut(e),y=p?this.ct(p,e,h):1;if(y!==0){this.it(t);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,p;try{h=js(i).toUint8Array()}catch(y){if(y instanceof I_)return So("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Mf(h,o,l)}catch(y){return So(y instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const p=this.ot(h);if(p){if(l.current&&Qd(p.target)){const y=new fe(p.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,zt.newNoDocument(y,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let i=be();this.He.forEach(((l,h)=>{let p=!0;h.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new Mc(e,t,this.Ye,this.je,i);return this.je=zr(),this.Je=Fu(),this.He=Fu(),this.Ye=new nt(Pe),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Py,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new xt(Pe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new xt(Pe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Py),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Fu(){return new nt(fe.comparator)}function by(){return new nt(fe.comparator)}const OC={asc:"ASCENDING",desc:"DESCENDING"},MC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FC={and:"AND",or:"OR"};class UC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jd(r,e){return r.useProto3Json||bc(e)?e:{value:e}}function gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zC(r,e){return gc(r,e.toTimestamp())}function or(r){return ze(!!r,49232),Ee.fromTimestamp((function(t){const i=bs(t);return new Xe(i.seconds,i.nanos)})(r))}function Ff(r,e){return Zd(r,e).canonicalString()}function Zd(r,e){const t=(function(o){return new Ge(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function n0(r){const e=Ge.fromString(r);return ze(a0(e),10190,{key:e.toString()}),e}function ef(r,e){return Ff(r.databaseId,e.path)}function Nd(r,e){const t=n0(e);if(t.get(1)!==r.databaseId.projectId)throw new ie(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ie(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new fe(s0(t))}function r0(r,e){return Ff(r.databaseId,e)}function BC(r){const e=n0(r);return e.length===4?Ge.emptyPath():s0(e)}function tf(r){return new Ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s0(r){return ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jy(r,e,t){return{name:ef(r,e),fields:t.value.mapValue.fields}}function $C(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,w){return v.useProto3Json?(ze(w===void 0||typeof w=="string",58123),jt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),jt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(v){const w=v.code===void 0?W.UNKNOWN:J_(v.code);return new ie(w,v.message||"")})(h);t=new e0(i,o,l,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Nd(r,i.document.name),l=or(i.document.updateTime),h=i.document.createTime?or(i.document.createTime):Ee.min(),p=new wn({mapValue:{fields:i.document.fields}}),y=zt.newFoundDocument(o,l,h,p),v=i.targetIds||[],w=i.removedTargetIds||[];t=new Ju(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Nd(r,i.document),l=i.readTime?or(i.readTime):Ee.min(),h=zt.newNoDocument(o,l),p=i.removedTargetIds||[];t=new Ju([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Nd(r,i.document),l=i.removedTargetIds||[];t=new Ju([],l,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new bC(o,l),p=i.targetId;t=new Z_(p,h)}}return t}function HC(r,e){let t;if(e instanceof fl)t={update:jy(r,e.key,e.value)};else if(e instanceof X_)t={delete:ef(r,e.key)};else if(e instanceof Ti)t={update:jy(r,e.key,e.data),updateMask:ZC(e.fieldMask)};else{if(!(e instanceof NC))return ve(16599,{Vt:e.type});t={verify:ef(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const p=h.transform;if(p instanceof pc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof tl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof nl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mc)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:zC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ve(27497)})(r,e.precondition)),t}function qC(r,e){return r&&r.length>0?(ze(e!==void 0,14353),r.map((t=>(function(o,l){let h=o.updateTime?or(o.updateTime):or(l);return h.isEqual(Ee.min())&&(h=or(l)),new CC(h,o.transformResults||[])})(t,e)))):[]}function WC(r,e){return{documents:[r0(r,e.path)]}}function GC(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=r0(r,o);const l=(function(v){if(v.length!==0)return o0(On.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(v){if(v.length!==0)return v.map((w=>(function(S){return{field:go(S.field),direction:YC(S.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=Jd(r,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function KC(r){let e=BC(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ze(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(E){const S=i0(E);return S instanceof On&&D_(S)?S.getFilters():[S]})(t.where));let h=[];t.orderBy&&(h=(function(E){return E.map((S=>(function(H){return new fc(yo(H.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(S)))})(t.orderBy));let p=null;t.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,bc(S)?null:S})(t.limit));let y=null;t.startAt&&(y=(function(E){const S=!!E.before,V=E.values||[];return new dc(V,S)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const S=!E.before,V=E.values||[];return new dc(V,S)})(t.endAt)),fC(e,o,h,l,p,"F",y,v)}function QC(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function i0(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=yo(t.unaryFilter.field);return mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(t.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yo(t.unaryFilter.field);return mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=yo(t.unaryFilter.field);return mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(t){return mt.create(yo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return On.create(t.compositeFilter.filters.map((i=>i0(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(t.compositeFilter.op))})(r):ve(30097,{filter:r})}function YC(r){return OC[r]}function XC(r){return MC[r]}function JC(r){return FC[r]}function go(r){return{fieldPath:r.canonicalString()}}function yo(r){return bt.fromServerFormat(r.fieldPath)}function o0(r){return r instanceof mt?(function(t){if(t.op==="=="){if(wy(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NAN"}};if(_y(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wy(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NAN"}};if(_y(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(t.field),op:XC(t.op),value:t.value}}})(r):r instanceof On?(function(t){const i=t.getFilters().map((o=>o0(o)));return i.length===1?i[0]:{compositeFilter:{op:JC(t.op),filters:i}}})(r):ve(54877,{filter:r})}function ZC(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function a0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t,i,o,l=Ee.min(),h=Ee.min(),p=jt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.yt=e}}function tA(r){const e=KC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.Cn=new rA}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Ps.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class rA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new xt(Ge.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new xt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l0=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(l0,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new No(0)}static cr(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LruGarbageCollector",sA=1048576;function Ly([r,e],[t,i]){const o=Pe(r,t);return o===0?Pe(e,i):o}class iA{constructor(e){this.Ir=e,this.buffer=new xt(Ly),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ly(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Vy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mo(t)?oe(Vy,"Ignoring IndexedDB error during garbage collection: ",t):await Oo(t)}await this.Vr(3e5)}))}}class aA{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Pc.ce);const i=new iA(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Dy)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dy):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,h,p,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,y=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(v=Date.now(),po()<=Re.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${l} targets in `+(y-p)+`ms
	Removed ${E} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function lA(r,e){return new aA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.changes=new Ei((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Wa(i.mutation,o,Vn.empty(),Xe.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,be()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=be()){const o=di();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=Ma();return l.forEach(((p,y)=>{h=h.insert(p,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=di();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,be())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,p)=>{t.set(h,p)}))}))}computeViews(e,t,i,o){let l=zr();const h=qa(),p=(function(){return qa()})();return t.forEach(((y,v)=>{const w=i.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Ti)?l=l.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),Wa(w.mutation,v,w.mutation.getFieldMask(),Xe.now())):h.set(v.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((v,w)=>h.set(v,w))),t.forEach(((v,w)=>p.set(v,new cA(w,h.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,t){const i=qa();let o=new nt(((h,p)=>h-p)),l=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const p of h)p.keys().forEach((y=>{const v=t.get(y);if(v===null)return;let w=i.get(y)||Vn.empty();w=p.applyToLocalView(v,w),i.set(y,w);const E=(o.get(p.batchId)||be()).add(y);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,w=y.value,E=$_();w.forEach((S=>{if(!l.has(S)){const V=Q_(t.get(S),i.get(S));V!==null&&E.set(S,V),l=l.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,E))}return K.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return fe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):M_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):K.resolve(di());let p=Xa,y=l;return h.next((v=>K.forEach(v,((w,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),l.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next((S=>{y=y.insert(w,S)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,y,v,be()))).next((w=>({batchId:p,changes:B_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((i=>{let o=Ma();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Ma();return this.indexManager.getCollectionParents(e,l).next((p=>K.forEach(p,(y=>{const v=(function(E,S){return new dl(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next((w=>{w.forEach(((E,S)=>{h=h.insert(E,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((y,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,zt.newInvalidDocument(w)))}));let p=Ma();return h.forEach(((y,v)=>{const w=l.get(y);w!==void 0&&Wa(w.mutation,v,Vn.empty(),Xe.now()),Vc(t,v)&&(p=p.insert(y,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:or(o.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:tA(o.bundledQuery),readTime:or(o.readTime)}})(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.overlays=new nt(fe.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=di();return K.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),K.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const o=di(),l=t.length+1,h=new fe(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&y.largestBatchId>i&&o.set(y.getKey(),y)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new nt(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let w=l.get(v.largestBatchId);w===null&&(w=di(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const p=di(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,w)=>p.set(v,w))),!(p.size()>=o)););return K.resolve(p)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new PC(t,i));let l=this.qr.get(t);l===void 0&&(l=be(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this.Qr=new xt(Ct.$r),this.Ur=new xt(Ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Ct(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Ct(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new fe(new Ge([])),i=new Ct(t,e),o=new Ct(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new fe(new Ge([])),i=new Ct(t,e),o=new Ct(t,e+1);let l=be();return this.Ur.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new Ct(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ct{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return fe.comparator(e.key,t.key)||Pe(e.Yr,t.Yr)}static Kr(e,t){return Pe(e.Yr,t.Yr)||fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new xt(Ct.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new RC(l,t,i,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Ct(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Rf:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(h=>{const p=this.Xr(h.Yr);l.push(p)})),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new xt(Pe);return t.forEach((o=>{const l=new Ct(o,0),h=new Ct(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(p=>{i=i.add(p.Yr)}))})),K.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;fe.isDocumentKey(l)||(l=l.child(""));const h=new Ct(new fe(l),0);let p=new xt(Pe);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(p=p.add(y.Yr)),!0)}),h),K.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return K.forEach(t.mutations,(o=>{const l=new Ct(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Ct(t,0),o=this.Zr.firstAfterOrEqual(i);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.ri=e,this.docs=(function(){return new nt(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let i=zr();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():zt.newInvalidDocument(o))})),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=zr();const h=t.path,p=new fe(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||qS(HS(w),i)<=0||(o.has(w.key)||Vc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,i,o){ve(9500)}ii(e,t){return K.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new yA(this)}getSize(e){return K.resolve(this.size)}}class yA extends uA{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.persistence=e,this.si=new Ei((t=>jf(t)),Df),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Uf,this.targetCount=0,this.ai=No.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new No(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=t&&i.get(p.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),K.waitFor(l).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t){this.ui={},this.overlays={},this.ci=new Pc(0),this.li=!1,this.li=!0,this.hi=new pA,this.referenceDelegate=e(this),this.Pi=new vA(this),this.indexManager=new nA,this.remoteDocumentCache=(function(o){return new gA(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new eA(t),this.Ii=new dA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new mA(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const o=new _A(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return K.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class _A extends GS{constructor(e){super(),this.currentSequenceNumber=e}}class zf{constructor(e){this.persistence=e,this.Ri=new Uf,this.Vi=null}static mi(e){return new zf(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(i=>{const o=fe.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class yc{constructor(e,t){this.persistence=e,this.pi=new Ei((i=>YS(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=lA(this,t)}static mi(e,t){return new yc(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return K.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?K.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((p=>{p||(i++,l.removeEntry(h,Ee.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qu(e.data.value)),t}br(e,t,i){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return K.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=be(),o=be();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Bf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return h1()?8:KS(Bt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new wA;return this.Ss(e,t,h).next((p=>{if(l.result=p,this.Vs)return this.bs(e,t,h,p.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(po()<=Re.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(po()<=Re.DEBUG&&oe("QueryEngine","Query:",mo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(po()<=Re.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(t))):K.resolve())}ys(e,t){if(Iy(t))return K.resolve(null);let i=ir(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Xd(t,null,"F"),i=ir(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=be(...l);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((y=>{const v=this.Ds(t,p);return this.Cs(t,v,h,y.readTime)?this.ys(e,Xd(t,null,"F")):this.vs(e,v,t,y)}))))})))))}ws(e,t,i,o){return Iy(t)||o.isEqual(Ee.min())?K.resolve(null):this.ps.getDocuments(e,i).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,i,o)?K.resolve(null):(po()<=Re.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(t)),this.vs(e,h,t,$S(o,Xa)).next((p=>p)))}))}Ds(e,t){let i=new xt(U_(e));return t.forEach(((o,l)=>{Vc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return po()<=Re.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",mo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ps.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="LocalStore",EA=3e8;class TA{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new nt(Pe),this.xs=new Ei((l=>jf(l)),Df),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function IA(r,e,t,i){return new TA(r,e,t,i)}async function c0(r,e){const t=Ie(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],p=[];let y=be();for(const v of o){h.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of l){p.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return t.localDocuments.getDocuments(i,y).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:p})))}))}))}function SA(r,e){const t=Ie(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,w){const E=v.batch,S=E.keys();let V=K.resolve();return S.forEach((H=>{V=V.next((()=>w.getEntry(y,H))).next((q=>{const F=v.docVersions.get(H);ze(F!==null,48541),q.version.compareTo(F)<0&&(E.applyToRemoteDocument(q,v),q.isValidDocument()&&(q.setReadTime(v.commitVersion),w.addEntry(q)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(y,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let y=be();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function h0(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function CA(r,e){const t=Ie(r),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((w,E)=>{const S=o.get(E);if(!S)return;p.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,w.addedDocuments,E))));let V=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(jt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,i)),o=o.insert(E,V),(function(q,F,G){return q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=EA?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(S,V,w)&&p.push(t.Pi.updateTargetData(l,V))}));let y=zr(),v=be();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),p.push(AA(l,h,e.documentUpdates).next((w=>{y=w.ks,v=w.qs}))),!i.isEqual(Ee.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));p.push(w)}return K.waitFor(p).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,y,v))).next((()=>y))})).then((l=>(t.Ms=o,l)))}function AA(r,e,t){let i=be(),o=be();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let h=zr();return t.forEach(((p,y)=>{const v=l.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Ee.min())?(e.removeEntry(p,y.readTime),h=h.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(p,y)):oe($f,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:h,qs:o}}))}function kA(r,e){const t=Ie(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Rf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function NA(r,e){const t=Ie(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,K.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new Ss(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function nf(r,e,t){const i=Ie(r),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Mo(h))throw h;oe($f,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Oy(r,e,t){const i=Ie(r);let o=Ee.min(),l=be();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,w){const E=Ie(y),S=E.xs.get(w);return S!==void 0?K.resolve(E.Ms.get(S)):E.Pi.getTargetData(v,w)})(i,h,ir(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,p.targetId).next((y=>{l=y}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:Ee.min(),t?l:be()))).next((p=>(RA(i,mC(e),p),{documents:p,Qs:l})))))}function RA(r,e,t){let i=r.Os.get(e)||Ee.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}class My{constructor(){this.activeTargetIds=xC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PA{constructor(){this.Mo=new My,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new My,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="ConnectivityMonitor";class Uy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Fy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Fy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function rf(){return Uu===null?Uu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="RestConnection",jA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===cc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const h=rf(),p=this.zo(e,t.toUriEncodedString());oe(Rd,`Sending RPC '${e}' ${h}:`,p,i);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,l);const{host:v}=new URL(p),w=jo(v);return this.Jo(e,p,y,i,w).then((E=>(oe(Rd,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw So(Rd,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",i),E}))}Ho(e,t,i,o,l,h){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=jA[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class LA extends DA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const h=rf();return new Promise(((p,y)=>{const v=new f_;v.setWithCredentials(!0),v.listenOnce(p_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Ku.NO_ERROR:const E=v.getResponseJson();oe(Ft,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Ku.TIMEOUT:oe(Ft,`RPC '${e}' ${h} timed out`),y(new ie(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const S=v.getStatus();if(oe(Ft,`RPC '${e}' ${h} failed with status:`,S,"response text:",v.getResponseText()),S>0){let V=v.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V?.error;if(H&&H.status&&H.message){const q=(function(G){const J=G.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(J)>=0?J:W.UNKNOWN})(H.status);y(new ie(q,H.message))}else y(new ie(W.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ie(W.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{oe(Ft,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);oe(Ft,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",w,i,15)}))}T_(e,t,i){const o=rf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=y_(),p=g_(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,t,i),y.encodeInitMessageHeaders=!0;const w=l.join("");oe(Ft,`Creating RPC '${e}' stream ${o}: ${w}`,y);const E=h.createWebChannel(w,y);this.I_(E);let S=!1,V=!1;const H=new VA({Yo:F=>{V?oe(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(S||(oe(Ft,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),oe(Ft,`RPC '${e}' stream ${o} sending:`,F),E.send(F))},Zo:()=>E.close()}),q=(F,G,J)=>{F.listen(G,(re=>{try{J(re)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return q(E,Oa.EventType.OPEN,(()=>{V||(oe(Ft,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),q(E,Oa.EventType.CLOSE,(()=>{V||(V=!0,oe(Ft,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(E))})),q(E,Oa.EventType.ERROR,(F=>{V||(V=!0,So(Ft,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),H.a_(new ie(W.UNAVAILABLE,"The operation could not be completed")))})),q(E,Oa.EventType.MESSAGE,(F=>{if(!V){const G=F.data[0];ze(!!G,16349);const J=G,re=J?.error||J[0]?.error;if(re){oe(Ft,`RPC '${e}' stream ${o} received error:`,re);const _e=re.status;let me=(function(I){const A=ft[I];if(A!==void 0)return J_(A)})(_e),ce=re.message;me===void 0&&(me=W.INTERNAL,ce="Unknown error status: "+_e+" with message "+re.message),V=!0,H.a_(new ie(me,ce)),E.close()}else oe(Ft,`RPC '${e}' stream ${o} received:`,G),H.u_(G)}})),q(p,m_.STAT_EVENT,(F=>{F.stat===Hd.PROXY?oe(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Hd.NOPROXY&&oe(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r){return new UC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="PersistentStream";class f0{constructor(e,t,i,o,l,h,p,y){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new ie(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(zy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(oe(zy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OA extends f0{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=$C(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ee.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?or(h.readTime):Ee.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=tf(this.serializer),t.addTarget=(function(l,h){let p;const y=h.target;if(p=Qd(y)?{documents:WC(l,y)}:{query:GC(l,y).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=t0(l,h.resumeToken);const v=Jd(l,h.expectedCount);v!==null&&(p.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){p.readTime=gc(l,h.snapshotVersion.toTimestamp());const v=Jd(l,h.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const i=QC(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=tf(this.serializer),t.removeTarget=e,this.q_(t)}}class MA extends f0{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=qC(e.writeResults,e.commitTime),i=or(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=tf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>HC(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{}class UA extends FA{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ie(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,Zd(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ie(W.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Zd(t,i),o,h,p,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ie(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ur(t),this.aa=!1):oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="RemoteStore";class BA{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Ii(this)&&(oe(wi,"Restarting streams for network reachability change."),await(async function(y){const v=Ie(y);v.Ea.add(4),await ml(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Uc(v)})(this))}))})),this.Ra=new zA(i,o)}}async function Uc(r){if(Ii(r))for(const e of r.da)await e(!0)}async function ml(r){for(const e of r.da)await e(!1)}function p0(r,e){const t=Ie(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Gf(t)?Wf(t):Fo(t).O_()&&qf(t,e))}function Hf(r,e){const t=Ie(r),i=Fo(t);t.Ia.delete(e),i.O_()&&m0(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ii(t)&&t.Ra.set("Unknown"))}function qf(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fo(r).Y_(e)}function m0(r,e){r.Va.Ue(e),Fo(r).Z_(e)}function Wf(r){r.Va=new LC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Fo(r).start(),r.Ra.ua()}function Gf(r){return Ii(r)&&!Fo(r).x_()&&r.Ia.size>0}function Ii(r){return Ie(r).Ea.size===0}function g0(r){r.Va=void 0}async function $A(r){r.Ra.set("Online")}async function HA(r){r.Ia.forEach(((e,t)=>{qf(r,e)}))}async function qA(r,e){g0(r),Gf(r)?(r.Ra.ha(e),Wf(r)):r.Ra.set("Unknown")}async function WA(r,e,t){if(r.Ra.set("Online"),e instanceof e0&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const p of l.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(i){oe(wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vc(r,i)}else if(e instanceof Ju?r.Va.Ze(e):e instanceof Z_?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ee.min()))try{const i=await h0(r.localStore);t.compareTo(i)>=0&&await(function(l,h){const p=l.Va.Tt(h);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=l.Ia.get(v);w&&l.Ia.set(v,w.withResumeToken(y.resumeToken,h))}})),p.targetMismatches.forEach(((y,v)=>{const w=l.Ia.get(y);if(!w)return;l.Ia.set(y,w.withResumeToken(jt.EMPTY_BYTE_STRING,w.snapshotVersion)),m0(l,y);const E=new Ss(w.target,y,v,w.sequenceNumber);qf(l,E)})),l.remoteSyncer.applyRemoteEvent(p)})(r,t)}catch(i){oe(wi,"Failed to raise snapshot:",i),await vc(r,i)}}async function vc(r,e,t){if(!Mo(e))throw e;r.Ea.add(1),await ml(r),r.Ra.set("Offline"),t||(t=()=>h0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(wi,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Uc(r)}))}function y0(r,e){return e().catch((t=>vc(r,t,e)))}async function zc(r){const e=Ie(r),t=Vs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rf;for(;GA(e);)try{const o=await kA(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,KA(e,o)}catch(o){await vc(e,o)}v0(e)&&_0(e)}function GA(r){return Ii(r)&&r.Ta.length<10}function KA(r,e){r.Ta.push(e);const t=Vs(r);t.O_()&&t.X_&&t.ea(e.mutations)}function v0(r){return Ii(r)&&!Vs(r).x_()&&r.Ta.length>0}function _0(r){Vs(r).start()}async function QA(r){Vs(r).ra()}async function YA(r){const e=Vs(r);for(const t of r.Ta)e.ea(t.mutations)}async function XA(r,e,t){const i=r.Ta.shift(),o=Of.from(i,e,t);await y0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await zc(r)}async function JA(r,e){e&&Vs(r).X_&&await(async function(i,o){if((function(h){return jC(h)&&h!==W.ABORTED})(o.code)){const l=i.Ta.shift();Vs(i).B_(),await y0(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await zc(i)}})(r,e),v0(r)&&_0(r)}async function By(r,e){const t=Ie(r);t.asyncQueue.verifyOperationInProgress(),oe(wi,"RemoteStore received new credentials");const i=Ii(t);t.Ea.add(3),await ml(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Uc(t)}async function ZA(r,e){const t=Ie(r);e?(t.Ea.delete(2),await Uc(t)):e||(t.Ea.add(2),await ml(t),t.Ra.set("Unknown"))}function Fo(r){return r.ma||(r.ma=(function(t,i,o){const l=Ie(t);return l.sa(),new OA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:$A.bind(null,r),t_:HA.bind(null,r),r_:qA.bind(null,r),H_:WA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Gf(r)?Wf(r):r.Ra.set("Unknown")):(await r.ma.stop(),g0(r))}))),r.ma}function Vs(r){return r.fa||(r.fa=(function(t,i,o){const l=Ie(t);return l.sa(),new MA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:QA.bind(null,r),r_:JA.bind(null,r),ta:YA.bind(null,r),na:XA.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await zc(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(wi,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,p=new Kf(e,t,h,o,l);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qf(r,e){if(Ur("AsyncQueue",`${e}: ${r}`),Mo(r))return new ie(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||fe.comparator(t.key,i.key):(t,i)=>fe.comparator(t.key,i.key),this.keyedMap=Ma(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new xo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.ga=new nt(fe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Ro{constructor(e,t,i,o,l,h,p,y,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((p=>{h.push({type:0,doc:p})})),new Ro(e,t,xo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tk{constructor(){this.queries=Hy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Ie(t),l=o.queries;o.queries=Hy(),l.forEach(((h,p)=>{for(const y of p.Sa)y.onError(i)}))})(this,new ie(W.ABORTED,"Firestore shutting down"))}}function Hy(){return new Ei((r=>F_(r)),Dc)}async function w0(r,e){const t=Ie(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new ek,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=Qf(h,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Yf(t)}async function x0(r,e){const t=Ie(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function nk(r,e){const t=Ie(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const p of h.Sa)p.Fa(o)&&(i=!0);h.wa=o}}i&&Yf(t)}function rk(r,e,t){const i=Ie(r),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function Yf(r){r.Ca.forEach((e=>{e.next()}))}var sf,qy;(qy=sf||(sf={})).Ma="default",qy.Cache="cache";class E0{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ro(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.key=e}}class I0{constructor(e){this.key=e}}class sk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=U_(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new $y,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const S=o.get(w),V=Vc(this.query,E)?E:null,H=!!S&&this.mutatedKeys.has(S.key),q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;S&&V?S.data.isEqual(V.data)?H!==q&&(i.track({type:3,doc:V}),F=!0):this.su(S,V)||(i.track({type:2,doc:V}),F=!0,(y&&this.eu(V,y)>0||v&&this.eu(V,v)<0)&&(p=!0)):!S&&V?(i.track({type:0,doc:V}),F=!0):S&&!V&&(i.track({type:1,doc:S}),F=!0,(y||v)&&(p=!0)),F&&(V?(h=h.add(V),l=q?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{tu:h,iu:i,Cs:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,E)=>(function(V,H){const q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:F})}};return q(V)-q(H)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(i),o=o??!1;const p=t&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,h.length!==0||v?{snapshot:new Ro(this.query,e.tu,l,h,e.mutatedKeys,y===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $y,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new I0(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new T0(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xf="SyncEngine";class ik{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ok{constructor(e){this.key=e,this.hu=!1}}class ak{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ei((p=>F_(p)),Dc),this.Iu=new Map,this.Eu=new Set,this.du=new nt(fe.comparator),this.Au=new Map,this.Ru=new Uf,this.Vu={},this.mu=new Map,this.fu=No.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lk(r,e,t=!0){const i=R0(r);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await S0(i,e,t,!0),o}async function uk(r,e){const t=R0(r);await S0(t,e,!0,!1)}async function S0(r,e,t,i){const o=await NA(r.localStore,ir(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let p;return i&&(p=await ck(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&p0(r.remoteStore,o),p}async function ck(r,e,t,i,o){r.pu=(E,S,V)=>(async function(q,F,G,J){let re=F.view.ru(G);re.Cs&&(re=await Oy(q.localStore,F.query,!1).then((({documents:N})=>F.view.ru(N,re))));const _e=J&&J.targetChanges.get(F.targetId),me=J&&J.targetMismatches.get(F.targetId)!=null,ce=F.view.applyChanges(re,q.isPrimaryClient,_e,me);return Gy(q,F.targetId,ce.au),ce.snapshot})(r,E,S,V);const l=await Oy(r.localStore,e,!0),h=new sk(e,l.Qs),p=h.ru(l.documents),y=pl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),v=h.applyChanges(p,r.isPrimaryClient,y);Gy(r,t,v.au);const w=new ik(e,t,h);return r.Tu.set(e,w),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),v.snapshot}async function hk(r,e,t){const i=Ie(r),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((h=>!Dc(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await nf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Hf(i.remoteStore,o.targetId),of(i,o.targetId)})).catch(Oo)):(of(i,o.targetId),await nf(i.localStore,o.targetId,!0))}async function dk(r,e){const t=Ie(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Hf(t.remoteStore,i.targetId))}async function fk(r,e,t){const i=wk(r);try{const o=await(function(h,p){const y=Ie(h),v=Xe.now(),w=p.reduce(((V,H)=>V.add(H.key)),be());let E,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=zr(),q=be();return y.Ns.getEntries(V,w).next((F=>{H=F,H.forEach(((G,J)=>{J.isValidDocument()||(q=q.add(G))}))})).next((()=>y.localDocuments.getOverlayedDocuments(V,H))).next((F=>{E=F;const G=[];for(const J of p){const re=kC(J,E.get(J.key).overlayedDocument);re!=null&&G.push(new Ti(J.key,re,P_(re.value.mapValue),Lr.exists(!0)))}return y.mutationQueue.addMutationBatch(V,v,G,p)})).next((F=>{S=F;const G=F.applyToLocalDocumentSet(E,q);return y.documentOverlayCache.saveOverlays(V,F.batchId,G)}))})).then((()=>({batchId:S.batchId,changes:B_(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,p,y){let v=h.Vu[h.currentUser.toKey()];v||(v=new nt(Pe)),v=v.insert(p,y),h.Vu[h.currentUser.toKey()]=v})(i,o.batchId,t),await gl(i,o.changes),await zc(i.remoteStore)}catch(o){const l=Qf(o,"Failed to persist write");t.reject(l)}}async function C0(r,e){const t=Ie(r);try{const i=await CA(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?ze(h.hu,14607):o.removedDocuments.size>0&&(ze(h.hu,42227),h.hu=!1))})),await gl(t,i,e)}catch(i){await Oo(i)}}function Wy(r,e,t){const i=Ie(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const y=Ie(h);y.onlineState=p;let v=!1;y.queries.forEach(((w,E)=>{for(const S of E.Sa)S.va(p)&&(v=!0)})),v&&Yf(y)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pk(r,e,t){const i=Ie(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let h=new nt(fe.comparator);h=h.insert(l,zt.newNoDocument(l,Ee.min()));const p=be().add(l),y=new Mc(Ee.min(),new Map,new nt(Pe),h,p);await C0(i,y),i.du=i.du.remove(l),i.Au.delete(e),Jf(i)}else await nf(i.localStore,e,!1).then((()=>of(i,e,t))).catch(Oo)}async function mk(r,e){const t=Ie(r),i=e.batch.batchId;try{const o=await SA(t.localStore,e);k0(t,i,null),A0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await gl(t,o)}catch(o){await Oo(o)}}async function gk(r,e,t){const i=Ie(r);try{const o=await(function(h,p){const y=Ie(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return y.mutationQueue.lookupMutationBatch(v,p).next((E=>(ze(E!==null,37113),w=E.keys(),y.mutationQueue.removeMutationBatch(v,E)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>y.localDocuments.getDocuments(v,w)))}))})(i.localStore,e);k0(i,e,t),A0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await gl(i,o)}catch(o){await Oo(o)}}function A0(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function k0(r,e,t){const i=Ie(r);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function of(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||N0(r,i)}))}function N0(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Hf(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Jf(r))}function Gy(r,e,t){for(const i of t)i instanceof T0?(r.Ru.addReference(i.key,e),yk(r,i)):i instanceof I0?(oe(Xf,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||N0(r,i.key)):ve(19791,{wu:i})}function yk(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(oe(Xf,"New document in limbo: "+t),r.Eu.add(i),Jf(r))}function Jf(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new fe(Ge.fromString(e)),i=r.fu.next();r.Au.set(i,new ok(t)),r.du=r.du.insert(t,i),p0(r.remoteStore,new Ss(ir(Vf(t.path)),i,"TargetPurposeLimboResolution",Pc.ce))}}async function gl(r,e,t){const i=Ie(r),o=[],l=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,y)=>{h.push(i.pu(y,e,t).then((v=>{if((v||t)&&i.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(y.targetId)?.current;i.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(v){o.push(v);const w=Bf.As(y.targetId,v);l.push(w)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(y,v){const w=Ie(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>K.forEach(v,(S=>K.forEach(S.Es,(V=>w.persistence.referenceDelegate.addReference(E,S.targetId,V))).next((()=>K.forEach(S.ds,(V=>w.persistence.referenceDelegate.removeReference(E,S.targetId,V)))))))))}catch(E){if(!Mo(E))throw E;oe($f,"Failed to update sequence numbers: "+E)}for(const E of v){const S=E.targetId;if(!E.fromCache){const V=w.Ms.get(S),H=V.snapshotVersion,q=V.withLastLimboFreeSnapshotVersion(H);w.Ms=w.Ms.insert(S,q)}}})(i.localStore,l))}async function vk(r,e){const t=Ie(r);if(!t.currentUser.isEqual(e)){oe(Xf,"User change. New user:",e.toKey());const i=await c0(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((p=>{p.forEach((y=>{y.reject(new ie(W.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await gl(t,i.Ls)}}function _k(r,e){const t=Ie(r),i=t.Au.get(e);if(i&&i.hu)return be().add(i.key);{let o=be();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const p=t.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function R0(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=C0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_k.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pk.bind(null,e),e.Pu.H_=nk.bind(null,e.eventManager),e.Pu.yu=rk.bind(null,e.eventManager),e}function wk(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gk.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return IA(this.persistence,new xA,e.initialUser,this.serializer)}Cu(e){return new u0(zf.mi,this.serializer)}Du(e){return new PA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class xk extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof yc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new oA(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new u0((i=>yc.mi(i,t)),this.serializer)}}class af{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Wy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vk.bind(null,this.syncEngine),await ZA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tk})()}createDatastore(e){const t=Fc(e.databaseInfo.databaseId),i=(function(l){return new LA(l)})(e.databaseInfo);return(function(l,h,p,y){return new UA(l,h,p,y)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,p){return new BA(i,o,l,h,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>Wy(this.syncEngine,t,0)),(function(){return Uy.v()?new Uy:new bA})())}createSyncEngine(e,t){return(function(o,l,h,p,y,v,w){const E=new ak(o,l,h,p,y,v);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ie(t);oe(wi,"RemoteStore shutting down."),i.Ea.add(5),await ml(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}af.provider={build:()=>new af};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class Ek{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=Nf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{oe(Ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(oe(Ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Qf(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function bd(r,e){r.asyncQueue.verifyOperationInProgress(),oe(Ls,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await c0(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Ky(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Tk(r);oe(Ls,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>By(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>By(e.remoteStore,o))),r._onlineComponents=e}async function Tk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(Ls,"Using user provided OfflineComponentProvider");try{await bd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),await bd(r,new _c)}}else oe(Ls,"Using default OfflineComponentProvider"),await bd(r,new xk(void 0));return r._offlineComponents}async function b0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(Ls,"Using user provided OnlineComponentProvider"),await Ky(r,r._uninitializedComponentsProvider._online)):(oe(Ls,"Using default OnlineComponentProvider"),await Ky(r,new af))),r._onlineComponents}function Ik(r){return b0(r).then((e=>e.syncEngine))}async function j0(r){const e=await b0(r),t=e.eventManager;return t.onListen=lk.bind(null,e.syncEngine),t.onUnlisten=hk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dk.bind(null,e.syncEngine),t}function Sk(r,e,t={}){const i=new Vr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,p,y,v){const w=new P0({next:S=>{w.Nu(),h.enqueueAndForget((()=>x0(l,E)));const V=S.docs.has(p);!V&&S.fromCache?v.reject(new ie(W.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&y&&y.source==="server"?v.reject(new ie(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(S)},error:S=>v.reject(S)}),E=new E0(Vf(p.path),w,{includeMetadataChanges:!0,qa:!0});return w0(l,E)})(await j0(r),r.asyncQueue,e,t,i))),i.promise}function Ck(r,e,t={}){const i=new Vr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,p,y,v){const w=new P0({next:S=>{w.Nu(),h.enqueueAndForget((()=>x0(l,E))),S.fromCache&&y.source==="server"?v.reject(new ie(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),E=new E0(p,w,{includeMetadataChanges:!0,qa:!0});return w0(l,E)})(await j0(r),r.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firestore.googleapis.com",Yy=!0;class Xy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V0,this.ssl=Yy}else this.host=e.host,this.ssl=e.ssl??Yy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sA)throw new ie(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new bS;switch(i.type){case"firstParty":return new LS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Qy.get(t);i&&(oe("ComponentProvider","Removing Datastore"),Qy.delete(t),i.terminate())})(this),Promise.resolve()}}function Ak(r,e,t,i={}){r=_i(r,Bc);const o=jo(e),l=r._getSettings(),h={...l,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${t}`;o&&(kv(`https://${p}`),Nv("Firestore",!0)),l.host!==V0&&l.host!==p&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:p,ssl:o,emulatorOptions:i};if(!mi(y,h)&&(r._setSettings(y),i.mockUserToken)){let v,w;if(typeof i.mockUserToken=="string")v=i.mockUserToken,w=Ut.MOCK_USER;else{v=n1(i.mockUserToken,r._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ie(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ut(E)}r._authCredentials=new jS(new __(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class yt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(hl(t,yt._jsonSchema))return new yt(e,i||null,new fe(Ge.fromString(t.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:gt("string",yt._jsonSchemaVersion),referencePath:gt("string")};class Rs extends Uo{constructor(e,t,i){super(e,t,Vf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new fe(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function kk(r,e,...t){if(r=tn(r),w_("collection","path",e),r instanceof Bc){const i=Ge.fromString(e,...t);return cy(i),new Rs(r,null,i)}{if(!(r instanceof yt||r instanceof Rs))throw new ie(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Ge.fromString(e,...t));return cy(i),new Rs(r.firestore,null,i)}}function lf(r,e,...t){if(r=tn(r),arguments.length===1&&(e=Nf.newId()),w_("doc","path",e),r instanceof Bc){const i=Ge.fromString(e,...t);return uy(i),new yt(r,null,new fe(i))}{if(!(r instanceof yt||r instanceof Rs))throw new ie(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Ge.fromString(e,...t));return uy(i),new yt(r.firestore,r instanceof Rs?r.converter:null,new fe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="AsyncQueue";class Zy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d0(this,"async_queue_retry"),this._c=()=>{const i=Pd();i&&oe(Jy,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Pd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;oe(Jy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ur("INTERNAL UNHANDLED ERROR: ",ev(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Kf.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:ev(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ev(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class $c extends Bc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Zy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zy(e),this._firestoreClient=void 0,await e}}}function Nk(r,e){const t=typeof r=="object"?r:jv(),i=typeof r=="string"?r:cc,o=yf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=e1("firestore");l&&Ak(o,...l)}return o}function Zf(r){if(r._terminated)throw new ie(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Rk(r),r._firestoreClient}function Rk(r){const e=r._freezeSettings(),t=(function(o,l,h,p){return new ZS(o,l,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,D0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Ek(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(jt.fromBase64String(e))}catch(t){throw new ie(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hl(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:gt("string",xn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(e){if(hl(e,ar._jsonSchema))return new ar(e.latitude,e.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:gt("string",ar._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hl(e,lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new lr(e.vectorValues);throw new ie(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lr._jsonSchemaVersion="firestore/vectorValue/1.0",lr._jsonSchema={type:gt("string",lr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/^__.*__$/;class bk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new fl(e,this.data,t,this.fieldTransforms)}}function O0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class tp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O0(this.Ac)&&Pk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Fc(e)}Cc(e,t,i,o=!1){return new tp({Ac:e,methodName:t,Dc:i,path:bt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M0(r){const e=r._freezeSettings(),t=Fc(r._databaseId);return new jk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Dk(r,e,t,i,o,l={}){const h=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);z0("Data must be an object, but it was:",h,i);const p=F0(i,h);let y,v;if(l.merge)y=new Vn(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const E of l.mergeFields){const S=Lk(e,E,t);if(!h.contains(S))throw new ie(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Mk(w,S)||w.push(S)}y=new Vn(w),v=h.fieldTransforms.filter((E=>y.covers(E.field)))}else y=null,v=h.fieldTransforms;return new bk(new wn(p),y,v)}function Vk(r,e,t,i=!1){return np(t,r.Cc(i?4:3,e))}function np(r,e){if(U0(r=tn(r)))return z0("Unsupported field value:",e,r),F0(r,e);if(r instanceof L0)return(function(i,o){if(!O0(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const p of i){let y=np(p,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),h++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return EC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Xe.fromDate(i);return{timestampValue:gc(o.serializer,l)}}if(i instanceof Xe){const l=new Xe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gc(o.serializer,l)}}if(i instanceof ar)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof xn)return{bytesValue:t0(o.serializer,i._byteString)};if(i instanceof yt){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ff(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof lr)return(function(h,p){return{mapValue:{fields:{[N_]:{stringValue:R_},[hc]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Lf(p.serializer,v)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Rc(i)}`)})(r,e)}function F0(r,e){const t={};return T_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xi(r,((i,o)=>{const l=np(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function U0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Xe||r instanceof ar||r instanceof xn||r instanceof yt||r instanceof L0||r instanceof lr)}function z0(r,e,t){if(!U0(t)||!x_(t)){const i=Rc(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Lk(r,e,t){if((e=tn(e))instanceof ep)return e._internalPath;if(typeof e=="string")return B0(r,e);throw wc("Field path arguments must be of type string or ",r,!1,void 0,t)}const Ok=new RegExp("[~\\*/\\[\\]]");function B0(r,e,t){if(e.search(Ok)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ep(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function wc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(l||h)&&(y+=" (found",l&&(y+=` in field ${i}`),h&&(y+=` in document ${o}`),y+=")"),new ie(W.INVALID_ARGUMENT,p+r+y)}function Mk(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Fk extends $0{data(){return super.data()}}function rp(r,e){return typeof e=="string"?B0(r,e):e instanceof ep?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ie(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class zk extends sp{}function Bk(r,e,...t){let i=[];e instanceof sp&&i.push(e),i=i.concat(t),(function(l){const h=l.filter((y=>y instanceof ip)).length,p=l.filter((y=>y instanceof Hc)).length;if(h>1||h>0&&p>0)throw new ie(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Hc extends zk{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Hc(e,t,i)}_apply(e){const t=this._parse(e);return H0(e._query,t),new Uo(e.firestore,e.converter,Yd(e._query,t))}_parse(e){const t=M0(e.firestore);return(function(l,h,p,y,v,w,E){let S;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ie(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){nv(E,w);const H=[];for(const q of E)H.push(tv(y,l,q));S={arrayValue:{values:H}}}else S=tv(y,l,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||nv(E,w),S=Vk(p,h,E,w==="in"||w==="not-in");return mt.create(v,w,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $k(r,e,t){const i=e,o=rp("where",r);return Hc._create(o,i,t)}class ip extends sp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ip(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:On.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const p=l.getFlattenedFilters();for(const y of p)H0(h,y),h=Yd(h,y)})(e._query,t),new Uo(e.firestore,e.converter,Yd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tv(r,e,t){if(typeof(t=tn(t))=="string"){if(t==="")throw new ie(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M_(e)&&t.indexOf("/")!==-1)throw new ie(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ge.fromString(t));if(!fe.isDocumentKey(i))throw new ie(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vy(r,new fe(i))}if(t instanceof yt)return vy(r,t._key);throw new ie(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rc(t)}.`)}function nv(r,e){if(!Array.isArray(r)||r.length===0)throw new ie(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H0(r,e){const t=(function(o,l){for(const h of o)for(const p of h.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Hk{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return xi(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[hc].arrayValue?.values?.map((i=>ut(i.doubleValue)));return new lr(t)}convertGeoPoint(e){return new ar(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ja(e));default:return null}}convertTimestamp(e){const t=bs(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ge.fromString(e);ze(a0(i),9688,{name:e});const o=new Za(i.get(1),i.get(3)),l=new fe(i.popFirst(5));return o.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Ua{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pi extends $0{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(rp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=pi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}pi._jsonSchemaVersion="firestore/documentSnapshot/1.0",pi._jsonSchema={type:gt("string",pi._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Zu extends pi{data(e={}){return super.data(e)}}class Eo{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ua(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Zu(this._firestore,this._userDataWriter,i.key,i,new Ua(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const y=new Zu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ua(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const y=new Zu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ua(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return p.type!==0&&(v=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),w=h.indexOf(p.doc.key)),{type:Wk(p.type),doc:y,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(r){r=_i(r,yt);const e=_i(r.firestore,$c);return Sk(Zf(e),r._key).then((t=>Yk(e,r,t)))}Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:gt("string",Eo._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class q0 extends Hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function Kk(r){r=_i(r,Uo);const e=_i(r.firestore,$c),t=Zf(e),i=new q0(e);return Uk(r._query),Ck(t,r._query).then((o=>new Eo(e,i,r,o)))}function W0(r,e,t){r=_i(r,yt);const i=_i(r.firestore,$c),o=qk(r.converter,e,t);return Qk(i,[Dk(M0(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Lr.none())])}function Qk(r,e){return(function(i,o){const l=new Vr;return i.asyncQueue.enqueueAndForget((async()=>fk(await Ik(i),o,l))),l.promise})(Zf(r),e)}function Yk(r,e,t){const i=t.docs.get(e._key),o=new q0(r);return new pi(r,o,e._key,i,new Ua(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Lo=o})(Do),To(new gi("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),p=new $c(new DS(i.getProvider("auth-internal")),new OS(h,i.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ie(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(v.options.projectId,w)})(h,o),h);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),ks(iy,oy,e),ks(iy,oy,"esm2020")})();const Xk={apiKey:"AIzaSyCvZx_FU_BtRFTVNr9aotQKU_siKGP1v1I",authDomain:"beebridge.firebaseapp.com",projectId:"beebridge",storageBucket:"beebridge.firebasestorage.app",messagingSenderId:"378321462417",appId:"1:378321462417:web:d69bada8dffabedb318b30",measurementId:"G-C0CPML4GKE"},G0=bv(Xk),jd=RS(G0),Jk=new Pr,xc=Nk(G0),yl=()=>{const[r,e]=U.useState(null),[t,i]=U.useState(!0);return U.useEffect(()=>vI(jd,p=>{e(p),i(!1)}),[]),{user:r,loading:t,signInWithGoogle:async()=>{try{return(await FI(jd,Jk)).user}catch(h){throw console.error("Error signing in with Google:",h),h}},logout:async()=>{try{await _I(jd)}catch(h){throw console.error("Error signing out:",h),h}}}},Zk=()=>{const{user:r}=yl(),[e,t]=U.useState({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),[i,o]=U.useState(!0),[l,h]=U.useState(!0),[p,y]=U.useState(e);U.useEffect(()=>{(async()=>{if(r){const q=lf(xc,"users",r.uid),F=await Gk(q);if(F.exists()){const G=F.data();t(G),y(G),h(!1)}else t({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),y({name:"",age:"",location:"",address:"",pincode:"",email:"",phone:""}),h(!0)}o(!1)})()},[r]);const v=H=>{const{name:q,value:F}=H.target;y(G=>({...G,[q]:F}))},w=async()=>{if(!r){alert("User not authenticated");return}if(!r.providerData.some(q=>q.providerId==="google.com")){alert("Profile saving is only available for Google users");return}try{const q=lf(xc,"users",r.uid);console.log("Saving profile data:",p),await W0(q,p,{merge:!0}),t(p),h(!1),alert("Profile saved successfully!")}catch(q){console.error("Error saving profile:",q),alert("Failed to save profile.")}},E=()=>{y(e),h(!0)},S=()=>{y(e),h(!1)};if(i)return f.jsx("div",{children:"Loading profile..."});const V=r&&r.providerData.some(H=>H.providerId==="google.com");return f.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[f.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Profile"}),r?V?l?f.jsx("div",{className:"group",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),f.jsx("input",{type:"text",name:"name",value:p.name,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age"}),f.jsx("input",{type:"number",name:"age",value:p.age,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your age"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),f.jsx("input",{type:"text",name:"location",value:p.location,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your location"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),f.jsx("input",{type:"text",name:"pincode",value:p.pincode,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your pincode"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),f.jsx("input",{type:"email",name:"email",value:p.email,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your email"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),f.jsx("input",{type:"tel",name:"phone",value:p.phone,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your phone number"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),f.jsx("textarea",{name:"address",value:p.address,onChange:v,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",placeholder:"Enter your full address"})]})]}),f.jsxs("div",{className:"group",children:[f.jsx(wt,{onClick:w,className:"w-full",variant:"primary",children:"Save Profile"}),f.jsx("button",{onClick:S,className:"w-full mt-2 py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100",children:"Cancel"})]})]})}):f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Name"}),f.jsx("p",{className:"text-gray-900",children:e.name})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Age"}),f.jsx("p",{className:"text-gray-900",children:e.age})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Location"}),f.jsx("p",{className:"text-gray-900",children:e.location})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Pincode"}),f.jsx("p",{className:"text-gray-900",children:e.pincode})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Email"}),f.jsx("p",{className:"text-gray-900",children:e.email})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Phone"}),f.jsx("p",{className:"text-gray-900",children:e.phone})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Address"}),f.jsx("p",{className:"text-gray-900",children:e.address})]})]}),f.jsx("button",{onClick:E,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none","aria-label":"Edit Profile",children:"Edit Profile"})]}):f.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:f.jsx("p",{className:"text-center text-gray-600",children:"Profile access is only available for Google users."})}):f.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:f.jsx("p",{className:"text-center text-gray-600",children:"Please sign in with Google to access your profile."})})]})},e2="/assets/last-BU7c_pAB.mp4",t2={email:"",name:"",password:"",confirmPassword:"",country:"",profilePic:null,acceptTerms:!1,city:"",state:"",zip:"",countryCode:"",phone:"",idProof:null,sellerType:""},n2=()=>{const[r,e]=U.useState(0),[t,i]=U.useState(t2),[o,l]=U.useState(""),[h,p]=U.useState(!1),{user:y}=yl(),v=Tc(),w=me=>{const{name:ce,value:N,type:I,checked:A}=me.target;i(b=>({...b,[ce]:I==="checkbox"?A:N}))},E=me=>{const{name:ce,files:N}=me.target;N&&N[0]&&i(I=>({...I,[ce]:N[0]}))},S=()=>{r<4&&e(r+1)},V=()=>{r>1&&e(r-1)},H=async me=>{if(me.preventDefault(),r===3){if(!y){alert("Please sign in to submit the application."),v("/login");return}if(!o){alert("Please select a seller type (Honey or Bee Hive).");return}if(!t.email||!t.name||!t.acceptTerms){alert("Please fill all required fields and accept terms.");return}try{const{profilePic:ce,idProof:N,password:I,confirmPassword:A,...b}=t,P={...b,sellerType:o,submittedAt:new Date};console.log("Submitting data:",P),console.log("User UID:",y.uid),await W0(lf(xc,"sellerApplications",y.uid),P,{merge:!0}),alert("Application submitted successfully!"),v("/applications")}catch(ce){console.error("Error submitting application:",ce),alert(`Failed to submit application: ${ce instanceof Error?ce.message:"Unknown error"}. Please try again.`)}return}S()},q=()=>{const me=["Personal Information","Address","Contact","Finish"];return f.jsx("div",{className:"flex justify-center space-x-8 mb-8",children:me.map((ce,N)=>{const I=N+1,A=I===r,b=I<r;return f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${A||b?"border-purple-700":"border-gray-300"}`,children:b?f.jsx("svg",{className:"w-4 h-4 text-purple-700",fill:"none",stroke:"currentColor",strokeWidth:"3",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):f.jsx("div",{className:`w-3 h-3 rounded-full ${A?"bg-purple-700":"bg-gray-300"}`})}),f.jsx("span",{className:`mt-1 text-xs font-semibold ${A||b?"text-purple-700":"text-gray-400"}`,children:ce.split(" ").map((P,D)=>f.jsxs(Ga.Fragment,{children:[P,f.jsx("br",{})]},D))})]},ce)})})},F=()=>f.jsx("div",{className:"max-w-4xl mx-auto p-6 text-center",children:f.jsxs("div",{className:"flex justify-center gap-8",children:[f.jsx("button",{onClick:()=>{l("honey"),p(!0)},className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Sell Honey"}),f.jsx("button",{onClick:()=>{l("beehive"),p(!0)},className:"gradient-bg-primary hover:shadow-2xl text-black font-semibold py-4 px-10 rounded-full transition-all duration-300 ease-out modern-shadow-hover transform hover:scale-105",children:"Sell Bee Hive"})]})}),G=()=>f.jsxs("form",{onSubmit:H,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[f.jsx("h2",{className:"text-xl font-bold mb-6",children:"Personal Information"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Email"}),f.jsx("input",{type:"email",name:"email",value:t.email,onChange:w,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Your Name"}),f.jsx("input",{type:"text",name:"name",placeholder:"e.g. John Doe",value:t.name,onChange:w,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Password"}),f.jsx("input",{type:"password",name:"password",value:t.password,onChange:w,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Confirm Password"}),f.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:w,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Country"}),f.jsx("input",{type:"text",name:"country",placeholder:"Country...",value:t.country,onChange:w,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Profile Picture"}),f.jsx("input",{type:"file",name:"profilePic",accept:"image/*",onChange:E,required:!0,className:"w-full mb-2 px-3 py-2 border rounded bg-gray-100 text-gray-700"}),t.profilePic&&f.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["File: ",t.profilePic.name," | Size: ",(t.profilePic.size/1024).toFixed(2)," KB | Type: ",t.profilePic.type]}),f.jsxs("label",{className:"inline-flex items-center mb-4",children:[f.jsx("input",{type:"checkbox",name:"acceptTerms",checked:t.acceptTerms,onChange:w,required:!0,className:"form-checkbox text-purple-700"}),f.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I Accept Terms & Conditions"})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("button",{type:"button",onClick:()=>{e(0)},className:"text-purple-700 underline",children:"Back to Options"}),f.jsxs(wt,{type:"submit",variant:"primary",className:"flex items-center space-x-2",children:[f.jsx("span",{children:"Next"}),f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]}),J=()=>f.jsxs("form",{onSubmit:H,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[f.jsx("h2",{className:"text-xl font-bold mb-6",children:"Address"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"City"}),f.jsx("input",{type:"text",name:"city",value:t.city,onChange:w,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"State"}),f.jsx("input",{type:"text",name:"state",value:t.state,onChange:w,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Zip"}),f.jsx("input",{type:"text",name:"zip",value:t.zip,onChange:w,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Country Code"}),f.jsx("input",{type:"text",name:"countryCode",value:t.countryCode,onChange:w,required:!0,className:"w-full mb-6 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("button",{type:"button",onClick:V,className:"text-purple-700 underline",children:"Back"}),f.jsxs(wt,{type:"submit",variant:"primary",className:"flex items-center space-x-2",children:[f.jsx("span",{children:"Next"}),f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]}),re=()=>f.jsxs("form",{onSubmit:H,className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[f.jsx("h2",{className:"text-xl font-bold mb-6",children:"Contact"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Phone"}),f.jsx("input",{type:"text",name:"phone",value:t.phone,onChange:w,required:!0,className:"w-full mb-4 px-3 py-2 border rounded bg-gray-100 text-gray-700 placeholder-gray-400"}),f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"ID Proof"}),f.jsx("input",{type:"file",name:"idProof",accept:"image/*,.pdf",onChange:E,required:!0,className:"w-full mb-2 px-3 py-2 border rounded bg-gray-100 text-gray-700"}),t.idProof&&f.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["File: ",t.idProof.name," | Size: ",(t.idProof.size/1024).toFixed(2)," KB | Type: ",t.idProof.type]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("button",{type:"button",onClick:V,className:"text-purple-700 underline",children:"Back"}),f.jsx(wt,{type:"submit",variant:"primary",children:"Sign up"})]})]}),_e=()=>f.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded shadow text-center",children:[f.jsx("svg",{className:"mx-auto mb-6 w-16 h-16 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Application Submitted"}),f.jsx("p",{className:"mb-4",children:"Your seller application has been submitted successfully. You will be redirected to your dashboard shortly."}),f.jsx("a",{href:"/applications",className:"text-purple-700 underline",children:"Go to Dashboard"})]});return f.jsxs("div",{className:"min-h-screen py-12 px-4",children:[f.jsx("h1",{className:"text-center font-semibold text-lg mb-4",children:"Register as a Seller"}),h?f.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:f.jsx("video",{src:e2,autoPlay:!0,muted:!0,preload:"auto",ref:me=>{me&&(me.playbackRate=.7)},onEnded:()=>{p(!1),e(1)},className:"w-full h-full object-cover"})}):f.jsxs(f.Fragment,{children:[r===0&&F(),r>0&&q(),r===1&&G(),r===2&&J(),r===3&&re(),r===4&&_e()]})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Gt=(r,e)=>{const t=U.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:h,className:p="",children:y,...v},w)=>U.createElement("svg",{ref:w,...r2,width:o,height:o,stroke:i,strokeWidth:h?Number(l)*24/Number(o):l,className:["lucide",`lucide-${s2(r)}`,p].join(" "),...v},[...e.map(([E,S])=>U.createElement(E,S)),...Array.isArray(y)?y:[y]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Gt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Gt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Gt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Gt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Gt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=Gt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Gt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Gt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Gt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Gt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Gt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Gt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Gt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Gt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Gt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),m2=()=>{const{user:r}=yl(),[e]=U.useState({totalOrders:1042,newOrders:1203,revenue:156.78,satisfaction:4.8}),[t]=U.useState([{id:"1",name:"John Doe",email:"john@example.com",status:"Online",lastSeen:"2 min ago",amount:"$80"},{id:"2",name:"Jane Smith",email:"jane@example.com",status:"Offline",lastSeen:"1 hour ago",amount:"$120"},{id:"3",name:"Bob Johnson",email:"bob@example.com",status:"Online",lastSeen:"5 min ago",amount:"$95"},{id:"4",name:"Alice Brown",email:"alice@example.com",status:"Offline",lastSeen:"3 hours ago",amount:"$200"},{id:"5",name:"Charlie Wilson",email:"charlie@example.com",status:"Online",lastSeen:"10 min ago",amount:"$65"}]),[i,o]=U.useState(!0);if(U.useEffect(()=>{r?(async()=>{try{const y=Bk(kk(xc,"orders"),$k("sellerId","==",r.uid));await Kk(y)}catch(y){console.error("Error fetching data:",y)}finally{o(!1)}})():o(!1)},[r]),i)return f.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading dashboard..."});if(!r)return f.jsx("div",{className:"text-center p-6",children:"Please sign in to view your dashboard."});const l=[{icon:i2,label:"Dashboard",active:!0},{icon:zu,label:"My Orders"},{icon:u2,label:"Messages"},{icon:zu,label:"Products"},{icon:rv,label:"Customers"},{icon:d2,label:"Sharing"},{icon:c2,label:"Phone"},{icon:a2,label:"Help"}],h=p=>p==="Online"?"text-green-500":"text-red-500";return f.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[f.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[f.jsx("div",{className:"p-4 border-b",children:f.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"TeamSync"})}),f.jsx("nav",{className:"mt-4",children:l.map((p,y)=>{const v=p.icon;return f.jsxs("div",{className:`flex items-center px-4 py-3 text-gray-700 hover:bg-gray-100 ${p.active?"bg-green-50 border-r-2 border-green-500":""}`,children:[f.jsx(v,{className:"w-5 h-5 mr-3"}),f.jsx("span",{className:"font-medium",children:p.label})]},y)})})]}),f.jsxs("div",{className:"flex-1 p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"}),f.jsxs("div",{className:"text-sm text-gray-500",children:["Welcome back, ",r.displayName||"Seller"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalOrders})]}),f.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:f.jsx(zu,{className:"w-6 h-6 text-green-600"})})]})}),f.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"New Orders"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.newOrders})]}),f.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:f.jsx(zu,{className:"w-6 h-6 text-blue-600"})})]})}),f.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenue"}),f.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.revenue]})]}),f.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:f.jsx("div",{className:"w-6 h-6 text-yellow-600",children:"$"})})]})}),f.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Satisfaction"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.satisfaction})]}),f.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:f.jsx(rv,{className:"w-6 h-6 text-purple-600"})})]})})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:f.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Customers"})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Seen"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(p=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.name}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.email}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(p.status)}`,children:p.status})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.lastSeen}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.amount})]},p.id))})]})})]})]})]})},g2=()=>f.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[f.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Subscription Plans"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsx("div",{className:"group",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center",children:[f.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Basic"}),f.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"499"}),f.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx(nr,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 1"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(nr,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 2"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(nr,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 3"]})]}),f.jsx("div",{className:"group",children:f.jsx(wt,{className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})}),f.jsx("div",{className:"group",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center border-2 border-honeybee-primary",children:[f.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Pro"}),f.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"899"}),f.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx(nr,{className:"w-5 h-5 text-green-500 mr-2"})," All Basic Features"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(nr,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 4"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(nr,{className:"w-5 h-5 text-green-500 mr-2"})," Feature 5"]})]}),f.jsx("div",{className:"group",children:f.jsx(wt,{className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})}),f.jsx("div",{className:"group",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg animate-card-hover p-6 text-center",children:[f.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Premium"}),f.jsx("p",{className:"text-4xl font-bold text-honeybee-primary mb-4",children:"1299"}),f.jsxs("ul",{className:"text-left space-y-2 mb-6 text-gray-600",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx(nr,{className:"w-5 h-5 text-green-500 mr-2"})," All Pro Features"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(nr,{className:"w-5 h-5 text-green-500 mr-2"})," Advanced Analytics"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(nr,{className:"w-5 h-5 text-green-500 mr-2"})," Priority Support"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(nr,{className:"w-5 h-5 text-green-500 mr-2"})," Early access to new features"]})]}),f.jsx("div",{className:"group",children:f.jsx(wt,{className:"px-8 py-3",variant:"primary",children:"Choose Plan"})})]})})]})]}),y2=()=>f.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[f.jsx("h2",{className:"text-3xl font-bold text-honeybee-secondary mb-6",children:"Settings"}),f.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:f.jsx("p",{className:"text-honeybee-dark-brown",children:"Settings page coming soon..."})})]});function v2(){const[r,e]=U.useState(!1),t=$r(),{cartItems:i}=Sc(),o=()=>{e(!r)};return t.pathname==="/login"||t.pathname==="/signup"?null:f.jsxs("nav",{className:"bg-honeybee-background/95 backdrop-blur-sm shadow-lg fixed w-full z-50",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsx("div",{className:"flex items-center",children:f.jsx(pt,{to:"/",className:"flex-shrink-0 flex items-center",children:f.jsx("span",{className:"font-serif text-2xl font-bold text-honeybee-primary",children:"Bee Bridge"})})}),f.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[f.jsx(pt,{to:"/home",className:`font-medium ${t.pathname==="/home"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Home"}),f.jsx(pt,{to:"/shop",className:`font-medium ${t.pathname==="/shop"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Shop"}),f.jsx(pt,{to:"/about",className:`font-medium ${t.pathname==="/about"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"About"}),f.jsx(pt,{to:"/contact",className:`font-medium ${t.pathname==="/contact"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Contact"}),f.jsx(pt,{to:"/seller",className:`font-medium ${t.pathname==="/seller"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Seller"}),f.jsx(pt,{to:"/subscription",className:`font-medium ${t.pathname==="/subscription"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"} transition duration-300`,children:"Subscription"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(pt,{to:"/cart",className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 relative",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),i.length>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full text-xs w-5 h-5 flex items-center justify-center",children:i.length})]}),f.jsx(pt,{to:"/profile",className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),f.jsxs("div",{className:"relative group",children:[f.jsxs("button",{className:"text-honeybee-secondary hover:text-honeybee-primary transition duration-300 flex items-center space-x-1 focus:outline-none",children:[f.jsx(h2,{className:"h-6 w-6"}),f.jsx("span",{className:"sr-only",children:"Settings"})]}),f.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-50",children:f.jsx("button",{className:"block w-full text-left px-4 py-2 text-honeybee-dark hover:bg-honeybee-light",onClick:()=>{window.location.href="/"},children:"Logout"})})]}),f.jsx("button",{onClick:o,className:"md:hidden text-honeybee-secondary hover:text-honeybee-primary",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),r&&f.jsx("div",{className:"md:hidden bg-honeybee-background/95 backdrop-blur-sm border-t border-honeybee-light",children:f.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[f.jsx(pt,{to:"/",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Home"}),f.jsx(pt,{to:"/shop",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/shop"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Shop"}),f.jsx(pt,{to:"/about",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/about"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"About"}),f.jsx(pt,{to:"/contact",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/contact"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Contact"}),f.jsx(pt,{to:"/seller",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/seller"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Seller"}),f.jsx(pt,{to:"/subscription",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/subscription"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Subscription"}),f.jsx(pt,{to:"/settings",className:`block px-3 py-2 rounded-md font-medium ${t.pathname==="/settings"?"text-honeybee-primary":"text-honeybee-secondary hover:text-honeybee-accent"}`,onClick:()=>e(!1),children:"Settings"})]})})]})}const _2=()=>f.jsxs("footer",{className:"bg-gray-900 text-gray-300 py-10",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 border-b border-gray-700 pb-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"About"}),f.jsxs("ul",{className:"space-y-2 text-sm",children:[f.jsx("li",{children:f.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Contact Us"})}),f.jsx("li",{children:f.jsx("a",{href:"/about",className:"hover:text-white font-semibold",children:"About Us"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"Help"}),f.jsxs("ul",{className:"space-y-2 text-sm",children:[f.jsx("li",{children:f.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Payments"})}),f.jsx("li",{children:f.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Shipping"})}),f.jsx("li",{children:f.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"Cancellation & Returns"})}),f.jsx("li",{children:f.jsx("a",{href:"/contact",className:"hover:text-white font-semibold",children:"FAQ"})})]})]}),f.jsxs("div",{className:"border-l border-gray-700 pl-6",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase mb-4",children:"Mail Us:"}),f.jsx("address",{className:"not-italic text-sm space-y-1",children:f.jsx("p",{children:"beebridgeshop@gmail.com"})}),f.jsxs("div",{className:"mt-4",children:[f.jsx("p",{className:"text-sm font-semibold",children:"Social:"}),f.jsxs("div",{className:"flex space-x-4 mt-2",children:[f.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"hover:text-white",children:f.jsx(o2,{size:20})}),f.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",className:"hover:text-white",children:f.jsx(f2,{size:20})}),f.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",className:"hover:text-white",children:f.jsx(p2,{size:20})}),f.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"hover:text-white",children:f.jsx(l2,{size:20})})]})]})]})]}),f.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between pt-6",children:[f.jsxs("div",{className:"flex space-x-8 text-yellow-400 text-sm font-semibold",children:[f.jsx("a",{href:"/seller",className:"flex items-center space-x-2 hover:underline",children:f.jsx("span",{children:"Become a Seller"})}),f.jsx("a",{href:"/contact",className:"flex items-center space-x-2 hover:underline",children:f.jsx("span",{children:"Help Center"})})]}),f.jsx("div",{className:"text-gray-400 text-sm mt-4 md:mt-0",children:" 2025 Bee Bridge.com"})]})]}),bn=({children:r,backgroundImage:e})=>{const t=$r();return f.jsxs("div",{className:"min-h-screen flex flex-col",style:e?{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}:{},children:[f.jsx(v2,{}),f.jsx("main",{className:"pt-16 pb-80",children:r}),t.pathname==="/seller"&&f.jsx("div",{className:"h-screen"}),t.pathname!=="/seller"&&f.jsx("div",{className:"mt-96",children:f.jsx(_2,{})})]})},sv=()=>{const[r,e]=U.useState(""),[t,i]=U.useState(""),[o,l]=U.useState(!1),h=Tc(),{signInWithGoogle:p}=yl(),y=v=>{v.preventDefault(),h("/home")};return f.jsx("div",{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center px-4",children:f.jsxs("div",{className:"max-w-5xl w-full bg-gray-50 rounded-3xl shadow-2xl flex overflow-hidden",children:[f.jsxs("div",{className:"w-full md:w-1/2 p-10 flex flex-col justify-center",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Hello Again!"}),f.jsxs("form",{onSubmit:y,className:"space-y-6",children:[f.jsx("div",{children:f.jsx("input",{type:"email",id:"email",value:r,onChange:v=>e(v.target.value),required:!0,placeholder:"Email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),f.jsx("div",{children:f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:o?"text":"password",id:"password",value:t,onChange:v=>i(v.target.value),required:!0,placeholder:"Password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"}),f.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":o?"Hide password":"Show password",children:o?f.jsx(Q0,{className:"h-5 w-5"}):f.jsx(K0,{className:"h-5 w-5"})})]})}),f.jsx("div",{children:f.jsx("div",{className:"text-right text-xs text-gray-500 mb-4 cursor-pointer hover:underline",children:"Recovery Password"})}),f.jsx("div",{children:f.jsx(wt,{type:"submit",variant:"primary",className:"w-full font-semibold",children:"Sign In"})})]}),f.jsx(wt,{onClick:()=>h("/home"),variant:"primary",className:"mt-4 w-full",children:"Continue as Guest"}),f.jsx("div",{className:"mt-4 text-center",children:f.jsxs("span",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",f.jsx(wt,{onClick:()=>h("/signup"),variant:"ghost",className:"text-honeybee-primary hover:underline font-semibold p-0",children:"Sign Up"})]})}),f.jsxs("div",{className:"flex items-center my-6",children:[f.jsx("hr",{className:"flex-grow border-gray-300"}),f.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"Or continue with"}),f.jsx("hr",{className:"flex-grow border-gray-300"})]}),f.jsx("div",{className:"flex justify-center",children:f.jsx(wt,{onClick:async()=>{try{await p(),h("/home")}catch{alert("Google login failed. Please try again.")}},variant:"light",size:"icon",className:"p-3 shadow-md bg-white hover:shadow-lg",children:f.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"})})})]}),f.jsx("div",{className:"hidden md:flex md:w-1/2 relative rounded-r-3xl overflow-hidden border-8 border-white shadow-lg",children:Ga.createElement("dotlottie-wc",{src:"https://lottie.host/415db1e3-d9d5-4073-b9fe-099abfe8c66c/XtpXv9SgcE.lottie",style:{width:"100%",height:"100%"},autoplay:!0,loop:!0})})]})})},w2=()=>{const[r,e]=U.useState(""),[t,i]=U.useState(""),[o,l]=U.useState(""),[h,p]=U.useState(!1),[y,v]=U.useState(!1),w=Tc(),{signInWithGoogle:E}=yl(),S=V=>{V.preventDefault(),v(!0),setTimeout(()=>{w("/home")},2500)};return y?f.jsx("div",{className:"min-h-screen bg-[#FFF8E7] flex items-center justify-center",children:Ga.createElement("dotlottie-wc",{src:"https://lottie.host/81653027-58d6-47e3-9de5-491db6a527a5/TWNyD5vQVe.lottie",style:{width:"300px",height:"300px"},autoplay:!0,loop:!0})}):f.jsx("div",{className:"min-h-screen gradient-bg-warm flex items-center justify-center px-4",children:f.jsxs("div",{className:"max-w-5xl w-full glass-effect rounded-3xl modern-shadow flex overflow-hidden",children:[f.jsxs("div",{className:"w-full md:w-1/2 p-10 flex flex-col justify-center",children:[f.jsx("h1",{className:"text-4xl font-bold vibrant-text mb-6 text-center",children:"Create Account"}),f.jsxs("form",{onSubmit:S,className:"space-y-6",children:[f.jsx("div",{children:f.jsx("input",{type:"text",id:"name",value:r,onChange:V=>e(V.target.value),required:!0,placeholder:"Your full name",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),f.jsx("div",{children:f.jsx("input",{type:"email",id:"email",value:t,onChange:V=>i(V.target.value),required:!0,placeholder:"Email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"})}),f.jsx("div",{children:f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:h?"text":"password",id:"password",value:o,onChange:V=>l(V.target.value),required:!0,placeholder:"Password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white"}),f.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":h?"Hide password":"Show password",children:h?f.jsx(Q0,{className:"h-5 w-5"}):f.jsx(K0,{className:"h-5 w-5"})})]})}),f.jsx("div",{children:f.jsx(wt,{type:"submit",variant:"primary",className:"w-full font-semibold",children:"Sign Up"})})]}),f.jsxs("div",{className:"flex items-center my-6",children:[f.jsx("hr",{className:"flex-grow border-gray-300"}),f.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"Or continue with"}),f.jsx("hr",{className:"flex-grow border-gray-300"})]}),f.jsx("div",{className:"flex justify-center",children:f.jsx(wt,{onClick:async()=>{try{await E(),v(!0),setTimeout(()=>w("/home"),2500)}catch{alert("Google login failed. Please try again.")}},variant:"light",size:"icon",className:"p-3 shadow-md bg-white hover:shadow-lg",children:f.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"})})}),f.jsx(wt,{onClick:()=>{v(!0),setTimeout(()=>w("/home"),2500)},variant:"primary",className:"mt-6 w-full",children:"Continue as Guest"}),f.jsx("div",{className:"mt-4 text-center",children:f.jsxs("span",{className:"text-gray-600 text-sm",children:["Already have an account?"," ",f.jsx(wt,{onClick:()=>w("/login"),variant:"ghost",className:"text-honeybee-primary hover:underline font-semibold p-0",children:"Sign In"})]})})]}),f.jsx("div",{className:"hidden md:block md:w-1/2 relative rounded-r-3xl overflow-hidden border-8 border-white shadow-lg",children:Ga.createElement("dotlottie-wc",{src:"https://lottie.host/415db1e3-d9d5-4073-b9fe-099abfe8c66c/XtpXv9SgcE.lottie",style:{width:"100%",height:"100%"},autoplay:!0,loop:!0})})]})})},x2="https://media.istockphoto.com/id/1669258600/vector/illustration-of-delicious-melted-chocolate-on-white-background.jpg?s=612x612&w=0&k=20&c=oykGVJHBjHuevHVi2GE8jFmCe0EpX2unEfhMPCFFeik=";function E2(){return f.jsxs(tE,{children:[f.jsx(Wt,{path:"/",element:f.jsx(sv,{})}),f.jsx(Wt,{path:"/login",element:f.jsx(sv,{})}),f.jsx(Wt,{path:"/signup",element:f.jsx(w2,{})}),f.jsx(Wt,{path:"/home",element:f.jsx(bn,{children:f.jsx(LE,{})})}),f.jsx(Wt,{path:"/about",element:f.jsx(bn,{children:f.jsx(OE,{})})}),f.jsx(Wt,{path:"/contact",element:f.jsx(bn,{children:f.jsx(UE,{})})}),f.jsx(Wt,{path:"/shop",element:f.jsx(bn,{children:f.jsx($E,{})})}),f.jsx(Wt,{path:"/cart",element:f.jsx(bn,{children:f.jsx(HE,{})})}),f.jsx(Wt,{path:"/checkout",element:f.jsx(bn,{children:f.jsx(qE,{})})}),f.jsx(Wt,{path:"/profile",element:f.jsx(bn,{children:f.jsx(Zk,{})})}),f.jsx(Wt,{path:"/seller",element:f.jsx(bn,{backgroundImage:x2,children:f.jsx(n2,{})})}),f.jsx(Wt,{path:"/applications",element:f.jsx(bn,{children:f.jsx(m2,{})})}),f.jsx(Wt,{path:"/subscription",element:f.jsx(bn,{children:f.jsx(g2,{})})}),f.jsx(Wt,{path:"/settings",element:f.jsx(bn,{children:f.jsx(y2,{})})})]})}function T2(){return f.jsx(zE,{children:f.jsx(IE,{children:f.jsx(E2,{})})})}hx.createRoot(document.getElementById("root")).render(f.jsx(U.StrictMode,{children:f.jsx(T2,{})}));
